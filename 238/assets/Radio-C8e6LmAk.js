import{a as m,n as D}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as N}from"./index-DeGJKKUv.js";import{a as U,b as j}from"./Field-DW5JZwyf.js";import{D as A,c as T,_ as w,G as B,R as $,J as G,S as H,m as v,g as J,u as M,b as p,r as O,n as W,d as q,e as z,f as K}from"./~utils-DQTNdQ0K.js";import{C as L,a as Q,b as V}from"./P2CTZE2T-C1F6IuN_.js";import{d as X}from"./YV4JVR4I-hb8MGMg1.js";var Y=A([Q],[L]),Z=Y.useContext,g="input";function ee(a,r){if(r!==void 0)return a!=null&&r!=null?r===a:!!r}function te(a,r){return a==="input"&&(!r||r==="radio")}var re=T(function(r){var c=r,{store:t,name:u,value:i,checked:C}=c,o=w(c,["store","name","value","checked"]);const k=Z();t=t||k;const n=B(o.id),f=m.useRef(null),d=X(t,e=>C??ee(i,e==null?void 0:e.value));m.useEffect(()=>{!n||!d||(t==null?void 0:t.getState().activeId)===n||t==null||t.setActiveId(n)},[t,d,n]);const b=o.onChange,x=$(f,g),s=te(x,o.type),P=G(o),[I,F]=H();m.useEffect(()=>{const e=f.current;e&&(s||(d!==void 0&&(e.checked=d),u!==void 0&&(e.name=u),i!==void 0&&(e.value=`${i}`)))},[I,s,d,u,i]);const l=v(e=>{if(P){e.preventDefault(),e.stopPropagation();return}(t==null?void 0:t.getState().value)!==i&&(s||(e.currentTarget.checked=!0,F()),b==null||b(e),!e.defaultPrevented&&(t==null||t.setValue(i)))}),R=o.onClick,S=v(e=>{R==null||R(e),!e.defaultPrevented&&(s||l(e))}),h=o.onFocus,_=v(e=>{if(h==null||h(e),e.defaultPrevented||!s||!t)return;const{moves:y,activeId:E}=t.getState();y&&(n&&E!==n||l(e))});return o=J(p({id:n,role:s?void 0:"radio",type:s?"radio":void 0,"aria-checked":d},o),{ref:M(f,o.ref),onChange:l,onClick:S,onFocus:_}),o=V(p({store:t,clickOnEnter:!s},o)),O(p({name:s?u:void 0,value:s?i:void 0,checked:d},o))}),oe=W(q(function(r){const c=re(r);return z(g,c)}));const ue=K((a,r)=>{const c=U(),t=j(a["aria-describedby"]);return D.jsx(oe,{accessibleWhenDisabled:!0,id:c,...a,className:N("ğŸ¥-checkbox","ğŸ¥-radio",a.className),"aria-describedby":t,ref:r})});export{ue as R};
