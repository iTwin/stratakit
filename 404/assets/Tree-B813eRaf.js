import{p as o,b as d}from"./index-DDCMeoDP.js";import{I as M,J as P,K as R,l as A,m as B,n as E,_ as V,P as G,o as I,f as x,c as h,h as p}from"./~utils-CVrIWKd_.js";import{a as H}from"./MTZPJQMC-BF1USmkC.js";import{f as z}from"./BYC7LY2E-CmmV7fGv.js";import{b as W}from"./P2CTZE2T-Wt7VrJxp.js";import{c as J,a as Z,b as $,e as q,C as O}from"./VEVQD5MH-W8gC6swX.js";import{d as Q}from"./YV4JVR4I-DscRzu5f.js";import{u as U,T as X,I as Y}from"./IconButton-DIntrVS-.js";import{L as ee,e as k,f as y,g as oe,d as te,D as re,a as se,b as ne}from"./DropdownMenu-qVo8rmm5.js";import{I as T,S as ae,M as ie}from"./Icon-DCDqn4X1.js";import{f as j}from"./~hooks-Ic0iY_GM.js";import{G as le,u as ce}from"./Button-BJEnKCWw.js";function de(e={}){var r;const t=(r=e.store)==null?void 0:r.getState();return J(M(R({},e),{orientation:P(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:P(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function ue(e,r,t){return Z(e,r,t)}function me(e={}){const[r,t]=Q(de,e);return ue(r,t,e)}var fe="div",xe=B(function(r){var t=r,{store:n,orientation:s,virtualFocus:c,focusLoop:f,rtl:b}=t,i=V(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const D=U();n=n||D;const m=me({store:n,orientation:s,virtualFocus:c,focusLoop:f,rtl:b}),v=m.useState(l=>l.orientation==="both"?void 0:l.orientation);return i=G(i,l=>o.jsx(X,{value:m,children:l}),[m]),i=I({role:"toolbar","aria-orientation":v},i),i=$(I({store:m},i)),i}),he=A(function(r){const t=xe(r);return E(fe,t)});function ve(e={}){const r=z(e);return o.jsx(H,{value:r,children:e.children})}const pe=d.createContext(void 0),Le=x((e,r)=>{const{"aria-level":t,selected:n,expanded:s,icon:c,unstable_decorations:f,label:b,description:i,actions:D,error:m,onSelectedChange:v,onExpandedChange:l,onClick:N,onKeyDown:F,...S}=e,_=a=>{n!==void 0&&(a.stopPropagation(),v==null||v(!n))},K=a=>{a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||s!==void 0&&(a.key==="ArrowRight"||a.key==="ArrowLeft")&&(a.preventDefault(),l==null||l(a.key==="ArrowRight"))},g=d.useId(),C=d.useId(),w=d.useId(),u=m?o.jsx(ae,{}):c,L=d.useMemo(()=>{const a=[];return i&&a.push(C),(f||u)&&a.push(w),a.length>0?a.join(" "):void 0},[f,u,w,i,C]);return o.jsx(pe.Provider,{value:d.useMemo(()=>({level:t,expanded:s,selected:n}),[t,s,n]),children:o.jsx(W,{render:o.jsx(p,{...S}),onClick:j(N,_),onKeyDown:j(F,K),role:"treeitem","aria-expanded":s,"aria-selected":n,"aria-labelledby":g,"aria-describedby":L,"aria-level":t,className:h("-tree-item",e.className),ref:r,children:o.jsxs(ee,{"data-kiwi-expanded":s,"data-kiwi-selected":n,"data-kiwi-error":m?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":t},role:void 0,children:[o.jsxs(k,{children:[o.jsx(le,{align:i?"block":void 0,children:o.jsx(De,{onClick:()=>{s!==void 0&&(l==null||l(!s))}})}),u||f?o.jsx(p,{className:"-tree-item-decoration",id:w,render:d.isValidElement(u)?u:typeof u=="string"?o.jsx(T,{href:u}):void 0,children:u?null:f}):null]}),o.jsx(y,{id:g,className:"-tree-item-content",children:b}),i?o.jsx(y,{id:C,className:"-tree-item-description",children:i}):void 0,o.jsx(k,{render:o.jsx(je,{children:D})})]})})})}),je=x((e,r)=>{const{children:t,...n}=e,s=d.Children.toArray(t);return o.jsxs(he,{...n,onClick:j(e.onClick,c=>c.stopPropagation()),onKeyDown:j(e.onKeyDown,c=>c.stopPropagation()),className:h("-tree-item-actions-container",e.className),ref:r,children:[s==null?void 0:s[0],s==null?void 0:s[1],s.length===3?s[2]:null,s.length>3&&o.jsx(ve,{placement:"right-start",children:o.jsxs(re,{children:[o.jsx(se,{render:o.jsx(be,{label:"More",icon:o.jsx(ie,{})})}),o.jsx(ne,{children:s.slice(2)})]})})]})}),be=x((e,r)=>{const{visible:t,label:n,icon:s,...c}=e;return d.useContext(oe)?o.jsx(te,{...c,label:n,icon:s,ref:r}):o.jsx(Y,{label:n,icon:s,inert:t===!1?!0:void 0,...c,variant:"ghost",className:h("-tree-item-action",e.className),"data-kiwi-visible":t,ref:r})}),De=x((e,r)=>o.jsx(p.span,{"aria-hidden":"true",...e,onClick:j(e.onClick,t=>t.stopPropagation()),className:h("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":ce(),ref:r,children:o.jsx(Ce,{})})),Ce=x((e,r)=>o.jsx(T,{...e,render:o.jsx(p.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:o.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:h("-tree-chevron",e.className),ref:r})),Me=x((e,r)=>{const t=q({orientation:"vertical"});return o.jsx(p.div,{role:"tree",...e,render:o.jsx(O,{store:t}),className:h("-tree",e.className),ref:r,children:e.children})});export{Me as T,Le as a,be as b};
