import{a as y,p as c}from"./chunk-UIGDSWPH-BvHPjG9t.js";import{W as Ze,M as Me,S as Ce,U as ye,X as Ge,Y as Ye,l as P,Z as Je,_ as Qe,$ as et,a0 as G,a1 as tt,a2 as nt,K as rt,L as ot,a3 as st,a4 as at,N as he,O as xe,a5 as ut,B as it,P as lt,a6 as ct,r as we}from"./~utils-CTgDSHMz.js";import{a as De,b as Pe,c as Oe,f as dt,u as ft}from"./SBSPVDDI-DbQsX_t0.js";import{W as V,N as Z,o as H,X as Ee,R as Ie,a as W,_ as N,G as $,u as K,p as Ae,a3 as mt,d as E,e as g,w as ke,D as pt,y as vt,a4 as bt,f as U,b as q,i as je,q as Fe,h as oe,a5 as ht,a0 as xt,v as St,a6 as Te,a7 as gt,$ as Mt,Z as le,m as Ct,L as yt,a2 as de,a8 as wt,a9 as Dt,aa as Pt,ab as Ot,a1 as Et,M as It}from"./VOQWLFSQ-BMMA7Hib.js";import{a as At,c as kt,e as jt,d as Ft}from"./OLVWQA7U-DuMy81m6.js";import{u as Tt}from"./4I4MLMKD-DMVslf71.js";import{R as fe,f as T,T as Ht,c as L,k as _t,I as Nt,p as Lt}from"./sun-DjchwrHr.js";import{u as Rt}from"./KPUWHTQJ-BzMhuExI.js";import{p as Kt,K as Se}from"./Kbd-CgTn02Aq.js";import{D as Bt}from"./~utils.icons-DWfqIzCk.js";import{a as Vt,b as Wt}from"./~utils.icons-77iOxU-P.js";function $t(t={}){var n;Ze(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:V(t.value,r?.value,t.defaultValue,!1)},s=Me(e,t.store);return Z(H({},s),{setValue:o=>s.setState("value",o)})}function Ut(t,n,r){return Ee(n,[r.store]),ye(t,r,"value","setValue"),t}function qt(t={}){const[n,r]=Ce($t,t);return Ut(n,r,t)}var He=Ie([Pe],[De]),zt=He.useContext,Xt=He.useScopedContext;y.createContext(void 0);var Q=Ie([Pe,Ye],[De,Ge]),se=Q.useContext,_e=Q.useScopedContext,ae=Q.useProviderContext,Ne=Q.ContextProvider,Zt=Q.ScopedContextProvider;y.createContext(void 0);var Gt="div",_="";function ue(){_=""}function Yt(t){const n=t.target;return n&&pt(n)?!1:t.key===" "&&_.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Jt(t,n){if(vt(t))return!0;const r=t.target;return r?n.some(s=>s.element===r):!1}function Qt(t){return t.filter(n=>!n.disabled)}function re(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?bt(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function en(t,n,r){if(!r)return t;const e=t.find(s=>s.id===r);return!e||!re(e,n)||_!==n&&re(e,_)?t:(_=n,dt(t.filter(s=>re(s,_)),r).filter(s=>s.id!==r))}var me=W(function(n){var r=n,{store:e,typeahead:s=!0}=r,o=N(r,["store","typeahead"]);const a=Oe();e=e||a,$(e,!1);const u=o.onKeyDownCapture,f=y.useRef(0),d=K(l=>{if(u?.(l),l.defaultPrevented||!s||!e)return;if(!Yt(l))return ue();const{renderedItems:b,items:m,activeId:i,id:x}=e.getState();let p=Qt(m.length>b.length?m:b);const v=Ae(l.currentTarget),C=`[data-offscreen-id="${x}"]`,h=v.querySelectorAll(C);for(const w of h){const j=w.ariaDisabled==="true"||"disabled"in w&&!!w.disabled;p.push({id:w.id,element:w,disabled:j})}if(h.length&&(p=mt(p,w=>w.element)),!Jt(l,p))return ue();l.preventDefault(),window.clearTimeout(f.current),f.current=window.setTimeout(()=>{_=""},500);const I=l.key.toLowerCase();_+=I,p=en(p,I,i);const O=p.find(w=>re(w,_));O?e.move(O.id):ue()});return o=E(g({},o),{onKeyDownCapture:d}),ke(o)});U(function(n){const r=me(n);return q(Gt,r)});var tn="div";function nn(t){var n=t,{store:r}=n,e=N(n,["store"]);const[s,o]=y.useState(void 0),a=e["aria-label"],u=P(r,"disclosureElement"),f=P(r,"contentElement");return y.useEffect(()=>{const d=u;if(!d)return;const l=f;if(!l)return;a||l.hasAttribute("aria-label")?o(void 0):d.id&&o(d.id)},[a,u,f]),s}var Le=W(function(n){var r=n,{store:e,alwaysVisible:s,composite:o}=r,a=N(r,["store","alwaysVisible","composite"]);const u=ae();e=e||u,$(e,!1);const f=e.parent,d=e.menubar,l=!!f,b=je(a.id),m=a.onKeyDown,i=e.useState(M=>M.placement.split("-")[0]),x=e.useState(M=>M.orientation==="both"?void 0:M.orientation),p=x!=="vertical",v=P(d,M=>!!M&&M.orientation!=="vertical"),C=K(M=>{if(m?.(M),!M.defaultPrevented){if(l||d&&!p){const A={ArrowRight:()=>i==="left"&&!p,ArrowLeft:()=>i==="right"&&!p,ArrowUp:()=>i==="bottom"&&p,ArrowDown:()=>i==="top"&&p}[M.key];if(A?.())return M.stopPropagation(),M.preventDefault(),e?.hide()}if(d){const A={ArrowRight:()=>{if(v)return d.next()},ArrowLeft:()=>{if(v)return d.previous()},ArrowDown:()=>{if(!v)return d.next()},ArrowUp:()=>{if(!v)return d.previous()}}[M.key],R=A?.();R!==void 0&&(M.stopPropagation(),M.preventDefault(),d.move(R))}}});a=Fe(a,M=>c.jsx(Zt,{value:e,children:M}),[e]);const h=nn(g({store:e},a)),I=e.useState("mounted"),O=Je(I,a.hidden,s),w=O?E(g({},a.style),{display:"none"}):a.style;a=E(g({id:b,"aria-labelledby":h,hidden:O},a),{ref:oe(b?e.setContentElement:null,a.ref),style:w,onKeyDown:C});const j=!!e.combobox;return o=o??!j,o&&(a=g({role:"menu","aria-orientation":x},a)),a=At(g({store:e,composite:o},a)),a=me(g({store:e,typeahead:!j},a)),a});U(function(n){const r=Le(n);return q(tn,r)});var rn="div",on=W(function(n){var r=n,{store:e,modal:s=!1,portal:o=!!s,hideOnEscape:a=!0,autoFocusOnShow:u=!0,hideOnHoverOutside:f,alwaysVisible:d}=r,l=N(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const b=ae();e=e||b,$(e,!1);const m=y.useRef(null),i=e.parent,x=e.menubar,p=!!i,v=!!x&&!p;l=E(g({},l),{ref:oe(m,l.ref)});const C=Le(g({store:e,alwaysVisible:d},l)),{"aria-labelledby":h}=C;l=N(C,["aria-labelledby"]);const[O,w]=y.useState(),j=e.useState("autoFocusOnShow"),M=e.useState("initialFocus"),z=e.useState("baseElement"),A=e.useState("renderedItems");y.useEffect(()=>{let F=!1;return w(D=>{var te,ve,be;if(F||!j)return;if((te=D?.current)!=null&&te.isConnected)return D;const ne=y.createRef();switch(M){case"first":ne.current=((ve=A.find(Y=>!Y.disabled&&Y.element))==null?void 0:ve.element)||null;break;case"last":ne.current=((be=[...A].reverse().find(Y=>!Y.disabled&&Y.element))==null?void 0:be.element)||null;break;default:ne.current=z}return ne}),()=>{F=!0}},[e,j,M,A,z]);const R=p?!1:s,S=!!u,k=!!O||!!l.initialFocus||!!R,X=P(e.combobox||e,"contentElement"),B=P(i?.combobox||i,"contentElement"),ee=y.useMemo(()=>{if(!B||!X)return;const F=X.getAttribute("role"),D=B.getAttribute("role");if(!((D==="menu"||D==="menubar")&&F==="menu"))return B},[X,B]);return ee!==void 0&&(l=g({preserveTabOrderAnchor:ee},l)),l=et(E(g({store:e,alwaysVisible:d,initialFocus:O,autoFocusOnShow:S?k&&u:j||!!R},l),{hideOnEscape(F){return xt(a,F)?!1:(e?.hideAll(),!0)},hideOnHoverOutside(F){const D=e?.getState().disclosureElement;return(typeof f=="function"?f(F):f??(p?!0:v?D?!G(D):!0:!1))?F.defaultPrevented||!p||!D||(ht(D,"mouseout",F),!G(D))?!0:(requestAnimationFrame(()=>{G(D)||e?.hide()}),!1):!1},modal:R,portal:o,backdrop:p?!1:l.backdrop})),l=g({"aria-labelledby":h},l),l}),Re=Qe(U(function(n){const r=on(n);return q(rn,r)}),ae),sn="button";function an(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function ge(t,n){return!!t?.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true")}var un=W(function(n){var r=n,{store:e,focusable:s,accessibleWhenDisabled:o,showOnHover:a}=r,u=N(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const f=ae();e=e||f,$(e,!1);const d=y.useRef(null),l=e.parent,b=e.menubar,m=!!l,i=!!b&&!m,x=St(u),p=()=>{const S=d.current;S&&(e?.setDisclosureElement(S),e?.setAnchorElement(S),e?.show())},v=u.onFocus,C=K(S=>{if(v?.(S),x||S.defaultPrevented||(e?.setAutoFocusOnShow(!1),e?.setActiveId(null),!b)||!i)return;const{items:k}=b.getState();ge(k,S.currentTarget)&&p()}),h=P(e,S=>S.placement.split("-")[0]),I=u.onKeyDown,O=K(S=>{if(I?.(S),x||S.defaultPrevented)return;const k=an(S,h);k&&(S.preventDefault(),p(),e?.setAutoFocusOnShow(!0),e?.setInitialFocus(k))}),w=u.onClick,j=K(S=>{if(w?.(S),S.defaultPrevented||!e)return;const k=!S.detail,{open:X}=e.getState();(!X||k)&&((!m||k)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(k?"first":"container")),m&&p()});u=Fe(u,S=>c.jsx(Ne,{value:e,children:S}),[e]),m&&(u=E(g({},u),{render:c.jsx(fe.div,{render:u.render})}));const M=je(u.id),z=P(l?.combobox||l,"contentElement"),A=m||i?Te(z,"menuitem"):void 0,R=e.useState("contentElement");return u=E(g({id:M,role:A,"aria-haspopup":gt(R,"menu")},u),{ref:oe(d,u.ref),onFocus:C,onKeyDown:O,onClick:j}),u=tt(E(g({store:e,focusable:s,accessibleWhenDisabled:o},u),{showOnHover:S=>{if(!(()=>{if(typeof a=="function")return a(S);if(a!=null)return a;if(m)return!0;if(!b)return!1;const{items:ee}=b.getState();return i&&ge(ee)})())return!1;const B=i?b:l;return B&&B.setActiveId(S.currentTarget.id),!0}})),u=Tt(g({store:e,toggleOnClick:!m,focusable:s,accessibleWhenDisabled:o},u)),u=me(g({store:e,typeahead:i},u)),u}),Ke=U(function(n){const r=un(n);return q(sn,r)}),ln="div";function Be(t){const n=t.relatedTarget;return n?.nodeType===Node.ELEMENT_NODE?n:null}function cn(t){const n=Be(t);return n?Ct(t.currentTarget,n):!1}var ce=Symbol("composite-hover");function dn(t){let n=Be(t);if(!n)return!1;do{if(yt(n,ce)&&n[ce])return!0;n=n.parentElement}while(n);return!1}var Ve=W(function(n){var r=n,{store:e,focusOnHover:s=!0,blurOnHoverEnd:o=!!s}=r,a=N(r,["store","focusOnHover","blurOnHoverEnd"]);const u=Oe();e=e||u,$(e,!1);const f=Mt(),d=a.onMouseMove,l=le(s),b=K(v=>{if(d?.(v),!v.defaultPrevented&&f()&&l(v)){if(!G(v.currentTarget)){const C=e?.getState().baseElement;C&&!nt(C)&&C.focus()}e?.setActiveId(v.currentTarget.id)}}),m=a.onMouseLeave,i=le(o),x=K(v=>{var C;m?.(v),!v.defaultPrevented&&f()&&(cn(v)||dn(v)||l(v)&&i(v)&&(e?.setActiveId(null),(C=e?.getState().baseElement)==null||C.focus()))}),p=y.useCallback(v=>{v&&(v[ce]=!0)},[]);return a=E(g({},a),{ref:oe(p,a.ref),onMouseMove:b,onMouseLeave:x}),ke(a)});de(U(function(n){const r=Ve(n);return q(ln,r)}));var fn="div";function mn(t,n,r){var e;if(!t)return!1;if(G(t))return!0;const s=n?.find(f=>{var d;return f.element===r?!1:((d=f.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),o=(e=s?.element)==null?void 0:e.getAttribute("aria-controls");if(!o)return!1;const u=Ae(t).getElementById(o);return u?G(u)?!0:!!u.querySelector("[role=menuitem][aria-expanded=true]"):!1}var We=W(function(n){var r=n,{store:e,hideOnClick:s=!0,preventScrollOnKeyDown:o=!0,focusOnHover:a,blurOnHoverEnd:u}=r,f=N(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=_e(!0),l=Xt();e=e||d||l,$(e,!1);const b=f.onClick,m=le(s),i="hideAll"in e?e.hideAll:void 0,x=!!i,p=K(h=>{b?.(h),!(h.defaultPrevented||wt(h)||Dt(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&m(h)&&i()}),v=P(e,h=>"contentElement"in h?h.contentElement:null),C=Te(v,"menuitem");return f=E(g({role:C},f),{onClick:p}),f=ft(g({store:e,preventScrollOnKeyDown:o},f)),f=Ve(E(g({store:e},f),{focusOnHover(h){const I=()=>typeof a=="function"?a(h):a??!0;if(!e||!I())return!1;const{baseElement:O,items:w}=e.getState();return x?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):mn(O,w,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof u=="function"?u(h):u??x}})),f}),pn=de(U(function(n){const r=We(n);return q(fn,r)})),vn="div";function bn(t){return Array.isArray(t)?t.toString():t}function ie(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=bn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(s=>s!==e):r?e:t===e?!1:t}var hn=W(function(n){var r=n,{store:e,name:s,value:o,checked:a,defaultChecked:u,hideOnClick:f=!1}=r,d=N(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const l=_e();e=e||l,$(e,!1);const b=Pt(u);y.useEffect(()=>{e?.setValue(s,(i=[])=>b?ie(i,o,!0):i)},[e,s,o,b]),y.useEffect(()=>{a!==void 0&&e?.setValue(s,i=>ie(i,o,a))},[e,s,o,a]);const m=qt({value:e.useState(i=>i.values[s]),setValue(i){e?.setValue(s,()=>{if(a===void 0)return i;const x=ie(i,o,a);return!Array.isArray(x)||!Array.isArray(i)?x:Ot(i,x)?i:x})}});return d=g({role:"menuitemcheckbox"},d),d=Rt(g({store:m,name:s,value:o,checked:a},d)),d=We(g({store:e,hideOnClick:f},d)),d}),xn=de(U(function(n){const r=hn(n);return q(vn,r)}));function Sn(t={}){var n=t,{combobox:r,parent:e,menubar:s}=n,o=Et(n,["combobox","parent","menubar"]);const a=!!s&&!e,u=rt(o.store,st(e,["values"]),ot(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),f=u.getState(),d=kt(Z(H({},o),{store:u,orientation:V(o.orientation,f.orientation,"vertical")})),l=at(Z(H({},o),{store:u,placement:V(o.placement,f.placement,"bottom-start"),timeout:V(o.timeout,f.timeout,a?0:150),hideTimeout:V(o.hideTimeout,f.hideTimeout,0)})),b=Z(H(H({},d.getState()),l.getState()),{initialFocus:V(f.initialFocus,"container"),values:V(o.values,f.values,o.defaultValues,{})}),m=Me(b,d,l,u);return he(m,()=>xe(m,["mounted"],i=>{i.mounted||m.setState("activeId",null)})),he(m,()=>xe(e,["orientation"],i=>{m.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),Z(H(H(H({},d),l),m),{combobox:r,parent:e,menubar:s,hideAll:()=>{l.hide(),e?.hideAll()},setInitialFocus:i=>m.setState("initialFocus",i),setValues:i=>m.setState("values",i),setValue:(i,x)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||m.setState("values",p=>{const v=p[i],C=It(x,v);return C===v?p:Z(H({},p),{[i]:C!==void 0&&C})}))}})}function gn(t,n,r){return Ee(n,[r.combobox,r.parent,r.menubar]),ye(t,r,"values","setValues"),Object.assign(ut(Ft(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function pe(t={}){const n=se(),r=zt(),e=jt();t=E(g({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[s,o]=Ce(Sn,t);return gn(s,o,t)}function $e(t={}){const n=pe(t);return c.jsx(Ne,{value:n,children:t.children})}const Ue=T((t,n)=>c.jsx(fe.div,{role:"listitem",...t,className:L("ListItem",t.className),ref:n})),qe=T((t,n)=>c.jsx(Ht,{...t,variant:"body-sm",className:L("ListItemContent",t.className),ref:n})),J=T((t,n)=>c.jsx(fe.div,{...t,className:L("ListItemDecoration",t.className),ref:n}));function Fn(t){const{children:n,placement:r,open:e,setOpen:s,defaultOpen:o}=t;return c.jsx($e,{defaultOpen:o,open:e,placement:r,setOpen:s,children:n})}const Tn=T((t,n)=>{const r=se(),e=P(r,"open"),s=P(r,"popoverElement"),o=_t({element:s,open:e});return c.jsx(Re,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...o.style,...t.style},wrapperProps:{popover:o.popover},className:L("DropdownMenu",t.className),ref:n,children:c.jsx(lt.Provider,{value:s??null,children:t.children})})}),Hn=T((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...s}=t,o=P(se(),"open");return c.jsx(Ke,{accessibleWhenDisabled:!0,...s,render:t.render??c.jsxs(it,{accessibleWhenDisabled:r,children:[e,c.jsx(Bt,{})]}),className:L("DropdownMenuButton",t.className),"data-has-popover-open":o||void 0,ref:n})}),_n=T((t,n)=>{const{label:r,shortcuts:e,icon:s,unstable_dot:o,submenu:a,...u}=t,f=y.useId(),d=pe(),[l,b]=y.useState(),m=l??d,i=P(m,"open"),x=t["aria-haspopup"]==="dialog";return c.jsxs(c.Fragment,{children:[c.jsxs(pn,{accessibleWhenDisabled:!0,render:c.jsx(Ue,{render:c.jsx(we,{accessibleWhenDisabled:!0,"aria-describedby":f,...u,render:a?c.jsx(Ke,{render:t.render??c.jsx("button",{}),store:m}):t.render,className:L("DropdownMenuItem",t.className),"data-has-popover-open":i||void 0,ref:n})}),hideOnClick:x?!1:void 0,blurOnHoverEnd:()=>{const p=t["aria-expanded"]===!0;return!(x&&p)},children:[s?c.jsx(ze,{icon:s}):null,c.jsx(qe,{render:c.jsx("span",{}),children:r}),e?c.jsx(Mn,{shortcuts:e}):null,o?c.jsx(J,{render:c.jsx(ct,{id:f,className:"DropdownMenuItemDot",children:o})}):null,a?c.jsx(J,{className:"DropdownMenuItemChevron",render:c.jsx(Vt,{})}):null]}),c.jsx(Xe.Provider,{value:y.useMemo(()=>({setStore:b}),[]),children:a})]})}),Mn=T((t,n)=>{const{shortcuts:r,...e}=t,s=y.useMemo(()=>r.split("+").map(o=>({key:o.trim(),isSymbol:o in Kt})),[r]);return c.jsx(J,{render:c.jsx("span",{}),...e,className:L("DropdownMenuItemShortcuts",t.className),ref:n,children:s.map(({key:o,isSymbol:a},u)=>a?c.jsx(Se,{variant:"ghost",symbol:o},`${o+u}`):c.jsx(Se,{variant:"ghost",children:o},`${o+u}`))})}),ze=T((t,n)=>{const{icon:r,...e}=t;return c.jsx(J,{render:c.jsx(Nt,{href:typeof r=="string"?r:void 0,render:y.isValidElement(r)?r:void 0,...e,ref:n})})}),Nn=T((t,n)=>{const{label:r,icon:e,defaultChecked:s,checked:o,onChange:a,name:u,value:f=s?"on":void 0,...d}=t;return c.jsxs(xn,{accessibleWhenDisabled:!0,defaultChecked:s,checked:o,name:u,value:f,onChange:a,render:c.jsx(Ue,{render:c.jsx(we,{accessibleWhenDisabled:!0,...d,className:L("DropdownMenuItem",t.className),ref:n})}),children:[e?c.jsx(ze,{icon:e}):null,c.jsx(qe,{render:c.jsx("span",{}),children:r}),c.jsx(J,{render:c.jsx(Wt,{className:"DropdownMenuCheckmark"})})]})}),Xe=y.createContext(void 0),Ln=T((t,n)=>{const{setStore:r}=Lt(Xe),e=pe();y.useEffect(()=>(r(e),()=>r(void 0)),[e,r]);const s=se(),o=P(s,"popoverElement");return c.jsx($e,{store:e,children:c.jsx(Re,{store:e,portal:!0,portalElement:o,preserveTabOrder:!1,unmountOnHide:!0,...t,gutter:2,shift:-4,className:L("DropdownMenu",t.className),ref:n})})});export{Nn as D,Ue as L,Hn as a,Tn as b,Fn as c,_n as d,Ln as e,J as f,qe as g};
