import{m as Y,o as Z,s as y,c as ee,b as R,d as te,e as ne,f as P,u as H}from"./YV4JVR4I-I2hr8F_N.js";import{P as p,Q as oe,E as ae,R as se,k as w,c as re,f as F,_ as I,i as ie,t as ue,S as D,z as le,e as O,h as _,g as ce,x as de,j as me}from"./LMDWO4NN-UKOJDKde.js";import{r as v,j as M}from"./chunk-D52XG6IA-DUkyOzkQ.js";import{r as fe}from"./index-Ceb4L03J.js";function ve(n={}){const o=Y(n.store,Z(n.disclosure,["contentElement","disclosureElement"])),e=o==null?void 0:o.getState(),t=p(n.open,e==null?void 0:e.open,n.defaultOpen,!1),i=p(n.animated,e==null?void 0:e.animated,!1),r={open:t,animated:i,animating:!!i&&t,mounted:t,contentElement:p(e==null?void 0:e.contentElement,null),disclosureElement:p(e==null?void 0:e.disclosureElement,null)},a=ee(r,o);return y(a,()=>R(a,["animated","animating"],s=>{s.animated||a.setState("animating",!1)})),y(a,()=>te(a,["open"],()=>{a.getState().animated&&a.setState("animating",!0)})),y(a,()=>R(a,["open","animating"],s=>{a.setState("mounted",s.open||s.animating)})),oe(ae({},a),{disclosure:n.disclosure,setOpen:s=>a.setState("open",s),show:()=>a.setState("open",!0),hide:()=>a.setState("open",!1),toggle:()=>a.setState("open",s=>!s),stopAnimation:()=>a.setState("animating",!1),setContentElement:s=>a.setState("contentElement",s),setDisclosureElement:s=>a.setState("disclosureElement",s)})}function Se(n,o,e){return se(o,[e.store,e.disclosure]),P(n,e,"open","setOpen"),P(n,e,"mounted","setMounted"),P(n,e,"animated"),Object.assign(n,{disclosure:e.disclosure})}function Re(n={}){const[o,e]=ne(ve,n);return Se(o,e,n)}var b=w(),k=b.useProviderContext,pe=b.ContextProvider,De=b.ScopedContextProvider,h=w([pe],[De]),Oe=h.useProviderContext,Te=h.ContextProvider,xe=h.ScopedContextProvider,Ve=v.createContext(void 0),He=v.createContext(void 0),Ce="div";function T(n,o){const e=setTimeout(o,n);return()=>clearTimeout(e)}function ge(n){let o=requestAnimationFrame(()=>{o=requestAnimationFrame(n)});return()=>cancelAnimationFrame(o)}function V(...n){return n.join(", ").split(", ").reduce((o,e)=>{const t=e.endsWith("ms")?1:1e3,i=Number.parseFloat(e||"0s")*t;return i>o?i:o},0)}function Ee(n,o,e){return!e&&o!==!1&&(!n||!!o)}var ye=re(function(o){var e=o,{store:t,alwaysVisible:i}=e,r=I(e,["store","alwaysVisible"]);const a=k();t=t||a,ie(t,!1);const s=v.useRef(null),f=ue(r.id),[l,j]=v.useState(null),c=t.useState("open"),x=t.useState("mounted"),d=t.useState("animated"),m=t.useState("contentElement"),C=H(t.disclosure,"contentElement");D(()=>{s.current&&(t==null||t.setContentElement(s.current))},[t]),D(()=>{let u;return t==null||t.setState("animated",S=>(u=S,!0)),()=>{u!==void 0&&(t==null||t.setState("animated",u))}},[t]),D(()=>{if(d){if(!(m!=null&&m.isConnected)){j(null);return}return ge(()=>{j(c?"enter":x?"leave":null)})}},[d,m,c,x]),D(()=>{if(!t||!d||!l||!m)return;const u=()=>t==null?void 0:t.setState("animating",!1),S=()=>fe.flushSync(u);if(l==="leave"&&c||l==="enter"&&!c)return;if(typeof d=="number")return T(d,S);const{transitionDuration:q,animationDuration:N,transitionDelay:U,animationDelay:W}=getComputedStyle(m),{transitionDuration:z="0",animationDuration:L="0",transitionDelay:Q="0",animationDelay:B="0"}=C?getComputedStyle(C):{},G=V(U,W,Q,B),J=V(q,N,z,L),A=G+J;if(!A){l==="enter"&&t.setState("animated",!1),u();return}const K=1e3/60,X=Math.max(A-K,0);return T(X,S)},[t,d,m,C,c,l]),r=le(r,u=>M.jsx(xe,{value:t,children:u}),[t]);const g=Ee(x,r.hidden,i),E=r.style,$=v.useMemo(()=>g?O(_({},E),{display:"none"}):E,[g,E]);return r=O(_({id:f,"data-open":c||void 0,"data-enter":l==="enter"||void 0,"data-leave":l==="leave"||void 0,hidden:g},r),{ref:ce(f?t.setContentElement:null,s,r.ref),style:$}),de(r)}),Pe=F(function(o){const e=ye(o);return me(Ce,e)}),we=F(function(o){var e=o,{unmountOnHide:t}=e,i=I(e,["unmountOnHide"]);const r=k(),a=i.store||r;return H(a,f=>!t||(f==null?void 0:f.mounted))===!1?null:M.jsx(Pe,_({},i))});export{xe as D,Te as a,Re as b,pe as c,we as d,ye as e,Oe as f,ve as g,Se as h,Ee as i,Ve as j,He as k,k as u};
