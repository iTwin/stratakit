import{a as m,n as y}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{c as D}from"./~utils-CJjjowDw.js";import{a as T,b as U,c as j}from"./P2CTZE2T-CsknsjqQ.js";import{i as A,I as w,f as O,c as $,b as H,_ as M,v as W,O as q,C as z,P as B,n as v,l as G,y as J,d as p,r as K}from"./LMDWO4NN-Dg-CmVu9.js";import{d as L}from"./YV4JVR4I-DPjYyIBF.js";import{f as Q}from"./~utils-CDNTHryc.js";import{u as V}from"./Field-D-xtXxZ8.js";var X=A([U],[T]),Y=X.useContext,x="input";function Z(n,o){if(o!==void 0)return n!=null&&o!=null?o===n:!!o}function ee(n,o){return n==="input"&&(!o||o==="radio")}var te=$(function(o){var c=o,{store:t,name:d,value:s,checked:C}=c,r=M(c,["store","name","value","checked"]);const P=Y();t=t||P;const i=W(r.id),f=m.useRef(null),u=L(t,e=>C??Z(s,e==null?void 0:e.value));m.useEffect(()=>{!i||!u||(t==null?void 0:t.getState().activeId)===i||t==null||t.setActiveId(i)},[t,u,i]);const h=r.onChange,g=q(f,x),a=ee(g,r.type),b=z(r),[I,F]=B();m.useEffect(()=>{const e=f.current;e&&(a||(u!==void 0&&(e.checked=u),d!==void 0&&(e.name=d),s!==void 0&&(e.value=`${s}`)))},[I,a,u,d,s]);const l=v(e=>{if(b){e.preventDefault(),e.stopPropagation();return}(t==null?void 0:t.getState().value)!==s&&(a||(e.currentTarget.checked=!0,F()),h==null||h(e),!e.defaultPrevented&&(t==null||t.setValue(s)))}),k=r.onClick,_=v(e=>{k==null||k(e),!e.defaultPrevented&&(a||l(e))}),R=r.onFocus,E=v(e=>{if(R==null||R(e),e.defaultPrevented||!a||!t)return;const{moves:S,activeId:N}=t.getState();S&&(i&&N!==i||l(e))});return r=G(p({id:i,role:a?void 0:"radio",type:a?"radio":void 0,"aria-checked":u},r),{ref:J(f,r.ref),onChange:l,onClick:_,onFocus:E}),r=j(p({store:t,clickOnEnter:!a},r)),K(p({name:a?d:void 0,value:a?s:void 0,checked:u},r))}),oe=w(O(function(o){const c=te(o);return H(x,c)}));const de=Q((n,o)=>(V("checkable"),y.jsx(oe,{accessibleWhenDisabled:!0,...n,className:D("ğŸ¥-checkbox","ğŸ¥-radio",n.className),ref:o})));export{de as R};
