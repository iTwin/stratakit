import{c as N,u as D,H as G,a as Q,b as W,d as q,e as z}from"./BYC7LY2E-CWtJGSN3.js";import{g as _,e as m,h as S,i as J,f as w,c as A,b as V,_ as R,m as j,x as K,d as h,l as B,A as g,G as L,Q as U,n as x}from"./LMDWO4NN-B4nGdrVW.js";import{n as F,a as O}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{c as I,u as X,a as C,b as y}from"./YV4JVR4I-_qJ7xRSW.js";function Y(r={}){var o;const t=(o=r.store)==null?void 0:o.getState(),e=N(_(S({},r),{placement:m(r.placement,t==null?void 0:t.placement,"top"),hideTimeout:m(r.hideTimeout,t==null?void 0:t.hideTimeout,0)})),v=_(S({},e.getState()),{type:m(r.type,t==null?void 0:t.type,"description"),skipTimeout:m(r.skipTimeout,t==null?void 0:t.skipTimeout,300)}),a=I(v,e,r.store);return S(S({},e),a)}function Z(r,o,t){return C(r,t,"type"),C(r,t,"skipTimeout"),D(r,o,t)}function ee(r={}){const[o,t]=X(Y,r);return Z(o,t,r)}var E=J([Q],[G]),H=E.useProviderContext,te=E.ContextProvider,re=E.ScopedContextProvider,oe="div",ne=A(function(o){var t=o,{store:e,portal:v=!0,gutter:a=8,preserveTabOrder:T=!1,hideOnHoverOutside:d=!0,hideOnInteractOutside:f=!0}=t,i=R(t,["store","portal","gutter","preserveTabOrder","hideOnHoverOutside","hideOnInteractOutside"]);const p=H();e=e||p,j(e,!1),i=K(i,s=>F.jsx(re,{value:e,children:s}),[e]);const P=e.useState(s=>s.type==="description"?"tooltip":"none");return i=h({role:P},i),i=q(B(h({},i),{store:e,portal:v,gutter:a,preserveTabOrder:T,hideOnHoverOutside(s){if(g(d,s))return!1;const l=e==null?void 0:e.getState().anchorElement;return l?!("focusVisible"in l.dataset):!0},hideOnInteractOutside:s=>{if(g(f,s))return!1;const l=e==null?void 0:e.getState().anchorElement;return l?!L(l,s.target):!0}})),i}),de=W(w(function(o){const t=ne(o);return V(oe,t)}),H);function ve(r={}){const o=ee(r);return F.jsx(te,{value:o,children:r.children})}var ae="div",c=I({activeStore:null});function k(r){return()=>{const{activeStore:o}=c.getState();o===r&&c.setState("activeStore",null)}}var se=A(function(o){var t=o,{store:e,showOnHover:v=!0}=t,a=R(t,["store","showOnHover"]);const T=H();e=e||T,j(e,!1);const d=O.useRef(!1);O.useEffect(()=>y(e,["mounted"],n=>{n.mounted||(d.current=!1)}),[e]),O.useEffect(()=>{if(e)return U(k(e),y(e,["mounted","skipTimeout"],n=>{if(!e)return;if(n.mounted){const{activeStore:b}=c.getState();return b!==e&&(b==null||b.hide()),c.setState("activeStore",e)}const u=setTimeout(k(e),n.skipTimeout);return()=>clearTimeout(u)}))},[e]);const f=a.onMouseEnter,i=x(n=>{f==null||f(n),d.current=!0}),p=a.onFocusVisible,P=x(n=>{p==null||p(n),!n.defaultPrevented&&(e==null||e.setAnchorElement(n.currentTarget),e==null||e.show())}),s=a.onBlur,l=x(n=>{if(s==null||s(n),n.defaultPrevented)return;const{activeStore:u}=c.getState();d.current=!1,u===e&&c.setState("activeStore",null)}),M=e.useState("type"),$=e.useState(n=>{var u;return(u=n.contentElement)==null?void 0:u.id});return a=B(h({"aria-labelledby":M==="label"?$:void 0},a),{onMouseEnter:i,onFocusVisible:P,onBlur:l}),a=z(h({store:e,showOnHover(n){if(!d.current||g(v,n))return!1;const{activeStore:u}=c.getState();return u?(e==null||e.show(),!1):!0}},a)),a}),fe=w(function(o){const t=se(o);return V(ae,t)});export{ve as T,fe as a,de as b,ee as u};
