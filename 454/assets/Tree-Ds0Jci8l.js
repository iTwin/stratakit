import{p as t,b as u}from"./index-DDCMeoDP.js";import{J as R,F as C,K as A,L as E,aj as V,a7 as B,ak as G,a8 as H,bi as M,an as W,bj as z,a5 as T,l as v,b8 as J,d as x,bk as b,bl as U,o as h,I as $,b as q,aT as O,bm as Q,aU as X}from"./~utils-BoEc-IHF.js";import{c as Y,u as Z,a as ee,b as oe,C as te}from"./ITI7HKP4-Drh0xJCI.js";import{a as re,b as g,L as F}from"./~utils.ListItem-CgKJk-2F.js";function ae(e={}){var r;const o=(r=e.store)==null?void 0:r.getState();return Y(R(A({},e),{orientation:C(e.orientation,o==null?void 0:o.orientation,"horizontal"),focusLoop:C(e.focusLoop,o==null?void 0:o.focusLoop,!0)}))}function se(e,r,o){return Z(e,r,o)}function ie(e={}){const[r,o]=E(ae,e);return se(r,o,e)}var ne="div",le=B(function(r){var o=r,{store:i,orientation:l,virtualFocus:p,focusLoop:m,rtl:j}=o,s=H(o,["store","orientation","virtualFocus","focusLoop","rtl"]);const k=M();i=i||k;const c=ie({store:i,orientation:l,virtualFocus:p,focusLoop:m,rtl:j}),f=c.useState(n=>n.orientation==="both"?void 0:n.orientation);return s=W(s,n=>t.jsx(z,{value:c,children:n}),[c]),s=T({role:"toolbar","aria-orientation":f},s),s=ee(T({store:c},s)),s}),ce=V(function(r){const o=le(r);return G(ne,o)});const de=u.createContext(void 0),he=v((e,r)=>{const{"aria-level":o,selected:i,expanded:l,icon:p,unstable_decorations:m,label:j,description:s,actions:k,error:c,onSelectedChange:f,onExpandedChange:n,onClick:P,onKeyDown:N,...K}=e,L=a=>{i!==void 0&&(a.stopPropagation(),f==null||f(!i))},S=a=>{a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||l!==void 0&&(a.key==="ArrowRight"||a.key==="ArrowLeft")&&(a.preventDefault(),n==null||n(a.key==="ArrowRight"))},w=u.useId(),D=u.useId(),y=u.useId(),I=typeof c=="string"?c:void 0,d=c?t.jsx(O,{}):p,_=u.useMemo(()=>{const a=[];return s&&a.push(D),(m||d)&&a.push(y),I&&a.push(I),a.length>0?a.join(" "):void 0},[m,d,y,s,D,I]);return t.jsx(de.Provider,{value:u.useMemo(()=>({level:o,expanded:l,selected:i}),[o,l,i]),children:t.jsx(J,{render:t.jsx(h,{...K}),onClick:b(P,L),onKeyDown:b(N,S),role:"treeitem","aria-expanded":l,"aria-selected":i,"aria-labelledby":w,"aria-describedby":_,"aria-level":o,className:x("-tree-item",e.className),ref:r,children:t.jsxs(re,{"data-kiwi-expanded":l,"data-kiwi-selected":i,"data-kiwi-error":c?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":o},role:void 0,children:[t.jsxs(g,{children:[t.jsx(U,{align:s?"block":void 0,children:t.jsx(me,{onClick:()=>{l!==void 0&&(n==null||n(!l))}})}),d||m?t.jsx(h,{className:"-tree-item-decoration",id:y,render:u.isValidElement(d)?d:typeof d=="string"?t.jsx($,{href:d}):void 0,children:d?null:m}):null]}),t.jsx(F,{id:w,className:"-tree-item-content",children:j}),s?t.jsx(F,{id:D,className:"-tree-item-description",children:s}):void 0,t.jsx(g,{render:t.jsx(ue,{children:k})})]})})})}),ue=v((e,r)=>t.jsx(ce,{...e,onClick:b(e.onClick,o=>o.stopPropagation()),onKeyDown:b(e.onKeyDown,o=>o.stopPropagation()),className:x("-tree-item-actions-container",e.className),ref:r,children:e.children})),pe=v((e,r)=>{const{visible:o,...i}=e;return t.jsx(q,{inert:o===!1?!0:void 0,...i,variant:"ghost",className:x("-tree-item-action",e.className),"data-kiwi-visible":o,ref:r})}),me=v((e,r)=>t.jsx(h.span,{"aria-hidden":"true",...e,onClick:b(e.onClick,o=>o.stopPropagation()),className:x("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":Q(),ref:r,children:t.jsx(X,{})})),je=v((e,r)=>{const o=oe({orientation:"vertical"});return t.jsx(h.div,{role:"tree",...e,render:t.jsx(te,{store:o}),className:x("-tree",e.className),ref:r,children:e.children})});export{je as T,he as a,pe as b};
