import{j as e,r}from"./jsx-runtime-BMrMXMSG.js";import{r as L}from"./index-BlA7Mg33.js";import{D as $,a as H,b as X,c as x}from"./DropdownMenu-CB4JJEG4.js";import{D as q}from"./Divider-4rYs3DeT.js";import{I as w}from"./Icon-B_GDegYj.js";import{I}from"./IconButton-jbe77Ahp.js";import{T as Q,a as Z,b as J}from"./TextBox-DXYP6SPW.js";import{T as Y,a as ee}from"./Tree-Co9qJwrs.js";import{V as E}from"./VisuallyHidden-Cd24B5jp.js";import{L as ne}from"./ListItem-BsEhphR8.js";import{F as te}from"./LVA2YJMS-D01yKNQw.js";import{R as re}from"./XL7CSKGW-KC30i--o.js";import"./index-CyWYMnhl.js";import"./ListItem-Cv_N8gf2.js";import"./Button-BQx5ploT.js";import"./KUU7WJ55-ioEj-9mr.js";import"./LMDWO4NN-S8a85_co.js";import"./P2CTZE2T-l2k-w9zN.js";import"./YV4JVR4I-Cd4sU0ZH.js";import"./BYC7LY2E-DTheVvtc.js";import"./VGCJ63VH-bn73cfxO.js";import"./XX67R432-BDgKVnJA.js";import"./MTZPJQMC-DIKFtD2a.js";import"./ITI7HKP4-CXUbmYvG.js";import"./P4IRICAX-B51MCTsb.js";import"./Tooltip-DVPharft.js";import"./~hooks-BMKA6BuU.js";import"./Field-B0Jl1BnP.js";const se="_appLayout_1aein_5",oe="_platformBar_1aein_14",ie="_logo_1aein_19",ae="_tools_1aein_29",ce="_leftPanel_1aein_39",le="_header_1aein_49",de="_panelTitle_1aein_57",ue="_panelCaption_1aein_63",he="_shiftIconRight_1aein_67",pe="_subheader_1aein_71",me="_subheaderTitle_1aein_81",xe="_searchInput_1aein_86",fe="_subheaderActions_1aein_90",je="_tree_1aein_94",ve="_canvasWrapper_1aein_102",ge="_canvas_1aein_102",be="_splitter_1aein_124",i={appLayout:se,platformBar:oe,logo:ie,tools:ae,leftPanel:ce,header:le,panelTitle:de,panelCaption:ue,shiftIconRight:he,subheader:pe,subheaderTitle:me,searchInput:xe,subheaderActions:fe,tree:je,canvasWrapper:ve,canvas:ge,splitter:be},U="Kiwi sandbox",on=()=>[{title:U},{name:"color-scheme",content:"dark"}],P=new URL("/151/assets/placeholder-DkaVQVcH.svg",import.meta.url).href,D=new URL("/151/assets/search-q1GZ6bPo.svg",import.meta.url).href,_e=new URL("/151/assets/panel-left-ufz9nS-o.svg",import.meta.url).href,Re=new URL("/151/assets/filter-KPUxd64S.svg",import.meta.url).href,Se=new URL("/151/assets/dismiss-BGWosMiT.svg",import.meta.url).href,ye=new URL("/151/assets/chevron-down-DqlSHp9f.svg",import.meta.url).href,A="left-panel";function an(){const{splitterProps:a,panelProps:o,panelMinSize:s,panelMaxSize:c}=we({minSize:{px:256,pct:20},maxSize:{pct:30},labelledby:A});return e.jsxs(e.Fragment,{children:[e.jsx(E,{render:d=>e.jsx("h1",{...d}),children:U}),e.jsxs("div",{className:i.appLayout,style:{"--_panel-min-size":s,"--_panel-max-size":c},children:[e.jsxs("div",{className:i.platformBar,children:[e.jsx("div",{className:i.logo,children:e.jsx(w,{href:P,size:"large"})}),e.jsxs("div",{className:i.tools,children:[e.jsx(w,{href:P,size:"large"}),e.jsx(w,{href:P,size:"large"}),e.jsx(w,{href:P,size:"large"})]})]}),e.jsxs("div",{...o,className:i.leftPanel,style:{position:"relative",...o.style},children:[e.jsxs("div",{className:i.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:i.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:i.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:i.actions,children:e.jsx(I,{className:i.shiftIconRight,icon:_e,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Be,{}),e.jsx(Ie,{}),e.jsx(q,{className:i.splitter,render:e.jsx(te,{}),...a})]}),e.jsx("div",{className:i.canvasWrapper,children:e.jsx("div",{className:i.canvas})})]})]})}function C(a,o,s){return Math.min(Math.max(a,o),s)}function we(a){const{minSize:o,maxSize:s,labelledby:c,onCollapse:d}=a??{},l=r.useId(),f=r.useRef(null),[b,N]=r.useState(void 0),[t,p]=r.useState(void 0),[m,j]=r.useState(void 0),[v,T]=r.useState(void 0),z=r.useMemo(()=>{if(o&&t)return Math.min(o.px,o.pct/100*t)},[o,t]),_=r.useMemo(()=>{if(z!==void 0&&t)return C(z/t*100,0,100)},[z,t]),R=r.useMemo(()=>{if(s&&t)return C(s.pct,0,100)},[s,t]),S=r.useMemo(()=>{if(m==="smallest")return _??0;if(m==="largest")return R??0;if(b&&t)return C(b/t*100,_??0,R??0)},[b,t,_,R,m]);r.useEffect(()=>{const u=f.current;if(!u)return;const h=u.parentElement;if(!h)return;const g=new ResizeObserver(()=>{const k=h.getBoundingClientRect(),M=u.getBoundingClientRect();p(k.width),N(M.width)});return g.observe(h),g.observe(u),()=>{g.disconnect()}},[]);const B=r.useCallback(u=>{const h=f.current;if(!h)return;const g=h.getBoundingClientRect();T(g.width+u),j(void 0)},[]),G=r.useCallback(u=>{const h=f.current;if(!h)return;const g=h.parentElement;if(!g)return;const k=g.getBoundingClientRect(),M=u*(k.width*.005);B(M)},[B]),F=r.useCallback(()=>{f.current&&T(void 0)},[]),{moveableProps:y}=Pe({onMove:B,onMoveEnd:F,onKeyMove:G}),V=r.useMemo(()=>({...y,onKeyDown:u=>{var h;switch((h=y.onKeyDown)==null||h.call(y,u),u.key){case"Enter":d==null||d();break;case"Home":j("smallest");break;case"End":j("largest");break}},"aria-orientation":"vertical","aria-valuenow":S,"aria-valuemin":_,"aria-valuemax":R,"aria-controls":l,"aria-labelledby":c,"aria-label":c===void 0?"Resize panel":void 0,"data-resizing":v===void 0?void 0:"true"}),[y,S,_,R,l,c,d,v]),W=r.useMemo(()=>({style:{WebkitUserSelect:v===void 0?void 0:"none"},id:l,ref:f}),[l,v]),K=o===void 0?void 0:`${z}px`,O=r.useMemo(()=>v!==void 0&&s!==void 0?`min(${v}px, ${s.pct}%)`:S===void 0?void 0:`${S}%`,[s,v,S]);return{splitterProps:V,panelProps:W,panelMinSize:K,panelMaxSize:O}}function Pe(a){const{onMove:o,onMoveEnd:s,onKeyMove:c}=a??{},d=r.useRef(null),l=r.useRef(void 0),f=r.useRef(void 0),b=r.useCallback(()=>{f.current!==void 0&&(f.current=void 0,s==null||s())},[s]);return{moveableProps:r.useMemo(()=>({onPointerDown:t=>{if(t.button!==0||t.ctrlKey)return;const p=d.current;if(!p)return;const m=p.getBoundingClientRect(),j=t.clientX-m.left;f.current=j,p.setPointerCapture(t.pointerId)},onPointerMove:t=>{const p=f.current;if(p===void 0)return;const m=d.current;if(!m)return;const j=m.getBoundingClientRect(),v=t.clientX-p-j.left;o==null||o(v)},onPointerUp:b,onPointerCancel:b,onKeyDown:t=>{switch(t.key){case"ArrowLeft":c==null||c(-1);break;case"ArrowRight":c==null||c(1);break}},onKeyUp:t=>{switch(t.key){case"ArrowLeft":case"ArrowRight":s==null||s();break}},ref:t=>{var m;if(d.current=t,(m=l.current)==null||m.call(l),l.current=void 0,!t)return;const p=j=>{j.preventDefault()};t.addEventListener("touchstart",p),l.current=()=>{t.removeEventListener("touchstart",p)}}}),[c,s,o,b])}}function Ie(){return e.jsxs(Y,{className:i.tree,children:[e.jsx(n,{content:"Guides",children:e.jsxs(n,{content:"Tree",children:[e.jsx(n,{content:"Guide 4"}),e.jsx(n,{content:"Guide 3"}),e.jsx(n,{content:"Guide 2"}),e.jsx(n,{content:"Guide 1"})]})}),e.jsxs(n,{content:"Other",children:[e.jsx(n,{content:"Object 2",children:e.jsx(n,{content:"Path 3"})}),e.jsx(n,{content:"Object 1"})]}),e.jsxs(n,{content:"Road",children:[e.jsx(n,{content:"Parking lot access"}),e.jsx(n,{content:"Site access"})]}),e.jsx(n,{content:"Parking lot",children:e.jsxs(n,{content:"Parking area",children:[e.jsx(n,{content:"Bay point 2"}),e.jsx(n,{content:"Bay point 1"}),e.jsx(n,{content:"Space point 1"}),e.jsx(n,{content:"Path 6"})]})}),e.jsx(n,{content:"Building",children:e.jsx(n,{content:"Building area",children:e.jsx(n,{content:"Path 5"})})}),e.jsx(n,{content:"Sewer",children:e.jsx(n,{content:"Run off pipe",children:e.jsx(n,{content:"Path 4"})})}),e.jsx(n,{content:"Project boundary",children:e.jsx(n,{content:"Property area",children:e.jsx(n,{content:"Path 1"})})}),e.jsx(n,{content:"Map",children:e.jsx(n,{content:"Location",children:e.jsx(n,{content:"Terrain"})})})]})}function ze(a){return e.jsx(I,{...a,style:{marginBlock:-6,...a.style},variant:"ghost"})}function n(a){const o=r.Children.count(a.children)>0;return e.jsx(ee,{content:e.jsxs(e.Fragment,{children:[o?e.jsx(ze,{icon:ye,label:"Collapse",variant:"ghost"}):e.jsx("span",{style:{inlineSize:"1.5rem"}}),e.jsx(w,{href:P,style:{display:"inline"}}),e.jsx(ne,{children:a.content})]}),expanded:o||void 0,children:a.children})}function Be(){const[a,o]=r.useState(!1),s=r.useRef(null),c=r.useRef(null),d=a?e.jsxs(e.Fragment,{children:[e.jsx(ke,{}),e.jsx(I,{className:i.shiftIconRight,icon:Se,label:"Close",variant:"ghost",onClick:()=>{var l;L.flushSync(()=>o(!1)),(l=c.current)==null||l.focus()}})]}):e.jsx(I,{className:i.shiftIconRight,icon:D,label:"Search",variant:"ghost",onClick:()=>{var l;L.flushSync(()=>o(!0)),(l=s.current)==null||l.focus()}});return e.jsxs("div",{className:i.subheader,children:[e.jsx(re.h3,{id:A,className:i.subheaderTitle,tabIndex:-1,ref:c,render:a?e.jsx(E,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),a?e.jsxs(Q,{className:i.searchInput,children:[e.jsx(Z,{href:D}),e.jsx(J,{placeholder:"Search",ref:s})]}):null,e.jsx("div",{className:i.subheaderActions,children:d})]})}function ke(){return e.jsxs($,{children:[e.jsx(H,{render:e.jsx(I,{icon:Re,label:"Filter",variant:"ghost"})}),e.jsxs(X,{style:{minInlineSize:164},children:[e.jsx(x,{children:"Show all"}),e.jsx(x,{children:"Guides"}),e.jsx(x,{children:"Other"}),e.jsx(x,{children:"Roadway"}),e.jsx(x,{children:"Parking"}),e.jsx(x,{children:"Building"}),e.jsx(x,{children:"Dry utility"}),e.jsx(x,{children:"Stormwater"}),e.jsx(x,{children:"Sewer"}),e.jsx(x,{children:"Boundary"}),e.jsx(x,{children:"Map"})]})]})}export{an as default,on as meta};
