import{a as n,p as e}from"./chunk-JZWAC4HX-ROAaBwzV.js";import{C as N}from"./collection-CwAoCiSg.js";import{C as y}from"./Z2O3VLAQ-DfccVRF8.js";import{a as C}from"./GVAFFF2B-PmGHE2ZX.js";import{u as w}from"./Q5W46E73-BR5nxZ18.js";import{D as k}from"./Z32PU2LQ-BOfitx1t.js";import{o as g,K as L,R as _,a as h}from"./~utils-Bgzl5YLW.js";import{D as B}from"./APVORPDK-CQUY-ek2.js";import{D as O}from"./dialog-provider-Budq37iw.js";import{B as P}from"./Button-CbBZLa3p.js";import{T as v}from"./Text-J5vt8TYq.js";import{V as A}from"./VisuallyHidden-B7YTsaGY.js";import{I as H}from"./IconButton.internal-ODXc2Muv.js";import{S as T,C as V}from"./~utils.icons-CY5v6rai.js";import{u as z}from"./~utils.useInit-BoPc52E1.js";const te=g((r,l)=>{z();const{label:o,items:a=[],open:m,setOpen:c,...d}=r,u=n.useId(),I=r["aria-label"]?void 0:o?u:void 0,D=a.length>0,[f,R]=L(!1,m,c),p=n.useRef(null),j=()=>{const t=p.current;if(!t)return;const i="--ErrorRegion-pulse";t.getAnimations({subtree:!0}).find(s=>s.id===i)||t.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:i,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},x=C({setItems:t=>{const i=new Set(E.map(s=>s.id));t.filter(s=>!i.has(s.id)).length!==0&&(j(),S(o))}}),E=w(x,"items"),[b,S]=n.useState(o);return e.jsxs(e.Fragment,{children:[e.jsx(A,{"aria-live":"polite","aria-atomic":!0,children:b===o?b:void 0}),e.jsx(O,{open:f,setOpen:R,children:e.jsx(_.section,{"aria-labelledby":I,...d,className:h("ErrorRegion",r.className),"data-_sk-visible":D,"data-_sk-expanded":f,ref:l,children:e.jsxs("div",{className:"ErrorRegionContainer",ref:p,children:[e.jsxs(B,{className:"ErrorRegionHeader",render:e.jsx(P,{variant:"ghost"}),children:[e.jsx(T,{tone:"attention",className:"ErrorRegionIcon"}),e.jsx(v,{render:e.jsx("span",{}),id:u,className:"ErrorRegionLabel",variant:"body-sm",children:o}),e.jsx(H,{inert:!0,variant:"ghost",children:e.jsx(V,{})})]}),e.jsx(k,{className:"ErrorRegionDialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(N,{store:x,className:"ErrorRegionItems",role:"list",children:a})})]})})})]})}),se=g((r,l)=>{const o=n.useId(),{message:a,messageId:m=`${o}-message`,actions:c,...d}=r;return e.jsxs(y,{...d,role:"listitem",className:h("ErrorRegionItem",r.className),ref:l,children:[e.jsx(v,{id:m,variant:"body-sm",children:a}),e.jsx("div",{className:"ErrorRegionItemActions",children:c})]})});export{se as E,te as a};
