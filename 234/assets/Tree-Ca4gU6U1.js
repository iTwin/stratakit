import{a as v,n}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as x}from"./index-DeGJKKUv.js";import{f as h,s as R,L as q,a as G}from"./ListItem-BO7Ree_f.js";import{a as J}from"./Button-CoyjEr1U.js";import{a as Q}from"./VisuallyHidden--wMbwkoK.js";import{R as O}from"./XL7CSKGW-ljzOK7sQ.js";import{u as X,T as Y,a as ee,b as te}from"./Tooltip-D2PNxAxA.js";import{m as oe,p as ae,s as N,a as j,e as re,c as se,u as F,b as A,d as B}from"./YV4JVR4I-B6YhGKv6.js";import{u as ne,T as ie,a as le,b as ce}from"./IconButton-Kzi4Txji.js";import{C as ue,a as de,c as me}from"./P2CTZE2T-7dxqU1Px.js";import{z as fe,A as ve,C as f,B as w,D as V,S as xe,T as he,R as pe,g as be,b as E,F as Se,c as ge,d as ye,_ as Ce,y as Ve,e as Te}from"./~utils-QeuuISRZ.js";import{c as D,d as Ne,u as $,a as je,C as Pe}from"./ITI7HKP4-9pOuItup.js";import{f as Ie,g as we}from"./BYC7LY2E-D0CFC92x.js";v.createContext(null);v.createContext(null);var ke=fe([de],[ue]),Oe=ke.useContext,_e=xe()&&he();function Ae(e={}){var o=e,{tag:t}=o,a=ve(o,["tag"]);const l=oe(a.store,ae(t,["value","rtl"])),u=t==null?void 0:t.getState(),s=l==null?void 0:l.getState(),S=f(a.activeId,s==null?void 0:s.activeId,a.defaultActiveId,null),c=D(w(V({},a),{activeId:S,includesBaseElement:f(a.includesBaseElement,s==null?void 0:s.includesBaseElement,!0),orientation:f(a.orientation,s==null?void 0:s.orientation,"vertical"),focusLoop:f(a.focusLoop,s==null?void 0:s.focusLoop,!0),focusWrap:f(a.focusWrap,s==null?void 0:s.focusWrap,!0),virtualFocus:f(a.virtualFocus,s==null?void 0:s.virtualFocus,!0)})),g=Ie(w(V({},a),{placement:f(a.placement,s==null?void 0:s.placement,"bottom-start")})),p=f(a.value,s==null?void 0:s.value,a.defaultValue,""),C=f(a.selectedValue,s==null?void 0:s.selectedValue,u==null?void 0:u.values,a.defaultSelectedValue,""),d=Array.isArray(C),y=w(V(V({},c.getState()),g.getState()),{value:p,selectedValue:C,resetValueOnSelect:f(a.resetValueOnSelect,s==null?void 0:s.resetValueOnSelect,d),resetValueOnHide:f(a.resetValueOnHide,s==null?void 0:s.resetValueOnHide,d&&!t),activeValue:s==null?void 0:s.activeValue}),r=se(y,c,g,l);return _e&&N(r,()=>j(r,["virtualFocus"],()=>{r.setState("virtualFocus",!1)})),N(r,()=>{if(t)return pe(j(r,["selectedValue"],i=>{Array.isArray(i.selectedValue)&&t.setValues(i.selectedValue)}),j(t,["values"],i=>{r.setState("selectedValue",i.values)}))}),N(r,()=>j(r,["resetValueOnHide","mounted"],i=>{i.resetValueOnHide&&(i.mounted||r.setState("value",p))})),N(r,()=>j(r,["open"],i=>{i.open||(r.setState("activeId",S),r.setState("moves",0))})),N(r,()=>j(r,["moves","activeId"],(i,b)=>{i.moves===b.moves&&r.setState("activeValue",void 0)})),N(r,()=>re(r,["moves","renderedItems"],(i,b)=>{if(i.moves===b.moves)return;const{activeId:T}=r.getState(),_=c.item(T);r.setState("activeValue",_==null?void 0:_.value)})),w(V(V(V({},g),c),r),{tag:t,setValue:i=>r.setState("value",i),resetValue:()=>r.setState("value",y.value),setSelectedValue:i=>r.setState("selectedValue",i)})}function Le(e){const o=Oe();return e=be(E({},e),{tag:e.tag!==void 0?e.tag:o}),Ne(e)}function Ee(e,o,t){return Se(o,[t.tag]),A(e,t,"value","setValue"),A(e,t,"selectedValue","setSelectedValue"),A(e,t,"resetValueOnHide"),A(e,t,"resetValueOnSelect"),Object.assign($(we(e,o,t),o,t),{tag:t.tag})}function Re(e={}){e=Le(e);const[o,t]=F(Ae,e);return Ee(o,t,e)}function Be(e={}){var o;const t=(o=e.store)==null?void 0:o.getState();return D(w(V({},e),{orientation:f(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:f(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function He(e,o,t){return $(e,o,t)}function Fe(e={}){const[o,t]=F(Be,e);return He(o,t,e)}var De="div",$e=ge(function(o){var t=o,{store:a,orientation:l,virtualFocus:u,focusLoop:s,rtl:S}=t,c=Ce(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const g=ne();a=a||g;const p=Fe({store:a,orientation:l,virtualFocus:u,focusLoop:s,rtl:S}),C=p.useState(d=>d.orientation==="both"?void 0:d.orientation);return c=Ve(c,d=>n.jsx(ie,{value:p,children:d}),[p]),c=E({role:"toolbar","aria-orientation":C},c),c=je(E({store:p},c)),c}),Ke=ye(function(o){const t=$e(o);return Te(De,t)});const K=h((e,o)=>{const{variant:t="solid",tone:a="neutral",...l}=e;return n.jsx(J,{accessibleWhenDisabled:!0,...l,"data-kiwi-variant":t,"data-kiwi-tone":a,className:x("-button",e.className),ref:o})});K.displayName="Button";const W=h((e,o)=>n.jsx(Q,{...e,ref:o}));W.displayName="VisuallyHidden";const L=h((e,o)=>{const{href:t,size:a="regular",...l}=e,u=We(a);return n.jsx(O.svg,{"aria-hidden":!0,...l,"data-kiwi-size":a,className:x("-icon",e.className),ref:o,children:n.jsx("use",{href:`${e.href}#${u}`})})});L.displayName="Icon";function We(e){return e==="large"?"icon-large":"icon"}const ze=h((e,o)=>{const{direction:t="down",...a}=e,l=v.useMemo(()=>{switch(t){case"down":return n.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return n.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[t]);return n.jsx(L,{...a,render:n.jsx(O.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:l}),className:x("-disclosure-arrow",e.className),ref:o})});ze.displayName="DisclosureArrow";const z=h((e,o)=>{const t=v.useId(),{content:a,children:l,type:u="description",id:s=t,defaultOpen:S,open:c,setOpen:g,unmountOnHide:p=u==="none",...C}=e,d=X(),y=B(d,i=>i.open),r=B(d,i=>i.popoverElement);return v.useEffect(function(){var b;r!=null&&r.isConnected&&((b=r==null?void 0:r.togglePopover)==null||b.call(r,y))},[y,r]),n.jsx(n.Fragment,{children:n.jsxs(Y,{store:d,defaultOpen:S,open:c,setOpen:g,children:[n.jsx(ee,{render:l,...u==="description"&&{"aria-describedby":s},...u==="label"&&{"aria-labelledby":s}}),n.jsx(te,{"aria-hidden":"true",...C,unmountOnHide:p,className:x("-tooltip",e.className),ref:o,id:s,style:{zIndex:R?void 0:9999,...e.style},wrapperProps:{popover:"manual"},portal:!R,children:a})]})})});z.displayName="Tooltip";const M=h((e,o)=>{const{label:t,icon:a,isActive:l,labelVariant:u,...s}=e,S=le(),c=n.jsxs(K,{"aria-pressed":l,...s,render:S?n.jsx(ce,{render:e.render}):e.render,className:x("-icon-button",e.className),ref:o,children:[n.jsx(W,{children:t}),typeof a=="string"?n.jsx(L,{href:a}):a]});return u==="visually-hidden"?c:n.jsx(z,{content:t,type:"none",children:c})});M.displayName="IconButton";function k(e){const o=v.useRef(e);return v.useEffect(()=>{o.current=e},[e]),o}const Me=h((e,o)=>{const t=Re({orientation:"vertical"});return n.jsx(O.div,{role:"tree",...e,render:n.jsx(Pe,{store:t}),className:x("-tree",e.className),ref:o,children:e.children})});Me.displayName="Tree.Root";const Ze=h((e,o)=>{const{selected:t,content:a,children:l,expanded:u,onSelectedChange:s,onExpandedChange:S,onClick:c,onKeyDown:g,style:p,...C}=e,d=v.useContext(H),y=d?d.level+1:1,r=k(c),i=k(g),b=k(s),T=k(S),_=v.useCallback(m=>{var P,I;(P=r.current)==null||P.call(r,m),!m.defaultPrevented&&(m.stopPropagation(),(I=b.current)==null||I.call(b,!t))},[r,b,t]),U=v.useCallback(m=>{var P,I;(P=i.current)==null||P.call(i,m),!m.defaultPrevented&&(m.altKey||m.ctrlKey||m.metaKey||m.shiftKey||(m.key==="ArrowRight"||m.key==="ArrowLeft")&&(m.stopPropagation(),m.preventDefault(),(I=T.current)==null||I.call(T,m.key==="ArrowRight")))},[i,T]);return n.jsx(H.Provider,{value:v.useMemo(()=>({level:y,expanded:u,selected:t}),[y,u,t]),children:n.jsxs(me,{render:n.jsx(O,{...C}),onClick:_,onKeyDown:U,role:"treeitem","aria-expanded":u,"aria-selected":t,className:x("-tree-item",e.className),ref:o,children:[n.jsx(q,{"data-kiwi-expanded":u,"data-kiwi-selected":t,"data-kiwi-parent-selected":d==null?void 0:d.selected,className:x("-tree-item-node",e.className),style:{...p,"--tree-item-level":y},ref:o,role:void 0,children:a}),l&&n.jsx("div",{role:"group",children:l})]})})});Ze.displayName="Tree.Item";const Ue=h((e,o)=>{const{children:t,...a}=e;return n.jsx(G,{...a,className:x("-tree-item-content",e.className),ref:o,children:t})});Ue.displayName="Tree.Content";const qe=h((e,o)=>{const{visible:t,...a}=e;return n.jsx(Ke,{...a,className:x("-tree-item-actions",e.className),"data-kiwi-visible":t,ref:o,children:e.children})});qe.displayName="Tree.Actions";const Ge=h((e,o)=>{const t=k(e.onClick);return n.jsx(M,{tabIndex:-1,"aria-hidden":"true",icon:n.jsx(Z,{}),label:"Toggle",...e,onClick:v.useCallback(a=>{var l;(l=t.current)==null||l.call(t,a),!a.defaultPrevented&&a.stopPropagation()},[t]),className:x("-tree-item-expander",e.className),variant:"ghost",labelVariant:"visually-hidden",ref:o})});Ge.displayName="Tree.Expander";const Z=h((e,o)=>n.jsx(L,{...e,render:n.jsx(O.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:n.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:x("-tree-chevron",e.className),ref:o}));Z.displayName="TreeChevron";const H=v.createContext(void 0);export{Me as T,Ze as a,Ge as b,Ue as c,qe as d};
