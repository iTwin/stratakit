import{n as a,a as c}from"./chunk-K6CSEXPM-DTpfuivu.js";import{c as C}from"./~utils-DJBN2z_y.js";import{R as m}from"./XL7CSKGW-B8eqAfzP.js";import{f as I}from"./~utils-ByC6hA40.js";import{u as j}from"./C3IKGW5T-C5398cDE.js";import{a as v,C as T,b as y,c as p}from"./RZ4GPYOB-CnW7c3F4.js";import{f as g,c as F,b as R,_ as k,x as D,r as w}from"./LMDWO4NN-BfB9Y8BD.js";import{d as x}from"./~hooks-xhRWJkci.js";var E="div",L=F(function(t){var e=t,{store:s}=e,l=k(e,["store"]);const o=v();return s=s||o,l=D(l,n=>a.jsx(T,{value:s,children:n}),[s]),w(l)}),N=g(function(t){const e=L(t);return R(E,e)});const q=I((r,t)=>{const{layout:e,...s}=r;return a.jsx(M,{render:a.jsx(m.div,{...s,className:C("ğŸ¥-field",r.className),"data-kiwi-layout":e,ref:t})})});function M(r){const t=j({defaultItems:[]}),e=x(t,n=>n.renderedItems),[s,l]=c.useMemo(()=>{var i;const n=e.findIndex(u=>u.elementType==="control");return[(i=e[n])==null?void 0:i.controlType,n]},[e]),o=c.useMemo(()=>{const n=e.findIndex(i=>i.elementType==="label");if(!(l===-1||n===-1))return n<l?"before":"after"},[e,l]);return a.jsx(N,{...r,store:t,"data-kiwi-label-placement":o,"data-kiwi-control-type":s})}function z(r){const t=y(),e=c.useId(),{id:s=t?e:void 0,type:l,...o}=r,n=x(t,d=>d==null?void 0:d.renderedItems),i=c.useMemo(()=>{var b;return((b=n==null?void 0:n.filter(f=>f.elementType==="description"))==null?void 0:b.map(f=>f.id).join(" "))||void 0},[n]),u=c.useCallback(d=>({...d,elementType:"control",controlType:l}),[l]);return a.jsx(p,{id:s,getItem:u,render:a.jsx(m,{...o,"aria-describedby":i})})}function P(r){const t=y(),e=x(t,o=>o==null?void 0:o.renderedItems),s=c.useMemo(()=>{var o;return(o=e==null?void 0:e.find(n=>n.elementType==="control"))==null?void 0:o.id},[e]),l=c.useCallback(o=>({...o,elementType:"label"}),[]);return a.jsx(p,{getItem:l,render:a.jsx(m.label,{...r,htmlFor:s})})}function A(r){const t=c.useId(),{id:e=t,...s}=r,l=c.useCallback(o=>({...o,elementType:"description"}),[]);return a.jsx(p,{...s,id:e,getItem:l})}const G=I((r,t)=>a.jsx(P,{render:a.jsx(m.label,{...r,className:C("ğŸ¥-label",r.className),ref:t})}));export{q as F,G as L,A as a,z as b};
