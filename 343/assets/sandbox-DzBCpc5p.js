import{w as ee}from"./~utils-Dg-MnoLN.js";import{t as ne,a as t,n as e}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{a as z}from"./index-Dr3kRIaJ.js";import{B as te}from"./Button-DGj_TzLv.js";import{D as X,a as G,b as O,c as u}from"./DropdownMenu-CVpdGF_9.js";import{I as v}from"./Icon-BrErf07h.js";import{I as S}from"./IconButton-CeOooQIp.js";import{S as se,H as le}from"./Select-CsyE1fde.js";import{T as ae,a as D,b as re,c as w}from"./Tabs-C4N0GELp.js";import{T as H}from"./Text-PgPgGtWc.js";import{T as ie,a as oe,b as ce}from"./TextBox-C1IyR43C.js";import{V as T}from"./VisuallyHidden-CnRw8Dis.js";import{T as de,a as ue}from"./Tree-BryCcNBj.js";import{p as M}from"./placeholder-CkfRsG2Q.js";import{p as he,l as pe,d as xe,h as fe,m as je,s as E,a as me,f as be}from"./state-inherited-dot-DKxYKQBx.js";import{s as Ce}from"./visibility-show-D1BtKvBb.js";import"./index-jyeBNHV5.js";import"./KUU7WJ55-fSvPHEQf.js";import"./LVA2YJMS-DabsqpBD.js";import"./Kbd-YkqI-Cd2.js";import"./P2CTZE2T-Ck7zCoL8.js";import"./BYC7LY2E-CiW15ovP.js";import"./VGCJ63VH-7OMvEn9j.js";import"./MTZPJQMC-CH5nz8Kk.js";import"./VEVQD5MH-C8m7L1lK.js";import"./ITI7HKP4-DbNQbSJV.js";import"./P4IRICAX-D08L-_60.js";import"./ASMQKSDT-BLYfI2Mc.js";import"./Tooltip-BdZ8CB9l.js";import"./Field-BRRqb1CP.js";import"./~hooks-Wdjhtx2E.js";import"./ListItem-DbIpZUPZ.js";const ge="_appLayout_fkpkj_5",_e="_header_fkpkj_22",ke="_platformBar_fkpkj_32",Se="_logo_fkpkj_38",Ae="_tools_fkpkj_48",ve="_leftPanel_fkpkj_58",Pe="_panelHeader_fkpkj_70",Ie="_panelTitleWrapper_fkpkj_78",Me="_panelCaption_fkpkj_82",ye="_shiftIconRight_fkpkj_86",Re="_subheader_fkpkj_90",Ne="_subheaderTitle_fkpkj_101",Be="_searchInput_fkpkj_106",Te="_subheaderActions_fkpkj_110",ze="_tabList_fkpkj_114",De="_emptyState_fkpkj_119",we="_canvasWrapper_fkpkj_128",Ee="_canvas_fkpkj_128",Ke="_splitter_fkpkj_165",Le="_tabPanel_fkpkj_211",Xe="_tree_fkpkj_217",Ge="_action_fkpkj_221",Oe="_actionIcon_fkpkj_227",He="_slider_fkpkj_238",i={appLayout:ge,header:_e,platformBar:ke,logo:Se,tools:Ae,leftPanel:ve,panelHeader:Pe,panelTitleWrapper:Ie,panelCaption:Me,shiftIconRight:ye,subheader:Re,subheaderTitle:Ne,searchInput:Be,subheaderActions:Te,tabList:ze,emptyState:De,canvasWrapper:we,canvas:Ee,splitter:Ke,tabPanel:Le,tree:Xe,action:Ge,actionIcon:Oe,slider:He},F="Kiwi sandbox",zn=()=>[{title:F}],Dn=ee(function(){const[o,r]=ne(),s=o.get("tree")==="empty"?"epoch-2":"epoch-1",f=t.useCallback(l=>{r(h=>(l==="epoch-2"?h.set("tree","empty"):h.delete("tree"),h))},[r]),c=t.useMemo(()=>({"epoch-1":"Epoch System iModel 1","epoch-2":"Epoch System iModel 2"}),[]),p=t.useId();return e.jsxs(Fe,{panelContent:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:i.panelHeader,children:[e.jsxs("div",{children:[e.jsx(T,{render:l=>e.jsx("label",{...l,htmlFor:p}),children:"Choose Model"}),e.jsx(se,{className:i.panelTitleWrapper,children:e.jsx(le,{id:p,variant:"ghost",defaultValue:s,onChange:l=>f(l.target.value),children:Object.entries(c).map(([l,h])=>e.jsx("option",{value:l,children:h},l))})}),e.jsxs("hgroup",{role:"group",children:[e.jsx(T,{render:l=>e.jsx("h2",{...l}),children:c[s]}),e.jsx("p",{className:i.panelCaption,children:"2024 Refresh"})]})]}),e.jsx("div",{className:i.actions,children:e.jsx(S,{className:i.shiftIconRight,icon:he,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsxs(ae,{children:[e.jsx(Ze,{}),e.jsx(D,{tabId:"simple",className:i.tabPanel,focusable:!1,children:e.jsx(K,{tree:s==="epoch-2"?"empty":"simple"})}),e.jsx(D,{tabId:"complex",className:i.tabPanel,focusable:!1,children:e.jsx(K,{tree:s==="epoch-2"?"empty":"complex"})})]})]}),children:[e.jsxs("header",{className:i.header,children:[e.jsx("div",{className:i.logo,children:e.jsx(v,{href:M,size:"large"})}),e.jsx(H,{render:l=>e.jsx("h1",{...l}),variant:"body-md",children:F})]}),e.jsx("div",{className:i.platformBar,children:e.jsxs("div",{className:i.tools,children:[e.jsx(v,{href:M,size:"large"}),e.jsx(v,{href:M,size:"large"}),e.jsx(v,{href:M,size:"large"})]})}),e.jsx("div",{className:i.canvasWrapper,children:e.jsx("div",{className:i.canvas})})]})});function Fe(a){const{sliderProps:o,panelProps:r,panelMinSize:s,panelMaxSize:f,resizing:c}=$e({minSize:{px:256,pct:20},maxSize:{pct:30}}),p=t.useId();return e.jsxs("div",{className:i.appLayout,style:{"--_panel-min-size":s,"--_panel-max-size":f},children:[e.jsx("div",{...r,className:i.leftPanel,style:{position:"relative",...r.style},children:a.panelContent}),e.jsxs("div",{className:i.splitter,"data-resizing":c?"true":void 0,children:[e.jsx(T,{render:l=>e.jsx("label",{...l,htmlFor:p,children:"Resize layers panel"}),children:"Resize layers panel"}),e.jsx("input",{id:p,type:"range",className:i.slider,...o})]}),a.children]})}function We({children:a}){return e.jsx("div",{className:i.emptyState,children:a})}function Ve(a,o,r){return Math.min(Math.max(a,o),r)}function $e(a){const{minSize:o,maxSize:r,onCollapse:s}=a,f=t.useId(),c=t.useRef(null),[p,l]=t.useState(void 0),[h,d]=t.useState(void 0),[j,b]=t.useState(void 0),[g,y]=t.useState(!1),[P,R]=t.useState(void 0),C=t.useMemo(()=>{if(o&&h)return Math.min(o.px,o.pct/100*h)},[o,h]),k=t.useMemo(()=>{if(C&&r&&h)return Math.max(C,r.pct/100*h)},[r,h,C]),A=t.useMemo(()=>{if(j==="smallest")return C??0;if(j==="largest")return k??0;if(p&&C&&k)return Ve(p,C,k)},[p,C,k,j]);t.useEffect(()=>{const x=c.current;if(!x)return;const m=x.parentElement;if(!m)return;const _=new ResizeObserver(()=>{const N=m.getBoundingClientRect(),B=x.getBoundingClientRect();d(N.width),l(B.width)});return _.observe(m),_.observe(x),()=>{_.disconnect()}},[]);const V=t.useCallback(x=>{const m=c.current;if(!m)return;const _=m.getBoundingClientRect();R(_.width+x),b(void 0),y(!0)},[]),$=t.useCallback(x=>{const m=c.current;if(!m)return;const _=m.parentElement;if(!_)return;const N=_.getBoundingClientRect(),B=x*(N.width*.005),Z=m.getBoundingClientRect();R(Z.width+B),b(void 0)},[]),U=t.useCallback(()=>{c.current&&(R(void 0),y(!1))},[]),{moveableProps:I}=Ue({onMove:V,onMoveEnd:U,onKeyMove:$}),q=t.useMemo(()=>({...I,onKeyDown:x=>{var m;if((m=I.onKeyDown)==null||m.call(I,x),!x.defaultPrevented)switch(x.key){case"Enter":x.preventDefault(),s==null||s();break;case"Home":x.preventDefault(),b("smallest");break;case"End":x.preventDefault(),b("largest");break}},onChange:x=>{if(g)return;const m=Number(x.target.value);R(m)},value:A===void 0?0:Math.floor(A),min:C===void 0?void 0:Math.floor(C),max:k===void 0?void 0:Math.floor(k)}),[I,A,C,k,s,g]),J=t.useMemo(()=>({style:{WebkitUserSelect:P===void 0?void 0:"none"},id:f,ref:c}),[f,P]),Q=C===void 0?void 0:`${Math.floor(C)}px`,Y=t.useMemo(()=>{if(P!==void 0&&r!==void 0&&j===void 0)return`min(${Math.floor(P)}px, ${r.pct}%)`;if(A!==void 0)return`${Math.floor(A)}px`},[r,P,A,j]);return{sliderProps:q,panelProps:J,panelMinSize:Q,panelMaxSize:Y,resizing:g}}function Ue(a){const{onMove:o,onMoveEnd:r,onKeyMove:s}=a,f=t.useRef(null),c=t.useRef(void 0),p=t.useRef(void 0),l=t.useCallback(()=>{p.current!==void 0&&(p.current=void 0,r==null||r())},[r]);return{moveableProps:t.useMemo(()=>({onPointerDown:d=>{if(d.button!==0||d.ctrlKey)return;const j=f.current;if(!j)return;const b=j.getBoundingClientRect(),g=d.clientX-b.left;p.current=g,d.preventDefault(),j.setPointerCapture(d.pointerId)},onPointerMove:d=>{const j=p.current;if(j===void 0)return;const b=f.current;if(!b)return;const g=b.getBoundingClientRect(),y=d.clientX-j-g.left;d.preventDefault(),o==null||o(y)},onPointerUp:l,onPointerCancel:l,onKeyDown:d=>{if(!d.defaultPrevented)switch(d.key){case"ArrowLeft":d.preventDefault(),s==null||s(-1);break;case"ArrowRight":d.preventDefault(),s==null||s(1);break}},ref:d=>{var b;if(f.current=d,(b=c.current)==null||b.call(c),c.current=void 0,!d)return;const j=g=>{g.preventDefault()};d.addEventListener("touchstart",j),c.current=()=>{d.removeEventListener("touchstart",j)}}}),[s,o,l])}}const W=t.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function K({tree:a}){const[o,r]=t.useState(),[s,f]=t.useState([]),c=t.useCallback(l=>{f(h=>h.includes(l)?h.filter(d=>d!==l):[...h,l])},[]),p=t.useMemo(()=>({selected:o,setSelected:r,hidden:s,toggleHidden:c}),[s,o,c]);return a==="empty"?e.jsxs(We,{children:[e.jsx(H,{children:"No layers"}),e.jsx(te,{children:"Create a layer"})]}):e.jsx(W.Provider,{value:p,children:e.jsx(de,{className:i.tree,children:e.jsx(qe,{tree:a})})})}function qe({tree:a}){return a==="complex"?e.jsx(Qe,{}):a==="simple"?e.jsx(Je,{}):null}function Je(){return e.jsxs(e.Fragment,{children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1"})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1"})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access"})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})}function Qe(){return e.jsxs(e.Fragment,{children:[e.jsxs(n,{label:"ITC_Master",children:[e.jsx(n,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(n,{label:"002_Substation_A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(n,{label:"007-aa_master.dgn",children:[e.jsx(n,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(n,{label:"A-CLNG-LITE-A"})}),e.jsx(n,{label:"A-CLNG-TILE",children:e.jsxs(n,{label:"A-DOOR-2D-PLAN",children:[e.jsx(n,{label:"P00003 [2-KA62]",children:e.jsx(n,{label:"Cell [2-KA63]",children:e.jsxs(n,{label:"Cell [2-KA64]",children:[e.jsx(n,{label:"Complex Chain [2-KA6A]"}),e.jsx(n,{label:"Complex Chain [2-KA6B]"}),e.jsx(n,{label:"Complex Chain [2-KA6C]"}),e.jsx(n,{label:"Complex Chain [2-KA6D]"}),e.jsx(n,{label:"Complex Chain [2-KA6E]"}),e.jsx(n,{label:"Complex Chain [2-KA6F]"}),e.jsx(n,{label:"Complex Chain [2-KA6G]"}),e.jsx(n,{label:"Complex Chain [2-KA6H]"}),e.jsx(n,{label:"Complex Chain [2-KA61]"}),e.jsx(n,{label:"Complex Chain [2-KA65]"}),e.jsx(n,{label:"Complex Chain [2-KA66]"}),e.jsx(n,{label:"Complex Chain [2-KA67]"}),e.jsx(n,{label:"Complex Chain [2-KA68]"}),e.jsx(n,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(n,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA98-A]"})}),e.jsx(n,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(n,{label:"ITC_Main"})]})}const L=t.createContext({selected:!1,hidden:!1});function n(a){const o=t.useContext(W),r=t.useContext(L),s=t.useId(),[f,c]=t.useState(a.defaultCollapsed===void 0?!0:!a.defaultCollapsed),p=t.Children.count(a.children)>0,l=t.useMemo(()=>r.hidden?!0:o.hidden.includes(s),[s,o.hidden,r.hidden]),h=r.selected||s===o.selected,d=t.useCallback(j=>{o.setSelected(j?s:void 0)},[s,o]);return e.jsx(L.Provider,{value:t.useMemo(()=>({selected:h,hidden:l}),[l,h]),children:e.jsx(ue,{expanded:p?f:void 0,onExpandedChange:c,selected:h,onSelectedChange:d,icon:e.jsx(v,{href:M,style:{display:"inline"}}),label:a.label,actions:e.jsxs(e.Fragment,{children:[e.jsx(S,{className:i.action,icon:pe,label:"Lock",variant:"ghost","aria-hidden":l}),r.hidden?e.jsx("span",{className:i.actionIcon,children:e.jsx(v,{href:xe})}):e.jsx(S,{className:i.action,icon:l?fe:Ce,label:l?"Show":"Hide",variant:"ghost",onClick:()=>{o.toggleHidden(s)}}),e.jsx(Ye,{hidden:l})]}),children:f?a.children:void 0})})}function Ye({hidden:a}){return e.jsxs(X,{children:[e.jsx(G,{className:i.action,"aria-hidden":a,render:e.jsx(S,{icon:je,label:"More",variant:"ghost"})}),e.jsxs(O,{style:{minInlineSize:164},children:[e.jsx(u,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(u,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(u,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(u,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(u,{shortcuts:"]",children:"Bring to front"}),e.jsx(u,{shortcuts:"[",children:"Send to back"}),e.jsx(u,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(u,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(u,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(u,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(u,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(u,{shortcuts:"I",children:"Isolate object"})]})]})}function Ze(){const[a,o]=t.useState(!1),r=t.useRef(null),s=t.useRef(null),f=a?e.jsxs(e.Fragment,{children:[e.jsx(en,{}),e.jsx(S,{className:i.shiftIconRight,icon:me,label:"Close",variant:"ghost",onClick:()=>{var c;z.flushSync(()=>o(!1)),(c=s.current)==null||c.focus()}})]}):e.jsx(S,{className:i.shiftIconRight,icon:E,label:"Search",variant:"ghost",onClick:()=>{var c;z.flushSync(()=>o(!0)),(c=r.current)==null||c.focus()}});return e.jsxs("div",{className:i.subheader,children:[a?void 0:e.jsxs(re,{className:i.tabList,tone:"accent",ref:s,children:[e.jsx(w,{id:"simple",children:"Simple"}),e.jsx(w,{id:"complex",children:"Complex"})]}),a?e.jsxs(ie,{className:i.searchInput,children:[e.jsx(oe,{href:E}),e.jsx(ce,{placeholder:"Search",ref:r})]}):null,e.jsx("div",{className:i.subheaderActions,children:f})]})}function en(){return e.jsxs(X,{children:[e.jsx(G,{render:e.jsx(S,{icon:be,label:"Filter",variant:"ghost"})}),e.jsxs(O,{style:{minInlineSize:164},children:[e.jsx(u,{children:"Show all"}),e.jsx(u,{children:"Guides"}),e.jsx(u,{children:"Other"}),e.jsx(u,{children:"Roadway"}),e.jsx(u,{children:"Parking"}),e.jsx(u,{children:"Building"}),e.jsx(u,{children:"Dry utility"}),e.jsx(u,{children:"Stormwater"}),e.jsx(u,{children:"Sewer"}),e.jsx(u,{children:"Boundary"}),e.jsx(u,{children:"Map"})]})]})}export{Dn as default,zn as meta};
