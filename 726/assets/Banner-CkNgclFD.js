import{o as t,a as l}from"./chunk-QMGIS6GS-BaJhsRKI.js";import{f as d,R as b,c as u,T as f,F as S,I as D}from"./sun-CviEJaXp.js";import{G as j,I as C}from"./~utils-r-5wp6ff.js";import{u as B,c as v,a as h}from"./middleware-BihSjGcM.js";import{D as g,S as N}from"./~utils.icons-D1wb51E-.js";function F(n){return v(h(n,(e,o,s)=>({setLabelId:a=>{e({labelId:a||s.getInitialState().labelId})},addIconSubComponentsDescendants:a=>{e({iconSubComponentsDescendants:(s.getState().iconSubComponentsDescendants||[]).includes(a)?s.getState().iconSubComponentsDescendants:[...s.getState().iconSubComponentsDescendants||[],a]})},removeIconSubComponentsDescendants:a=>{e({iconSubComponentsDescendants:(s.getState().iconSubComponentsDescendants||[]).filter(r=>r!==a)})}})))}const I=l.createContext(void 0);function p(n){const e=l.useId(),o=[],[s]=l.useState(()=>F({labelId:e,iconSubComponentsDescendants:o}));return t.jsx(I.Provider,{value:s,children:n.children})}function i(n){const e=S(I);return B(e,n)}const E=d((n,e)=>{const{tone:o="neutral",variant:s="outline",children:a,...r}=n;return t.jsx(p,{children:t.jsxs(b,{...r,"data-kiwi-tone":o,"data-kiwi-variant":s,className:u("-banner",n.className),ref:e,children:[t.jsx(L,{tone:o}),a]})})}),L=({tone:n})=>{const e=i(o=>o.iconSubComponentsDescendants);return n!=="neutral"&&e?.length===0?t.jsx(x,{render:o=>t.jsx(N,{tone:n,...o})}):null},x=d((n,e)=>t.jsx(D,{...n,className:u("-banner-icon",n.className),ref:e})),R=d((n,e)=>{const o=l.useId(),s=n.id??o,a=i(c=>c.addIconSubComponentsDescendants),r=i(c=>c.removeIconSubComponentsDescendants);return l.useEffect(()=>(a(s),()=>{r(s)}),[a,r,s]),t.jsx(x,{...n,ref:e})}),k=d((n,e)=>{const o=i(a=>a.labelId),s=i(a=>a.setLabelId);return l.useEffect(()=>{s(n.id)},[s,n.id]),t.jsx(f,{id:o,render:t.jsx("span",{}),...n,className:u("-banner-label",n.className),variant:"body-sm",ref:e})}),y=d((n,e)=>t.jsx(f,{...n,variant:"body-sm",className:u("-banner-message",n.className),ref:e})),_=d((n,e)=>t.jsx(b.div,{...n,className:u("-banner-actions",n.className),ref:e})),w=d((n,e)=>{const{label:o="Dismiss",...s}=n,a=i(m=>m.labelId),r=l.useId(),c=n.id??r;return t.jsx(j,{align:"block",children:t.jsx(C,{...s,id:c,className:u("-banner-dismiss-button",n.className),variant:"ghost",label:o,"aria-labelledby":`${c} ${a}`,icon:t.jsx(g,{}),ref:e})})}),A=d((n,e)=>{const{message:o,label:s,actions:a,onDismiss:r,icon:c,...m}=n;return t.jsxs(E,{...m,ref:e,children:[c?t.jsx(R,{href:typeof c=="string"?c:void 0,render:l.isValidElement(c)?c:void 0}):null,t.jsx(k,{render:l.isValidElement(s)?s:void 0,children:s}),t.jsx(y,{children:o}),a!=null?t.jsx(_,{children:a}):null,r?t.jsx(w,{onClick:r}):null]})});var M=A;export{M as B,E as a,R as b,k as c,y as d,_ as e,w as f};
