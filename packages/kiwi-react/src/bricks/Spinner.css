/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/

.ğŸ¥-spinner {
	--âœ¨count: 4;
	--âœ¨duration: 1s;
	--âœ¨easing: linear;
	--âœ¨steps: 4;

	--âœ¨animation--indeterminate-steps: calc(var(--âœ¨steps) * var(--âœ¨duration))
		--ğŸ¥spinner-animation-indeterminate steps(var(--âœ¨steps), end) infinite;
	--âœ¨animation--indeterminate: var(--âœ¨duration) --ğŸ¥spinner-animation-indeterminate
		var(--âœ¨easing) var(--âœ¨count);
	--âœ¨animation--indeterminate-slow: calc(var(--âœ¨duration) * 2) --ğŸ¥spinner-animation-indeterminate
		var(--âœ¨easing) calc(var(--âœ¨count) * var(--âœ¨duration)) infinite;

	@layer base {
		display: inline-block;
		block-size: var(--ğŸ¥spinner-size);
		inline-size: var(--ğŸ¥spinner-size);
	}

	@layer modifiers {
		&:where([data-kiwi-tone="neutral"]) {
			--ğŸ¥spinner-fill-color: var(--ids-color-icon-neutral-base);
			--ğŸ¥spinner-track-color: var(--ids-color-border-page-base);
		}

		&:where([data-kiwi-tone="accent"]) {
			--ğŸ¥spinner-fill-color: var(--ids-color-icon-accent-strong);
			--ğŸ¥spinner-track-color: var(--ids-color-bg-accent-muted);
		}

		&:where([data-kiwi-size="small"]) {
			--ğŸ¥spinner-size: 1rem;
		}

		&:where([data-kiwi-size="medium"]) {
			--ğŸ¥spinner-size: 1.5rem;
		}

		&:where([data-kiwi-size="large"]) {
			--ğŸ¥spinner-size: 2rem;
		}

		&:where([data-kiwi-size="xlarge"]) {
			--ğŸ¥spinner-size: 3rem;
		}

		&:where([data-kiwi-variant="indeterminate"]) {
			--ğŸ¥spinner-animation: var(--âœ¨animation--indeterminate-steps);
			--ğŸ¥spinner-dash-array: 25 75;

			@media (prefers-reduced-motion: no-preference) {
				--ğŸ¥spinner-animation: var(--âœ¨animation--indeterminate),
					var(--âœ¨animation--indeterminate-slow);
			}
		}

		@media (forced-colors: active) {
			--ğŸ¥spinner-fill-color: CanvasText;
			--ğŸ¥spinner-track-color: Canvas;
		}
	}
}

.ğŸ¥-spinner-svg {
	@layer base {
		block-size: inherit;
		inline-size: inherit;
		fill: none;
	}
}

.ğŸ¥-spinner-svg-track {
	stroke: var(--ğŸ¥spinner-track-color);
}

.ğŸ¥-spinner-svg-fill {
	animation: var(--ğŸ¥spinner-animation);
	stroke: var(--ğŸ¥spinner-fill-color);
	stroke-dasharray: var(--ğŸ¥spinner-dash-array);
	stroke-dashoffset: 25;
	stroke-linecap: round;
	transform-box: fill-box;
	transform-origin: center;
}

@keyframes --ğŸ¥spinner-animation-indeterminate {
	to {
		rotate: 360deg;
	}
}
