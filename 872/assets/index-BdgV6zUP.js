import{w as B,a as u,p as e}from"./chunk-EF7DTUVF-kG7VDEF3.js";import{I as g}from"./sun-BMSOdWSi.js";import{T as N,a as R,b as p,p as C}from"./immer-DTQBTu-o.js";import{d as M}from"./~utils-CcJ7vDuJ.js";import{u as E,r as F}from"./refresh-5wtwiYgU.js";import{p as f}from"./placeholder-B9wiE3ke.js";import{s as $}from"./visibility-show-BLbMgZ4b.js";import"./LMDWO4NN-L4HmYCAu.js";import"./6VRAQV3D-BcxNr7Qm.js";import"./RZ4GPYOB-BATCvSGH.js";import"./VDHZ5F7K-Dq3ehnho.js";import"./IWEFDH56-C2Vo27Sr.js";import"./5JTVDSTH-BaWtYanh.js";import"./~utils.icons-DL_EXYVT.js";import"./~utils.icons-DjZWy4yk.js";import"./DropdownMenu-ePTEg_Ho.js";import"./S43UC3DV-BdQ7pbrK.js";import"./NTITENHD-Bc1S_2tJ.js";import"./F5MUBM3I-DXb2u4k_.js";import"./IAEAQUOT-D0kSKfFa.js";import"./Kbd-BXLNayu6.js";import"./~utils.icons-BW6t_BNh.js";import"./index-jzXu2RkP.js";import"./XX67R432-DQ-XlZJa.js";const me={title:"Tree"},he=B(M(function({overflow:r=!1,selected:i=!1,description:x,error:b,items:l,visible:I}){const[k,A]=u.useTransition(),a=r?" with a super long label that is overflown":"",v=I?!!I:void 0,S=x?"Additional description":void 0,[j,T]=u.useState(!!b),h=l?Number(l):0,[y,z]=u.useState(()=>[{label:`Item 1${a}`,selected:!!i,expanded:!0,children:[{label:"Item 1.1",selected:!!i},{label:"Item 1.2",selected:!!i},{label:`Item 1.3${a}`,selected:!!i}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${a}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:h}).map((t,o)=>({label:`Item ${o+4}`,selected:!1}))]),U=u.useMemo(()=>y.flatMap((t,o,n)=>{const c={...t,level:1,index:o,setSize:n.length,childIndex:void 0};if(!t.expanded)return c;const w=t.children?t.children.map((d,s,D)=>({...d,level:2,index:o,childIndex:s,setSize:D.length,expanded:void 0})):[];return[c,...w]}),[y]),_=u.useCallback(()=>{T(!1)},[]);return e.jsx(N,{style:{maxInlineSize:r?300:void 0},children:U.map(t=>{const{index:o,childIndex:n}=t,c=j&&o===0&&n===void 0,w=o===0&&n===void 0||n===0;return e.jsx(R,{"aria-level":t.level,"aria-posinset":o+1,"aria-setsize":t.setSize,label:t.label,description:w?S:void 0,expanded:t.expanded,selected:t.selected,error:c,onSelectedChange:()=>{z(C(d=>{const s=n===void 0?d[o]:d[o].children?.[n];s&&(s.selected=!s.selected)}))},onExpandedChange:()=>{A(()=>{z(C(d=>{const s=d[o];s.expanded!==void 0&&(s.expanded=!s.expanded)}))})},icon:n===void 0?e.jsx(g,{href:f,alt:"decoration"}):void 0,unstable_decorations:n===0?e.jsxs(e.Fragment,{children:[e.jsx(g,{href:f}),e.jsx(g,{href:f})]}):e.jsx(g,{href:f}),inlineActions:c?[e.jsx(p,{icon:F,label:"Retry",onClick:_},"retry")]:[e.jsx(p,{icon:E,label:"Unlock",visible:v},"unlock"),e.jsx(p,{icon:$,label:"Show",visible:v},"show")],actions:c?[e.jsx(p,{icon:E,label:"Unlock"},"unlock"),e.jsx(p,{icon:$,label:"Show"},"show")]:void 0},t.label)})})},{actions:G}));function q(m){const{hidden:r,...i}=m;return r?null:e.jsx(p,{icon:f,...i})}function G({inline:m,menu:r,dot:i,error:x,hiddenIds:b}){const l=m?Number(m):2,I=r?Number(r):3,k=x?!!x:void 0,A=b?b.split(";").map(j=>Number(j)):[],a=Array.from({length:l+I},(j,T)=>{const h=T+1;return e.jsx(q,{label:`Action ${h}`,dot:i?"Something's going on":void 0,hidden:A.includes(h)},h)}),v=a.slice(0,l),S=a.slice(l);return e.jsx(N,{children:e.jsx(R,{label:"Item 1","aria-level":1,"aria-posinset":1,"aria-setsize":1,inlineActions:v,actions:S,error:k})})}export{he as default,me as handle};
