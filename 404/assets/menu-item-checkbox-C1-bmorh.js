import{c as Ne,e as Ve,a as $e,b as Be}from"./VEVQD5MH-CXXi69GF.js";import{i as je,c as We}from"./VGCJ63VH-CqO0K7JM.js";import{p as j,o as U,q as L,t as be,e as he,n as qe,y as Ue,k as M,b,c as D,_ as O,v as N,j as K,z as ve,A as ze,r as ge,f as _,d as F,B as Ge,C as Je,D as Qe,u as xe,x as ae,l as Q,E as Xe,F as Ye,G as Ce,h as Ze,H as Se,I as et,J as ue,m as ie,K as tt,L as nt,M as rt,N as ot,O as ut,P as st}from"./LMDWO4NN-CjgXNlKs.js";import{t as at,c as ye,d as Pe,e as Me,m as it,o as lt,p as ct,s as de,a as me,u as $}from"./YV4JVR4I-CifQtgWA.js";import{a as P,n as J}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{H as ft,a as dt,c as mt,u as pt,b as bt,d as ht,e as vt}from"./BYC7LY2E-BBeI2Mb2.js";import{h as z,a as gt}from"./LVA2YJMS-lcYihvP6.js";import{u as xt}from"./P4IRICAX-BLxrYsfX.js";import{u as we,P as Ct}from"./MTZPJQMC-04A3chJ7.js";import{C as Ee,a as Oe,c as Ae,f as St,u as yt}from"./P2CTZE2T-pqZi26Yr.js";import{R as Pt}from"./XL7CSKGW-BDKOkq2I.js";import{u as Mt}from"./ASMQKSDT-WAg7tTz_.js";function wt(t={}){var n;at(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:j(t.value,r==null?void 0:r.value,t.defaultValue,!1)},o=ye(e,t.store);return U(L({},o),{setValue:s=>o.setState("value",s)})}function Et(t,n,r){return be(n,[r.store]),Me(t,r,"value","setValue"),t}function Ot(t={}){const[n,r]=Pe(wt,t);return Et(n,r,t)}var ke=he([Oe],[Ee]),At=ke.useContext,kt=ke.useScopedContext;P.createContext(void 0);var X=he([Oe,dt],[Ee,ft]),Tt=X.useContext,Te=X.useScopedContext,ne=X.useProviderContext,Ie=X.ContextProvider,It=X.ScopedContextProvider;P.createContext(void 0);function Ht(t={}){var n=t,{combobox:r,parent:e,menubar:o}=n,s=qe(n,["combobox","parent","menubar"]);const u=!!o&&!e,a=it(s.store,ct(e,["values"]),lt(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),c=a.getState(),f=Ne(U(L({},s),{store:a,orientation:j(s.orientation,c.orientation,"vertical")})),l=mt(U(L({},s),{store:a,placement:j(s.placement,c.placement,"bottom-start"),timeout:j(s.timeout,c.timeout,u?0:150),hideTimeout:j(s.hideTimeout,c.hideTimeout,0)})),v=U(L(L({},f.getState()),l.getState()),{initialFocus:j(c.initialFocus,"container"),values:j(s.values,c.values,s.defaultValues,{})}),d=ye(v,f,l,a);return de(d,()=>me(d,["mounted"],i=>{i.mounted||d.setState("activeId",null)})),de(d,()=>me(e,["orientation"],i=>{d.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),U(L(L(L({},f),l),d),{combobox:r,parent:e,menubar:o,hideAll:()=>{l.hide(),e==null||e.hideAll()},setInitialFocus:i=>d.setState("initialFocus",i),setValues:i=>d.setState("values",i),setValue:(i,C)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||d.setState("values",p=>{const m=p[i],S=Ue(C,m);return S===m?p:U(L({},p),{[i]:S!==void 0&&S})}))}})}function Dt(t,n,r){return be(n,[r.combobox,r.parent,r.menubar]),Me(t,r,"values","setValues"),Object.assign(pt($e(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function _t(t={}){const n=Tt(),r=At(),e=Ve();t=M(b({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=Pe(Ht,t);return Dt(o,s,t)}var Ft="div",R="";function re(){R=""}function Lt(t){const n=t.target;return n&&Ge(n)?!1:t.key===" "&&R.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Rt(t,n){if(Je(t))return!0;const r=t.target;return r?n.some(o=>o.element===r):!1}function Kt(t){return t.filter(n=>!n.disabled)}function te(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?Qe(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function Nt(t,n,r){if(!r)return t;const e=t.find(o=>o.id===r);return!e||!te(e,n)||R!==n&&te(e,R)?t:(R=n,St(t.filter(o=>te(o,R)),r).filter(o=>o.id!==r))}var le=D(function(n){var r=n,{store:e,typeahead:o=!0}=r,s=O(r,["store","typeahead"]);const u=Ae();e=e||u,N(e,!1);const a=s.onKeyDownCapture,c=P.useRef(0),f=K(l=>{if(a==null||a(l),l.defaultPrevented||!o||!e)return;if(!Lt(l))return re();const{renderedItems:v,items:d,activeId:i,id:C}=e.getState();let p=Kt(d.length>v.length?d:v);const m=ve(l.currentTarget),S=`[data-offscreen-id="${C}"]`,h=m.querySelectorAll(S);for(const y of h){const I=y.ariaDisabled==="true"||"disabled"in y&&!!y.disabled;p.push({id:y.id,element:y,disabled:I})}if(h.length&&(p=ze(p,y=>y.element)),!Rt(l,p))return re();l.preventDefault(),window.clearTimeout(c.current),c.current=window.setTimeout(()=>{R=""},500);const A=l.key.toLowerCase();R+=A,p=Nt(p,A,i);const E=p.find(y=>te(y,R));E?e.move(E.id):re()});return s=M(b({},s),{onKeyDownCapture:f}),ge(s)});_(function(n){const r=le(n);return F(Ft,r)});var Vt="div";function $t(t){var n=t,{store:r}=n,e=O(n,["store"]);const[o,s]=P.useState(void 0),u=e["aria-label"],a=$(r,"disclosureElement"),c=$(r,"contentElement");return P.useEffect(()=>{const f=a;if(!f)return;const l=c;if(!l)return;u||l.hasAttribute("aria-label")?s(void 0):f.id&&s(f.id)},[u,a,c]),o}var He=D(function(n){var r=n,{store:e,alwaysVisible:o,composite:s}=r,u=O(r,["store","alwaysVisible","composite"]);const a=ne();e=e||a,N(e,!1);const c=e.parent,f=e.menubar,l=!!c,v=xe(u.id),d=u.onKeyDown,i=e.useState(x=>x.placement.split("-")[0]),C=e.useState(x=>x.orientation==="both"?void 0:x.orientation),p=C!=="vertical",m=$(f,x=>!!x&&x.orientation!=="vertical"),S=K(x=>{if(d==null||d(x),!x.defaultPrevented){if(l||f&&!p){const k={ArrowRight:()=>i==="left"&&!p,ArrowLeft:()=>i==="right"&&!p,ArrowUp:()=>i==="bottom"&&p,ArrowDown:()=>i==="top"&&p}[x.key];if(k!=null&&k())return x.stopPropagation(),x.preventDefault(),e==null?void 0:e.hide()}if(f){const k={ArrowRight:()=>{if(m)return f.next()},ArrowLeft:()=>{if(m)return f.previous()},ArrowDown:()=>{if(!m)return f.next()},ArrowUp:()=>{if(!m)return f.previous()}}[x.key],V=k==null?void 0:k();V!==void 0&&(x.stopPropagation(),x.preventDefault(),f.move(V))}}});u=ae(u,x=>J.jsx(It,{value:e,children:x}),[e]);const h=$t(b({store:e},u)),A=e.useState("mounted"),E=je(A,u.hidden,o),y=E?M(b({},u.style),{display:"none"}):u.style;u=M(b({id:v,"aria-labelledby":h,hidden:E},u),{ref:Q(v?e.setContentElement:null,u.ref),style:y,onKeyDown:S});const I=!!e.combobox;return s=s??!I,s&&(u=b({role:"menu","aria-orientation":C},u)),u=Be(b({store:e,composite:s},u)),u=le(b({store:e,typeahead:!I},u)),u});_(function(n){const r=He(n);return F(Vt,r)});var Bt="div",jt=D(function(n){var r=n,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:u=!0,autoFocusOnShow:a=!0,hideOnHoverOutside:c,alwaysVisible:f}=r,l=O(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const v=ne();e=e||v,N(e,!1);const d=P.useRef(null),i=e.parent,C=e.menubar,p=!!i,m=!!C&&!p;l=M(b({},l),{ref:Q(d,l.ref)});const S=He(b({store:e,alwaysVisible:f},l)),{"aria-labelledby":h}=S;l=O(S,["aria-labelledby"]);const[E,y]=P.useState(),I=e.useState("autoFocusOnShow"),x=e.useState("initialFocus"),W=e.useState("baseElement"),k=e.useState("renderedItems");P.useEffect(()=>{let H=!1;return y(w=>{var Z,ce,fe;if(H||!I)return;if((Z=w==null?void 0:w.current)!=null&&Z.isConnected)return w;const ee=P.createRef();switch(x){case"first":ee.current=((ce=k.find(G=>!G.disabled&&G.element))==null?void 0:ce.element)||null;break;case"last":ee.current=((fe=[...k].reverse().find(G=>!G.disabled&&G.element))==null?void 0:fe.element)||null;break;default:ee.current=W}return ee}),()=>{H=!0}},[e,I,x,k,W]);const V=p?!1:o,g=!!a,T=!!E||!!l.initialFocus||!!V,q=$(e.combobox||e,"contentElement"),B=$((i==null?void 0:i.combobox)||i,"contentElement"),Y=P.useMemo(()=>{if(!B||!q)return;const H=q.getAttribute("role"),w=B.getAttribute("role");if(!((w==="menu"||w==="menubar")&&H==="menu"))return B},[q,B]);return Y!==void 0&&(l=b({preserveTabOrderAnchor:Y},l)),l=bt(M(b({store:e,alwaysVisible:f,initialFocus:E,autoFocusOnShow:g?T&&a:I||!!V},l),{hideOnEscape(H){return Xe(u,H)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(H){const w=e==null?void 0:e.getState().disclosureElement;return(typeof c=="function"?c(H):c??(p?!0:m?w?!z(w):!0:!1))?H.defaultPrevented||!p||!w||(Ye(w,"mouseout",H),!z(w))?!0:(requestAnimationFrame(()=>{z(w)||e==null||e.hide()}),!1):!1},modal:V,portal:s,backdrop:p?!1:l.backdrop})),l=b({"aria-labelledby":h},l),l}),vn=ht(_(function(n){const r=jt(n);return F(Bt,r)}),ne);function gn(t={}){const n=_t(t);return J.jsx(Ie,{value:n,children:t.children})}var Wt="button",De=D(function(n){var r=n,{store:e}=r,o=O(r,["store"]);const s=We();e=e||s,N(e,!1);const u=e.useState("contentElement");return o=b({"aria-haspopup":Ce(u,"dialog")},o),o=xt(b({store:e},o)),o});_(function(n){const r=De(n);return F(Wt,r)});var qt="div",_e=D(function(n){var r=n,{store:e}=r,o=O(r,["store"]);const s=we();return e=e||s,o=M(b({},o),{ref:Q(e==null?void 0:e.setAnchorElement,o.ref)}),o});_(function(n){const r=_e(n);return F(qt,r)});var Ut="button",Fe=D(function(n){var r=n,{store:e}=r,o=O(r,["store"]);const s=we();e=e||s,N(e,!1);const u=o.onClick,a=K(c=>{e==null||e.setAnchorElement(c.currentTarget),u==null||u(c)});return o=ae(o,c=>J.jsx(Ct,{value:e,children:c}),[e]),o=M(b({},o),{onClick:a}),o=_e(b({store:e},o)),o=De(b({store:e},o)),o});_(function(n){const r=Fe(n);return F(Ut,r)});var zt="button";function Gt(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function pe(t,n){return!!(t!=null&&t.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true"))}var Jt=D(function(n){var r=n,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:u}=r,a=O(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const c=ne();e=e||c,N(e,!1);const f=P.useRef(null),l=e.parent,v=e.menubar,d=!!l,i=!!v&&!d,C=Ze(a),p=()=>{const g=f.current;g&&(e==null||e.setDisclosureElement(g),e==null||e.setAnchorElement(g),e==null||e.show())},m=a.onFocus,S=K(g=>{if(m==null||m(g),C||g.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!v)||!i)return;const{items:T}=v.getState();pe(T,g.currentTarget)&&p()}),h=$(e,g=>g.placement.split("-")[0]),A=a.onKeyDown,E=K(g=>{if(A==null||A(g),C||g.defaultPrevented)return;const T=Gt(g,h);T&&(g.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(T))}),y=a.onClick,I=K(g=>{if(y==null||y(g),g.defaultPrevented||!e)return;const T=!g.detail,{open:q}=e.getState();(!q||T)&&((!d||T)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(T?"first":"container")),d&&p()});a=ae(a,g=>J.jsx(Ie,{value:e,children:g}),[e]),d&&(a=M(b({},a),{render:J.jsx(Pt.div,{render:a.render})}));const x=xe(a.id),W=$((l==null?void 0:l.combobox)||l,"contentElement"),k=d||i?Se(W,"menuitem"):void 0,V=e.useState("contentElement");return a=M(b({id:x,role:k,"aria-haspopup":Ce(V,"menu")},a),{ref:Q(f,a.ref),onFocus:S,onKeyDown:E,onClick:I}),a=vt(M(b({store:e,focusable:o,accessibleWhenDisabled:s},a),{showOnHover:g=>{if(!(()=>{if(typeof u=="function")return u(g);if(u!=null)return u;if(d)return!0;if(!v)return!1;const{items:Y}=v.getState();return i&&pe(Y)})())return!1;const B=i?v:l;return B&&B.setActiveId(g.currentTarget.id),!0}})),a=Fe(b({store:e,toggleOnClick:!d,focusable:o,accessibleWhenDisabled:s},a)),a=le(b({store:e,typeahead:i},a)),a}),xn=_(function(n){const r=Jt(n);return F(zt,r)}),Qt="div";function Le(t){const n=t.relatedTarget;return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE?n:null}function Xt(t){const n=Le(t);return n?tt(t.currentTarget,n):!1}var se=Symbol("composite-hover");function Yt(t){let n=Le(t);if(!n)return!1;do{if(nt(n,se)&&n[se])return!0;n=n.parentElement}while(n);return!1}var Re=D(function(n){var r=n,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,u=O(r,["store","focusOnHover","blurOnHoverEnd"]);const a=Ae();e=e||a,N(e,!1);const c=et(),f=u.onMouseMove,l=ue(o),v=K(m=>{if(f==null||f(m),!m.defaultPrevented&&c()&&l(m)){if(!z(m.currentTarget)){const S=e==null?void 0:e.getState().baseElement;S&&!gt(S)&&S.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),d=u.onMouseLeave,i=ue(s),C=K(m=>{var S;d==null||d(m),!m.defaultPrevented&&c()&&(Xt(m)||Yt(m)||l(m)&&i(m)&&(e==null||e.setActiveId(null),(S=e==null?void 0:e.getState().baseElement)==null||S.focus()))}),p=P.useCallback(m=>{m&&(m[se]=!0)},[]);return u=M(b({},u),{ref:Q(p,u.ref),onMouseMove:v,onMouseLeave:C}),ge(u)});ie(_(function(n){const r=Re(n);return F(Qt,r)}));var Zt="div";function en(t,n,r){var e;if(!t)return!1;if(z(t))return!0;const o=n==null?void 0:n.find(c=>{var f;return c.element===r?!1:((f=c.element)==null?void 0:f.getAttribute("aria-expanded"))==="true"}),s=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const a=ve(t).getElementById(s);return a?z(a)?!0:!!a.querySelector("[role=menuitem][aria-expanded=true]"):!1}var Ke=D(function(n){var r=n,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:u,blurOnHoverEnd:a}=r,c=O(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const f=Te(!0),l=kt();e=e||f||l,N(e,!1);const v=c.onClick,d=ue(o),i="hideAll"in e?e.hideAll:void 0,C=!!i,p=K(h=>{v==null||v(h),!(h.defaultPrevented||rt(h)||ot(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&d(h)&&i()}),m=$(e,h=>"contentElement"in h?h.contentElement:null),S=Se(m,"menuitem");return c=M(b({role:S},c),{onClick:p}),c=yt(b({store:e,preventScrollOnKeyDown:s},c)),c=Re(M(b({store:e},c),{focusOnHover(h){const A=()=>typeof u=="function"?u(h):u??!0;if(!e||!A())return!1;const{baseElement:E,items:y}=e.getState();return C?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):en(E,y,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof a=="function"?a(h):a??C}})),c}),Cn=ie(_(function(n){const r=Ke(n);return F(Zt,r)})),tn="div";function nn(t){return Array.isArray(t)?t.toString():t}function oe(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=nn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):r?e:t===e?!1:t}var rn=D(function(n){var r=n,{store:e,name:o,value:s,checked:u,defaultChecked:a,hideOnClick:c=!1}=r,f=O(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const l=Te();e=e||l,N(e,!1);const v=ut(a);P.useEffect(()=>{e==null||e.setValue(o,(i=[])=>v?oe(i,s,!0):i)},[e,o,s,v]),P.useEffect(()=>{u!==void 0&&(e==null||e.setValue(o,i=>oe(i,s,u)))},[e,o,s,u]);const d=Ot({value:e.useState(i=>i.values[o]),setValue(i){e==null||e.setValue(o,()=>{if(u===void 0)return i;const C=oe(i,s,u);return!Array.isArray(C)||!Array.isArray(i)?C:st(i,C)?i:C})}});return f=b({role:"menuitemcheckbox"},f),f=Mt(b({store:d,name:o,value:s,checked:u},f)),f=Ke(b({store:e,hideOnClick:c},f)),f}),Sn=ie(_(function(n){const r=rn(n);return F(tn,r)}));export{vn as M,xn as a,Cn as b,Sn as c,gn as d,Tt as u};
