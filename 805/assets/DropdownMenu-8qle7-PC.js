import{a as M,o as f}from"./chunk-QMGIS6GS-BaJhsRKI.js";import{H as ze,x as Qe,y as Ge,z as Je,E as Ze,J as Xe,K as Ye,L as J,M as Se,r as et,N as tt,O as rt,Q as nt,S as ye,U as ot,B as st}from"./~utils-DvomJcOP.js";import{a as we,b as Me,c as Pe,f as ut,u as at}from"./6VRAQV3D-CATJC_wV.js";import{E as U,F as G,d as H,G as Ee,I as Oe,H as it,$ as lt,_ as P,b,c as L,j as k,P as $,q as j,l as Ae,a2 as ct,t as De,B as dt,w as ft,a3 as mt,f as R,a as K,Q as Ie,m as ce,u as X,a4 as pt,V as vt,p as bt,a5 as ke,a6 as ht,T as xt,S as ie,h as gt,Z as Ct,a1 as de,a7 as St,a8 as yt,a9 as wt,aa as Mt}from"./LMDWO4NN-CcJUQKmw.js";import{c as Pt,a as Et,b as Ot}from"./5JTVDSTH-DBNusvTU.js";import{B as At,n as Te,t as Fe,v as He,m as Dt,o as It,C as kt,p as he,q as xe,l as N,R as fe,f as B,c as W,T as Tt,I as Ft,w as Ht}from"./sun-DkPtosCR.js";import{a as _t}from"./S43UC3DV-BDrQSZLS.js";import{u as jt}from"./NTITENHD-7KdkpiA5.js";import{u as Nt}from"./IAEAQUOT-DRqx3Ccv.js";import{p as Lt,K as ge}from"./Kbd-DtFEXAp_.js";import{D as Rt}from"./~utils.icons-BY6pZBee.js";import{a as Kt}from"./~utils.icons-D7YNPaOS.js";function Bt(t={}){var r;At(t,t.store);const n=(r=t.store)==null?void 0:r.getState(),e={value:U(t.value,n?.value,t.defaultValue,!1)},o=Te(e,t.store);return G(H({},o),{setValue:s=>o.setState("value",s)})}function Vt(t,r,n){return Ee(r,[n.store]),He(t,n,"value","setValue"),t}function $t(t={}){const[r,n]=Fe(Bt,t);return Vt(r,n,t)}var _e=Oe([Me],[we]),Wt=_e.useContext,qt=_e.useScopedContext;M.createContext(void 0);var Y=Oe([Me,Qe],[we,ze]),me=Y.useContext,je=Y.useScopedContext,oe=Y.useProviderContext,Ne=Y.ContextProvider,Ut=Y.ScopedContextProvider;M.createContext(void 0);function zt(t={}){var r=t,{combobox:n,parent:e,menubar:o}=r,s=it(r,["combobox","parent","menubar"]);const u=!!o&&!e,a=Dt(s.store,kt(e,["values"]),It(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),l=a.getState(),d=Pt(G(H({},s),{store:a,orientation:U(s.orientation,l.orientation,"vertical")})),c=Ge(G(H({},s),{store:a,placement:U(s.placement,l.placement,"bottom-start"),timeout:U(s.timeout,l.timeout,u?0:150),hideTimeout:U(s.hideTimeout,l.hideTimeout,0)})),x=G(H(H({},d.getState()),c.getState()),{initialFocus:U(l.initialFocus,"container"),values:U(s.values,l.values,s.defaultValues,{})}),m=Te(x,d,c,a);return he(m,()=>xe(m,["mounted"],i=>{i.mounted||m.setState("activeId",null)})),he(m,()=>xe(e,["orientation"],i=>{m.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),G(H(H(H({},d),c),m),{combobox:n,parent:e,menubar:o,hideAll:()=>{c.hide(),e?.hideAll()},setInitialFocus:i=>m.setState("initialFocus",i),setValues:i=>m.setState("values",i),setValue:(i,S)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||m.setState("values",v=>{const p=v[i],y=lt(S,p);return y===p?v:G(H({},v),{[i]:y!==void 0&&y})}))}})}function Qt(t,r,n){return Ee(r,[n.combobox,n.parent,n.menubar]),He(t,n,"values","setValues"),Object.assign(Je(Et(t,r,n),r,n),{combobox:n.combobox,parent:n.parent,menubar:n.menubar})}function Gt(t={}){const r=me(),n=Wt(),e=_t();t=P(b({},t),{parent:t.parent!==void 0?t.parent:r,menubar:t.menubar!==void 0?t.menubar:n,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=Fe(zt,t);return Qt(o,s,t)}var Jt="div",_="";function ue(){_=""}function Zt(t){const r=t.target;return r&&dt(r)?!1:t.key===" "&&_.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Xt(t,r){if(ft(t))return!0;const n=t.target;return n?r.some(o=>o.element===n):!1}function Yt(t){return t.filter(r=>!r.disabled)}function ne(t,r){var n;const e=((n=t.element)==null?void 0:n.textContent)||t.children||"value"in t&&t.value;return e?mt(e).trim().toLowerCase().startsWith(r.toLowerCase()):!1}function er(t,r,n){if(!n)return t;const e=t.find(o=>o.id===n);return!e||!ne(e,r)||_!==r&&ne(e,_)?t:(_=r,ut(t.filter(o=>ne(o,_)),n).filter(o=>o.id!==n))}var pe=L(function(r){var n=r,{store:e,typeahead:o=!0}=n,s=k(n,["store","typeahead"]);const u=Pe();e=e||u,$(e,!1);const a=s.onKeyDownCapture,l=M.useRef(0),d=j(c=>{if(a?.(c),c.defaultPrevented||!o||!e)return;if(!Zt(c))return ue();const{renderedItems:x,items:m,activeId:i,id:S}=e.getState();let v=Yt(m.length>x.length?m:x);const p=Ae(c.currentTarget),y=`[data-offscreen-id="${S}"]`,h=p.querySelectorAll(y);for(const w of h){const T=w.ariaDisabled==="true"||"disabled"in w&&!!w.disabled;v.push({id:w.id,element:w,disabled:T})}if(h.length&&(v=ct(v,w=>w.element)),!Xt(c,v))return ue();c.preventDefault(),window.clearTimeout(l.current),l.current=window.setTimeout(()=>{_=""},500);const A=c.key.toLowerCase();_+=A,v=er(v,A,i);const O=v.find(w=>ne(w,_));O?e.move(O.id):ue()});return s=P(b({},s),{onKeyDownCapture:d}),De(s)});R(function(r){const n=pe(r);return K(Jt,n)});var tr="div";function rr(t){var r=t,{store:n}=r,e=k(r,["store"]);const[o,s]=M.useState(void 0),u=e["aria-label"],a=N(n,"disclosureElement"),l=N(n,"contentElement");return M.useEffect(()=>{const d=a;if(!d)return;const c=l;if(!c)return;u||c.hasAttribute("aria-label")?s(void 0):d.id&&s(d.id)},[u,a,l]),o}var Le=L(function(r){var n=r,{store:e,alwaysVisible:o,composite:s}=n,u=k(n,["store","alwaysVisible","composite"]);const a=oe();e=e||a,$(e,!1);const l=e.parent,d=e.menubar,c=!!l,x=Ie(u.id),m=u.onKeyDown,i=e.useState(C=>C.placement.split("-")[0]),S=e.useState(C=>C.orientation==="both"?void 0:C.orientation),v=S!=="vertical",p=N(d,C=>!!C&&C.orientation!=="vertical"),y=j(C=>{if(m?.(C),!C.defaultPrevented){if(c||d&&!v){const D={ArrowRight:()=>i==="left"&&!v,ArrowLeft:()=>i==="right"&&!v,ArrowUp:()=>i==="bottom"&&v,ArrowDown:()=>i==="top"&&v}[C.key];if(D?.())return C.stopPropagation(),C.preventDefault(),e?.hide()}if(d){const D={ArrowRight:()=>{if(p)return d.next()},ArrowLeft:()=>{if(p)return d.previous()},ArrowDown:()=>{if(!p)return d.next()},ArrowUp:()=>{if(!p)return d.previous()}}[C.key],V=D?.();V!==void 0&&(C.stopPropagation(),C.preventDefault(),d.move(V))}}});u=ce(u,C=>f.jsx(Ut,{value:e,children:C}),[e]);const h=rr(b({store:e},u)),A=e.useState("mounted"),O=Ze(A,u.hidden,o),w=O?P(b({},u.style),{display:"none"}):u.style;u=P(b({id:x,"aria-labelledby":h,hidden:O},u),{ref:X(x?e.setContentElement:null,u.ref),style:w,onKeyDown:y});const T=!!e.combobox;return s=s??!T,s&&(u=b({role:"menu","aria-orientation":S},u)),u=Ot(b({store:e,composite:s},u)),u=pe(b({store:e,typeahead:!T},u)),u});R(function(r){const n=Le(r);return K(tr,n)});var nr="div",or=L(function(r){var n=r,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:u=!0,autoFocusOnShow:a=!0,hideOnHoverOutside:l,alwaysVisible:d}=n,c=k(n,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const x=oe();e=e||x,$(e,!1);const m=M.useRef(null),i=e.parent,S=e.menubar,v=!!i,p=!!S&&!v;c=P(b({},c),{ref:X(m,c.ref)});const y=Le(b({store:e,alwaysVisible:d},c)),{"aria-labelledby":h}=y;c=k(y,["aria-labelledby"]);const[O,w]=M.useState(),T=e.useState("autoFocusOnShow"),C=e.useState("initialFocus"),z=e.useState("baseElement"),D=e.useState("renderedItems");M.useEffect(()=>{let F=!1;return w(E=>{var te,ve,be;if(F||!T)return;if((te=E?.current)!=null&&te.isConnected)return E;const re=M.createRef();switch(C){case"first":re.current=((ve=D.find(Z=>!Z.disabled&&Z.element))==null?void 0:ve.element)||null;break;case"last":re.current=((be=[...D].reverse().find(Z=>!Z.disabled&&Z.element))==null?void 0:be.element)||null;break;default:re.current=z}return re}),()=>{F=!0}},[e,T,C,D,z]);const V=v?!1:o,g=!!a,I=!!O||!!c.initialFocus||!!V,Q=N(e.combobox||e,"contentElement"),q=N(i?.combobox||i,"contentElement"),ee=M.useMemo(()=>{if(!q||!Q)return;const F=Q.getAttribute("role"),E=q.getAttribute("role");if(!((E==="menu"||E==="menubar")&&F==="menu"))return q},[Q,q]);return ee!==void 0&&(c=b({preserveTabOrderAnchor:ee},c)),c=Ye(P(b({store:e,alwaysVisible:d,initialFocus:O,autoFocusOnShow:g?I&&a:T||!!V},c),{hideOnEscape(F){return vt(u,F)?!1:(e?.hideAll(),!0)},hideOnHoverOutside(F){const E=e?.getState().disclosureElement;return(typeof l=="function"?l(F):l??(v?!0:p?E?!J(E):!0:!1))?F.defaultPrevented||!v||!E||(pt(E,"mouseout",F),!J(E))?!0:(requestAnimationFrame(()=>{J(E)||e?.hide()}),!1):!1},modal:V,portal:s,backdrop:v?!1:c.backdrop})),c=b({"aria-labelledby":h},c),c}),sr=Xe(R(function(r){const n=or(r);return K(nr,n)}),oe);function ur(t={}){const r=Gt(t);return f.jsx(Ne,{value:r,children:t.children})}var ar="div",Re=L(function(r){var n=r,{store:e}=n,o=k(n,["store"]);const s=Se();return e=e||s,o=P(b({},o),{ref:X(e?.setAnchorElement,o.ref)}),o});R(function(r){const n=Re(r);return K(ar,n)});var ir="button",Ke=L(function(r){var n=r,{store:e}=n,o=k(n,["store"]);const s=Se();e=e||s,$(e,!1);const u=o.onClick,a=j(l=>{e?.setAnchorElement(l.currentTarget),u?.(l)});return o=ce(o,l=>f.jsx(et,{value:e,children:l}),[e]),o=P(b({},o),{onClick:a}),o=Re(b({store:e},o)),o=jt(b({store:e},o)),o});R(function(r){const n=Ke(r);return K(ir,n)});var lr="button";function cr(t,r){return{ArrowDown:r==="bottom"||r==="top"?"first":!1,ArrowUp:r==="bottom"||r==="top"?"last":!1,ArrowRight:r==="right"?"first":!1,ArrowLeft:r==="left"?"first":!1}[t.key]}function Ce(t,r){return!!t?.some(n=>!n.element||n.element===r?!1:n.element.getAttribute("aria-expanded")==="true")}var dr=L(function(r){var n=r,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:u}=n,a=k(n,["store","focusable","accessibleWhenDisabled","showOnHover"]);const l=oe();e=e||l,$(e,!1);const d=M.useRef(null),c=e.parent,x=e.menubar,m=!!c,i=!!x&&!m,S=bt(a),v=()=>{const g=d.current;g&&(e?.setDisclosureElement(g),e?.setAnchorElement(g),e?.show())},p=a.onFocus,y=j(g=>{if(p?.(g),S||g.defaultPrevented||(e?.setAutoFocusOnShow(!1),e?.setActiveId(null),!x)||!i)return;const{items:I}=x.getState();Ce(I,g.currentTarget)&&v()}),h=N(e,g=>g.placement.split("-")[0]),A=a.onKeyDown,O=j(g=>{if(A?.(g),S||g.defaultPrevented)return;const I=cr(g,h);I&&(g.preventDefault(),v(),e?.setAutoFocusOnShow(!0),e?.setInitialFocus(I))}),w=a.onClick,T=j(g=>{if(w?.(g),g.defaultPrevented||!e)return;const I=!g.detail,{open:Q}=e.getState();(!Q||I)&&((!m||I)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(I?"first":"container")),m&&v()});a=ce(a,g=>f.jsx(Ne,{value:e,children:g}),[e]),m&&(a=P(b({},a),{render:f.jsx(fe.div,{render:a.render})}));const C=Ie(a.id),z=N(c?.combobox||c,"contentElement"),D=m||i?ke(z,"menuitem"):void 0,V=e.useState("contentElement");return a=P(b({id:C,role:D,"aria-haspopup":ht(V,"menu")},a),{ref:X(d,a.ref),onFocus:y,onKeyDown:O,onClick:T}),a=tt(P(b({store:e,focusable:o,accessibleWhenDisabled:s},a),{showOnHover:g=>{if(!(()=>{if(typeof u=="function")return u(g);if(u!=null)return u;if(m)return!0;if(!x)return!1;const{items:ee}=x.getState();return i&&Ce(ee)})())return!1;const q=i?x:c;return q&&q.setActiveId(g.currentTarget.id),!0}})),a=Ke(b({store:e,toggleOnClick:!m,focusable:o,accessibleWhenDisabled:s},a)),a=pe(b({store:e,typeahead:i},a)),a}),fr=R(function(r){const n=dr(r);return K(lr,n)}),mr="div";function Be(t){const r=t.relatedTarget;return r?.nodeType===Node.ELEMENT_NODE?r:null}function pr(t){const r=Be(t);return r?gt(t.currentTarget,r):!1}var le=Symbol("composite-hover");function vr(t){let r=Be(t);if(!r)return!1;do{if(Ct(r,le)&&r[le])return!0;r=r.parentElement}while(r);return!1}var Ve=L(function(r){var n=r,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=n,u=k(n,["store","focusOnHover","blurOnHoverEnd"]);const a=Pe();e=e||a,$(e,!1);const l=xt(),d=u.onMouseMove,c=ie(o),x=j(p=>{if(d?.(p),!p.defaultPrevented&&l()&&c(p)){if(!J(p.currentTarget)){const y=e?.getState().baseElement;y&&!rt(y)&&y.focus()}e?.setActiveId(p.currentTarget.id)}}),m=u.onMouseLeave,i=ie(s),S=j(p=>{var y;m?.(p),!p.defaultPrevented&&l()&&(pr(p)||vr(p)||c(p)&&i(p)&&(e?.setActiveId(null),(y=e?.getState().baseElement)==null||y.focus()))}),v=M.useCallback(p=>{p&&(p[le]=!0)},[]);return u=P(b({},u),{ref:X(v,u.ref),onMouseMove:x,onMouseLeave:S}),De(u)});de(R(function(r){const n=Ve(r);return K(mr,n)}));var br="div";function hr(t,r,n){var e;if(!t)return!1;if(J(t))return!0;const o=r?.find(l=>{var d;return l.element===n?!1:((d=l.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),s=(e=o?.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const a=Ae(t).getElementById(s);return a?J(a)?!0:!!a.querySelector("[role=menuitem][aria-expanded=true]"):!1}var $e=L(function(r){var n=r,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:u,blurOnHoverEnd:a}=n,l=k(n,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=je(!0),c=qt();e=e||d||c,$(e,!1);const x=l.onClick,m=ie(o),i="hideAll"in e?e.hideAll:void 0,S=!!i,v=j(h=>{x?.(h),!(h.defaultPrevented||St(h)||yt(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&m(h)&&i()}),p=N(e,h=>"contentElement"in h?h.contentElement:null),y=ke(p,"menuitem");return l=P(b({role:y},l),{onClick:v}),l=at(b({store:e,preventScrollOnKeyDown:s},l)),l=Ve(P(b({store:e},l),{focusOnHover(h){const A=()=>typeof u=="function"?u(h):u??!0;if(!e||!A())return!1;const{baseElement:O,items:w}=e.getState();return S?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):hr(O,w,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof a=="function"?a(h):a??S}})),l}),xr=de(R(function(r){const n=$e(r);return K(br,n)})),gr="div";function Cr(t){return Array.isArray(t)?t.toString():t}function ae(t,r,n){if(r===void 0)return Array.isArray(t)?t:!!n;const e=Cr(r);return Array.isArray(t)?n?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):n?e:t===e?!1:t}var Sr=L(function(r){var n=r,{store:e,name:o,value:s,checked:u,defaultChecked:a,hideOnClick:l=!1}=n,d=k(n,["store","name","value","checked","defaultChecked","hideOnClick"]);const c=je();e=e||c,$(e,!1);const x=wt(a);M.useEffect(()=>{e?.setValue(o,(i=[])=>x?ae(i,s,!0):i)},[e,o,s,x]),M.useEffect(()=>{u!==void 0&&e?.setValue(o,i=>ae(i,s,u))},[e,o,s,u]);const m=$t({value:e.useState(i=>i.values[o]),setValue(i){e?.setValue(o,()=>{if(u===void 0)return i;const S=ae(i,s,u);return!Array.isArray(S)||!Array.isArray(i)?S:Mt(i,S)?i:S})}});return d=b({role:"menuitemcheckbox"},d),d=Nt(b({store:m,name:o,value:s,checked:u},d)),d=$e(b({store:e,hideOnClick:l},d)),d}),yr=de(R(function(r){const n=Sr(r);return K(gr,n)}));const We=B((t,r)=>f.jsx(fe.div,{role:"listitem",...t,className:W("-list-item",t.className),ref:r})),qe=B((t,r)=>f.jsx(Tt,{...t,variant:"body-sm",className:W("-list-item-content",t.className),ref:r})),se=B((t,r)=>f.jsx(fe.div,{...t,className:W("-list-item-decoration",t.className),ref:r}));function jr(t){return f.jsx(ur,{popover:ot(),...t})}const Nr=B((t,r)=>{const n=Ht(me());return f.jsx(sr,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...n.style,...t.style},wrapperProps:n.wrapperProps,className:W("-dropdown-menu",t.className),ref:r})}),Lr=B((t,r)=>{const{accessibleWhenDisabled:n=!0,children:e,...o}=t,s=N(me(),u=>u?.open);return f.jsx(fr,{accessibleWhenDisabled:!0,...o,render:t.render??f.jsxs(st,{accessibleWhenDisabled:n,children:[e,f.jsx(Rt,{})]}),className:W("-dropdown-menu-button",t.className),"data-has-popover-open":s||void 0,ref:r})}),Rr=B((t,r)=>{const{label:n,shortcuts:e,icon:o,unstable_dot:s,...u}=t,a=M.useId();return f.jsxs(xr,{accessibleWhenDisabled:!0,render:f.jsx(We,{render:f.jsx(ye,{accessibleWhenDisabled:!0,"aria-describedby":a,...u,className:W("-dropdown-menu-item",t.className),ref:r})}),children:[o?f.jsx(Ue,{icon:o}):null,f.jsx(qe,{render:f.jsx("span",{}),children:n}),e?f.jsx(wr,{shortcuts:e}):null,s?f.jsx(se,{render:f.jsx(nt,{id:a,className:"-dropdown-menu-item-dot",children:s})}):null]})}),wr=B((t,r)=>{const{shortcuts:n,...e}=t,o=M.useMemo(()=>n.split("+").map(s=>({key:s.trim(),isSymbol:s in Lt})),[n]);return f.jsx(se,{render:f.jsx("span",{}),...e,className:W("-dropdown-menu-item-shortcuts",t.className),ref:r,children:o.map(({key:s,isSymbol:u},a)=>u?f.jsx(ge,{variant:"ghost",symbol:s},`${s+a}`):f.jsx(ge,{variant:"ghost",children:s},`${s+a}`))})}),Ue=B((t,r)=>{const{icon:n,...e}=t;return f.jsx(se,{render:f.jsx(Ft,{href:typeof n=="string"?n:void 0,render:M.isValidElement(n)?n:void 0,...e,ref:r})})}),Kr=B((t,r)=>{const{label:n,icon:e,defaultChecked:o,checked:s,onChange:u,name:a,value:l=o?"on":void 0,...d}=t;return f.jsxs(yr,{accessibleWhenDisabled:!0,defaultChecked:o,checked:s,name:a,value:l,onChange:u,render:f.jsx(We,{render:f.jsx(ye,{accessibleWhenDisabled:!0,...d,className:W("-dropdown-menu-item",t.className),ref:r})}),children:[e?f.jsx(Ue,{icon:e}):null,f.jsx(qe,{render:f.jsx("span",{}),children:n}),f.jsx(se,{render:f.jsx(Kt,{className:"-dropdown-menu-checkmark"})})]})});export{jr as D,We as L,Lr as a,Nr as b,Kr as c,Rr as d,se as e,qe as f,me as u};
