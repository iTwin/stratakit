import{w as Z}from"./~utils-ChHMGsjo.js";import{n as e,a as s,t as ee}from"./chunk-K6AXKMTT-BHCV6zel.js";import{a as D}from"./index-B0znaqTz.js";import{B as te}from"./Button-4tKgKPm5.js";import{D as q,a as L,b as X,c as d}from"./DropdownMenu-DtBxyVlL.js";import{I as P}from"./Icon-CxSOk06C.js";import{I as S}from"./IconButton-DEhn1oOA.js";import{T as se,a as z,b as ne,c as w}from"./Tabs-DmF0HMve.js";import{T as G}from"./Text-CZoq4tSz.js";import{T as le,a as ae,b as re}from"./TextBox-FDBmJMFV.js";import{T as ie,a as oe,b as ce,c as de,d as ue}from"./Tree-C9X8Pam4.js";import{p as M}from"./placeholder-CprK_khY.js";import{p as he,l as xe,d as pe,h as me,m as je,s as k,a as be,f as fe}from"./state-inherited-dot-5vPx6xvR.js";import{s as ve}from"./visibility-show-D4GYvbRk.js";import"./index-DeGJKKUv.js";import"./KUU7WJ55-BzFoYYyi.js";import"./LVA2YJMS-BoyOwnvI.js";import"./XL7CSKGW-DWaBDxUb.js";import"./Kbd-Cj6Skv7H.js";import"./VisuallyHidden-BP9HqvzW.js";import"./P2CTZE2T-Dc6QpFC1.js";import"./YV4JVR4I-I4X5ERHE.js";import"./BYC7LY2E-t-z_0C6Y.js";import"./VGCJ63VH-B3pkzvNN.js";import"./MTZPJQMC-JL08V7FT.js";import"./VEVQD5MH-OG2h05rd.js";import"./ITI7HKP4-BWzdjh-N.js";import"./P4IRICAX-q-aoQGQ8.js";import"./Tooltip-BmZz2zvZ.js";import"./~hooks-DuYLhjin.js";import"./Field-BzgRBOfM.js";import"./ListItem-KFIqU5yd.js";const Ce="_appLayout_19lsq_5",_e="_header_19lsq_22",ge="_platformBar_19lsq_32",Se="_logo_19lsq_38",Ae="_tools_19lsq_48",Pe="_leftPanel_19lsq_58",Ie="_panelHeader_19lsq_70",Re="_panelTitle_19lsq_78",Me="_panelCaption_19lsq_84",Ne="_shiftIconRight_19lsq_88",ye="_subheader_19lsq_92",Te="_subheaderTitle_19lsq_103",Be="_searchInput_19lsq_108",De="_subheaderActions_19lsq_112",ze="_tabList_19lsq_116",we="_emptyState_19lsq_120",ke="_canvasWrapper_19lsq_129",Ke="_canvas_19lsq_129",Ee="_splitter_19lsq_166",qe="_tabPanel_19lsq_208",Le="_tree_19lsq_213",Xe="_action_19lsq_217",Ge="_actionIcon_19lsq_225",Oe="_slider_19lsq_236",n={appLayout:Ce,header:_e,platformBar:ge,logo:Se,tools:Ae,leftPanel:Pe,panelHeader:Ie,panelTitle:Re,panelCaption:Me,shiftIconRight:Ne,subheader:ye,subheaderTitle:Te,searchInput:Be,subheaderActions:De,tabList:ze,emptyState:we,canvasWrapper:ke,canvas:Ke,splitter:Ee,tabPanel:qe,tree:Le,action:Xe,actionIcon:Ge,slider:Oe},O="Kiwi sandbox",Tt=()=>[{title:O}],Bt=Z(function(){const{sliderProps:o,panelProps:r,panelMinSize:l,panelMaxSize:m,resizing:c}=We({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:n.appLayout,style:{"--_panel-min-size":l,"--_panel-max-size":m},children:[e.jsxs("header",{className:n.header,children:[e.jsx("div",{className:n.logo,children:e.jsx(P,{href:M,size:"large"})}),e.jsx(G,{render:f=>e.jsx("h1",{...f}),variant:"body-md",children:O})]}),e.jsx("div",{className:n.platformBar,children:e.jsxs("div",{className:n.tools,children:[e.jsx(P,{href:M,size:"large"}),e.jsx(P,{href:M,size:"large"}),e.jsx(P,{href:M,size:"large"})]})}),e.jsxs("div",{...r,className:n.leftPanel,style:{position:"relative",...r.style},children:[e.jsxs("div",{className:n.panelHeader,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:n.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:n.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:n.actions,children:e.jsx(S,{className:n.shiftIconRight,icon:he,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsxs(se,{children:[e.jsx(Qe,{}),e.jsx(z,{tabId:"simple",className:n.tabPanel,children:e.jsx(K,{tree:"simple"})}),e.jsx(z,{tabId:"complex",className:n.tabPanel,children:e.jsx(K,{tree:"complex"})})]})]}),e.jsx("div",{className:n.splitter,"data-resizing":c?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:n.slider,...o})}),e.jsx("div",{className:n.canvasWrapper,children:e.jsx("div",{className:n.canvas})})]})})});function He({children:a}){return e.jsx("div",{className:n.emptyState,children:a})}function Fe(a,o,r){return Math.min(Math.max(a,o),r)}function We(a){const{minSize:o,maxSize:r,onCollapse:l}=a,m=s.useId(),c=s.useRef(null),[f,x]=s.useState(void 0),[j,i]=s.useState(void 0),[u,p]=s.useState(void 0),[C,N]=s.useState(!1),[I,y]=s.useState(void 0),v=s.useMemo(()=>{if(o&&j)return Math.min(o.px,o.pct/100*j)},[o,j]),g=s.useMemo(()=>{if(v&&r&&j)return Math.max(v,r.pct/100*j)},[r,j,v]),A=s.useMemo(()=>{if(u==="smallest")return v??0;if(u==="largest")return g??0;if(f&&v&&g)return Fe(f,v,g)},[f,v,g,u]);s.useEffect(()=>{const h=c.current;if(!h)return;const b=h.parentElement;if(!b)return;const _=new ResizeObserver(()=>{const T=b.getBoundingClientRect(),B=h.getBoundingClientRect();i(T.width),x(B.width)});return _.observe(b),_.observe(h),()=>{_.disconnect()}},[]);const F=s.useCallback(h=>{const b=c.current;if(!b)return;const _=b.getBoundingClientRect();y(_.width+h),p(void 0),N(!0)},[]),W=s.useCallback(h=>{const b=c.current;if(!b)return;const _=b.parentElement;if(!_)return;const T=_.getBoundingClientRect(),B=h*(T.width*.005),Y=b.getBoundingClientRect();y(Y.width+B),p(void 0)},[]),$=s.useCallback(()=>{c.current&&(y(void 0),N(!1))},[]),{moveableProps:R}=$e({onMove:F,onMoveEnd:$,onKeyMove:W}),U=s.useMemo(()=>({...R,onKeyDown:h=>{var b;if((b=R.onKeyDown)==null||b.call(R,h),!h.defaultPrevented)switch(h.key){case"Enter":h.preventDefault(),l==null||l();break;case"Home":h.preventDefault(),p("smallest");break;case"End":h.preventDefault(),p("largest");break}},onChange:h=>{if(C)return;const b=Number(h.target.value);y(b)},value:A===void 0?0:Math.floor(A),min:v===void 0?void 0:Math.floor(v),max:g===void 0?void 0:Math.floor(g)}),[R,A,v,g,l,C]),V=s.useMemo(()=>({style:{WebkitUserSelect:I===void 0?void 0:"none"},id:m,ref:c}),[m,I]),J=v===void 0?void 0:`${Math.floor(v)}px`,Q=s.useMemo(()=>{if(I!==void 0&&r!==void 0&&u===void 0)return`min(${Math.floor(I)}px, ${r.pct}%)`;if(A!==void 0)return`${Math.floor(A)}px`},[r,I,A,u]);return{sliderProps:U,panelProps:V,panelMinSize:J,panelMaxSize:Q,resizing:C}}function $e(a){const{onMove:o,onMoveEnd:r,onKeyMove:l}=a,m=s.useRef(null),c=s.useRef(void 0),f=s.useRef(void 0),x=s.useCallback(()=>{f.current!==void 0&&(f.current=void 0,r==null||r())},[r]);return{moveableProps:s.useMemo(()=>({onPointerDown:i=>{if(i.button!==0||i.ctrlKey)return;const u=m.current;if(!u)return;const p=u.getBoundingClientRect(),C=i.clientX-p.left;f.current=C,i.preventDefault(),u.setPointerCapture(i.pointerId)},onPointerMove:i=>{const u=f.current;if(u===void 0)return;const p=m.current;if(!p)return;const C=p.getBoundingClientRect(),N=i.clientX-u-C.left;i.preventDefault(),o==null||o(N)},onPointerUp:x,onPointerCancel:x,onKeyDown:i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowLeft":i.preventDefault(),l==null||l(-1);break;case"ArrowRight":i.preventDefault(),l==null||l(1);break}},ref:i=>{var p;if(m.current=i,(p=c.current)==null||p.call(c),c.current=void 0,!i)return;const u=C=>{C.preventDefault()};i.addEventListener("touchstart",u),c.current=()=>{i.removeEventListener("touchstart",u)}}}),[l,o,x])}}const H=s.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function K({tree:a}){const[o]=ee(),r=o.get("tree"),[l,m]=s.useState(),[c,f]=s.useState([]),x=s.useCallback(j=>{f(i=>i.includes(j)?i.filter(u=>u!==j):[...i,j])},[]);return r==="empty"&&a==="simple"?e.jsxs(He,{children:[e.jsx(G,{children:"No layers"}),e.jsx(te,{children:"Create a layer"})]}):e.jsx(H.Provider,{value:s.useMemo(()=>({selected:l,setSelected:m,hidden:c,toggleHidden:x}),[c,l,x]),children:e.jsx(ie,{className:n.tree,children:a==="complex"?e.jsx(Ve,{}):e.jsx(Ue,{})})})}function Ue(){return e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Guides",children:e.jsxs(t,{label:"Tree",actions:!0,children:[e.jsx(t,{label:"Guide 4"}),e.jsx(t,{label:"Guide 3"}),e.jsx(t,{label:"Guide 2"}),e.jsx(t,{label:"Guide 1"})]})}),e.jsxs(t,{label:"Other",children:[e.jsx(t,{label:"Object 2",actions:!0,children:e.jsx(t,{label:"Path 3"})}),e.jsx(t,{label:"Object 1"})]}),e.jsxs(t,{label:"Road",children:[e.jsx(t,{label:"Parking lot access"}),e.jsx(t,{label:"Site access"})]}),e.jsx(t,{label:"Parking lot",actions:!0,children:e.jsxs(t,{label:"Parking area",actions:!0,children:[e.jsx(t,{label:"Bay point 2"}),e.jsx(t,{label:"Bay point 1",actions:!0}),e.jsx(t,{label:"Space point 1",actions:!0}),e.jsx(t,{label:"Path 6"})]})}),e.jsx(t,{label:"Building",children:e.jsx(t,{label:"Building area",children:e.jsx(t,{label:"Path 5"})})}),e.jsx(t,{label:"Sewer",children:e.jsx(t,{label:"Run off pipe",children:e.jsx(t,{label:"Path 4"})})}),e.jsx(t,{label:"Project boundary",children:e.jsx(t,{label:"Property area",children:e.jsx(t,{label:"Path 1"})})}),e.jsx(t,{label:"Map",children:e.jsx(t,{label:"Location",children:e.jsx(t,{label:"Terrain"})})})]})}function Ve(){return e.jsxs(e.Fragment,{children:[e.jsxs(t,{label:"ITC_Master",children:[e.jsx(t,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(t,{label:"002_Substation_A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",actions:!0,defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",actions:!0,defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002-A",actions:!0})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(t,{label:"007-aa_master.dgn",children:[e.jsx(t,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(t,{label:"A-CLNG-LITE-A"})}),e.jsx(t,{label:"A-CLNG-TILE",children:e.jsxs(t,{label:"A-DOOR-2D-PLAN",children:[e.jsx(t,{label:"P00003 [2-KA62]",actions:!0,children:e.jsx(t,{label:"Cell [2-KA63]",children:e.jsxs(t,{label:"Cell [2-KA64]",children:[e.jsx(t,{label:"Complex Chain [2-KA6A]"}),e.jsx(t,{label:"Complex Chain [2-KA6B]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6C]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6D]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6E]"}),e.jsx(t,{label:"Complex Chain [2-KA6F]"}),e.jsx(t,{label:"Complex Chain [2-KA6G]"}),e.jsx(t,{label:"Complex Chain [2-KA6H]"}),e.jsx(t,{label:"Complex Chain [2-KA61]"}),e.jsx(t,{label:"Complex Chain [2-KA65]"}),e.jsx(t,{label:"Complex Chain [2-KA66]"}),e.jsx(t,{label:"Complex Chain [2-KA67]"}),e.jsx(t,{label:"Complex Chain [2-KA68]"}),e.jsx(t,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(t,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA98-A]"})}),e.jsx(t,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(t,{label:"ITC_Main",actions:!0})]})}const E=s.createContext({selected:!1,hidden:!1});function t(a){const o=s.useContext(H),r=s.useContext(E),l=s.useId(),[m,c]=s.useState(a.defaultCollapsed===void 0?!0:!a.defaultCollapsed),f=s.Children.count(a.children)>0,x=s.useMemo(()=>r.hidden?!0:o.hidden.includes(l),[l,o.hidden,r.hidden]),j=r.selected||l===o.selected,i=s.useCallback(()=>{o.setSelected(p=>{if(p!==l)return l})},[l,o]),u=a.actions||x;return e.jsx(E.Provider,{value:s.useMemo(()=>({selected:j,hidden:x}),[x,j]),children:e.jsx(oe,{content:e.jsxs(e.Fragment,{children:[e.jsx(ce,{onClick:()=>{c(p=>!p)}}),e.jsx(P,{href:M,style:{display:"inline"}}),e.jsx(de,{onClick:()=>{i()},children:a.label}),u&&e.jsxs(ue,{children:[e.jsx(S,{className:n.action,icon:xe,label:"Lock",variant:"ghost","aria-hidden":!a.actions||x}),r.hidden?e.jsx("span",{className:n.actionIcon,children:e.jsx(P,{href:pe})}):e.jsx(S,{className:n.action,icon:x?me:ve,label:x?"Show":"Hide",variant:"ghost","aria-hidden":!a.actions,onClick:()=>{o.toggleHidden(l)}}),e.jsx(Je,{hidden:!a.actions||x})]})]}),expanded:f?m:void 0,selected:j,children:m?a.children:void 0})})}function Je({hidden:a}){return e.jsxs(q,{children:[e.jsx(L,{className:n.action,"aria-hidden":a,render:e.jsx(S,{icon:je,label:"More",variant:"ghost"})}),e.jsxs(X,{style:{minInlineSize:164},children:[e.jsx(d,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(d,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(d,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(d,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(d,{shortcuts:"]",children:"Bring to front"}),e.jsx(d,{shortcuts:"[",children:"Send to back"}),e.jsx(d,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(d,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(d,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(d,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(d,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(d,{shortcuts:"I",children:"Isolate object"})]})]})}function Qe(){const[a,o]=s.useState(!1),r=s.useRef(null),l=s.useRef(null),m=a?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{}),e.jsx(S,{className:n.shiftIconRight,icon:be,label:"Close",variant:"ghost",onClick:()=>{var c;D.flushSync(()=>o(!1)),(c=l.current)==null||c.focus()}})]}):e.jsx(S,{className:n.shiftIconRight,icon:k,label:"Search",variant:"ghost",onClick:()=>{var c;D.flushSync(()=>o(!0)),(c=r.current)==null||c.focus()}});return e.jsxs("div",{className:n.subheader,children:[a?void 0:e.jsxs(ne,{className:n.tabList,tone:"accent",ref:l,children:[e.jsx(w,{id:"simple",children:"Simple Tree"}),e.jsx(w,{id:"complex",children:"Complex Tree"})]}),a?e.jsxs(le,{className:n.searchInput,children:[e.jsx(ae,{href:k}),e.jsx(re,{placeholder:"Search",ref:r})]}):null,e.jsx("div",{className:n.subheaderActions,children:m})]})}function Ye(){return e.jsxs(q,{children:[e.jsx(L,{render:e.jsx(S,{icon:fe,label:"Filter",variant:"ghost"})}),e.jsxs(X,{style:{minInlineSize:164},children:[e.jsx(d,{children:"Show all"}),e.jsx(d,{children:"Guides"}),e.jsx(d,{children:"Other"}),e.jsx(d,{children:"Roadway"}),e.jsx(d,{children:"Parking"}),e.jsx(d,{children:"Building"}),e.jsx(d,{children:"Dry utility"}),e.jsx(d,{children:"Stormwater"}),e.jsx(d,{children:"Sewer"}),e.jsx(d,{children:"Boundary"}),e.jsx(d,{children:"Map"})]})]})}export{Bt as default,Tt as meta};
