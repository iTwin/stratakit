import{n,a as l}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as v}from"./index-jyeBNHV5.js";import{f,s as V,L as re,a as oe}from"./ListItem-DeA1AzYL.js";import{a as ne}from"./Button-GPjBmsog.js";import{a as se}from"./VisuallyHidden-mupLk8qe.js";import{R as N}from"./XL7CSKGW-Cbj4nsUL.js";import{u as ae,T as ie,a as le,b as ce}from"./Tooltip-DXd-YglS.js";import{u as de,d as g}from"./YV4JVR4I-xwnP9gdF.js";import{u as ue,T as me,a as fe,b as he}from"./IconButton-A5fvp0d9.js";import{c as pe,u as xe,a as ve,d as je,C as be,e as ye}from"./ITI7HKP4-DQJKDmG_.js";import{e as Ne,g as Te,c as Ce,h as we}from"./P2CTZE2T-BbbD4CJc.js";import{c as D,d as $,_ as B,C as E,r as Ie,e as K,s as ge,q as _,t as Pe,b as A}from"./~utils-BuKH_XhK.js";var ke="div",Se=D(function(t){var o=t,{store:r}=o,s=B(o,["store"]);const a=Ne();return r=r||a,s=E(s,i=>n.jsx(Te,{value:r,children:i}),[r]),Ie(s)}),Le=$(function(t){const o=Se(t);return K(ke,o)});function Me(e={}){var t;const o=(t=e.store)==null?void 0:t.getState();return pe(ge(Pe({},e),{orientation:_(e.orientation,o==null?void 0:o.orientation,"horizontal"),focusLoop:_(e.focusLoop,o==null?void 0:o.focusLoop,!0)}))}function Re(e,t,o){return xe(e,t,o)}function Ve(e={}){const[t,o]=de(Me,e);return Re(t,o,e)}var _e="div",Ae=D(function(t){var o=t,{store:r,orientation:s,virtualFocus:a,focusLoop:i,rtl:d}=o,m=B(o,["store","orientation","virtualFocus","focusLoop","rtl"]);const p=ue();r=r||p;const c=Ve({store:r,orientation:s,virtualFocus:a,focusLoop:i,rtl:d}),b=c.useState(j=>j.orientation==="both"?void 0:j.orientation);return m=E(m,j=>n.jsx(me,{value:c,children:j}),[c]),m=A({role:"toolbar","aria-orientation":b},m),m=ve(A({store:c},m)),m}),De=$(function(t){const o=Ae(t);return K(_e,o)});const O=f((e,t)=>{const{variant:o="solid",tone:r="neutral",...s}=e;return n.jsx(ne,{accessibleWhenDisabled:!0,...s,"data-kiwi-variant":o,"data-kiwi-tone":r,className:v("-button",e.className),ref:t})});O.displayName="Button";const S=f((e,t)=>n.jsx(se,{...e,ref:t}));S.displayName="VisuallyHidden";const T=f((e,t)=>{const{href:o,size:r="regular",...s}=e,a=$e(r);return n.jsx(N.svg,{"aria-hidden":!0,...s,"data-kiwi-size":r,className:v("-icon",e.className),ref:t,children:n.jsx("use",{href:`${e.href}#${a}`})})});T.displayName="Icon";function $e(e){return e==="large"?"icon-large":"icon"}const Be=f((e,t)=>{const{direction:o="down",...r}=e,s=l.useMemo(()=>{switch(o){case"down":return n.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return n.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[o]);return n.jsx(T,{...r,render:n.jsx(N.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:s}),className:v("-disclosure-arrow",e.className),ref:t})});Be.displayName="DisclosureArrow";const Ee=f((e,t)=>n.jsx(T,{...e,render:n.jsx(N.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:n.jsx("path",{fillRule:"evenodd",d:"M13.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L6.5 10.793l6.646-6.647a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"})}),ref:t}));Ee.displayName="Checkmark";const Ke=f((e,t)=>n.jsx(T,{...e,render:n.jsx(N.svg,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",render:e.render,children:n.jsx("path",{d:"M4.853 4.146a.5.5 0 1 0-.707.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .707.708L8 8.707l3.146 3.147a.5.5 0 0 0 .707-.708L8.707 8l3.146-3.146a.5.5 0 1 0-.707-.708L8 7.293 4.853 4.146Z"})}),ref:t}));Ke.displayName="Dismiss";const H=f((e,t)=>{const o=l.useId(),{content:r,children:s,type:a="description",id:i=o,defaultOpen:d,open:m,setOpen:p,unmountOnHide:c=a==="none",...b}=e,j=ae(),k=g(j,x=>x.open),h=g(j,x=>x.popoverElement);return l.useEffect(function(){var w;h!=null&&h.isConnected&&((w=h==null?void 0:h.togglePopover)==null||w.call(h,k))},[k,h]),n.jsx(n.Fragment,{children:n.jsxs(ie,{store:j,defaultOpen:d,open:m,setOpen:p,children:[n.jsx(le,{render:s,...a==="description"&&{"aria-describedby":i},...a==="label"&&{"aria-labelledby":i}}),n.jsx(ce,{"aria-hidden":"true",...b,unmountOnHide:c,className:v("-tooltip",e.className),ref:t,id:i,style:{zIndex:V?void 0:9999,...e.style},wrapperProps:{popover:"manual"},portal:!V,children:r})]})})});H.displayName="Tooltip";const z=f((e,t)=>{const{label:o,icon:r,isActive:s,labelVariant:a,...i}=e,d=fe(),m=n.jsxs(O,{"aria-pressed":s,...i,render:d?n.jsx(he,{render:e.render}):e.render,className:v("-icon-button",e.className),ref:t,children:[n.jsx(S,{children:o}),typeof r=="string"?n.jsx(T,{href:r}):r]});return a==="visually-hidden"?m:n.jsx(H,{content:o,type:"none",children:m})});z.displayName="IconButton";function Oe(e){const t=l.useRef(e);return l.useInsertionEffect(()=>{t.current=e}),t}function P(...e){const t=Oe(e);return l.useCallback(o=>{for(const r of t.current)if(r==null||r(o),o.defaultPrevented)return},[t])}const He=f((e,t)=>{const o=je({orientation:"vertical"}),r=l.useId(),[s,a]=l.useState(()=>new Map);return n.jsx(L.Provider,{value:l.useMemo(()=>({baseId:r,nodes:s,setNodes:a}),[r,s]),children:n.jsx(N.div,{role:"tree",...e,render:n.jsx(be,{store:o}),className:v("-tree",e.className),ref:t,children:e.children})})});He.displayName="Tree.Root";const L=l.createContext(void 0),ze=f((e,t)=>{const o=l.useId(),{baseId:r=o}=l.useContext(L)??{},{value:s,parentValue:a,id:i=`${r}-${s.replaceAll(" ","-")}`,selected:d,children:m,expanded:p,icon:c,label:b,actions:j,style:k,onSelectedChange:h,onExpandedChange:x,onClick:w,onKeyDown:U,...G}=e,J=u=>{d!==void 0&&(u.stopPropagation(),h==null||h(!d))},Q=u=>{u.altKey||u.ctrlKey||u.metaKey||u.shiftKey||p!==void 0&&(u.key==="ArrowRight"||u.key==="ArrowLeft")&&(u.preventDefault(),x==null||x(u.key==="ArrowRight"))},C=Ze({value:s,parentValue:a}),I=g(C.collection,"renderedItems"),y=g(C.parentCollection,"renderedItems"),[X,Y]=l.useMemo(()=>{const u=(y==null?void 0:y.findIndex(te=>te.id===i))??-1;return u===-1?[void 0,void 0]:[u+1,y==null?void 0:y.length]},[y,i]),M=l.useMemo(()=>I==null?void 0:I.map(u=>u.id).join(" "),[I]),R=`${i}-content`,ee=n.jsx(Ce,{render:n.jsx(N,{...G}),id:i,onClick:P(w,J),onKeyDown:P(U,Q),role:"treeitem","aria-expanded":p,"aria-selected":d,"aria-labelledby":R,"aria-level":C.level,"aria-posinset":X,"aria-setsize":Y,className:v("-tree-item",e.className),ref:t,children:n.jsxs(re,{"data-kiwi-expanded":p,"data-kiwi-selected":d,className:"-tree-item-node",style:{"--tree-item-level":C.level},role:void 0,children:[n.jsx(W,{onClick:()=>{p!==void 0&&(x==null||x(!p))}}),typeof c=="string"?n.jsx(T,{href:c}):c,n.jsx(Z,{label:b,id:R}),n.jsx(F,{children:j}),M?n.jsx(S,{role:"group","aria-owns":M}):null]})});return n.jsx(we,{id:i,store:C.parentCollection,render:n.jsx(Le,{store:C.collection,render:ee})})});ze.displayName="Tree.Item";function Ze(e){const{value:t,parentValue:o}=e,r=l.useContext(L),s=l.useMemo(()=>{if(!(!r||!o))return r.nodes.get(o)},[r,o]),a=ye(),i=s==null?void 0:s.collection,d=((s==null?void 0:s.level)??0)+1;return l.useEffect(function(){var p;return(p=r==null?void 0:r.setNodes)==null||p.call(r,c=>(c.set(t,{collection:a,level:d}),new Map(c))),()=>{var c;(c=r==null?void 0:r.setNodes)==null||c.call(r,b=>(b.delete(t),new Map(b)))}},[r==null?void 0:r.setNodes,a,t,d]),l.useMemo(()=>({level:d,collection:a,parentCollection:i}),[d,a,i])}const Z=f((e,t)=>{const{label:o,...r}=e;return n.jsx(oe,{...r,className:v("-tree-item-content",e.className),ref:t,children:o})});Z.displayName="TreeItemContent";const F=f((e,t)=>{const{visible:o,...r}=e;return n.jsx(De,{...r,onClick:P(e.onClick,s=>s.stopPropagation()),className:v("-tree-item-actions",e.className),"data-kiwi-visible":o,ref:t,children:e.children})});F.displayName="TreeItemActions";const W=f((e,t)=>n.jsx(z,{tabIndex:-1,"aria-hidden":"true",icon:n.jsx(q,{}),label:"Toggle",...e,onClick:P(e.onClick,o=>o.stopPropagation()),className:v("-tree-item-expander",e.className),variant:"ghost",labelVariant:"visually-hidden",ref:t}));W.displayName="TreeItemExpander";const q=f((e,t)=>n.jsx(T,{...e,render:n.jsx(N.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:n.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:v("-tree-chevron",e.className),ref:t}));q.displayName="TreeChevron";export{He as T,ze as a};
