import{n as o,a as c}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as f}from"./index-DeGJKKUv.js";import{f as u,s as _,L as Z,a as q}from"./ListItem-KFIqU5yd.js";import{a as G}from"./Button-pcxDZfVL.js";import{a as J}from"./VisuallyHidden-BP9HqvzW.js";import{R as I}from"./XL7CSKGW-DWaBDxUb.js";import{u as Q,T as U,a as X,b as Y}from"./Tooltip-1-TNbxK8.js";import{u as ee,d as A}from"./YV4JVR4I-I4X5ERHE.js";import{u as te,T as re,a as oe,b as se}from"./IconButton-gsTFxcL3.js";import{c as ae,u as ne,a as ie,d as le,C as ce}from"./ITI7HKP4-DcYfmzoo.js";import{c as de}from"./P2CTZE2T-6JquUpf1.js";import{B as ue,C as V,D as me,c as fe,d as xe,_ as pe,y as he,b as B,e as be}from"./~utils-ChHMGsjo.js";function ye(e={}){var r;const t=(r=e.store)==null?void 0:r.getState();return ae(ue(me({},e),{orientation:V(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:V(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function je(e,r,t){return ne(e,r,t)}function Ne(e={}){const[r,t]=ee(ye,e);return je(r,t,e)}var Te="div",ve=fe(function(r){var t=r,{store:s,orientation:a,virtualFocus:i,focusLoop:p,rtl:b}=t,l=pe(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const j=te();s=s||j;const m=Ne({store:s,orientation:a,virtualFocus:i,focusLoop:p,rtl:b}),N=m.useState(x=>x.orientation==="both"?void 0:x.orientation);return l=he(l,x=>o.jsx(re,{value:m,children:x}),[m]),l=B({role:"toolbar","aria-orientation":N},l),l=ie(B({store:m},l)),l}),Ce=xe(function(r){const t=ve(r);return be(Te,t)});const D=u((e,r)=>{const{variant:t="solid",tone:s="neutral",...a}=e;return o.jsx(G,{accessibleWhenDisabled:!0,...a,"data-kiwi-variant":t,"data-kiwi-tone":s,className:f("-button",e.className),ref:r})});D.displayName="Button";const E=u((e,r)=>o.jsx(J,{...e,ref:r}));E.displayName="VisuallyHidden";const P=u((e,r)=>{const{href:t,size:s="regular",...a}=e,i=Ie(s);return o.jsx(I.svg,{"aria-hidden":!0,...a,"data-kiwi-size":s,className:f("-icon",e.className),ref:r,children:o.jsx("use",{href:`${e.href}#${i}`})})});P.displayName="Icon";function Ie(e){return e==="large"?"icon-large":"icon"}const Pe=u((e,r)=>{const{direction:t="down",...s}=e,a=c.useMemo(()=>{switch(t){case"down":return o.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return o.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[t]);return o.jsx(P,{...s,render:o.jsx(I.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:a}),className:f("-disclosure-arrow",e.className),ref:r})});Pe.displayName="DisclosureArrow";const K=u((e,r)=>{const t=c.useId(),{content:s,children:a,type:i="description",id:p=t,defaultOpen:b,open:l,setOpen:j,unmountOnHide:m=i==="none",...N}=e,x=Q(),g=A(x,h=>h.open),d=A(x,h=>h.popoverElement);return c.useEffect(function(){var y;d!=null&&d.isConnected&&((y=d==null?void 0:d.togglePopover)==null||y.call(d,g))},[g,d]),o.jsx(o.Fragment,{children:o.jsxs(U,{store:x,defaultOpen:b,open:l,setOpen:j,children:[o.jsx(X,{render:a,...i==="description"&&{"aria-describedby":p},...i==="label"&&{"aria-labelledby":p}}),o.jsx(Y,{"aria-hidden":"true",...N,unmountOnHide:m,className:f("-tooltip",e.className),ref:r,id:p,style:{zIndex:_?void 0:9999,...e.style},wrapperProps:{popover:"manual"},portal:!_,children:s})]})})});K.displayName="Tooltip";const $=u((e,r)=>{const{label:t,icon:s,isActive:a,labelVariant:i,...p}=e,b=oe(),l=o.jsxs(D,{"aria-pressed":a,...p,render:b?o.jsx(se,{render:e.render}):e.render,className:f("-icon-button",e.className),ref:r,children:[o.jsx(E,{children:t}),typeof s=="string"?o.jsx(P,{href:s}):s]});return i==="visually-hidden"?l:o.jsx(K,{content:t,type:"none",children:l})});$.displayName="IconButton";function C(e){const r=c.useRef(e);return c.useEffect(()=>{r.current=e},[e]),r}const ge=u((e,r)=>{const t=le({orientation:"vertical"});return o.jsx(I.div,{role:"tree",...e,render:o.jsx(ce,{store:t}),className:f("-tree",e.className),ref:r,children:e.children})});ge.displayName="Tree.Root";const we=u((e,r)=>{const{selected:t,children:s,expanded:a,icon:i,label:p,actions:b,style:l,onSelectedChange:j,onExpandedChange:m,onClick:N,onKeyDown:x,...g}=e,d=c.useContext(L),h=d?d.level+1:1,y=C(N),w=C(x),k=C(j),S=C(m),O=c.useCallback(n=>{var T,v;(T=y.current)==null||T.call(y,n),!n.defaultPrevented&&(n.stopPropagation(),t!==void 0&&((v=k.current)==null||v.call(k,!t)))},[y,k,t]),W=c.useCallback(n=>{var T,v;(T=w.current)==null||T.call(w,n),!n.defaultPrevented&&(n.altKey||n.ctrlKey||n.metaKey||n.shiftKey||(n.key==="ArrowRight"||n.key==="ArrowLeft")&&(n.stopPropagation(),n.preventDefault(),(v=S.current)==null||v.call(S,n.key==="ArrowRight")))},[w,S]),R=c.useId();return o.jsx(L.Provider,{value:c.useMemo(()=>({level:h,expanded:a,selected:t,contentId:R}),[h,a,t,R]),children:o.jsxs(de,{render:o.jsx(I,{...g}),onClick:O,onKeyDown:W,role:"treeitem","aria-expanded":a,"aria-selected":t,"aria-labelledby":R,className:f("-tree-item",e.className),ref:r,children:[o.jsxs(Z,{"data-kiwi-expanded":a,"data-kiwi-selected":t,className:"-tree-item-node",style:{"--tree-item-level":h},role:void 0,children:[o.jsx(z,{onClick:()=>{a!==void 0&&(m==null||m(!a))}}),typeof i=="string"?o.jsx(P,{href:i}):i,o.jsx(H,{label:p}),o.jsx(M,{children:b})]}),s&&o.jsx("div",{role:"group",children:s})]})})});we.displayName="Tree.Item";const H=u((e,r)=>{const{label:t,...s}=e,{contentId:a}=c.useContext(L)??{};return o.jsx(q,{...s,id:a,className:f("-tree-item-content",e.className),ref:r,children:t})});H.displayName="TreeItemContent";const M=u((e,r)=>{const{visible:t,...s}=e;return o.jsx(Ce,{...s,className:f("-tree-item-actions",e.className),"data-kiwi-visible":t,ref:r,children:e.children})});M.displayName="TreeItemActions";const z=u((e,r)=>{const t=C(e.onClick);return o.jsx($,{tabIndex:-1,"aria-hidden":"true",icon:o.jsx(F,{}),label:"Toggle",...e,onClick:c.useCallback(s=>{var a;(a=t.current)==null||a.call(t,s),!s.defaultPrevented&&s.stopPropagation()},[t]),className:f("-tree-item-expander",e.className),variant:"ghost",labelVariant:"visually-hidden",ref:r})});z.displayName="TreeItemExpander";const F=u((e,r)=>o.jsx(P,{...e,render:o.jsx(I.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:o.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:f("-tree-chevron",e.className),ref:r}));F.displayName="TreeChevron";const L=c.createContext(void 0);export{ge as T,we as a};
