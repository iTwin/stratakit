import{a as M,n as C}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as q}from"./index-jyeBNHV5.js";import{f as U}from"./~utils-Cznddkjz.js";import{T as Ue}from"./Text-D8Cagtif.js";import{R as le}from"./XL7CSKGW-bDaSWFDO.js";import{B as ze}from"./Button-Ba85ZJFW.js";import{K as Ge}from"./Kbd-Doev9cAr.js";import{a as Je,C as Qe}from"./Icon-Ck9wjU3Q.js";import{a as Xe}from"./~hooks-C216-MzY.js";import{u as xe,f as Ye,C as ge,a as Ce,b as Ze}from"./P2CTZE2T-2InLO3d7.js";import{H as et,a as tt,c as nt,u as rt,b as ot,d as ut,e as st}from"./BYC7LY2E-B7nuVCtA.js";import{c as F,_ as A,e as w,u as Y,b,f as _,d as N,i as R,g as Se,h as at,j as ae,k as K,r as ye,m as ce,l as it,n as lt,o as W,p as J,q as j,s as Pe,t as Me,v as ct,x as dt,y as ft,z as mt,A as de,B as we,C as pt,D as bt,E as Oe,F as ht,G as vt,H as xt,I as Ee,J as gt,K as Ct,L as St,M as yt}from"./LMDWO4NN-Byj-nXYS.js";import{u as Pt}from"./VEVQD5MH-DUPfUsnb.js";import{c as Mt,u as wt,a as Ot}from"./ITI7HKP4-DCrmQROu.js";import{t as Et,c as Ae,u as De,a as ke,m as At,o as Dt,p as kt,s as be,b as he,d as $}from"./YV4JVR4I-_RiPav-z.js";import{b as It,i as Tt}from"./VGCJ63VH-V3kq-o9z.js";import{h as Q,a as Ht}from"./LVA2YJMS-DqB9_j1W.js";import{u as Ft}from"./P4IRICAX-C9w2xJg9.js";import{u as Ie,P as _t}from"./MTZPJQMC-BpU7jzv_.js";import{u as Nt}from"./ASMQKSDT-CPbVkHTu.js";var jt="div",Te=F(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=Ie();return e=e||s,o=w(b({},o),{ref:Y(e==null?void 0:e.setAnchorElement,o.ref)}),o});_(function(n){const r=Te(n);return N(jt,r)});var Lt="button",He=F(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=It();e=e||s,R(e,!1);const u=e.useState("contentElement");return o=b({"aria-haspopup":Se(u,"dialog")},o),o=Ft(b({store:e},o)),o});_(function(n){const r=He(n);return N(Lt,r)});var Kt="div";function Fe(t){const n=t.relatedTarget;return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE?n:null}function Rt(t){const n=Fe(t);return n?it(t.currentTarget,n):!1}var ie=Symbol("composite-hover");function Bt(t){let n=Fe(t);if(!n)return!1;do{if(lt(n,ie)&&n[ie])return!0;n=n.parentElement}while(n);return!1}var _e=F(function(n){var r=n,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,u=A(r,["store","focusOnHover","blurOnHoverEnd"]);const a=xe();e=e||a,R(e,!1);const c=at(),d=u.onMouseMove,l=ae(o),v=K(m=>{if(d==null||d(m),!m.defaultPrevented&&c()&&l(m)){if(!Q(m.currentTarget)){const y=e==null?void 0:e.getState().baseElement;y&&!Ht(y)&&y.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),f=u.onMouseLeave,i=ae(s),S=K(m=>{var y;f==null||f(m),!m.defaultPrevented&&c()&&(Rt(m)||Bt(m)||l(m)&&i(m)&&(e==null||e.setActiveId(null),(y=e==null?void 0:e.getState().baseElement)==null||y.focus()))}),p=M.useCallback(m=>{m&&(m[ie]=!0)},[]);return u=w(b({},u),{ref:Y(p,u.ref),onMouseMove:v,onMouseLeave:S}),ye(u)});ce(_(function(n){const r=_e(n);return N(Kt,r)}));function $t(t={}){var n;Et(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:W(t.value,r==null?void 0:r.value,t.defaultValue,!1)},o=Ae(e,t.store);return J(j({},o),{setValue:s=>o.setState("value",s)})}function Vt(t,n,r){return Pe(n,[r.store]),ke(t,r,"value","setValue"),t}function Wt(t={}){const[n,r]=De($t,t);return Vt(n,r,t)}var qt="div",L="";function ue(){L=""}function Ut(t){const n=t.target;return n&&dt(n)?!1:t.key===" "&&L.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function zt(t,n){if(ft(t))return!0;const r=t.target;return r?n.some(o=>o.element===r):!1}function Gt(t){return t.filter(n=>!n.disabled)}function re(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?mt(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function Jt(t,n,r){if(!r)return t;const e=t.find(o=>o.id===r);return!e||!re(e,n)||L!==n&&re(e,L)?t:(L=n,Ye(t.filter(o=>re(o,L)),r).filter(o=>o.id!==r))}var fe=F(function(n){var r=n,{store:e,typeahead:o=!0}=r,s=A(r,["store","typeahead"]);const u=xe();e=e||u,R(e,!1);const a=s.onKeyDownCapture,c=M.useRef(0),d=K(l=>{if(a==null||a(l),l.defaultPrevented||!o||!e)return;if(!Ut(l))return ue();const{renderedItems:v,items:f,activeId:i,id:S}=e.getState();let p=Gt(f.length>v.length?f:v);const m=Me(l.currentTarget),y=`[data-offscreen-id="${S}"]`,h=m.querySelectorAll(y);for(const P of h){const T=P.ariaDisabled==="true"||"disabled"in P&&!!P.disabled;p.push({id:P.id,element:P,disabled:T})}if(h.length&&(p=ct(p,P=>P.element)),!zt(l,p))return ue();l.preventDefault(),window.clearTimeout(c.current),c.current=window.setTimeout(()=>{L=""},500);const D=l.key.toLowerCase();L+=D,p=Jt(p,D,i);const E=p.find(P=>re(P,L));E?e.move(E.id):ue()});return s=w(b({},s),{onKeyDownCapture:d}),ye(s)});_(function(n){const r=fe(n);return N(qt,r)});var Qt="button",Ne=F(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=Ie();e=e||s,R(e,!1);const u=o.onClick,a=K(c=>{e==null||e.setAnchorElement(c.currentTarget),u==null||u(c)});return o=de(o,c=>C.jsx(_t,{value:e,children:c}),[e]),o=w(b({},o),{onClick:a}),o=Te(b({store:e},o)),o=He(b({store:e},o)),o});_(function(n){const r=Ne(n);return N(Qt,r)});var je=we([Ce],[ge]),Xt=je.useContext,Yt=je.useScopedContext;M.createContext(void 0);var Z=we([Ce,tt],[ge,et]),Le=Z.useContext,Ke=Z.useScopedContext,oe=Z.useProviderContext,Re=Z.ContextProvider,Zt=Z.ScopedContextProvider;M.createContext(void 0);function en(t={}){var n=t,{combobox:r,parent:e,menubar:o}=n,s=pt(n,["combobox","parent","menubar"]);const u=!!o&&!e,a=At(s.store,kt(e,["values"]),Dt(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),c=a.getState(),d=Mt(J(j({},s),{store:a,orientation:W(s.orientation,c.orientation,"vertical")})),l=nt(J(j({},s),{store:a,placement:W(s.placement,c.placement,"bottom-start"),timeout:W(s.timeout,c.timeout,u?0:150),hideTimeout:W(s.hideTimeout,c.hideTimeout,0)})),v=J(j(j({},d.getState()),l.getState()),{initialFocus:W(c.initialFocus,"container"),values:W(s.values,c.values,s.defaultValues,{})}),f=Ae(v,d,l,a);return be(f,()=>he(f,["mounted"],i=>{i.mounted||f.setState("activeId",null)})),be(f,()=>he(e,["orientation"],i=>{f.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),J(j(j(j({},d),l),f),{combobox:r,parent:e,menubar:o,hideAll:()=>{l.hide(),e==null||e.hideAll()},setInitialFocus:i=>f.setState("initialFocus",i),setValues:i=>f.setState("values",i),setValue:(i,S)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||f.setState("values",p=>{const m=p[i],y=bt(S,m);return y===m?p:J(j({},p),{[i]:y!==void 0&&y})}))}})}function tn(t,n,r){return Pe(n,[r.combobox,r.parent,r.menubar]),ke(t,r,"values","setValues"),Object.assign(rt(wt(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function nn(t={}){const n=Le(),r=Xt(),e=Pt();t=w(b({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=De(en,t);return tn(o,s,t)}var rn="div";function on(t){var n=t,{store:r}=n,e=A(n,["store"]);const[o,s]=M.useState(void 0),u=e["aria-label"],a=$(r,"disclosureElement"),c=$(r,"contentElement");return M.useEffect(()=>{const d=a;if(!d)return;const l=c;if(!l)return;u||l.hasAttribute("aria-label")?s(void 0):d.id&&s(d.id)},[u,a,c]),o}var Be=F(function(n){var r=n,{store:e,alwaysVisible:o,composite:s}=r,u=A(r,["store","alwaysVisible","composite"]);const a=oe();e=e||a,R(e,!1);const c=e.parent,d=e.menubar,l=!!c,v=Oe(u.id),f=u.onKeyDown,i=e.useState(g=>g.placement.split("-")[0]),S=e.useState(g=>g.orientation==="both"?void 0:g.orientation),p=S!=="vertical",m=$(d,g=>!!g&&g.orientation!=="vertical"),y=K(g=>{if(f==null||f(g),!g.defaultPrevented){if(l||d&&!p){const k={ArrowRight:()=>i==="left"&&!p,ArrowLeft:()=>i==="right"&&!p,ArrowUp:()=>i==="bottom"&&p,ArrowDown:()=>i==="top"&&p}[g.key];if(k!=null&&k())return g.stopPropagation(),g.preventDefault(),e==null?void 0:e.hide()}if(d){const k={ArrowRight:()=>{if(m)return d.next()},ArrowLeft:()=>{if(m)return d.previous()},ArrowDown:()=>{if(!m)return d.next()},ArrowUp:()=>{if(!m)return d.previous()}}[g.key],B=k==null?void 0:k();B!==void 0&&(g.stopPropagation(),g.preventDefault(),d.move(B))}}});u=de(u,g=>C.jsx(Zt,{value:e,children:g}),[e]);const h=on(b({store:e},u)),D=e.useState("mounted"),E=Tt(D,u.hidden,o),P=E?w(b({},u.style),{display:"none"}):u.style;u=w(b({id:v,"aria-labelledby":h,hidden:E},u),{ref:Y(v?e.setContentElement:null,u.ref),style:P,onKeyDown:y});const T=!!e.combobox;return s=s??!T,s&&(u=b({role:"menu","aria-orientation":S},u)),u=Ot(b({store:e,composite:s},u)),u=fe(b({store:e,typeahead:!T},u)),u});_(function(n){const r=Be(n);return N(rn,r)});var un="div",sn=F(function(n){var r=n,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:u=!0,autoFocusOnShow:a=!0,hideOnHoverOutside:c,alwaysVisible:d}=r,l=A(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const v=oe();e=e||v,R(e,!1);const f=M.useRef(null),i=e.parent,S=e.menubar,p=!!i,m=!!S&&!p;l=w(b({},l),{ref:Y(f,l.ref)});const y=Be(b({store:e,alwaysVisible:d},l)),{"aria-labelledby":h}=y;l=A(y,["aria-labelledby"]);const[E,P]=M.useState(),T=e.useState("autoFocusOnShow"),g=e.useState("initialFocus"),z=e.useState("baseElement"),k=e.useState("renderedItems");M.useEffect(()=>{let H=!1;return P(O=>{var te,me,pe;if(H||!T)return;if((te=O==null?void 0:O.current)!=null&&te.isConnected)return O;const ne=M.createRef();switch(g){case"first":ne.current=((me=k.find(X=>!X.disabled&&X.element))==null?void 0:me.element)||null;break;case"last":ne.current=((pe=[...k].reverse().find(X=>!X.disabled&&X.element))==null?void 0:pe.element)||null;break;default:ne.current=z}return ne}),()=>{H=!0}},[e,T,g,k,z]);const B=p?!1:o,x=!!a,I=!!E||!!l.initialFocus||!!B,G=$(e.combobox||e,"contentElement"),V=$((i==null?void 0:i.combobox)||i,"contentElement"),ee=M.useMemo(()=>{if(!V||!G)return;const H=G.getAttribute("role"),O=V.getAttribute("role");if(!((O==="menu"||O==="menubar")&&H==="menu"))return V},[G,V]);return ee!==void 0&&(l=b({preserveTabOrderAnchor:ee},l)),l=ot(w(b({store:e,alwaysVisible:d,initialFocus:E,autoFocusOnShow:x?I&&a:T||!!B},l),{hideOnEscape(H){return ht(u,H)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(H){const O=e==null?void 0:e.getState().disclosureElement;return(typeof c=="function"?c(H):c??(p?!0:m?O?!Q(O):!0:!1))?H.defaultPrevented||!p||!O||(vt(O,"mouseout",H),!Q(O))?!0:(requestAnimationFrame(()=>{Q(O)||e==null||e.hide()}),!1):!1},modal:B,portal:s,backdrop:p?!1:l.backdrop})),l=b({"aria-labelledby":h},l),l}),an=ut(_(function(n){const r=sn(n);return N(un,r)}),oe);function ln(t={}){const n=nn(t);return C.jsx(Re,{value:n,children:t.children})}var cn="button";function dn(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function ve(t,n){return!!(t!=null&&t.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true"))}var fn=F(function(n){var r=n,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:u}=r,a=A(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const c=oe();e=e||c,R(e,!1);const d=M.useRef(null),l=e.parent,v=e.menubar,f=!!l,i=!!v&&!f,S=xt(a),p=()=>{const x=d.current;x&&(e==null||e.setDisclosureElement(x),e==null||e.setAnchorElement(x),e==null||e.show())},m=a.onFocus,y=K(x=>{if(m==null||m(x),S||x.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!v)||!i)return;const{items:I}=v.getState();ve(I,x.currentTarget)&&p()}),h=$(e,x=>x.placement.split("-")[0]),D=a.onKeyDown,E=K(x=>{if(D==null||D(x),S||x.defaultPrevented)return;const I=dn(x,h);I&&(x.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(I))}),P=a.onClick,T=K(x=>{if(P==null||P(x),x.defaultPrevented||!e)return;const I=!x.detail,{open:G}=e.getState();(!G||I)&&((!f||I)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(I?"first":"container")),f&&p()});a=de(a,x=>C.jsx(Re,{value:e,children:x}),[e]),f&&(a=w(b({},a),{render:C.jsx(le.div,{render:a.render})}));const g=Oe(a.id),z=$((l==null?void 0:l.combobox)||l,"contentElement"),k=f||i?Ee(z,"menuitem"):void 0,B=e.useState("contentElement");return a=w(b({id:g,role:k,"aria-haspopup":Se(B,"menu")},a),{ref:Y(d,a.ref),onFocus:y,onKeyDown:E,onClick:T}),a=st(w(b({store:e,focusable:o,accessibleWhenDisabled:s},a),{showOnHover:x=>{if(!(()=>{if(typeof u=="function")return u(x);if(u!=null)return u;if(f)return!0;if(!v)return!1;const{items:ee}=v.getState();return i&&ve(ee)})())return!1;const V=i?v:l;return V&&V.setActiveId(x.currentTarget.id),!0}})),a=Ne(b({store:e,toggleOnClick:!f,focusable:o,accessibleWhenDisabled:s},a)),a=fe(b({store:e,typeahead:i},a)),a}),mn=_(function(n){const r=fn(n);return N(cn,r)}),pn="div";function bn(t,n,r){var e;if(!t)return!1;if(Q(t))return!0;const o=n==null?void 0:n.find(c=>{var d;return c.element===r?!1:((d=c.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),s=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const a=Me(t).getElementById(s);return a?Q(a)?!0:!!a.querySelector("[role=menuitem][aria-expanded=true]"):!1}var $e=F(function(n){var r=n,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:u,blurOnHoverEnd:a}=r,c=A(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=Ke(!0),l=Yt();e=e||d||l,R(e,!1);const v=c.onClick,f=ae(o),i="hideAll"in e?e.hideAll:void 0,S=!!i,p=K(h=>{v==null||v(h),!(h.defaultPrevented||gt(h)||Ct(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&f(h)&&i()}),m=$(e,h=>"contentElement"in h?h.contentElement:null),y=Ee(m,"menuitem");return c=w(b({role:y},c),{onClick:p}),c=Ze(b({store:e,preventScrollOnKeyDown:s},c)),c=_e(w(b({store:e},c),{focusOnHover(h){const D=()=>typeof u=="function"?u(h):u??!0;if(!e||!D())return!1;const{baseElement:E,items:P}=e.getState();return S?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):bn(E,P,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof a=="function"?a(h):a??S}})),c}),hn=ce(_(function(n){const r=$e(n);return N(pn,r)})),vn="div";function xn(t){return Array.isArray(t)?t.toString():t}function se(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=xn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):r?e:t===e?!1:t}var gn=F(function(n){var r=n,{store:e,name:o,value:s,checked:u,defaultChecked:a,hideOnClick:c=!1}=r,d=A(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const l=Ke();e=e||l,R(e,!1);const v=St(a);M.useEffect(()=>{e==null||e.setValue(o,(i=[])=>v?se(i,s,!0):i)},[e,o,s,v]),M.useEffect(()=>{u!==void 0&&(e==null||e.setValue(o,i=>se(i,s,u)))},[e,o,s,u]);const f=Wt({value:e.useState(i=>i.values[o]),setValue(i){e==null||e.setValue(o,()=>{if(u===void 0)return i;const S=se(i,s,u);return!Array.isArray(S)||!Array.isArray(i)?S:yt(i,S)?i:S})}});return d=b({role:"menuitemcheckbox"},d),d=Nt(b({store:f,name:o,value:s,checked:u},d)),d=$e(b({store:e,hideOnClick:c},d)),d}),Cn=ce(_(function(n){const r=gn(n);return N(vn,r)}));const Ve=U((t,n)=>C.jsx(le.div,{role:"listitem",...t,className:q("-list-item",t.className),ref:n})),We=U((t,n)=>C.jsx(Ue,{...t,variant:"body-sm",className:q("-list-item-content",t.className),ref:n})),qe=U((t,n)=>C.jsx(le.span,{...t,className:q("-list-item-decoration",t.className),ref:n}));function Bn(t){const{children:n,placement:r,open:e,setOpen:o,defaultOpen:s}=t;return C.jsx(ln,{placement:r,defaultOpen:s,open:e,setOpen:o,children:n})}const $n=U((t,n)=>{const r=Xe(Le());return C.jsx(an,{portal:r.portal,unmountOnHide:!0,...t,gutter:4,style:{...r.style,...t.style},wrapperProps:r.wrapperProps,className:q("-dropdown-menu",t.className),ref:n})}),Vn=U((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...o}=t;return C.jsx(mn,{accessibleWhenDisabled:!0,render:C.jsxs(ze,{accessibleWhenDisabled:r,children:[e,C.jsx(Je,{})]}),...o,className:q("-dropdown-menu-button",t.className),ref:n})}),Wn=U((t,n)=>{const{shortcuts:r,...e}=t,o=M.useMemo(()=>typeof r=="string"?r.split("+").map(u=>u.trim()):[],[r]),s=o.length>0;return C.jsxs(hn,{accessibleWhenDisabled:!0,...e,render:C.jsx(Ve,{render:t.render}),className:q("-dropdown-menu-item",t.className),ref:n,children:[C.jsx(We,{children:t.children}),s&&C.jsx(qe,{className:"-dropdown-menu-item-shortcuts",children:o.map((u,a)=>C.jsx(Ge,{variant:"ghost",children:u},`${u+a}`))})]})}),qn=U((t,n)=>C.jsxs(Cn,{accessibleWhenDisabled:!0,value:t.defaultChecked?"on":void 0,...t,render:C.jsx(Ve,{render:t.render}),className:q("-dropdown-menu-item",t.className),ref:n,children:[C.jsx(We,{children:t.children}),C.jsx(qe,{render:C.jsx(Qe,{className:"-dropdown-menu-checkmark"})})]}));export{Bn as D,Vn as a,$n as b,Wn as c,qn as d};
