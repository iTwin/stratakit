import{p as t,b as u}from"./index-DDCMeoDP.js";import{Q as R,N as y,S as A,U as E,F as V,G as B,J as G,K as M,bc as H,ao as W,bd as z,L as C,m as f,b2 as J,d as b,be as v,bf as Q,p as x,I as T,b as U,bg as Z,bh as $}from"./~utils-DVppW3fu.js";import{c as q,u as O,a as X,b as Y,C as ee}from"./ITI7HKP4-BwRKX5gX.js";import{a as oe,b as I,L as N}from"./~utils.ListItem-C2OnIyoZ.js";function te(e={}){var r;const o=(r=e.store)==null?void 0:r.getState();return q(R(A({},e),{orientation:y(e.orientation,o==null?void 0:o.orientation,"horizontal"),focusLoop:y(e.focusLoop,o==null?void 0:o.focusLoop,!0)}))}function re(e,r,o){return O(e,r,o)}function se(e={}){const[r,o]=E(te,e);return re(r,o,e)}var ae="div",ie=B(function(r){var o=r,{store:i,orientation:l,virtualFocus:j,focusLoop:m,rtl:p}=o,a=M(o,["store","orientation","virtualFocus","focusLoop","rtl"]);const D=H();i=i||D;const d=se({store:i,orientation:l,virtualFocus:j,focusLoop:m,rtl:p}),h=d.useState(n=>n.orientation==="both"?void 0:n.orientation);return a=W(a,n=>t.jsx(z,{value:d,children:n}),[d]),a=C({role:"toolbar","aria-orientation":h},a),a=X(C({store:d},a)),a}),ne=V(function(r){const o=ie(r);return G(ae,o)});const le=u.createContext(void 0),ve=f((e,r)=>{const{"aria-level":o,selected:i,expanded:l,icon:j,unstable_decorations:m,label:p,description:a,actions:D,error:d,onSelectedChange:h,onExpandedChange:n,onClick:F,onKeyDown:P,...L}=e,S=s=>{i!==void 0&&(s.stopPropagation(),h==null||h(!i))},K=s=>{s.altKey||s.ctrlKey||s.metaKey||s.shiftKey||l!==void 0&&(s.key==="ArrowRight"||s.key==="ArrowLeft")&&(s.preventDefault(),n==null||n(s.key==="ArrowRight"))},w=u.useId(),k=u.useId(),g=u.useId(),c=d?t.jsx(Z,{}):j,_=u.useMemo(()=>{const s=[];return a&&s.push(k),(m||c)&&s.push(g),s.length>0?s.join(" "):void 0},[m,c,g,a,k]);return t.jsx(le.Provider,{value:u.useMemo(()=>({level:o,expanded:l,selected:i}),[o,l,i]),children:t.jsx(J,{render:t.jsx(x,{...L}),onClick:v(F,S),onKeyDown:v(P,K),role:"treeitem","aria-expanded":l,"aria-selected":i,"aria-labelledby":w,"aria-describedby":_,"aria-level":o,className:b("-tree-item",e.className),ref:r,children:t.jsxs(oe,{"data-kiwi-expanded":l,"data-kiwi-selected":i,"data-kiwi-error":d?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":o},role:void 0,children:[t.jsxs(I,{children:[t.jsx(Q,{align:a?"block":void 0,children:t.jsx(de,{onClick:()=>{l!==void 0&&(n==null||n(!l))}})}),c||m?t.jsx(x,{className:"-tree-item-decoration",id:g,render:u.isValidElement(c)?c:typeof c=="string"?t.jsx(T,{href:c}):void 0,children:c?null:m}):null]}),t.jsx(N,{id:w,className:"-tree-item-content",children:p}),a?t.jsx(N,{id:k,className:"-tree-item-description",children:a}):void 0,t.jsx(I,{render:t.jsx(ce,{children:D})})]})})})}),ce=f((e,r)=>t.jsx(ne,{...e,onClick:v(e.onClick,o=>o.stopPropagation()),onKeyDown:v(e.onKeyDown,o=>o.stopPropagation()),className:b("-tree-item-actions-container",e.className),ref:r,children:e.children})),xe=f((e,r)=>{const{visible:o,...i}=e;return t.jsx(U,{inert:o===!1?!0:void 0,...i,variant:"ghost",className:b("-tree-item-action",e.className),"data-kiwi-visible":o,ref:r})}),de=f((e,r)=>t.jsx(x.span,{"aria-hidden":"true",...e,onClick:v(e.onClick,o=>o.stopPropagation()),className:b("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":$(),ref:r,children:t.jsx(ue,{})})),ue=f((e,r)=>t.jsx(T,{...e,render:t.jsx(x.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:t.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:b("-tree-chevron",e.className),ref:r})),je=f((e,r)=>{const o=Y({orientation:"vertical"});return t.jsx(x.div,{role:"tree",...e,render:t.jsx(ee,{store:o}),className:b("-tree",e.className),ref:r,children:e.children})});export{je as T,ve as a,xe as b};
