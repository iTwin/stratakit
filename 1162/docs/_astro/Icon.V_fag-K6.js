import{j as S,R as D,c as N,a as $,u as E,H as U,b as z,s as F}from"./ExamplePreview.We0-YOdb.js";import{r as d}from"./index.CtNveh2g.js";import{f as j,g as I,p as A}from"./styles.internal.oMsq5KxP.js";const R="#icon",L=j((e,n)=>{const{href:s,size:i,alt:o,...f}=e,a=!o,t=k(s);return S.jsx(D.svg,{"aria-hidden":a?"true":void 0,role:a?void 0:"img","aria-label":a?void 0:o,...f,"data-_sk-size":i,className:N("ðŸ¥Icon",e.className),ref:n,children:t?S.jsx("use",{href:_(t)}):null})});L.displayName="Icon";function _(e){return e.includes("#")?e:`${e}${R}`}function k(e){const n=d.useId(),s=$(E(U)),i=z(),o=d.useRef(void 0),f=()=>{const t=I(i);if(!(!e||!t))return x(e,t)?e:o.current},a=d.useCallback(t=>{const r=I(i),h=r?.getElementById(F);if(!e||!r||!h)return()=>{};if(x(e,r))return()=>{};const u=h[Symbol.for("ðŸ¥")]?.icons;if(!u)return()=>{};const p=`ðŸ¥${n}`;if(u.has(e))return o.current=u.get(e),t(),()=>{};const b=new AbortController,{signal:m}=b;return(async()=>{try{const c=new URL(e,r.baseURI),v=c.hash||R;c.hash="";const g=await fetch(c.href,{signal:m});if(!g.ok)throw new Error(`Failed to fetch ${c.href}`);const y=s.current(await g.text()),C=A(y,{ownerDocument:r}).querySelectorAll("symbol");for(const l of C)l.id=`${p}--${l.id}`,!r.getElementById(l.id)&&h.appendChild(l.cloneNode(!0));o.current=`#${p}--${v.slice(1)}`,u.set(e,o.current),m.aborted||t()}catch(c){if(m.aborted)return;console.error(c)}})(),()=>b.abort()},[e,i,s,n]);return d.useSyncExternalStore(a,f,()=>e)}function x(e,n){const{protocol:s}=new URL(e,n.baseURI);return["http:","https:"].includes(s)}export{L as I};
