import{w as Z}from"./~utils-BuKH_XhK.js";import{t as ee,a as t,n as e}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{a as D}from"./index-Dr3kRIaJ.js";import{B as ne}from"./Button-GPjBmsog.js";import{D as L,a as X,b as G,c as u}from"./DropdownMenu-Cuss0LEE.js";import{I as v}from"./Icon-C4TuYIIj.js";import{I as A}from"./IconButton-6FWeeDRR.js";import{S as te,H as se}from"./Select-BLvBJpat.js";import{T as ae,a as z,b as le,c as w}from"./Tabs-Cjg12pv4.js";import{T as O}from"./Text-BIOJgVYR.js";import{T as re,a as ie,b as oe}from"./TextBox-f_io1z59.js";import{V as ce}from"./VisuallyHidden-mupLk8qe.js";import{T as de,a as ue}from"./Tree-Dzguttbd.js";import{p as y}from"./placeholder-DUztH1Y9.js";import{p as he,l as xe,d as pe,h as fe,m as me,s as k,a as je,f as be}from"./state-inherited-dot-DUzSK3GJ.js";import{s as Ce}from"./visibility-show-D95x2L7g.js";import"./index-jyeBNHV5.js";import"./KUU7WJ55-CvL3dvMd.js";import"./LVA2YJMS-BcAd7OG7.js";import"./XL7CSKGW-Cbj4nsUL.js";import"./Kbd-w5YbJL_k.js";import"./P2CTZE2T-0Rzru3XZ.js";import"./YV4JVR4I-xwnP9gdF.js";import"./BYC7LY2E-CObN0stx.js";import"./VGCJ63VH-DSv0_UDk.js";import"./MTZPJQMC-DqSkNd1t.js";import"./VEVQD5MH-CQQzOww7.js";import"./ITI7HKP4-DgilCbB6.js";import"./P4IRICAX-BKhJmoZW.js";import"./ASMQKSDT-B4DAV8zs.js";import"./Tooltip--mQR88bJ.js";import"./Field-CakA-67p.js";import"./~hooks-Wdjhtx2E.js";import"./ListItem-DeA1AzYL.js";const ge="_appLayout_1i745_5",_e="_header_1i745_22",Se="_platformBar_1i745_32",Ae="_logo_1i745_38",Pe="_tools_1i745_48",ve="_leftPanel_1i745_58",Ie="_panelHeader_1i745_70",Me="_panelTitleWrapper_1i745_78",ye="_panelCaption_1i745_82",Re="_shiftIconRight_1i745_86",Ne="_subheader_1i745_90",Be="_subheaderTitle_1i745_101",Te="_searchInput_1i745_106",De="_subheaderActions_1i745_110",ze="_tabList_1i745_114",we="_emptyState_1i745_119",ke="_canvasWrapper_1i745_128",Ee="_canvas_1i745_128",Ke="_splitter_1i745_165",Le="_tabPanel_1i745_207",Xe="_tree_1i745_213",Ge="_action_1i745_217",Oe="_actionIcon_1i745_223",He="_slider_1i745_234",o={appLayout:ge,header:_e,platformBar:Se,logo:Ae,tools:Pe,leftPanel:ve,panelHeader:Ie,panelTitleWrapper:Me,panelCaption:ye,shiftIconRight:Re,subheader:Ne,subheaderTitle:Be,searchInput:Te,subheaderActions:De,tabList:ze,emptyState:we,canvasWrapper:ke,canvas:Ee,splitter:Ke,tabPanel:Le,tree:Xe,action:Ge,actionIcon:Oe,slider:He},H="Kiwi sandbox",kn=()=>[{title:H}],En=Z(function(){const[c,l]=ee(),r=c.get("tree"),h=t.useMemo(()=>({"epoch-1":"Epoch System iModel 1","epoch-2":"Epoch System iModel 2"}),[]),[i,j]=t.useState(r==="empty"?"epoch-2":"epoch-1"),x=t.useCallback(d=>{j(d),l(s=>(d==="epoch-2"?s.set("tree","empty"):s.delete("tree"),s))},[l]);return e.jsxs(We,{panelContent:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:o.panelHeader,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx(te,{className:o.panelTitleWrapper,children:e.jsx(se,{variant:"ghost",value:i,onChange:d=>x(d.target.value),"aria-label":"Choose Model",children:Object.entries(h).map(([d,s])=>e.jsx("option",{value:d,children:s},d))})}),e.jsx(ce,{render:d=>e.jsx("h2",{...d}),children:h[i]}),e.jsx("p",{className:o.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:o.actions,children:e.jsx(A,{className:o.shiftIconRight,icon:he,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsxs(ae,{children:[e.jsx(Ze,{}),e.jsx(z,{tabId:"simple",className:o.tabPanel,focusable:!1,children:e.jsx(E,{tree:i==="epoch-2"?"empty":"simple"})}),e.jsx(z,{tabId:"complex",className:o.tabPanel,focusable:!1,children:e.jsx(E,{tree:i==="epoch-2"?"empty":"complex"})})]})]}),children:[e.jsxs("header",{className:o.header,children:[e.jsx("div",{className:o.logo,children:e.jsx(v,{href:y,size:"large"})}),e.jsx(O,{render:d=>e.jsx("h1",{...d}),variant:"body-md",children:H})]}),e.jsx("div",{className:o.platformBar,children:e.jsxs("div",{className:o.tools,children:[e.jsx(v,{href:y,size:"large"}),e.jsx(v,{href:y,size:"large"}),e.jsx(v,{href:y,size:"large"})]})}),e.jsx("div",{className:o.canvasWrapper,children:e.jsx("div",{className:o.canvas})})]})});function We(a){const{sliderProps:c,panelProps:l,panelMinSize:r,panelMaxSize:h,resizing:i}=$e({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs("div",{className:o.appLayout,style:{"--_panel-min-size":r,"--_panel-max-size":h},children:[e.jsx("div",{...l,className:o.leftPanel,style:{position:"relative",...l.style},children:a.panelContent}),e.jsx("div",{className:o.splitter,"data-resizing":i?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:o.slider,...c})}),a.children]})}function Fe({children:a}){return e.jsx("div",{className:o.emptyState,children:a})}function Ve(a,c,l){return Math.min(Math.max(a,c),l)}function $e(a){const{minSize:c,maxSize:l,onCollapse:r}=a,h=t.useId(),i=t.useRef(null),[j,x]=t.useState(void 0),[d,s]=t.useState(void 0),[f,b]=t.useState(void 0),[g,R]=t.useState(!1),[I,N]=t.useState(void 0),C=t.useMemo(()=>{if(c&&d)return Math.min(c.px,c.pct/100*d)},[c,d]),S=t.useMemo(()=>{if(C&&l&&d)return Math.max(C,l.pct/100*d)},[l,d,C]),P=t.useMemo(()=>{if(f==="smallest")return C??0;if(f==="largest")return S??0;if(j&&C&&S)return Ve(j,C,S)},[j,C,S,f]);t.useEffect(()=>{const p=i.current;if(!p)return;const m=p.parentElement;if(!m)return;const _=new ResizeObserver(()=>{const B=m.getBoundingClientRect(),T=p.getBoundingClientRect();s(B.width),x(T.width)});return _.observe(m),_.observe(p),()=>{_.disconnect()}},[]);const F=t.useCallback(p=>{const m=i.current;if(!m)return;const _=m.getBoundingClientRect();N(_.width+p),b(void 0),R(!0)},[]),V=t.useCallback(p=>{const m=i.current;if(!m)return;const _=m.parentElement;if(!_)return;const B=_.getBoundingClientRect(),T=p*(B.width*.005),Y=m.getBoundingClientRect();N(Y.width+T),b(void 0)},[]),$=t.useCallback(()=>{i.current&&(N(void 0),R(!1))},[]),{moveableProps:M}=Ue({onMove:F,onMoveEnd:$,onKeyMove:V}),U=t.useMemo(()=>({...M,onKeyDown:p=>{var m;if((m=M.onKeyDown)==null||m.call(M,p),!p.defaultPrevented)switch(p.key){case"Enter":p.preventDefault(),r==null||r();break;case"Home":p.preventDefault(),b("smallest");break;case"End":p.preventDefault(),b("largest");break}},onChange:p=>{if(g)return;const m=Number(p.target.value);N(m)},value:P===void 0?0:Math.floor(P),min:C===void 0?void 0:Math.floor(C),max:S===void 0?void 0:Math.floor(S)}),[M,P,C,S,r,g]),q=t.useMemo(()=>({style:{WebkitUserSelect:I===void 0?void 0:"none"},id:h,ref:i}),[h,I]),J=C===void 0?void 0:`${Math.floor(C)}px`,Q=t.useMemo(()=>{if(I!==void 0&&l!==void 0&&f===void 0)return`min(${Math.floor(I)}px, ${l.pct}%)`;if(P!==void 0)return`${Math.floor(P)}px`},[l,I,P,f]);return{sliderProps:U,panelProps:q,panelMinSize:J,panelMaxSize:Q,resizing:g}}function Ue(a){const{onMove:c,onMoveEnd:l,onKeyMove:r}=a,h=t.useRef(null),i=t.useRef(void 0),j=t.useRef(void 0),x=t.useCallback(()=>{j.current!==void 0&&(j.current=void 0,l==null||l())},[l]);return{moveableProps:t.useMemo(()=>({onPointerDown:s=>{if(s.button!==0||s.ctrlKey)return;const f=h.current;if(!f)return;const b=f.getBoundingClientRect(),g=s.clientX-b.left;j.current=g,s.preventDefault(),f.setPointerCapture(s.pointerId)},onPointerMove:s=>{const f=j.current;if(f===void 0)return;const b=h.current;if(!b)return;const g=b.getBoundingClientRect(),R=s.clientX-f-g.left;s.preventDefault(),c==null||c(R)},onPointerUp:x,onPointerCancel:x,onKeyDown:s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowLeft":s.preventDefault(),r==null||r(-1);break;case"ArrowRight":s.preventDefault(),r==null||r(1);break}},ref:s=>{var b;if(h.current=s,(b=i.current)==null||b.call(i),i.current=void 0,!s)return;const f=g=>{g.preventDefault()};s.addEventListener("touchstart",f),i.current=()=>{s.removeEventListener("touchstart",f)}}}),[r,c,x])}}const W=t.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function E({tree:a}){const[c,l]=t.useState(),[r,h]=t.useState([]),i=t.useCallback(x=>{h(d=>d.includes(x)?d.filter(s=>s!==x):[...d,x])},[]),j=t.useMemo(()=>({selected:c,setSelected:l,hidden:r,toggleHidden:i}),[r,c,i]);return a==="empty"?e.jsxs(Fe,{children:[e.jsx(O,{children:"No layers"}),e.jsx(ne,{children:"Create a layer"})]}):e.jsx(W.Provider,{value:j,children:e.jsx(de,{className:o.tree,children:e.jsx(qe,{tree:a})})})}function qe({tree:a}){return a==="complex"?e.jsx(Qe,{}):a==="simple"?e.jsx(Je,{}):null}function Je(){return e.jsxs(e.Fragment,{children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1"})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1"})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access"})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})}function Qe(){return e.jsxs(e.Fragment,{children:[e.jsxs(n,{label:"ITC_Master",children:[e.jsx(n,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(n,{label:"002_Substation_A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(n,{label:"007-aa_master.dgn",children:[e.jsx(n,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(n,{label:"A-CLNG-LITE-A"})}),e.jsx(n,{label:"A-CLNG-TILE",children:e.jsxs(n,{label:"A-DOOR-2D-PLAN",children:[e.jsx(n,{label:"P00003 [2-KA62]",children:e.jsx(n,{label:"Cell [2-KA63]",children:e.jsxs(n,{label:"Cell [2-KA64]",children:[e.jsx(n,{label:"Complex Chain [2-KA6A]"}),e.jsx(n,{label:"Complex Chain [2-KA6B]"}),e.jsx(n,{label:"Complex Chain [2-KA6C]"}),e.jsx(n,{label:"Complex Chain [2-KA6D]"}),e.jsx(n,{label:"Complex Chain [2-KA6E]"}),e.jsx(n,{label:"Complex Chain [2-KA6F]"}),e.jsx(n,{label:"Complex Chain [2-KA6G]"}),e.jsx(n,{label:"Complex Chain [2-KA6H]"}),e.jsx(n,{label:"Complex Chain [2-KA61]"}),e.jsx(n,{label:"Complex Chain [2-KA65]"}),e.jsx(n,{label:"Complex Chain [2-KA66]"}),e.jsx(n,{label:"Complex Chain [2-KA67]"}),e.jsx(n,{label:"Complex Chain [2-KA68]"}),e.jsx(n,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(n,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA98-A]"})}),e.jsx(n,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(n,{label:"ITC_Main"})]})}const K=t.createContext({selected:!1,hidden:!1});function n(a){const c=t.useContext(W),l=t.useContext(K),r=t.useId(),[h,i]=t.useState(a.defaultCollapsed===void 0?!0:!a.defaultCollapsed),j=t.Children.count(a.children)>0,x=t.useMemo(()=>l.hidden?!0:c.hidden.includes(r),[r,c.hidden,l.hidden]),d=l.selected||r===c.selected,s=t.useCallback(f=>{c.setSelected(f?r:void 0)},[r,c]);return e.jsx(K.Provider,{value:t.useMemo(()=>({selected:d,hidden:x}),[x,d]),children:e.jsx(ue,{expanded:j?h:void 0,onExpandedChange:i,selected:d,onSelectedChange:s,icon:e.jsx(v,{href:y,style:{display:"inline"}}),label:a.label,actions:e.jsxs(e.Fragment,{children:[e.jsx(A,{className:o.action,icon:xe,label:"Lock",variant:"ghost","aria-hidden":x}),l.hidden?e.jsx("span",{className:o.actionIcon,children:e.jsx(v,{href:pe})}):e.jsx(A,{className:o.action,icon:x?fe:Ce,label:x?"Show":"Hide",variant:"ghost",onClick:()=>{c.toggleHidden(r)}}),e.jsx(Ye,{hidden:x})]}),children:h?a.children:void 0})})}function Ye({hidden:a}){return e.jsxs(L,{children:[e.jsx(X,{className:o.action,"aria-hidden":a,render:e.jsx(A,{icon:me,label:"More",variant:"ghost"})}),e.jsxs(G,{style:{minInlineSize:164},children:[e.jsx(u,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(u,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(u,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(u,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(u,{shortcuts:"]",children:"Bring to front"}),e.jsx(u,{shortcuts:"[",children:"Send to back"}),e.jsx(u,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(u,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(u,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(u,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(u,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(u,{shortcuts:"I",children:"Isolate object"})]})]})}function Ze(){const[a,c]=t.useState(!1),l=t.useRef(null),r=t.useRef(null),h=a?e.jsxs(e.Fragment,{children:[e.jsx(en,{}),e.jsx(A,{className:o.shiftIconRight,icon:je,label:"Close",variant:"ghost",onClick:()=>{var i;D.flushSync(()=>c(!1)),(i=r.current)==null||i.focus()}})]}):e.jsx(A,{className:o.shiftIconRight,icon:k,label:"Search",variant:"ghost",onClick:()=>{var i;D.flushSync(()=>c(!0)),(i=l.current)==null||i.focus()}});return e.jsxs("div",{className:o.subheader,children:[a?void 0:e.jsxs(le,{className:o.tabList,tone:"accent",ref:r,children:[e.jsx(w,{id:"simple",children:"Simple"}),e.jsx(w,{id:"complex",children:"Complex"})]}),a?e.jsxs(re,{className:o.searchInput,children:[e.jsx(ie,{href:k}),e.jsx(oe,{placeholder:"Search",ref:l})]}):null,e.jsx("div",{className:o.subheaderActions,children:h})]})}function en(){return e.jsxs(L,{children:[e.jsx(X,{render:e.jsx(A,{icon:be,label:"Filter",variant:"ghost"})}),e.jsxs(G,{style:{minInlineSize:164},children:[e.jsx(u,{children:"Show all"}),e.jsx(u,{children:"Guides"}),e.jsx(u,{children:"Other"}),e.jsx(u,{children:"Roadway"}),e.jsx(u,{children:"Parking"}),e.jsx(u,{children:"Building"}),e.jsx(u,{children:"Dry utility"}),e.jsx(u,{children:"Stormwater"}),e.jsx(u,{children:"Sewer"}),e.jsx(u,{children:"Boundary"}),e.jsx(u,{children:"Map"})]})]})}export{En as default,kn as meta};
