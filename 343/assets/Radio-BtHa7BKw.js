import{a as m,n as x}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as D}from"./index-jyeBNHV5.js";import{a as U}from"./Field-BRRqb1CP.js";import{H as j,c as A,_ as T,P as w,Q as B,a2 as H,U as $,a3 as M,m as p,g as O,u as Q,b as v,r as W,n as q,d as z,e as G,f as J,a1 as K}from"./~utils-Dg-MnoLN.js";import{C as L,a as V,b as X}from"./P2CTZE2T-Ck7zCoL8.js";var Y=j([V],[L]),Z=Y.useContext,R="input";function ee(a,t){if(t!==void 0)return a!=null&&t!=null?t===a:!!t}function ne(a,t){return a==="input"&&(!t||t==="radio")}var te=A(function(t){var u=t,{store:n,name:c,value:o,checked:C}=u,r=T(u,["store","name","value","checked"]);const g=Z();n=n||g;const s=w(r.id),f=m.useRef(null),d=B(n,e=>C??ee(o,e==null?void 0:e.value));m.useEffect(()=>{!s||!d||(n==null?void 0:n.getState().activeId)===s||n==null||n.setActiveId(s)},[n,d,s]);const b=r.onChange,P=H(f,R),i=ne(P,r.type),F=$(r),[y,I]=M();m.useEffect(()=>{const e=f.current;e&&(i||(d!==void 0&&(e.checked=d),c!==void 0&&(e.name=c),o!==void 0&&(e.value=`${o}`)))},[y,i,d,c,o]);const l=p(e=>{if(F){e.preventDefault(),e.stopPropagation();return}(n==null?void 0:n.getState().value)!==o&&(i||(e.currentTarget.checked=!0,I()),b==null||b(e),!e.defaultPrevented&&(n==null||n.setValue(o)))}),h=r.onClick,_=p(e=>{h==null||h(e),!e.defaultPrevented&&(i||l(e))}),k=r.onFocus,E=p(e=>{if(k==null||k(e),e.defaultPrevented||!i||!n)return;const{moves:S,activeId:N}=n.getState();S&&(s&&N!==s||l(e))});return r=O(v({id:s,role:i?void 0:"radio",type:i?"radio":void 0,"aria-checked":d},r),{ref:Q(f,r.ref),onChange:l,onClick:_,onFocus:E}),r=X(v({store:n,clickOnEnter:!i},r)),W(v({name:i?c:void 0,value:i?o:void 0,checked:d},r))}),re=q(z(function(t){const u=te(t);return G(R,u)}));const ue=J((a,t)=>{const u=U(a["aria-describedby"]);return x.jsx(K,{type:"checkable",id:a.id,render:x.jsx(re,{accessibleWhenDisabled:!0,...a,className:D("ğŸ¥-checkbox","ğŸ¥-radio",a.className),"aria-describedby":u,ref:t})})});export{ue as R};
