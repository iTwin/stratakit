import{p as a,b as c}from"./index-DDCMeoDP.js";import{k as j,l as v,m as T,_ as F,K as g,F as k,f as C,R as d,c as I}from"./~utils-B9Xqq0ul.js";import{u as R}from"./C3IKGW5T-aGg4uCj7.js";import{d as f}from"./YV4JVR4I-BOZKaIKz.js";import{a as D,C as w,b as y,c as p}from"./RZ4GPYOB-XfLPMmCL.js";var E="div",L=v(function(t){var e=t,{store:n}=e,s=F(e,["store"]);const l=D();return n=n||l,s=g(s,r=>a.jsx(w,{value:n,children:r}),[n]),k(s)}),N=j(function(t){const e=L(t);return T(E,e)});const K=C((o,t)=>{const{layout:e,...n}=o;return a.jsx(M,{render:a.jsx(d.div,{...n,className:I("ğŸ¥-field",o.className),"data-kiwi-layout":e,ref:t})})});function M(o){const t=R({defaultItems:[]}),e=f(t,"renderedItems"),[n,s]=c.useMemo(()=>{var i;const r=e.findIndex(m=>m.elementType==="control");return[(i=e[r])==null?void 0:i.controlType,r]},[e]),l=c.useMemo(()=>{const r=e.findIndex(i=>i.elementType==="label");if(!(s===-1||r===-1))return r<s?"before":"after"},[e,s]);return a.jsx(N,{...o,store:t,"data-kiwi-label-placement":l,"data-kiwi-control-type":n})}function U(o){const t=y(),e=c.useId(),{id:n=t?e:void 0,type:s,...l}=o,r=f(t,"renderedItems"),i=c.useMemo(()=>{var b;return((b=r==null?void 0:r.filter(u=>u.elementType==="description"))==null?void 0:b.map(u=>u.id).join(" "))||void 0},[r]),m=c.useCallback(x=>({...x,elementType:"control",controlType:s}),[s]);return a.jsx(p,{id:n,getItem:m,render:a.jsx(d,{...l,"aria-describedby":i})})}function P(o){const t=y(),e=f(t,"renderedItems"),n=c.useMemo(()=>{var l;return(l=e==null?void 0:e.find(r=>r.elementType==="control"))==null?void 0:l.id},[e]),s=c.useCallback(l=>({...l,elementType:"label"}),[]);return a.jsx(p,{getItem:s,render:a.jsx(d.label,{...o,htmlFor:n})})}function V(o){const t=c.useId(),{id:e=t,...n}=o,s=c.useCallback(l=>({...l,elementType:"description"}),[]);return a.jsx(p,{...n,id:e,getItem:s})}const W=C((o,t)=>a.jsx(P,{render:a.jsx(d.label,{...o,className:I("ğŸ¥-label",o.className),ref:t})}));export{K as F,W as L,V as a,U as b};
