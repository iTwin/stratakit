import{w as Z}from"./~utils-ChHMGsjo.js";import{n as e,a as n,t as ee}from"./chunk-K6AXKMTT-BHCV6zel.js";import{a as T}from"./index-B0znaqTz.js";import{B as te}from"./Button-Dzu8Ycyw.js";import{D as L,a as X,b as G,c as d}from"./DropdownMenu-mt3m7mgc.js";import{I as P}from"./Icon-Bc7nfctV.js";import{I as S}from"./IconButton-DhP8DM50.js";import{T as ne,a as z,b as se,c as w}from"./Tabs-BfMnVMKt.js";import{T as O}from"./Text-CZoq4tSz.js";import{T as ae,a as re,b as le}from"./TextBox-pOcuejsf.js";import{T as oe,a as ie}from"./Tree-DFOzIGpX.js";import{p as M}from"./placeholder-i0vhBqON.js";import{p as ce,l as de,d as he,h as ue,m as xe,s as K,a as pe,f as me}from"./state-inherited-dot-Ch8HbPiH.js";import{s as je}from"./visibility-show-Dn2boYof.js";import"./index-DeGJKKUv.js";import"./KUU7WJ55-BzFoYYyi.js";import"./LVA2YJMS-BoyOwnvI.js";import"./XL7CSKGW-DWaBDxUb.js";import"./Kbd-Cq5-4jwi.js";import"./VisuallyHidden-BP9HqvzW.js";import"./P2CTZE2T-Dc6QpFC1.js";import"./YV4JVR4I-I4X5ERHE.js";import"./BYC7LY2E-t-z_0C6Y.js";import"./VGCJ63VH-B3pkzvNN.js";import"./MTZPJQMC-JL08V7FT.js";import"./VEVQD5MH-OG2h05rd.js";import"./ITI7HKP4-BWzdjh-N.js";import"./P4IRICAX-BEG6FZ7o.js";import"./Tooltip-BLc4PUA3.js";import"./~hooks-DuYLhjin.js";import"./Field-yTJIy2wa.js";import"./ListItem-KFIqU5yd.js";const fe="_appLayout_1rhac_5",be="_header_1rhac_22",ve="_platformBar_1rhac_32",Ce="_logo_1rhac_38",_e="_tools_1rhac_48",ge="_leftPanel_1rhac_58",Se="_panelHeader_1rhac_70",Ae="_panelTitle_1rhac_78",Pe="_panelCaption_1rhac_84",Ie="_shiftIconRight_1rhac_88",Re="_subheader_1rhac_92",Me="_subheaderTitle_1rhac_103",ye="_searchInput_1rhac_108",Ne="_subheaderActions_1rhac_112",Be="_tabList_1rhac_116",De="_emptyState_1rhac_121",Te="_canvasWrapper_1rhac_130",ze="_canvas_1rhac_130",we="_splitter_1rhac_167",Ke="_tabPanel_1rhac_209",ke="_tree_1rhac_215",Ee="_action_1rhac_219",Le="_actionIcon_1rhac_227",Xe="_slider_1rhac_238",s={appLayout:fe,header:be,platformBar:ve,logo:Ce,tools:_e,leftPanel:ge,panelHeader:Se,panelTitle:Ae,panelCaption:Pe,shiftIconRight:Ie,subheader:Re,subheaderTitle:Me,searchInput:ye,subheaderActions:Ne,tabList:Be,emptyState:De,canvasWrapper:Te,canvas:ze,splitter:we,tabPanel:Ke,tree:ke,action:Ee,actionIcon:Le,slider:Xe},H="Kiwi sandbox",yt=()=>[{title:H}],Nt=Z(function(){return e.jsxs(Ge,{panelContent:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.panelHeader,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:s.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:s.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:s.actions,children:e.jsx(S,{className:s.shiftIconRight,icon:ce,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsxs(ne,{children:[e.jsx(qe,{}),e.jsx(z,{tabId:"simple",className:s.tabPanel,focusable:!1,children:e.jsx(k,{tree:"simple"})}),e.jsx(z,{tabId:"complex",className:s.tabPanel,focusable:!1,children:e.jsx(k,{tree:"complex"})})]})]}),children:[e.jsxs("header",{className:s.header,children:[e.jsx("div",{className:s.logo,children:e.jsx(P,{href:M,size:"large"})}),e.jsx(O,{render:a=>e.jsx("h1",{...a}),variant:"body-md",children:H})]}),e.jsx("div",{className:s.platformBar,children:e.jsxs("div",{className:s.tools,children:[e.jsx(P,{href:M,size:"large"}),e.jsx(P,{href:M,size:"large"}),e.jsx(P,{href:M,size:"large"})]})}),e.jsx("div",{className:s.canvasWrapper,children:e.jsx("div",{className:s.canvas})})]})});function Ge(i){const{sliderProps:a,panelProps:l,panelMinSize:r,panelMaxSize:x,resizing:c}=Fe({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs("div",{className:s.appLayout,style:{"--_panel-min-size":r,"--_panel-max-size":x},children:[e.jsx("div",{...l,className:s.leftPanel,style:{position:"relative",...l.style},children:i.panelContent}),e.jsx("div",{className:s.splitter,"data-resizing":c?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:s.slider,...a})}),i.children]})}function Oe({children:i}){return e.jsx("div",{className:s.emptyState,children:i})}function He(i,a,l){return Math.min(Math.max(i,a),l)}function Fe(i){const{minSize:a,maxSize:l,onCollapse:r}=i,x=n.useId(),c=n.useRef(null),[f,p]=n.useState(void 0),[m,o]=n.useState(void 0),[h,b]=n.useState(void 0),[C,y]=n.useState(!1),[I,N]=n.useState(void 0),v=n.useMemo(()=>{if(a&&m)return Math.min(a.px,a.pct/100*m)},[a,m]),g=n.useMemo(()=>{if(v&&l&&m)return Math.max(v,l.pct/100*m)},[l,m,v]),A=n.useMemo(()=>{if(h==="smallest")return v??0;if(h==="largest")return g??0;if(f&&v&&g)return He(f,v,g)},[f,v,g,h]);n.useEffect(()=>{const u=c.current;if(!u)return;const j=u.parentElement;if(!j)return;const _=new ResizeObserver(()=>{const B=j.getBoundingClientRect(),D=u.getBoundingClientRect();o(B.width),p(D.width)});return _.observe(j),_.observe(u),()=>{_.disconnect()}},[]);const W=n.useCallback(u=>{const j=c.current;if(!j)return;const _=j.getBoundingClientRect();N(_.width+u),b(void 0),y(!0)},[]),$=n.useCallback(u=>{const j=c.current;if(!j)return;const _=j.parentElement;if(!_)return;const B=_.getBoundingClientRect(),D=u*(B.width*.005),Y=j.getBoundingClientRect();N(Y.width+D),b(void 0)},[]),U=n.useCallback(()=>{c.current&&(N(void 0),y(!1))},[]),{moveableProps:R}=We({onMove:W,onMoveEnd:U,onKeyMove:$}),V=n.useMemo(()=>({...R,onKeyDown:u=>{var j;if((j=R.onKeyDown)==null||j.call(R,u),!u.defaultPrevented)switch(u.key){case"Enter":u.preventDefault(),r==null||r();break;case"Home":u.preventDefault(),b("smallest");break;case"End":u.preventDefault(),b("largest");break}},onChange:u=>{if(C)return;const j=Number(u.target.value);N(j)},value:A===void 0?0:Math.floor(A),min:v===void 0?void 0:Math.floor(v),max:g===void 0?void 0:Math.floor(g)}),[R,A,v,g,r,C]),q=n.useMemo(()=>({style:{WebkitUserSelect:I===void 0?void 0:"none"},id:x,ref:c}),[x,I]),J=v===void 0?void 0:`${Math.floor(v)}px`,Q=n.useMemo(()=>{if(I!==void 0&&l!==void 0&&h===void 0)return`min(${Math.floor(I)}px, ${l.pct}%)`;if(A!==void 0)return`${Math.floor(A)}px`},[l,I,A,h]);return{sliderProps:V,panelProps:q,panelMinSize:J,panelMaxSize:Q,resizing:C}}function We(i){const{onMove:a,onMoveEnd:l,onKeyMove:r}=i,x=n.useRef(null),c=n.useRef(void 0),f=n.useRef(void 0),p=n.useCallback(()=>{f.current!==void 0&&(f.current=void 0,l==null||l())},[l]);return{moveableProps:n.useMemo(()=>({onPointerDown:o=>{if(o.button!==0||o.ctrlKey)return;const h=x.current;if(!h)return;const b=h.getBoundingClientRect(),C=o.clientX-b.left;f.current=C,o.preventDefault(),h.setPointerCapture(o.pointerId)},onPointerMove:o=>{const h=f.current;if(h===void 0)return;const b=x.current;if(!b)return;const C=b.getBoundingClientRect(),y=o.clientX-h-C.left;o.preventDefault(),a==null||a(y)},onPointerUp:p,onPointerCancel:p,onKeyDown:o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowLeft":o.preventDefault(),r==null||r(-1);break;case"ArrowRight":o.preventDefault(),r==null||r(1);break}},ref:o=>{var b;if(x.current=o,(b=c.current)==null||b.call(c),c.current=void 0,!o)return;const h=C=>{C.preventDefault()};o.addEventListener("touchstart",h),c.current=()=>{o.removeEventListener("touchstart",h)}}}),[r,a,p])}}const F=n.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function k({tree:i}){const[a]=ee(),l=a.get("tree"),[r,x]=n.useState(),[c,f]=n.useState([]),p=n.useCallback(m=>{f(o=>o.includes(m)?o.filter(h=>h!==m):[...o,m])},[]);return l==="empty"?e.jsxs(Oe,{children:[e.jsx(O,{children:"No layers"}),e.jsx(te,{children:"Create a layer"})]}):e.jsx(F.Provider,{value:n.useMemo(()=>({selected:r,setSelected:x,hidden:c,toggleHidden:p}),[c,r,p]),children:e.jsx(oe,{className:s.tree,children:i==="complex"?e.jsx(Ue,{}):e.jsx($e,{})})})}function $e(){return e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Guides",children:e.jsxs(t,{label:"Tree",children:[e.jsx(t,{label:"Guide 4"}),e.jsx(t,{label:"Guide 3"}),e.jsx(t,{label:"Guide 2"}),e.jsx(t,{label:"Guide 1"})]})}),e.jsxs(t,{label:"Other",children:[e.jsx(t,{label:"Object 2",children:e.jsx(t,{label:"Path 3"})}),e.jsx(t,{label:"Object 1"})]}),e.jsxs(t,{label:"Road",children:[e.jsx(t,{label:"Parking lot access"}),e.jsx(t,{label:"Site access"})]}),e.jsx(t,{label:"Parking lot",children:e.jsxs(t,{label:"Parking area",children:[e.jsx(t,{label:"Bay point 2"}),e.jsx(t,{label:"Bay point 1"}),e.jsx(t,{label:"Space point 1"}),e.jsx(t,{label:"Path 6"})]})}),e.jsx(t,{label:"Building",children:e.jsx(t,{label:"Building area",children:e.jsx(t,{label:"Path 5"})})}),e.jsx(t,{label:"Sewer",children:e.jsx(t,{label:"Run off pipe",children:e.jsx(t,{label:"Path 4"})})}),e.jsx(t,{label:"Project boundary",children:e.jsx(t,{label:"Property area",children:e.jsx(t,{label:"Path 1"})})}),e.jsx(t,{label:"Map",children:e.jsx(t,{label:"Location",children:e.jsx(t,{label:"Terrain"})})})]})}function Ue(){return e.jsxs(e.Fragment,{children:[e.jsxs(t,{label:"ITC_Master",children:[e.jsx(t,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(t,{label:"002_Substation_A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(t,{label:"007-aa_master.dgn",children:[e.jsx(t,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(t,{label:"A-CLNG-LITE-A"})}),e.jsx(t,{label:"A-CLNG-TILE",children:e.jsxs(t,{label:"A-DOOR-2D-PLAN",children:[e.jsx(t,{label:"P00003 [2-KA62]",children:e.jsx(t,{label:"Cell [2-KA63]",children:e.jsxs(t,{label:"Cell [2-KA64]",children:[e.jsx(t,{label:"Complex Chain [2-KA6A]"}),e.jsx(t,{label:"Complex Chain [2-KA6B]"}),e.jsx(t,{label:"Complex Chain [2-KA6C]"}),e.jsx(t,{label:"Complex Chain [2-KA6D]"}),e.jsx(t,{label:"Complex Chain [2-KA6E]"}),e.jsx(t,{label:"Complex Chain [2-KA6F]"}),e.jsx(t,{label:"Complex Chain [2-KA6G]"}),e.jsx(t,{label:"Complex Chain [2-KA6H]"}),e.jsx(t,{label:"Complex Chain [2-KA61]"}),e.jsx(t,{label:"Complex Chain [2-KA65]"}),e.jsx(t,{label:"Complex Chain [2-KA66]"}),e.jsx(t,{label:"Complex Chain [2-KA67]"}),e.jsx(t,{label:"Complex Chain [2-KA68]"}),e.jsx(t,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(t,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA98-A]"})}),e.jsx(t,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(t,{label:"ITC_Main"})]})}const E=n.createContext({selected:!1,hidden:!1});function t(i){const a=n.useContext(F),l=n.useContext(E),r=n.useId(),[x,c]=n.useState(i.defaultCollapsed===void 0?!0:!i.defaultCollapsed),f=n.Children.count(i.children)>0,p=n.useMemo(()=>l.hidden?!0:a.hidden.includes(r),[r,a.hidden,l.hidden]),m=l.selected||r===a.selected,o=n.useCallback(h=>{a.setSelected(h?r:void 0)},[r,a]);return e.jsx(E.Provider,{value:n.useMemo(()=>({selected:m,hidden:p}),[p,m]),children:e.jsx(ie,{expanded:f?x:void 0,onExpandedChange:c,selected:m,onSelectedChange:o,icon:e.jsx(P,{href:M,style:{display:"inline"}}),label:i.label,actions:e.jsxs(e.Fragment,{children:[e.jsx(S,{className:s.action,icon:de,label:"Lock",variant:"ghost","aria-hidden":p}),l.hidden?e.jsx("span",{className:s.actionIcon,children:e.jsx(P,{href:he})}):e.jsx(S,{className:s.action,icon:p?ue:je,label:p?"Show":"Hide",variant:"ghost",onClick:()=>{a.toggleHidden(r)}}),e.jsx(Ve,{hidden:p})]}),children:x?i.children:void 0})})}function Ve({hidden:i}){return e.jsxs(L,{children:[e.jsx(X,{className:s.action,"aria-hidden":i,render:e.jsx(S,{icon:xe,label:"More",variant:"ghost"})}),e.jsxs(G,{style:{minInlineSize:164},children:[e.jsx(d,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(d,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(d,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(d,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(d,{shortcuts:"]",children:"Bring to front"}),e.jsx(d,{shortcuts:"[",children:"Send to back"}),e.jsx(d,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(d,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(d,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(d,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(d,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(d,{shortcuts:"I",children:"Isolate object"})]})]})}function qe(){const[i,a]=n.useState(!1),l=n.useRef(null),r=n.useRef(null),x=i?e.jsxs(e.Fragment,{children:[e.jsx(Je,{}),e.jsx(S,{className:s.shiftIconRight,icon:pe,label:"Close",variant:"ghost",onClick:()=>{var c;T.flushSync(()=>a(!1)),(c=r.current)==null||c.focus()}})]}):e.jsx(S,{className:s.shiftIconRight,icon:K,label:"Search",variant:"ghost",onClick:()=>{var c;T.flushSync(()=>a(!0)),(c=l.current)==null||c.focus()}});return e.jsxs("div",{className:s.subheader,children:[i?void 0:e.jsxs(se,{className:s.tabList,tone:"accent",ref:r,children:[e.jsx(w,{id:"simple",children:"Simple"}),e.jsx(w,{id:"complex",children:"Complex"})]}),i?e.jsxs(ae,{className:s.searchInput,children:[e.jsx(re,{href:K}),e.jsx(le,{placeholder:"Search",ref:l})]}):null,e.jsx("div",{className:s.subheaderActions,children:x})]})}function Je(){return e.jsxs(L,{children:[e.jsx(X,{render:e.jsx(S,{icon:me,label:"Filter",variant:"ghost"})}),e.jsxs(G,{style:{minInlineSize:164},children:[e.jsx(d,{children:"Show all"}),e.jsx(d,{children:"Guides"}),e.jsx(d,{children:"Other"}),e.jsx(d,{children:"Roadway"}),e.jsx(d,{children:"Parking"}),e.jsx(d,{children:"Building"}),e.jsx(d,{children:"Dry utility"}),e.jsx(d,{children:"Stormwater"}),e.jsx(d,{children:"Sewer"}),e.jsx(d,{children:"Boundary"}),e.jsx(d,{children:"Map"})]})]})}export{Nt as default,yt as meta};
