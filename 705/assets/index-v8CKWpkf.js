var Ht=e=>{throw TypeError(e)};var ut=(e,t,n)=>t.has(e)||Ht("Cannot "+n);var p=(e,t,n)=>(ut(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?Ht("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),O=(e,t,n,s)=>(ut(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),G=(e,t,n)=>(ut(e,t,"access private method"),n);import{w as Ln}from"./LMDWO4NN-BAMnrgMQ.js";import{a as u,t as An,o as a,v as Tn}from"./chunk-DQRVZFIR-DEPAh8lq.js";import{T as rt,V as Be,I as me,B as Nn,a as Hn,A as Dt}from"./~utils-T6sFAbRt.js";import{F as Dn,a as Fn,b as $n}from"./Field-BJ4ACQvE.js";import{S as On,H as Bn}from"./Select-B8AQxbok.js";import{S as et}from"./Skeleton-C8WY4UK5.js";import{T as Un,a as Vn,b as Gn}from"./TextBox-0DLIF4uw.js";import{I as $e,c as Qn}from"./sun-bhEMUh38.js";import{S as Wn,l as Ft,q as le,t as gt,r as Ye,b as xt,u as bt,v as $t,w as Kn,g as qn,x as Xn,y as Ot,n as rn,z as Jn,A as Yn}from"./QueryClientProvider-Dq9dBuWm.js";import{T as Zn,a as es,b as Y,p as ts}from"./immer-W6JUzRgM.js";import{a as Bt}from"./index-CExAy_ZU.js";import{p as ns,c as ss,a as rs,d as os,m as is,r as as,l as ls,s as Ut,h as cs,b as us,f as ds}from"./visibility-hide-Bq7zI5eA.js";import{p as Oe}from"./placeholder-CZQ_TClO.js";import{s as fs}from"./visibility-show-N0421kR9.js";import{T as hs,a as Xe}from"./Toolbar-BDpANzPr.js";import{T as ps,a as ms,b as gs,c as xs}from"./Tabs-CiIuBTYs.js";import{E as bs,a as vs}from"./ErrorRegion-CL1-qnlu.js";import{D as ys,a as Ss,b as zs,c as Cs}from"./DropdownMenu-0ryllq6R.js";import"./XX67R432-DjaZpjaU.js";import"./RZ4GPYOB-DNk0qucc.js";import"./collection-qgMe70Tk.js";import"./Label-BbSW6j6g.js";import"./~utils.icons-RfikF1XZ.js";import"./~utils.icons-DdH3CJcO.js";import"./6VRAQV3D-BYQ5FnbR.js";import"./IWEFDH56-BhxxxUIn.js";import"./5JTVDSTH-DlBXvLgC.js";import"./~utils.icons-C2L1zCaH.js";import"./S43UC3DV--CBDxqCR.js";import"./NTITENHD-1fRHkrO-.js";import"./F5MUBM3I-q9tCDniF.js";import"./IAEAQUOT-DKLvufjo.js";import"./Kbd-3BMyzVeS.js";var te,_,Ge,Z,xe,Pe,fe,he,Qe,je,Ee,be,ve,pe,_e,H,He,vt,yt,St,zt,Ct,It,Rt,on,sn,Is=(sn=class extends Wn{constructor(t,n){super();q(this,H);q(this,te);q(this,_);q(this,Ge);q(this,Z);q(this,xe);q(this,Pe);q(this,fe);q(this,he);q(this,Qe);q(this,je);q(this,Ee);q(this,be);q(this,ve);q(this,pe);q(this,_e,new Set);this.options=n,O(this,te,t),O(this,he,null),O(this,fe,Ft()),this.options.experimental_prefetchInRender||p(this,fe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(p(this,_).addObserver(this),Vt(p(this,_),this.options)?G(this,H,He).call(this):this.updateResult(),G(this,H,zt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wt(p(this,_),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wt(p(this,_),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,H,Ct).call(this),G(this,H,It).call(this),p(this,_).removeObserver(this)}setOptions(t){const n=this.options,s=p(this,_);if(this.options=p(this,te).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof le(this.options.enabled,p(this,_))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,H,Rt).call(this),p(this,_).setOptions(this.options),n._defaulted&&!gt(this.options,n)&&p(this,te).getQueryCache().notify({type:"observerOptionsUpdated",query:p(this,_),observer:this});const o=this.hasListeners();o&&Gt(p(this,_),s,this.options,n)&&G(this,H,He).call(this),this.updateResult(),o&&(p(this,_)!==s||le(this.options.enabled,p(this,_))!==le(n.enabled,p(this,_))||Ye(this.options.staleTime,p(this,_))!==Ye(n.staleTime,p(this,_)))&&G(this,H,vt).call(this);const r=G(this,H,yt).call(this);o&&(p(this,_)!==s||le(this.options.enabled,p(this,_))!==le(n.enabled,p(this,_))||r!==p(this,pe))&&G(this,H,St).call(this,r)}getOptimisticResult(t){const n=p(this,te).getQueryCache().build(p(this,te),t),s=this.createResult(n,t);return ws(this,s)&&(O(this,Z,s),O(this,Pe,this.options),O(this,xe,p(this,_).state)),s}getCurrentResult(){return p(this,Z)}trackResult(t,n){return new Proxy(t,{get:(s,o)=>(this.trackProp(o),n==null||n(o),Reflect.get(s,o))})}trackProp(t){p(this,_e).add(t)}getCurrentQuery(){return p(this,_)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=p(this,te).defaultQueryOptions(t),s=p(this,te).getQueryCache().build(p(this,te),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return G(this,H,He).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),p(this,Z)))}createResult(t,n){var Q;const s=p(this,_),o=this.options,r=p(this,Z),i=p(this,xe),c=p(this,Pe),h=t!==s?t.state:p(this,Ge),{state:b}=t;let d={...b},f=!1,g;if(n._optimisticResults){const M=this.hasListeners(),$=!M&&Vt(t,n),T=M&&Gt(t,s,n,o);($||T)&&(d={...d,...Xn(b.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:I,status:x}=d;g=d.data;let z=!1;if(n.placeholderData!==void 0&&g===void 0&&x==="pending"){let M;r!=null&&r.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(M=r.data,z=!0):M=typeof n.placeholderData=="function"?n.placeholderData((Q=p(this,Ee))==null?void 0:Q.state.data,p(this,Ee)):n.placeholderData,M!==void 0&&(x="success",g=Ot(r==null?void 0:r.data,M,n),f=!0)}if(n.select&&g!==void 0&&!z)if(r&&g===(i==null?void 0:i.data)&&n.select===p(this,Qe))g=p(this,je);else try{O(this,Qe,n.select),g=n.select(g),g=Ot(r==null?void 0:r.data,g,n),O(this,je,g),O(this,he,null)}catch(M){O(this,he,M)}p(this,he)&&(y=p(this,he),g=p(this,je),I=Date.now(),x="error");const E=d.fetchStatus==="fetching",A=x==="pending",N=x==="error",K=A&&E,L=g!==void 0,k={status:x,fetchStatus:d.fetchStatus,isPending:A,isSuccess:x==="success",isError:N,isInitialLoading:K,isLoading:K,data:g,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:I,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>h.dataUpdateCount||d.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&!A,isLoadingError:N&&!L,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&L,isStale:Et(t,n),refetch:this.refetch,promise:p(this,fe)};if(this.options.experimental_prefetchInRender){const M=se=>{k.status==="error"?se.reject(k.error):k.data!==void 0&&se.resolve(k.data)},$=()=>{const se=O(this,fe,k.promise=Ft());M(se)},T=p(this,fe);switch(T.status){case"pending":t.queryHash===s.queryHash&&M(T);break;case"fulfilled":(k.status==="error"||k.data!==T.value)&&$();break;case"rejected":(k.status!=="error"||k.error!==T.reason)&&$();break}}return k}updateResult(){const t=p(this,Z),n=this.createResult(p(this,_),this.options);if(O(this,xe,p(this,_).state),O(this,Pe,this.options),p(this,xe).data!==void 0&&O(this,Ee,p(this,_)),gt(n,t))return;O(this,Z,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,r=typeof o=="function"?o():o;if(r==="all"||!r&&!p(this,_e).size)return!0;const i=new Set(r??p(this,_e));return this.options.throwOnError&&i.add("error"),Object.keys(p(this,Z)).some(c=>{const l=c;return p(this,Z)[l]!==t[l]&&i.has(l)})};G(this,H,on).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,H,zt).call(this)}},te=new WeakMap,_=new WeakMap,Ge=new WeakMap,Z=new WeakMap,xe=new WeakMap,Pe=new WeakMap,fe=new WeakMap,he=new WeakMap,Qe=new WeakMap,je=new WeakMap,Ee=new WeakMap,be=new WeakMap,ve=new WeakMap,pe=new WeakMap,_e=new WeakMap,H=new WeakSet,He=function(t){G(this,H,Rt).call(this);let n=p(this,_).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(xt)),n},vt=function(){G(this,H,Ct).call(this);const t=Ye(this.options.staleTime,p(this,_));if(bt||p(this,Z).isStale||!$t(t))return;const s=Kn(p(this,Z).dataUpdatedAt,t)+1;O(this,be,setTimeout(()=>{p(this,Z).isStale||this.updateResult()},s))},yt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(p(this,_)):this.options.refetchInterval)??!1},St=function(t){G(this,H,It).call(this),O(this,pe,t),!(bt||le(this.options.enabled,p(this,_))===!1||!$t(p(this,pe))||p(this,pe)===0)&&O(this,ve,setInterval(()=>{(this.options.refetchIntervalInBackground||qn.isFocused())&&G(this,H,He).call(this)},p(this,pe)))},zt=function(){G(this,H,vt).call(this),G(this,H,St).call(this,G(this,H,yt).call(this))},Ct=function(){p(this,be)&&(clearTimeout(p(this,be)),O(this,be,void 0))},It=function(){p(this,ve)&&(clearInterval(p(this,ve)),O(this,ve,void 0))},Rt=function(){const t=p(this,te).getQueryCache().build(p(this,te),this.options);if(t===p(this,_))return;const n=p(this,_);O(this,_,t),O(this,Ge,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},on=function(t){rn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(p(this,Z))}),p(this,te).getQueryCache().notify({query:p(this,_),type:"observerResultsUpdated"})})},sn);function Rs(e,t){return le(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vt(e,t){return Rs(e,t)||e.state.data!==void 0&&wt(e,t,t.refetchOnMount)}function wt(e,t,n){if(le(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Et(e,t)}return!1}function Gt(e,t,n,s){return(e!==t||le(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Et(e,n)}function Et(e,t){return le(t.enabled,e)!==!1&&e.isStaleByTime(Ye(t.staleTime,e))}function ws(e,t){return!gt(e.getCurrentResult(),t)}var an=u.createContext(!1),Ps=()=>u.useContext(an);an.Provider;function js(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Es=u.createContext(js()),_s=()=>u.useContext(Es),ks=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ms=e=>{u.useEffect(()=>{e.clearReset()},[e])},Ls=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(o&&e.data===void 0||Jn(n,[e.error,s])),As=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Ts=(e,t)=>e.isLoading&&e.isFetching&&!t,Ns=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Qt=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Hs(e,t,n){var d,f,g,y,I;const s=Yn(),o=Ps(),r=_s(),i=s.defaultQueryOptions(e);(f=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=o?"isRestoring":"optimistic",As(i),ks(i,r),Ms(r);const c=!s.getQueryCache().get(i.queryHash),[l]=u.useState(()=>new t(s,i)),h=l.getOptimisticResult(i),b=!o&&e.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(x=>{const z=b?l.subscribe(rn.batchCalls(x)):xt;return l.updateResult(),z},[l,b]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u.useEffect(()=>{l.setOptions(i)},[i,l]),Ns(i,h))throw Qt(i,l,r);if(Ls({result:h,errorResetBoundary:r,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw h.error;if((y=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,i,h),i.experimental_prefetchInRender&&!bt&&Ts(h,o)){const x=c?Qt(i,l,r):(I=s.getQueryCache().get(i.queryHash))==null?void 0:I.promise;x==null||x.catch(xt).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?h:l.trackResult(h)}function Ds(e,t){return Hs(e,Is)}const ot=u.createContext(null);ot.displayName="PanelGroupContext";const U={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},_t=10,ye=u.useLayoutEffect,Wt=An.useId,Fs=typeof Wt=="function"?Wt:()=>null;let $s=0;function kt(e=null){const t=Fs(),n=u.useRef(e||t||null);return n.current===null&&(n.current=""+$s++),e??n.current}function ln({children:e,className:t="",collapsedSize:n,collapsible:s,defaultSize:o,forwardedRef:r,id:i,maxSize:c,minSize:l,onCollapse:h,onExpand:b,onResize:d,order:f,style:g,tagName:y="div",...I}){const x=u.useContext(ot);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:z,expandPanel:E,getPanelSize:A,getPanelStyle:N,groupId:K,isPanelCollapsed:L,reevaluatePanelConstraints:m,registerPanel:k,resizePanel:Q,unregisterPanel:M}=x,$=kt(i),T=u.useRef({callbacks:{onCollapse:h,onExpand:b,onResize:d},constraints:{collapsedSize:n,collapsible:s,defaultSize:o,maxSize:c,minSize:l},id:$,idIsFromProps:i!==void 0,order:f});u.useRef({didLogMissingDefaultSizeWarning:!1}),ye(()=>{const{callbacks:X,constraints:W}=T.current,J={...W};T.current.id=$,T.current.idIsFromProps=i!==void 0,T.current.order=f,X.onCollapse=h,X.onExpand=b,X.onResize=d,W.collapsedSize=n,W.collapsible=s,W.defaultSize=o,W.maxSize=c,W.minSize=l,(J.collapsedSize!==W.collapsedSize||J.collapsible!==W.collapsible||J.maxSize!==W.maxSize||J.minSize!==W.minSize)&&m(T.current,J)}),ye(()=>{const X=T.current;return k(X),()=>{M(X)}},[f,$,k,M]),u.useImperativeHandle(r,()=>({collapse:()=>{z(T.current)},expand:X=>{E(T.current,X)},getId(){return $},getSize(){return A(T.current)},isCollapsed(){return L(T.current)},isExpanded(){return!L(T.current)},resize:X=>{Q(T.current,X)}}),[z,E,A,L,$,Q]);const se=N(T.current,o);return u.createElement(y,{...I,children:e,className:t,id:$,style:{...se,...g},[U.groupId]:K,[U.panel]:"",[U.panelCollapsible]:s||void 0,[U.panelId]:$,[U.panelSize]:parseFloat(""+se.flexGrow).toFixed(1)})}const Pt=u.forwardRef((e,t)=>u.createElement(ln,{...e,forwardedRef:t}));ln.displayName="Panel";Pt.displayName="forwardRef(Panel)";let jt=null,Ze=-1,ue=null;function Os(e,t){if(t){const n=(t&hn)!==0,s=(t&pn)!==0,o=(t&mn)!==0,r=(t&gn)!==0;if(n)return o?"se-resize":r?"ne-resize":"e-resize";if(s)return o?"sw-resize":r?"nw-resize":"w-resize";if(o)return"s-resize";if(r)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Bs(){ue!==null&&(document.head.removeChild(ue),jt=null,ue=null,Ze=-1)}function dt(e,t){var n,s;const o=Os(e,t);if(jt!==o){if(jt=o,ue===null&&(ue=document.createElement("style"),document.head.appendChild(ue)),Ze>=0){var r;(r=ue.sheet)===null||r===void 0||r.removeRule(Ze)}Ze=(n=(s=ue.sheet)===null||s===void 0?void 0:s.insertRule(`*{cursor: ${o} !important;}`))!==null&&n!==void 0?n:-1}}function cn(e){return e.type==="keydown"}function un(e){return e.type.startsWith("pointer")}function dn(e){return e.type.startsWith("mouse")}function it(e){if(un(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(dn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Us(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Vs(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Gs(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Xt(e),b:Xt(t)};let s;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),s=e;P(s,"Stacking order can only be calculated for elements with a common ancestor");const o={a:qt(Kt(n.a)),b:qt(Kt(n.b))};if(o.a===o.b){const r=s.childNodes,i={a:n.a.at(-1),b:n.b.at(-1)};let c=r.length;for(;c--;){const l=r[c];if(l===i.a)return 1;if(l===i.b)return-1}}return Math.sign(o.a-o.b)}const Qs=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Ws(e){var t;const n=getComputedStyle((t=fn(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function Ks(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Ws(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Qs.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Kt(e){let t=e.length;for(;t--;){const n=e[t];if(P(n,"Missing node"),Ks(n))return n}return null}function qt(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Xt(e){const t=[];for(;e;)t.push(e),e=fn(e);return t}function fn(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const hn=1,pn=2,mn=4,gn=8,qs=Us()==="coarse";let oe=[],we=!1,de=new Map,at=new Map;const Ue=new Set;function Xs(e,t,n,s,o){var r;const{ownerDocument:i}=t,c={direction:n,element:t,hitAreaMargins:s,setResizeHandlerState:o},l=(r=de.get(i))!==null&&r!==void 0?r:0;return de.set(i,l+1),Ue.add(c),tt(),function(){var b;at.delete(e),Ue.delete(c);const d=(b=de.get(i))!==null&&b!==void 0?b:1;if(de.set(i,d-1),tt(),d===1&&de.delete(i),oe.includes(c)){const f=oe.indexOf(c);f>=0&&oe.splice(f,1),Lt(),o("up",!0,null)}}}function Js(e){const{target:t}=e,{x:n,y:s}=it(e);we=!0,Mt({target:t,x:n,y:s}),tt(),oe.length>0&&(nt("down",e),e.preventDefault(),xn(t)||e.stopImmediatePropagation())}function ft(e){const{x:t,y:n}=it(e);if(we&&e.buttons===0&&(we=!1,nt("up",e)),!we){const{target:s}=e;Mt({target:s,x:t,y:n})}nt("move",e),Lt(),oe.length>0&&e.preventDefault()}function ht(e){const{target:t}=e,{x:n,y:s}=it(e);at.clear(),we=!1,oe.length>0&&(e.preventDefault(),xn(t)||e.stopImmediatePropagation()),nt("up",e),Mt({target:t,x:n,y:s}),Lt(),tt()}function xn(e){let t=e;for(;t;){if(t.hasAttribute(U.resizeHandle))return!0;t=t.parentElement}return!1}function Mt({target:e,x:t,y:n}){oe.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),Ue.forEach(o=>{const{element:r,hitAreaMargins:i}=o,c=r.getBoundingClientRect(),{bottom:l,left:h,right:b,top:d}=c,f=qs?i.coarse:i.fine;if(t>=h-f&&t<=b+f&&n>=d-f&&n<=l+f){if(s!==null&&document.contains(s)&&r!==s&&!r.contains(s)&&!s.contains(r)&&Gs(s,r)>0){let y=s,I=!1;for(;y&&!y.contains(r);){if(Vs(y.getBoundingClientRect(),c)){I=!0;break}y=y.parentElement}if(I)return}oe.push(o)}})}function pt(e,t){at.set(e,t)}function Lt(){let e=!1,t=!1;oe.forEach(s=>{const{direction:o}=s;o==="horizontal"?e=!0:t=!0});let n=0;at.forEach(s=>{n|=s}),e&&t?dt("intersection",n):e?dt("horizontal",n):t?dt("vertical",n):Bs()}let mt=new AbortController;function tt(){mt.abort(),mt=new AbortController;const e={capture:!0,signal:mt.signal};Ue.size&&(we?(oe.length>0&&de.forEach((t,n)=>{const{body:s}=n;t>0&&(s.addEventListener("contextmenu",ht,e),s.addEventListener("pointerleave",ft,e),s.addEventListener("pointermove",ft,e))}),de.forEach((t,n)=>{const{body:s}=n;s.addEventListener("pointerup",ht,e),s.addEventListener("pointercancel",ht,e)})):de.forEach((t,n)=>{const{body:s}=n;t>0&&(s.addEventListener("pointerdown",Js,e),s.addEventListener("pointermove",ft,e))}))}function nt(e,t){Ue.forEach(n=>{const{setResizeHandlerState:s}=n,o=oe.includes(n);s(e,o,t)})}function Ys(){const[e,t]=u.useState(0);return u.useCallback(()=>t(n=>n+1),[])}function P(e,t){if(!e)throw console.error(t),Error(t)}function Se(e,t,n=_t){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function ce(e,t,n=_t){return Se(e,t,n)===0}function ne(e,t,n){return Se(e,t,n)===0}function Zs(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){const o=e[s],r=t[s];if(!ne(o,r,n))return!1}return!0}function Re({panelConstraints:e,panelIndex:t,size:n}){const s=e[t];P(s!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:r,maxSize:i=100,minSize:c=0}=s;if(Se(n,c)<0)if(r){const l=(o+c)/2;Se(n,l)<0?n=o:n=c}else n=c;return n=Math.min(i,n),n=parseFloat(n.toFixed(_t)),n}function De({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:s,prevLayout:o,trigger:r}){if(ne(e,0))return t;const i=[...t],[c,l]=s;P(c!=null,"Invalid first pivot index"),P(l!=null,"Invalid second pivot index");let h=0;if(r==="keyboard"){{const d=e<0?l:c,f=n[d];P(f,`Panel constraints not found for index ${d}`);const{collapsedSize:g=0,collapsible:y,minSize:I=0}=f;if(y){const x=t[d];if(P(x!=null,`Previous layout not found for panel index ${d}`),ne(x,g)){const z=I-x;Se(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}{const d=e<0?c:l,f=n[d];P(f,`No panel constraints found for index ${d}`);const{collapsedSize:g=0,collapsible:y,minSize:I=0}=f;if(y){const x=t[d];if(P(x!=null,`Previous layout not found for panel index ${d}`),ne(x,I)){const z=x-g;Se(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}}{const d=e<0?1:-1;let f=e<0?l:c,g=0;for(;;){const I=t[f];P(I!=null,`Previous layout not found for panel index ${f}`);const z=Re({panelConstraints:n,panelIndex:f,size:100})-I;if(g+=z,f+=d,f<0||f>=n.length)break}const y=Math.min(Math.abs(e),Math.abs(g));e=e<0?0-y:y}{let f=e<0?c:l;for(;f>=0&&f<n.length;){const g=Math.abs(e)-Math.abs(h),y=t[f];P(y!=null,`Previous layout not found for panel index ${f}`);const I=y-g,x=Re({panelConstraints:n,panelIndex:f,size:I});if(!ne(y,x)&&(h+=y-x,i[f]=x,h.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?f--:f++}}if(Zs(o,i))return o;{const d=e<0?l:c,f=t[d];P(f!=null,`Previous layout not found for panel index ${d}`);const g=f+h,y=Re({panelConstraints:n,panelIndex:d,size:g});if(i[d]=y,!ne(y,g)){let I=g-y,z=e<0?l:c;for(;z>=0&&z<n.length;){const E=i[z];P(E!=null,`Previous layout not found for panel index ${z}`);const A=E+I,N=Re({panelConstraints:n,panelIndex:z,size:A});if(ne(E,N)||(I-=N-E,i[z]=N),ne(I,0))break;e>0?z--:z++}}}const b=i.reduce((d,f)=>f+d,0);return ne(b,100)?i:o}function er({layout:e,panelsArray:t,pivotIndices:n}){let s=0,o=100,r=0,i=0;const c=n[0];P(c!=null,"No pivot index found"),t.forEach((d,f)=>{const{constraints:g}=d,{maxSize:y=100,minSize:I=0}=g;f===c?(s=I,o=y):(r+=I,i+=y)});const l=Math.min(o,100-r),h=Math.max(s,100-i),b=e[c];return{valueMax:l,valueMin:h,valueNow:b}}function Ve(e,t=document){return Array.from(t.querySelectorAll(`[${U.resizeHandleId}][data-panel-group-id="${e}"]`))}function bn(e,t,n=document){const o=Ve(e,n).findIndex(r=>r.getAttribute(U.resizeHandleId)===t);return o??null}function vn(e,t,n){const s=bn(e,t,n);return s!=null?[s,s+1]:[-1,-1]}function tr(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function yn(e,t=document){if(tr(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function We(e,t=document){const n=t.querySelector(`[${U.resizeHandleId}="${e}"]`);return n||null}function nr(e,t,n,s=document){var o,r,i,c;const l=We(t,s),h=Ve(e,s),b=l?h.indexOf(l):-1,d=(o=(r=n[b])===null||r===void 0?void 0:r.id)!==null&&o!==void 0?o:null,f=(i=(c=n[b+1])===null||c===void 0?void 0:c.id)!==null&&i!==void 0?i:null;return[d,f]}function sr({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:s,panelDataArray:o,panelGroupElement:r,setLayout:i}){u.useRef({didWarnAboutMissingResizeHandle:!1}),ye(()=>{if(!r)return;const c=Ve(n,r);for(let l=0;l<o.length-1;l++){const{valueMax:h,valueMin:b,valueNow:d}=er({layout:s,panelsArray:o,pivotIndices:[l,l+1]}),f=c[l];if(f!=null){const g=o[l];P(g,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",g.id),f.setAttribute("aria-valuemax",""+Math.round(h)),f.setAttribute("aria-valuemin",""+Math.round(b)),f.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{c.forEach((l,h)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,s,o,r]),u.useEffect(()=>{if(!r)return;const c=t.current;P(c,"Eager values not found");const{panelDataArray:l}=c,h=yn(n,r);P(h!=null,`No group found for id "${n}"`);const b=Ve(n,r);P(b,`No resize handles found for group id "${n}"`);const d=b.map(f=>{const g=f.getAttribute(U.resizeHandleId);P(g,"Resize handle element has no handle id attribute");const[y,I]=nr(n,g,l,r);if(y==null||I==null)return()=>{};const x=z=>{if(!z.defaultPrevented)switch(z.key){case"Enter":{z.preventDefault();const E=l.findIndex(A=>A.id===y);if(E>=0){const A=l[E];P(A,`No panel data found for index ${E}`);const N=s[E],{collapsedSize:K=0,collapsible:L,minSize:m=0}=A.constraints;if(N!=null&&L){const k=De({delta:ne(N,K)?m-K:K-N,initialLayout:s,panelConstraints:l.map(Q=>Q.constraints),pivotIndices:vn(n,g,r),prevLayout:s,trigger:"keyboard"});s!==k&&i(k)}}break}}};return f.addEventListener("keydown",x),()=>{f.removeEventListener("keydown",x)}});return()=>{d.forEach(f=>f())}},[r,e,t,n,s,o,i])}function Jt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Sn(e,t){const n=e==="horizontal",{x:s,y:o}=it(t);return n?s:o}function rr(e,t,n,s,o){const r=n==="horizontal",i=We(t,o);P(i,`No resize handle element found for id "${t}"`);const c=i.getAttribute(U.groupId);P(c,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=s;const h=Sn(n,e),b=yn(c,o);P(b,`No group element found for id "${c}"`);const d=b.getBoundingClientRect(),f=r?d.width:d.height;return(h-l)/f*100}function or(e,t,n,s,o,r){if(cn(e)){const i=n==="horizontal";let c=0;e.shiftKey?c=100:o!=null?c=o:c=10;let l=0;switch(e.key){case"ArrowDown":l=i?0:c;break;case"ArrowLeft":l=i?-c:0;break;case"ArrowRight":l=i?c:0;break;case"ArrowUp":l=i?0:-c;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return s==null?0:rr(e,t,n,s,r)}function ir({panelDataArray:e}){const t=Array(e.length),n=e.map(r=>r.constraints);let s=0,o=100;for(let r=0;r<e.length;r++){const i=n[r];P(i,`Panel constraints not found for index ${r}`);const{defaultSize:c}=i;c!=null&&(s++,t[r]=c,o-=c)}for(let r=0;r<e.length;r++){const i=n[r];P(i,`Panel constraints not found for index ${r}`);const{defaultSize:c}=i;if(c!=null)continue;const l=e.length-s,h=o/l;s++,t[r]=h,o-=h}return t}function Ce(e,t,n){t.forEach((s,o)=>{const r=e[o];P(r,`Panel data not found for index ${o}`);const{callbacks:i,constraints:c,id:l}=r,{collapsedSize:h=0,collapsible:b}=c,d=n[l];if(d==null||s!==d){n[l]=s;const{onCollapse:f,onExpand:g,onResize:y}=i;y&&y(s,d),b&&(f||g)&&(g&&(d==null||ce(d,h))&&!ce(s,h)&&g(),f&&(d==null||!ce(d,h))&&ce(s,h)&&f())}})}function Je(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function ar({defaultSize:e,dragState:t,layout:n,panelData:s,panelIndex:o,precision:r=3}){const i=n[o];let c;return i==null?c=e!=null?e.toPrecision(r):"1":s.length===1?c="1":c=i.toPrecision(r),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function lr(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function Yt(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function zn(e){return`react-resizable-panels:${e}`}function Cn(e){return e.map(t=>{const{constraints:n,id:s,idIsFromProps:o,order:r}=t;return o?s:r?`${r}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function In(e,t){try{const n=zn(e),s=t.getItem(n);if(s){const o=JSON.parse(s);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function cr(e,t,n){var s,o;const r=(s=In(e,n))!==null&&s!==void 0?s:{},i=Cn(t);return(o=r[i])!==null&&o!==void 0?o:null}function ur(e,t,n,s,o){var r;const i=zn(e),c=Cn(t),l=(r=In(e,o))!==null&&r!==void 0?r:{};l[c]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{o.setItem(i,JSON.stringify(l))}catch(h){console.error(h)}}function Zt({layout:e,panelConstraints:t}){const n=[...e],s=n.reduce((r,i)=>r+i,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(r=>`${r}%`).join(", ")}`);if(!ne(s,100)&&n.length>0)for(let r=0;r<t.length;r++){const i=n[r];P(i!=null,`No layout data found for index ${r}`);const c=100/s*i;n[r]=c}let o=0;for(let r=0;r<t.length;r++){const i=n[r];P(i!=null,`No layout data found for index ${r}`);const c=Re({panelConstraints:t,panelIndex:r,size:i});i!=c&&(o+=i-c,n[r]=c)}if(!ne(o,0))for(let r=0;r<t.length;r++){const i=n[r];P(i!=null,`No layout data found for index ${r}`);const c=i+o,l=Re({panelConstraints:t,panelIndex:r,size:c});if(i!==l&&(o-=l-i,n[r]=l,ne(o,0)))break}return n}const dr=100,Fe={getItem:e=>(Yt(Fe),Fe.getItem(e)),setItem:(e,t)=>{Yt(Fe),Fe.setItem(e,t)}},en={};function Rn({autoSaveId:e=null,children:t,className:n="",direction:s,forwardedRef:o,id:r=null,onLayout:i=null,keyboardResizeBy:c=null,storage:l=Fe,style:h,tagName:b="div",...d}){const f=kt(r),g=u.useRef(null),[y,I]=u.useState(null),[x,z]=u.useState([]),E=Ys(),A=u.useRef({}),N=u.useRef(new Map),K=u.useRef(0),L=u.useRef({autoSaveId:e,direction:s,dragState:y,id:f,keyboardResizeBy:c,onLayout:i,storage:l}),m=u.useRef({layout:x,panelDataArray:[],panelDataArrayChanged:!1});u.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),u.useImperativeHandle(o,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:v}=m.current;return v},setLayout:v=>{const{onLayout:R}=L.current,{layout:j,panelDataArray:C}=m.current,S=Zt({layout:v,panelConstraints:C.map(w=>w.constraints)});Jt(j,S)||(z(S),m.current.layout=S,R&&R(S),Ce(C,S,A.current))}}),[]),ye(()=>{L.current.autoSaveId=e,L.current.direction=s,L.current.dragState=y,L.current.id=f,L.current.onLayout=i,L.current.storage=l}),sr({committedValuesRef:L,eagerValuesRef:m,groupId:f,layout:x,panelDataArray:m.current.panelDataArray,setLayout:z,panelGroupElement:g.current}),u.useEffect(()=>{const{panelDataArray:v}=m.current;if(e){if(x.length===0||x.length!==v.length)return;let R=en[e];R==null&&(R=lr(ur,dr),en[e]=R);const j=[...v],C=new Map(N.current);R(e,j,C,x,l)}},[e,x,l]),u.useEffect(()=>{});const k=u.useCallback(v=>{const{onLayout:R}=L.current,{layout:j,panelDataArray:C}=m.current;if(v.constraints.collapsible){const S=C.map(ie=>ie.constraints),{collapsedSize:w=0,panelSize:F,pivotIndices:V}=ge(C,v,j);if(P(F!=null,`Panel size not found for panel "${v.id}"`),!ce(F,w)){N.current.set(v.id,F);const ae=Ie(C,v)===C.length-1?F-w:w-F,B=De({delta:ae,initialLayout:j,panelConstraints:S,pivotIndices:V,prevLayout:j,trigger:"imperative-api"});Je(j,B)||(z(B),m.current.layout=B,R&&R(B),Ce(C,B,A.current))}}},[]),Q=u.useCallback((v,R)=>{const{onLayout:j}=L.current,{layout:C,panelDataArray:S}=m.current;if(v.constraints.collapsible){const w=S.map(re=>re.constraints),{collapsedSize:F=0,panelSize:V=0,minSize:ie=0,pivotIndices:ae}=ge(S,v,C),B=R??ie;if(ce(V,F)){const re=N.current.get(v.id),Te=re!=null&&re>=B?re:B,ct=Ie(S,v)===S.length-1?V-Te:Te-V,ee=De({delta:ct,initialLayout:C,panelConstraints:w,pivotIndices:ae,prevLayout:C,trigger:"imperative-api"});Je(C,ee)||(z(ee),m.current.layout=ee,j&&j(ee),Ce(S,ee,A.current))}}},[]),M=u.useCallback(v=>{const{layout:R,panelDataArray:j}=m.current,{panelSize:C}=ge(j,v,R);return P(C!=null,`Panel size not found for panel "${v.id}"`),C},[]),$=u.useCallback((v,R)=>{const{panelDataArray:j}=m.current,C=Ie(j,v);return ar({defaultSize:R,dragState:y,layout:x,panelData:j,panelIndex:C})},[y,x]),T=u.useCallback(v=>{const{layout:R,panelDataArray:j}=m.current,{collapsedSize:C=0,collapsible:S,panelSize:w}=ge(j,v,R);return P(w!=null,`Panel size not found for panel "${v.id}"`),S===!0&&ce(w,C)},[]),se=u.useCallback(v=>{const{layout:R,panelDataArray:j}=m.current,{collapsedSize:C=0,collapsible:S,panelSize:w}=ge(j,v,R);return P(w!=null,`Panel size not found for panel "${v.id}"`),!S||Se(w,C)>0},[]),X=u.useCallback(v=>{const{panelDataArray:R}=m.current;R.push(v),R.sort((j,C)=>{const S=j.order,w=C.order;return S==null&&w==null?0:S==null?-1:w==null?1:S-w}),m.current.panelDataArrayChanged=!0,E()},[E]);ye(()=>{if(m.current.panelDataArrayChanged){m.current.panelDataArrayChanged=!1;const{autoSaveId:v,onLayout:R,storage:j}=L.current,{layout:C,panelDataArray:S}=m.current;let w=null;if(v){const V=cr(v,S,j);V&&(N.current=new Map(Object.entries(V.expandToSizes)),w=V.layout)}w==null&&(w=ir({panelDataArray:S}));const F=Zt({layout:w,panelConstraints:S.map(V=>V.constraints)});Jt(C,F)||(z(F),m.current.layout=F,R&&R(F),Ce(S,F,A.current))}}),ye(()=>{const v=m.current;return()=>{v.layout=[]}},[]);const W=u.useCallback(v=>{let R=!1;const j=g.current;return j&&window.getComputedStyle(j,null).getPropertyValue("direction")==="rtl"&&(R=!0),function(S){S.preventDefault();const w=g.current;if(!w)return()=>null;const{direction:F,dragState:V,id:ie,keyboardResizeBy:ae,onLayout:B}=L.current,{layout:re,panelDataArray:Te}=m.current,{initialLayout:qe}=V??{},ct=vn(ie,v,w);let ee=or(S,v,F,V,ae,w);const Tt=F==="horizontal";Tt&&R&&(ee=-ee);const kn=Te.map(Mn=>Mn.constraints),Ne=De({delta:ee,initialLayout:qe??re,panelConstraints:kn,pivotIndices:ct,prevLayout:re,trigger:cn(S)?"keyboard":"mouse-or-touch"}),Nt=!Je(re,Ne);(un(S)||dn(S))&&K.current!=ee&&(K.current=ee,!Nt&&ee!==0?Tt?pt(v,ee<0?hn:pn):pt(v,ee<0?mn:gn):pt(v,0)),Nt&&(z(Ne),m.current.layout=Ne,B&&B(Ne),Ce(Te,Ne,A.current))}},[]),J=u.useCallback((v,R)=>{const{onLayout:j}=L.current,{layout:C,panelDataArray:S}=m.current,w=S.map(re=>re.constraints),{panelSize:F,pivotIndices:V}=ge(S,v,C);P(F!=null,`Panel size not found for panel "${v.id}"`);const ae=Ie(S,v)===S.length-1?F-R:R-F,B=De({delta:ae,initialLayout:C,panelConstraints:w,pivotIndices:V,prevLayout:C,trigger:"imperative-api"});Je(C,B)||(z(B),m.current.layout=B,j&&j(B),Ce(S,B,A.current))},[]),ke=u.useCallback((v,R)=>{const{layout:j,panelDataArray:C}=m.current,{collapsedSize:S=0,collapsible:w}=R,{collapsedSize:F=0,collapsible:V,maxSize:ie=100,minSize:ae=0}=v.constraints,{panelSize:B}=ge(C,v,j);B!=null&&(w&&V&&ce(B,S)?ce(S,F)||J(v,F):B<ae?J(v,ae):B>ie&&J(v,ie))},[J]),Me=u.useCallback((v,R)=>{const{direction:j}=L.current,{layout:C}=m.current;if(!g.current)return;const S=We(v,g.current);P(S,`Drag handle element not found for id "${v}"`);const w=Sn(j,R);I({dragHandleId:v,dragHandleRect:S.getBoundingClientRect(),initialCursorPosition:w,initialLayout:C})},[]),Le=u.useCallback(()=>{I(null)},[]),Ke=u.useCallback(v=>{const{panelDataArray:R}=m.current,j=Ie(R,v);j>=0&&(R.splice(j,1),delete A.current[v.id],m.current.panelDataArrayChanged=!0,E())},[E]),ze=u.useMemo(()=>({collapsePanel:k,direction:s,dragState:y,expandPanel:Q,getPanelSize:M,getPanelStyle:$,groupId:f,isPanelCollapsed:T,isPanelExpanded:se,reevaluatePanelConstraints:ke,registerPanel:X,registerResizeHandle:W,resizePanel:J,startDragging:Me,stopDragging:Le,unregisterPanel:Ke,panelGroupElement:g.current}),[k,y,s,Q,M,$,f,T,se,ke,X,W,J,Me,Le,Ke]),Ae={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return u.createElement(ot.Provider,{value:ze},u.createElement(b,{...d,children:t,className:n,id:r,ref:g,style:{...Ae,...h},[U.group]:"",[U.groupDirection]:s,[U.groupId]:f}))}const wn=u.forwardRef((e,t)=>u.createElement(Rn,{...e,forwardedRef:t}));Rn.displayName="PanelGroup";wn.displayName="forwardRef(PanelGroup)";function Ie(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function ge(e,t,n){const s=Ie(e,t),r=s===e.length-1?[s-1,s]:[s,s+1],i=n[s];return{...t.constraints,panelSize:i,pivotIndices:r}}function fr({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:s}){u.useEffect(()=>{if(e||n==null||s==null)return;const o=We(t,s);if(o==null)return;const r=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{i.preventDefault(),n(i);break}case"F6":{i.preventDefault();const c=o.getAttribute(U.groupId);P(c,`No group element found for id "${c}"`);const l=Ve(c,s),h=bn(c,t,s);P(h!==null,`No resize element found for id "${t}"`);const b=i.shiftKey?h>0?h-1:l.length-1:h+1<l.length?h+1:0;l[b].focus();break}}};return o.addEventListener("keydown",r),()=>{o.removeEventListener("keydown",r)}},[s,e,t,n])}function Pn({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:s,id:o,onBlur:r,onClick:i,onDragging:c,onFocus:l,onPointerDown:h,onPointerUp:b,style:d={},tabIndex:f=0,tagName:g="div",...y}){var I,x;const z=u.useRef(null),E=u.useRef({onClick:i,onDragging:c,onPointerDown:h,onPointerUp:b});u.useEffect(()=>{E.current.onClick=i,E.current.onDragging=c,E.current.onPointerDown=h,E.current.onPointerUp=b});const A=u.useContext(ot);if(A===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:N,groupId:K,registerResizeHandle:L,startDragging:m,stopDragging:k,panelGroupElement:Q}=A,M=kt(o),[$,T]=u.useState("inactive"),[se,X]=u.useState(!1),[W,J]=u.useState(null),ke=u.useRef({state:$});ye(()=>{ke.current.state=$}),u.useEffect(()=>{if(n)J(null);else{const ze=L(M);J(()=>ze)}},[n,M,L]);const Me=(I=s==null?void 0:s.coarse)!==null&&I!==void 0?I:15,Le=(x=s==null?void 0:s.fine)!==null&&x!==void 0?x:5;u.useEffect(()=>{if(n||W==null)return;const ze=z.current;P(ze,"Element ref not attached");let Ae=!1;return Xs(M,ze,N,{coarse:Me,fine:Le},(R,j,C)=>{if(!j){T("inactive");return}switch(R){case"down":{T("drag"),Ae=!1,P(C,'Expected event to be defined for "down" action'),m(M,C);const{onDragging:S,onPointerDown:w}=E.current;S==null||S(!0),w==null||w();break}case"move":{const{state:S}=ke.current;Ae=!0,S!=="drag"&&T("hover"),P(C,'Expected event to be defined for "move" action'),W(C);break}case"up":{T("hover"),k();const{onClick:S,onDragging:w,onPointerUp:F}=E.current;w==null||w(!1),F==null||F(),Ae||S==null||S();break}}})},[Me,N,n,Le,L,M,W,m,k]),fr({disabled:n,handleId:M,resizeHandler:W,panelGroupElement:Q});const Ke={touchAction:"none",userSelect:"none"};return u.createElement(g,{...y,children:e,className:t,id:o,onBlur:()=>{X(!1),r==null||r()},onFocus:()=>{X(!0),l==null||l()},ref:z,role:"separator",style:{...Ke,...d},tabIndex:f,[U.groupDirection]:N,[U.groupId]:K,[U.resizeHandle]:"",[U.resizeHandleActive]:$==="drag"?"pointer":se?"keyboard":void 0,[U.resizeHandleEnabled]:!n,[U.resizeHandleId]:M,[U.resizeHandleState]:$})}Pn.displayName="PanelResizeHandle";const hr="/705/assets/sandbox.model1-B8uu5h-t.json",pr="/705/assets/sandbox.model2-Bi69Ub92.json",mr="data:application/json;base64,ewoJIm5hbWUiOiAiRXBvY2ggU3lzdGVtIGlNb2RlbCAzIiwKCSJ2ZXJzaW9uIjogIjIwMjQgUmVmcmVzaCIsCgkiZGF0YSI6IHsKCQkiZGVmYXVsdCI6IFtdCgl9Cn0K",gr="_appLayout_1lp7d_5",xr="_header_1lp7d_18",br="_platformBar_1lp7d_28",vr="_logo_1lp7d_35",yr="_tools_1lp7d_45",Sr="_content_1lp7d_55",zr="_leftPanel_1lp7d_59",Cr="_panelHeader_1lp7d_70",Ir="_panelTitleWrapper_1lp7d_78",Rr="_panelCaption_1lp7d_82",wr="_shiftIconRight_1lp7d_86",Pr="_subheader_1lp7d_90",jr="_searchInput_1lp7d_108",Er="_subheaderActions_1lp7d_116",_r="_subheaderContent_1lp7d_131",kr="_tabList_1lp7d_146",Mr="_emptyState_1lp7d_156",Lr="_skeletonTree_1lp7d_165",Ar="_skeletonTreeItem_1lp7d_172",Tr="_canvasWrapper_1lp7d_181",Nr="_canvas_1lp7d_181",Hr="_splitter_1lp7d_218",Dr="_tabPanel_1lp7d_244",Fr="_tree_1lp7d_253",$r="_colorSwatch_1lp7d_258",D={appLayout:gr,header:xr,platformBar:br,logo:vr,tools:yr,content:Sr,leftPanel:zr,panelHeader:Cr,panelTitleWrapper:Ir,panelCaption:Rr,shiftIconRight:wr,subheader:Pr,searchInput:jr,subheaderActions:Er,subheaderContent:_r,tabList:kr,emptyState:Mr,skeletonTree:Lr,skeletonTreeItem:Ar,canvasWrapper:Tr,canvas:Nr,splitter:Hr,tabPanel:Dr,tree:Fr,colorSwatch:$r},st={model1:{name:"Epoch System iModel 1",url:hr},model2:{name:"Epoch System iModel 2",url:pr},model3:{name:"Epoch System iModel 3",url:mr}};async function Or(e){if(e in st){const t=await fetch(st[e].url).then(n=>n.json());return t.slow&&await new Promise(n=>setTimeout(n,Math.random()*2e3)),t}return{name:"Unknown",version:"Unknown",data:{default:[]}}}const jn="StrataKit sandbox",Bo=()=>[{title:jn}],Uo=Ln(function(){return a.jsxs("div",{className:D.appLayout,children:[a.jsx(Br,{}),a.jsx(Ur,{}),a.jsxs(wn,{direction:"horizontal",className:D.content,keyboardResizeBy:2.5,children:[a.jsx(Pt,{defaultSize:20,minSize:15,maxSize:35,className:D.leftPanel,children:a.jsx(Gr,{})}),a.jsx(Qr,{}),a.jsx(Pt,{className:D.canvasWrapper,children:a.jsx(Vr,{})})]})]})});function Br(){return a.jsxs("header",{className:D.header,children:[a.jsx("div",{className:D.logo,children:a.jsx($e,{href:Oe,size:"large"})}),a.jsx(rt,{render:a.jsx("h1",{}),variant:"body-md",children:jn})]})}function Ur(){return a.jsx("div",{className:D.platformBar,children:a.jsxs("div",{className:D.tools,children:[a.jsx($e,{href:Oe,size:"large"}),a.jsx($e,{href:Oe,size:"large"}),a.jsx($e,{href:Oe,size:"large"})]})})}function Vr(){return a.jsx("div",{className:D.canvas,children:a.jsxs(hs,{variant:"solid",children:[a.jsx(Xe,{render:a.jsx(me,{label:"Select",icon:ss,variant:"ghost"})}),a.jsx(Xe,{render:a.jsx(me,{label:"Move",icon:rs,variant:"ghost"})}),a.jsx(Xe,{render:a.jsx(me,{label:"Draw",icon:os,variant:"ghost"})}),a.jsx(Xe,{render:a.jsx(me,{label:"Measure",icon:is,variant:"ghost"})})]})})}function Gr(){var o;const[e,t]=Tn(),n=e.get("model")||"model1",s=Ds({queryKey:["sandbox-data",n],queryFn:()=>Or(n)});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:D.panelHeader,children:[a.jsxs("div",{children:[a.jsxs(Dn,{children:[a.jsx(Be,{render:a.jsx(Fn,{}),children:"Choose Model"}),a.jsx($n,{render:r=>a.jsx(On,{className:D.panelTitleWrapper,children:a.jsx(Bn,{...r,variant:"ghost",defaultValue:n,onChange:i=>t({model:i.currentTarget.value}),children:Object.entries(st).map(([i,{name:c}])=>a.jsx("option",{value:i,children:c},i))})})})]}),a.jsxs("hgroup",{role:"group",children:[a.jsx(Be,{render:a.jsx("h2",{}),children:(o=st[n])==null?void 0:o.name}),a.jsx(u.Suspense,{fallback:a.jsx(et,{variant:"text"}),children:a.jsx(qr,{query:s})},n)]})]}),a.jsx("div",{children:a.jsx(me,{className:D.shiftIconRight,icon:ns,label:"Dock panel",variant:"ghost",disabled:!0})})]}),a.jsx(u.Suspense,{fallback:a.jsx(Wr,{}),children:a.jsx(oo,{children:a.jsx(Xr,{query:s})})},n)]})}function Qr(){const e=u.useId();return u.useEffect(()=>{const t=We(e);t==null||t.setAttribute("role","slider")},[e]),a.jsx(Pn,{id:e,hitAreaMargins:{fine:2,coarse:12},className:D.splitter,"aria-label":"Resize left panel"})}function Wr(){const e=[1,1,2,2,3,2,3,2,1,1,2,3,4,5,2,3,4,5];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:D.subheader,children:a.jsx(et,{variant:"text"})}),a.jsxs("div",{className:D.skeletonTree,children:[e.map((t,n)=>a.jsx(Kr,{style:{"--level":t}},`${n}-${t}`)),a.jsx(Be,{children:"Loadingâ€¦"})]})]})}function Kr(e){return a.jsxs("div",{...e,className:Qn(D.skeletonTreeItem,e.className),children:[a.jsx(et,{variant:"object",size:"small"}),a.jsx(et,{variant:"text"})]})}function qr(e){const{version:t=""}=u.use(e.query.promise);return a.jsx(rt,{className:D.panelCaption,variant:"body-sm",render:a.jsx("p",{}),children:t})}function Xr(e){var c;const{data:t}=u.use(e.query.promise),{isSearchboxVisible:n}=u.useContext(At),s=u.useMemo(()=>Object.entries(t).map(([l,h])=>{const b=h.length<=1?[]:h.map(({label:d})=>d);return{name:l,filters:b,content:h.length>0?a.jsx(no,{data:h}):a.jsxs(Jr,{children:[a.jsx(rt,{variant:"body-sm",children:"No layers"}),a.jsx(Nn,{children:"Create a layer"})]})}}),[t]),[o,r]=u.useState((c=s[0])==null?void 0:c.name),i=u.useMemo(()=>{var l;return o?((l=s.find(h=>h.name===o))==null?void 0:l.filters)||[]:s[0].filters},[s,o]);return s.length===1?a.jsxs(nn,{allFilters:i,children:[a.jsx(tn,{}),s[0].content]}):a.jsx(nn,{allFilters:i,children:a.jsxs(ps,{selectOnMove:!1,setSelectedId:r,children:[a.jsx(tn,{tabs:s.map(l=>a.jsx(ms,{id:l.name,children:Hn(l.name)},l.name))}),s.map(l=>a.jsx(gs,{role:n?"group":"tabpanel","aria-label":n?l.name:void 0,tabId:l.name,className:D.tabPanel,focusable:!1,unmountOnHide:!0,children:l.content},l.name))]})})}function Jr({children:e}){return a.jsx("div",{className:D.emptyState,children:e})}function Yr(){return a.jsx("div",{style:{textAlign:"center"},children:a.jsx(rt,{variant:"body-sm",children:"No results found"})})}const En=(()=>{let e=0;return t=>({id:`${e++}`,label:`Tree Item ${e}`,expanded:!0,...t,items:((t==null?void 0:t.items)??[]).map(En)})})();function Zr({items:e,filters:t,search:n,errorIds:s}){const o=u.useMemo(()=>t.length===0?e:e.reduce((c,l)=>(t.includes(l.label)&&c.push(l),c),[]),[e,t]),r=u.useMemo(()=>{function c(l){return l.reduce((h,b)=>{const f=s.includes(b.id)?[]:c(b.items??[]);return(b.label.toLowerCase().includes(n.toLowerCase())||f.length>0)&&h.push({...b,items:f}),h},[])}return n===""&&s.length===0?o:c(o)},[o,n,s]),i=u.useMemo(()=>{if(t.length===0&&n==="")return;function c(l){return l.reduce((h,b)=>{const d=b.items?c(b.items):0;return h+1+d},0)}return c(r)},[r,t,n]);return{filteredTree:r,itemCount:i}}function eo(e,t){return u.useMemo(()=>{function n(s){return s.reduce((o,r)=>(t.includes(r.id)&&o.push(r),r.items&&o.push(...n(r.items)),o),[])}return n(e)},[e,t])}function to(e,t,n){return u.useMemo(()=>{function s(o,r,i,c,l){const h=[];let b=1;for(const d of o){const f=d.id===t||c,g=n.includes(d.id)||l;h.push({...d,level:i,parentItem:r,selected:f,hidden:g,parentHidden:l,position:b++,size:o.length}),d.expanded&&h.push(...s(d.items,d,i+1,f,g))}return h}return s(e,void 0,1,!1,!1)},[e,t,n])}function _n(e,t){for(const n of e){if(n.id===t)return n;const s=_n(n.items,t);if(s)return s}}function no({data:e}){const{appliedFilters:t,search:n,setItemCount:s}=u.useContext(lt),o=u.useId(),[r,i]=u.useState(),[c,l]=u.useState([]),h=u.useCallback(m=>{l(k=>k.includes(m)?k.filter(Q=>Q!==m):[...k,m])},[]),[b,d]=u.useState(()=>e.map(m=>En(m))),[f,g]=u.useState(["benstr","benroad"]),y=eo(b,f),I=u.useMemo(()=>y.filter(m=>m.expanded),[y]),x=u.useMemo(()=>I.map(m=>m.id),[I]),{filteredTree:z,itemCount:E}=Zr({items:b,filters:t,search:n,errorIds:x}),A=to(z,r,c);u.useEffect(()=>{s(E)},[s,E]);const N=I.length,K=u.useMemo(()=>{if(N!==0)return N===1?"1 issue found":`${N} issues found`},[N]),L=u.useDeferredValue(A);return L.length===0?a.jsx(Yr,{}):a.jsxs(u.Suspense,{fallback:"Loading...",children:[a.jsx(bs,{"aria-label":"Tree errors",label:K,items:I.map(m=>{const k=`${o}-${m.id}`;return a.jsx(vs,{message:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Failed to create hierarchy for "}),a.jsx(Dt,{href:`#${k}`,children:m.label})]}),messageId:`${k}-message`,actions:a.jsx(Dt,{render:a.jsx("button",{}),onClick:()=>{g(Q=>Q.filter(M=>M!==m.id))},children:"Retry"},"retry")},m.id)})}),a.jsx(Zn,{className:D.tree,children:L.map(m=>{const k=I.find(M=>M.id===m.id),Q=k?`${o}-${m.id}`:void 0;return a.jsx(es,{id:Q,label:m.label,description:m.description,"aria-level":m.level,"aria-posinset":m.position,"aria-setsize":m.size,selected:m.selected,onSelectedChange:()=>{if(r===m.id){i(void 0);return}i(m.id)},expanded:m.items.length===0&&!k?void 0:m.expanded,onExpandedChange:M=>{d(ts($=>{const T=_n($,m.id);T&&(T.expanded=M)}))},unstable_decorations:a.jsxs(a.Fragment,{children:[m.color?a.jsx(io,{color:m.color,alt:m.color}):null,a.jsx($e,{href:Oe})]}),actions:[k?a.jsx(Y,{icon:as,label:"Retry",onClick:()=>{g(M=>M.filter($=>$!==m.id))}},"retry"):null,a.jsx(Y,{icon:ls,label:"Lock"},"lock"),a.jsx(so,{item:m,onClick:h},"visibility"),a.jsx(Y,{label:"Copy"},"copy"),a.jsx(Y,{label:"Paste"},"paste"),a.jsx(Y,{label:"Copy/Paste as"},"copy-paste"),a.jsx(Y,{label:"Move to"},"move"),a.jsx(Y,{label:"Bring to front"},"bring-to-front"),a.jsx(Y,{label:"Send to back"},"send-to-back"),a.jsx(Y,{label:"Group selection"},"group"),a.jsx(Y,{label:"Ungroup"},"ungroup"),a.jsx(Y,{label:"Rename"},"rename"),a.jsx(Y,{label:"Show/hide"},"show-hide"),a.jsx(Y,{label:"Lock/unlock"},"lock-unlock"),a.jsx(Y,{label:"Isolate object"},"isolate")],error:k?`${Q}-message`:void 0},m.id)})})]})}function so({item:e,onClick:t}){return a.jsx(Y,{icon:e.hidden?cs:fs,label:e.hidden?"Show":"Hide",visible:e.hidden?!0:void 0,onClick:u.useCallback(()=>{t(e.id)},[t,e.id]),dot:e.hidden?"Hidden":void 0},"visibility")}function tn({tabs:e}){const{itemCount:t,isFiltered:n,search:s,setSearch:o}=u.useContext(lt),{isSearchboxVisible:r,setIsSearchboxVisible:i}=u.useContext(At),c=u.useRef(null),l=u.useRef(null),h=u.useRef(null),b=u.useRef(null),d=n||!!s,f=r?a.jsxs(a.Fragment,{children:[a.jsx(ro,{}),e?a.jsx(me,{className:D.shiftIconRight,icon:us,label:"Close",variant:"ghost",onClick:()=>{var x;Bt.flushSync(()=>i(!1)),(x=l.current)==null||x.focus()}}):null]}):a.jsx(me,{className:D.shiftIconRight,icon:Ut,label:"Search",dot:d?"Some filters or search applied":void 0,variant:"ghost",onClick:()=>{var x;Bt.flushSync(()=>i(!0)),(x=c.current)==null||x.focus()}}),g=u.useMemo(()=>{if(n)return t===void 0?"Showing all tree items":`Showing ${t} tree items`},[n,t]),[y,I]=u.useState(!1);return u.useEffect(()=>{const x=h.current;if(!x)return;const z=b.current;if(!z)return;const E=l.current;if(!E)return;const A=new ResizeObserver(()=>{const N=!r&&E.clientWidth>x.clientWidth,K=x.getBoundingClientRect().height,L=N?`${Math.floor(K)-z.clientHeight}px`:"auto";x.style.setProperty("--ids-scrollbar-height",L),I(N)});return A.observe(x),A.observe(z),A.observe(E),()=>{A.disconnect()}},[r]),u.useEffect(()=>{const x=h.current;x&&r&&x.style.setProperty("--ids-scrollbar-height","auto")},[r]),a.jsxs("div",{className:D.subheader,ref:h,children:[a.jsx(Be,{"aria-live":"polite","aria-atomic":!0,children:g}),e&&!r?a.jsx("div",{className:D.subheaderContent,"data-overflow":y&&!r,ref:b,children:a.jsx(xs,{className:D.tabList,tone:"accent",ref:l,children:e})}):null,r?a.jsxs(Un,{className:D.searchInput,children:[a.jsx(Vn,{href:Ut}),a.jsx(Gn,{placeholder:"Search",ref:c,onChange:x=>o(x.currentTarget.value)})]}):null,a.jsx("div",{className:D.subheaderActions,children:f})]})}function ro(){const e=u.useContext(lt),t=e.appliedFilters.length>0;return a.jsxs(ys,{children:[a.jsx(Ss,{render:a.jsx(me,{icon:ds,label:"Filter",dot:t?"Some filters applied":void 0,variant:"ghost",disabled:e.allFilters.length===0})}),a.jsx(zs,{children:e.allFilters.map(n=>{const s=e.appliedFilters.includes(n);return a.jsx(Cs,{name:n,label:n,checked:s,onChange:()=>{e.toggleFilter(n)}},n)})})]})}function nn(e){const[t,n]=u.useState(!1),[s,o]=u.useState([]),[r,i]=u.useState(""),[c,l]=u.useState(void 0),h=u.useCallback(f=>{const g=s.includes(f)?s.filter(y=>y!==f):[...s,f];o(g),n(g.length>0)},[s]),b=u.useCallback(()=>{o([]),n(!1)},[]),d=u.useCallback(f=>{i(f),n(!!f)},[]);return a.jsx(lt.Provider,{value:u.useMemo(()=>({allFilters:e.allFilters,appliedFilters:s,isFiltered:t,toggleFilter:h,clearFilters:b,search:r,setSearch:d,itemCount:c,setItemCount:l}),[e.allFilters,s,t,h,b,r,d,c]),children:e.children})}const lt=u.createContext({allFilters:[],appliedFilters:[],isFiltered:!1,toggleFilter:()=>{},clearFilters:()=>{},search:"",setSearch:()=>{},itemCount:void 0,setItemCount:()=>{}});function oo(e){const[t,n]=u.useState(!1);return a.jsx(At.Provider,{value:u.useMemo(()=>({isSearchboxVisible:t,setIsSearchboxVisible:n}),[t]),children:e.children})}const At=u.createContext({isSearchboxVisible:!1,setIsSearchboxVisible:()=>{}});function io(e){return a.jsx("div",{className:D.colorSwatch,style:{"--_color":`var(--_color--${e.color})`},children:e.alt?a.jsx(Be,{children:e.alt}):null})}export{Uo as default,Bo as meta};
