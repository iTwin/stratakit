import{l as D,ab as H}from"./~utils-C9lWvBP3.js";import{a as l,p as O}from"./chunk-4WY6JWTD-DfzC-dkV.js";import{M as P,f as W,c as _,a as $,b as q,p as z,N as B,u as g,m as G,d as I,r as J}from"./ILRXHV7V-BKRdrkPw.js";var K=l.createContext(!1),L=P(),Q=L.useContext,E="input";function y(n,r){r?n.indeterminate=!0:n.indeterminate&&(n.indeterminate=!1)}function V(n,r){return n==="input"&&(!r||r==="checkbox")}function A(n){return Array.isArray(n)?n.toString():n}var X=_(function({store:r,name:a,value:i,checked:x,defaultChecked:m,...t}){const T=Q();r=r||T;const[N,S]=l.useState(m??!1),u=D(r,e=>{if(x!==void 0)return x;if(e?.value===void 0)return N;if(i!=null){if(Array.isArray(e.value)){const d=A(i);return e.value.includes(d)}return e.value===i}return Array.isArray(e.value)?!1:typeof e.value=="boolean"?e.value:!1}),h=l.useRef(null),R=q(h,E),c=V(R,t.type),k=u?u==="mixed":void 0,s=u==="mixed"?!1:u,U=z(t),[M,j]=B();l.useEffect(()=>{const e=h.current;e&&(y(e,k),!c&&(e.checked=s,a!==void 0&&(e.name=a),i!==void 0&&(e.value=`${i}`)))},[M,k,c,s,a,i]);const C=t.onChange,v=g(e=>{if(U){e.stopPropagation(),e.preventDefault();return}if(y(e.currentTarget,k),c||(e.currentTarget.checked=!e.currentTarget.checked,j()),C?.(e),e.defaultPrevented)return;const d=e.currentTarget.checked;S(d),r?.setValue(o=>{if(i==null)return d;const f=A(i);return Array.isArray(o)?d?o.includes(f)?o:[...o,f]:o.filter(w=>w!==f):o===f?!1:f})}),b=t.onClick,F=g(e=>{b?.(e),!e.defaultPrevented&&(c||v(e))});return t=G(t,e=>O.jsx(K.Provider,{value:s,children:e}),[s]),t={role:c?void 0:"checkbox",type:c?"checkbox":void 0,"aria-checked":u,...t,ref:I(h,t.ref),onChange:v,onClick:F},t=H({clickOnEnter:!c,...t}),J({name:c?a:void 0,value:c?i:void 0,checked:s,...t})}),ee=W(function(r){const a=X(r);return $(E,a)});export{ee as C,X as u};
