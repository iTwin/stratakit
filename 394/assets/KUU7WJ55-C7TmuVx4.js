import{b as B,_ as p,ag as m,M as F,U as I,n as N,D as O,C as q,aD as Y,aA as j,aE as _,h as H,u as L,d as C,a2 as V,e as z,g as G}from"./ListItem-BmbSmWDq.js";import{b as n}from"./index-DSPnbld9.js";var J="button";function M(a){if(!a.isTrusted)return!1;const t=a.currentTarget;return a.key==="Enter"?m(t)||t.tagName==="SUMMARY"||t.tagName==="A":a.key===" "?m(t)||t.tagName==="SUMMARY"||t.tagName==="INPUT"||t.tagName==="SELECT":!1}var Q=Symbol("command"),W=B(function(t){var u=t,{clickOnEnter:k=!0,clickOnSpace:c=!0}=u,r=p(u,["clickOnEnter","clickOnSpace"]);const f=n.useRef(null),[T,R]=n.useState(!1);n.useEffect(()=>{f.current&&R(m(f.current))},[]);const[K,y]=n.useState(!1),l=n.useRef(!1),E=F(r),[g,U]=I(r,Q,!0),b=r.onKeyDown,w=N(e=>{b==null||b(e);const s=e.currentTarget;if(e.defaultPrevented||g||E||!O(e)||q(s)||s.isContentEditable)return;const i=k&&e.key==="Enter",o=c&&e.key===" ",d=e.key==="Enter"&&!k,A=e.key===" "&&!c;if(d||A){e.preventDefault();return}if(i||o){const S=M(e);if(i){if(!S){e.preventDefault();const h=e,x=p(h,["view"]),D=()=>_(s,x);Y()?j(s,"keyup",D):queueMicrotask(D)}}else o&&(l.current=!0,S||(e.preventDefault(),y(!0)))}}),P=r.onKeyUp,v=N(e=>{if(P==null||P(e),e.defaultPrevented||g||E||e.metaKey)return;const s=c&&e.key===" ";if(l.current&&s&&(l.current=!1,!M(e))){e.preventDefault(),y(!1);const i=e.currentTarget,o=e,d=p(o,["view"]);queueMicrotask(()=>_(i,d))}});return r=H(C(C({"data-active":K||void 0,type:T?"button":void 0},U),r),{ref:L(f,r.ref),onKeyDown:w,onKeyUp:v}),r=V(r),r});z(function(t){const u=W(t);return G(J,u)});export{W as u};
