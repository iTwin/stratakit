import{p as l,b as a}from"./index-DDCMeoDP.js";import{E as k,F as D,G as E,J as R,b6 as N,aq as w,a5 as M,b7 as L,Y as p,l as u,d as b,o as C,b8 as y,b9 as x}from"./~utils-BA1OnQuR.js";import{u as P}from"./C3IKGW5T-s-9d3DAX.js";import{T as S}from"./Text-CozpiiX4.js";var h="div",_=D(function(e){var o=e,{store:s}=o,r=R(o,["store"]);const c=N();return s=s||c,r=w(r,n=>l.jsx(L,{value:s,children:n}),[s]),M(r)}),q=k(function(e){const o=_(e);return E(h,o)});function B(t){const e=P({defaultItems:[]}),o=p(e,"renderedItems"),[s,r]=a.useMemo(()=>{var d;const n=o.findIndex(i=>i.elementType==="control");return[(d=o[n])==null?void 0:d.controlType,n]},[o]),c=a.useMemo(()=>{const n=o.findIndex(d=>d.elementType==="label");if(!(r===-1||n===-1))return n<r?"before":"after"},[o,r]);return l.jsx(q,{...t,store:e,"data-kiwi-label-placement":c,"data-kiwi-control-type":s})}const j=a.createContext(void 0);function W(t){const e=a.useContext(j);a.useEffect(()=>{e==null||e(t)},[t,e])}const I=u((t,e)=>{const{tone:o,...s}=t;return l.jsx(S,{...s,variant:"caption-md","data-kiwi-tone":o??"neutral",className:b("ðŸ¥-description",t.className),ref:e})}),G=u((t,e)=>l.jsx(C.label,{...t,className:b("ðŸ¥-label",t.className),ref:e})),Y=u((t,e)=>{const{layout:o,...s}=t;return l.jsx(B,{render:l.jsx(C.div,{...s,className:b("ðŸ¥-field",t.className),"data-kiwi-layout":o,ref:e})})}),z=u((t,e)=>{const o=y(),s=p(o,"renderedItems"),r=a.useMemo(()=>{var n;return(n=s==null?void 0:s.find(d=>d.elementType==="control"))==null?void 0:n.id},[s]),c=a.useCallback(n=>({...n,elementType:"label"}),[]);return l.jsx(x,{getItem:c,render:l.jsx(G,{...t,htmlFor:r}),ref:e})}),A=u((t,e)=>{const o=a.useId(),{id:s=o,...r}=t,c=a.useCallback(n=>({...n,elementType:"description"}),[]);return l.jsx(x,{getItem:c,id:s,render:l.jsx(I,{...r}),ref:e})}),K=u((t,e)=>{const[o,s]=a.useState(),r=y(),c=a.useId(),{id:n=r?c:void 0,...d}=t,i=p(r,"renderedItems"),T=a.useMemo(()=>{var v;return((v=i==null?void 0:i.filter(f=>f.elementType==="description"||f.elementType==="error"))==null?void 0:v.map(f=>f.id).join(" "))||void 0},[i]),F=a.useCallback(m=>({...m,elementType:"control",controlType:o}),[o]),g=a.useMemo(()=>i==null?void 0:i.some(m=>m.elementType==="error"),[i]);return l.jsx(j.Provider,{value:s,children:l.jsx(x,{id:n,getItem:F,render:l.jsx(C,{...d,"aria-invalid":g?"true":void 0,"aria-describedby":T}),ref:e})})}),O=u((t,e)=>{const o=a.useId(),{id:s=o,...r}=t,c=a.useCallback(n=>({...n,elementType:"error"}),[]);return l.jsx(x,{id:s,getItem:c,render:l.jsx(I,{...r,tone:"critical"}),ref:e})});export{Y as F,G as L,z as a,K as b,O as c,A as d,W as u};
