import{w as U}from"./LMDWO4NN-Bg6lErus.js";import{a,n as e}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{d as _}from"./~utils-CXPSt6v1.js";import{I as d}from"./Icon-DPz7gbla.js";import{T as B,a as T,b as n,c as M,d as q,e as G,f as H}from"./Tree-6lrttKQb.js";import{p as m}from"./placeholder-BDe-GzZ9.js";import{u as k,r as J}from"./refresh-CVIscMDV.js";import{s as $}from"./visibility-show-CMY-I9kg.js";import"./XL7CSKGW-CCIXOv3t.js";import"./~utils-CvI4aHT1.js";import"./Root.internal-D_bejbNM.js";import"./~hooks-Dbo26-5-.js";import"./YV4JVR4I-D6Sf86gC.js";import"./BYC7LY2E-Cy2FmVCU.js";import"./VGCJ63VH-Bp_09Dvo.js";import"./index-ChOFKjs3.js";import"./LVA2YJMS-C6nAbmQd.js";import"./VisuallyHidden-BF_8exkX.js";import"./AOQQTIBO-B4HjLz2q.js";import"./MTZPJQMC-DSUGaJmQ.js";import"./QYJ6MIDR-CUBr8kVh.js";import"./Text-BwrQI5Jt.js";import"./P4IRICAX-C7wTY6z5.js";import"./Button-DVN_4YMs.js";import"./KUU7WJ55-BmKpnYKz.js";import"./IconButton-B9bbUUtD.js";import"./P2CTZE2T-D72lXxRb.js";import"./RZ4GPYOB-BTV9TPiy.js";import"./Tooltip-BHHPS3x0.js";import"./Anchor-DLUpVHmS.js";import"./Divider-B7O4lSoW.js";import"./ITI7HKP4-BZO2jLmx.js";import"./C3IKGW5T-Cg-13CL6.js";const Se={title:"Tree"},ye=U(_(function({overflow:b=!1,selected:i=!1,description:R,error:I}){const p=b?" with a super long label that is overflown":"",j=R?"Additional description":void 0,[l,f]=a.useState(()=>[{label:`Item 1${p}`,selected:!!i,expanded:!0,children:[{label:"Item 1.1",selected:!!i},{label:"Item 1.2",selected:!!i},{label:`Item 1.3${p}`,selected:!!i}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${p}`,selected:!1}]},{label:"Item 3",selected:!1},...I?Array.from({length:50}).map((o,t)=>({label:`Item ${t+4}`,selected:!1})):[]]),h=a.useId(),C=a.useRef(null),[v,u]=a.useState(!!I),g=a.useMemo(()=>[`${h}-0-1`],[h]);return e.jsx("div",{style:{display:"flex",flexDirection:"column",maxBlockSize:500},children:e.jsx(B,{style:{maxInlineSize:b?300:void 0},error:v?e.jsx(M,{label:"1 issue found",items:[e.jsx(q,{treeItemId:g[0],message:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Failed to create hierarchy for "}),e.jsx(H,{children:"Item 1.2"})]}),onDismiss:()=>u(!1),actions:[e.jsx(G,{onClick:()=>u(!1),children:"Retry"},"retry")]},"1.2")]}):void 0,children:l.map((o,t,D)=>{var w;const A=()=>{const s=l[t].selected,r=[...l];r[t].selected=!s,f(r)},z=()=>{const s=l[t].expanded;if(s===void 0)return;const r=[...l];r[t].expanded=!s,f(r)};return e.jsxs(a.Fragment,{children:[e.jsx(T,{"aria-level":1,"aria-posinset":t+1,"aria-setsize":D.length,label:o.label,description:t===0?j:void 0,expanded:o.expanded,onExpandedChange:z,selected:o.selected,onSelectedChange:A,icon:e.jsx(d,{href:m,alt:"decoration"}),actions:[e.jsx(n,{icon:k,label:"Unlock"},"unlock"),e.jsx(n,{icon:$,label:"Show"},"show")]},o.label),(w=o.children)==null?void 0:w.map((s,r,F)=>{if(!o.expanded)return null;const P=()=>{var y;const S=[...l],x=(y=S[t].children)==null?void 0:y[r];x&&(x.selected=!x.selected),f(S)},E=`${h}-${t}-${r}`,c=v&&g.includes(E);return e.jsx(T,{id:c?E:void 0,"aria-level":2,"aria-posinset":r+1,"aria-setsize":F.length,label:s.label,description:r===0?j:void 0,selected:s.selected,onSelectedChange:P,unstable_decorations:r===0?e.jsxs(e.Fragment,{children:[e.jsx(d,{href:m}),e.jsx(d,{href:m})]}):e.jsx(d,{href:m}),actions:c?[e.jsx(n,{icon:J,label:"Retry",visible:!0,onClick:()=>u(!1)},"retry")]:[e.jsx(n,{icon:k,label:"Unlock"},"unlock"),e.jsx(n,{icon:$,label:"Show"},"show")],error:c?!0:void 0,ref:c?C:void 0},s.label)})]},o.label)})})})}));export{ye as default,Se as handle};
