import{u as A}from"./LVA2YJMS-lcYihvP6.js";import{c as F,_ as p,a0 as m,h as I,Q as O,j as _,C as q,B as j,ae as Y,ac as H,af as C,k as L,l as Q,b as T,f as V,d as z}from"./LMDWO4NN-CjgXNlKs.js";import{a as n}from"./chunk-K6AXKMTT-B_QCnNdX.js";var G="button";function D(a){if(!a.isTrusted)return!1;const t=a.currentTarget;return a.key==="Enter"?m(t)||t.tagName==="SUMMARY"||t.tagName==="A":a.key===" "?m(t)||t.tagName==="SUMMARY"||t.tagName==="INPUT"||t.tagName==="SELECT":!1}var J=Symbol("command"),W=F(function(t){var u=t,{clickOnEnter:k=!0,clickOnSpace:c=!0}=u,r=p(u,["clickOnEnter","clickOnSpace"]);const f=n.useRef(null),[M,R]=n.useState(!1);n.useEffect(()=>{f.current&&R(m(f.current))},[]);const[K,y]=n.useState(!1),l=n.useRef(!1),E=I(r),[P,w]=O(r,J,!0),S=r.onKeyDown,U=_(e=>{S==null||S(e);const s=e.currentTarget;if(e.defaultPrevented||P||E||!q(e)||j(s)||s.isContentEditable)return;const o=k&&e.key==="Enter",i=c&&e.key===" ",d=e.key==="Enter"&&!k,B=e.key===" "&&!c;if(d||B){e.preventDefault();return}if(o||i){const g=D(e);if(o){if(!g){e.preventDefault();const h=e,x=p(h,["view"]),N=()=>C(s,x);Y()?H(s,"keyup",N):queueMicrotask(N)}}else i&&(l.current=!0,g||(e.preventDefault(),y(!0)))}}),b=r.onKeyUp,v=_(e=>{if(b==null||b(e),e.defaultPrevented||P||E||e.metaKey)return;const s=c&&e.key===" ";if(l.current&&s&&(l.current=!1,!D(e))){e.preventDefault(),y(!1);const o=e.currentTarget,i=e,d=p(i,["view"]);queueMicrotask(()=>C(o,d))}});return r=L(T(T({"data-active":K||void 0,type:M?"button":void 0},w),r),{ref:Q(f,r.ref),onKeyDown:U,onKeyUp:v}),r=A(r),r});V(function(t){const u=W(t);return z(G,u)});export{W as u};
