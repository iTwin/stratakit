import{a as i,p as e}from"./chunk-B7RQU5TL-DUAKKKk_.js";import{C as N}from"./collection-Dkn66EZr.js";import{C as y}from"./Y62RTBST-p_m7Rn5U.js";import{a as C}from"./AMMIPFT4-DVuM-UT8.js";import{l as w,V as k,q as L,B as P,m as _}from"./~utils-ZNYpjWBq.js";import{f as h,r as B,R as O,c as v,T as R}from"./sun-CGSu9yko.js";import{D as A}from"./ZTXFEM5L-D4oh1iJv.js";import{D as H}from"./dialog-provider-9eYOckdY.js";import{S as T,C as V}from"./~utils.icons-NgXAoXrs.js";const W=h((t,n)=>{const{label:s,items:l,open:c,setOpen:d,...m}=t,u=i.useId(),j=t["aria-label"]?void 0:s?u:void 0,[f,D]=B(!1,c,d),p=i.useRef(null),E=()=>{const o=p.current;if(!o)return;const r="--ErrorRegion-pulse";o.getAnimations({subtree:!0}).find(a=>a.id===r)||o.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:r,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},x=C({setItems:o=>{const r=new Set(b.map(a=>a.id));o.filter(a=>!r.has(a.id)).length!==0&&(E(),S(s))}}),b=w(x,"items"),I=b.length>0,[g,S]=i.useState(s);return e.jsxs(e.Fragment,{children:[e.jsx(k,{"aria-live":"polite","aria-atomic":!0,children:g===s?g:void 0}),e.jsx(H,{open:f,setOpen:D,children:e.jsx(O.section,{"aria-labelledby":j,...m,className:v("ErrorRegion",t.className),"data-_sk-visible":I,"data-_sk-expanded":f,ref:n,children:e.jsxs("div",{className:"ErrorRegionContainer",ref:p,children:[e.jsxs(A,{className:"ErrorRegionHeader",render:e.jsx(P,{variant:"ghost"}),children:[e.jsx(T,{tone:"attention",className:"ErrorRegionIcon"}),e.jsx(R,{render:e.jsx("span",{}),id:u,className:"ErrorRegionLabel",variant:"body-sm",children:s}),e.jsx(L,{inert:!0,variant:"ghost",children:e.jsx(V,{})})]}),e.jsx(_,{className:"ErrorRegionDialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(N,{store:x,className:"ErrorRegionItems",role:"list",children:l})})]})})})]})}),X=h((t,n)=>{const s=i.useId(),{message:l,messageId:c=`${s}-message`,actions:d,...m}=t;return e.jsxs(y,{...m,role:"listitem",className:v("ErrorRegionItem",t.className),ref:n,children:[e.jsx(R,{id:c,variant:"body-sm",children:l}),e.jsx("div",{className:"ErrorRegionItemActions",children:d})]})});export{W as E,X as a};
