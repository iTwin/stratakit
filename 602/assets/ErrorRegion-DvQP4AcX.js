import{p as e,b as i}from"./index-DDCMeoDP.js";import{u as C,C as R}from"./RZ4GPYOB-Cw7mzXVC.js";import{L as y,M as w,l as b,N as E,O as A,V as B,o as P,p as O,d as p,S as k,Q as L,U as M,B as T,W as V}from"./~utils-bYnjLMf-.js";import{C as H}from"./collection-oaa2M6UG.js";import{D as Q}from"./AXB53BZF-tewKQEef.js";import{T as v}from"./Text-DKyx0x9P.js";function U(r={}){const s=y(r);return e.jsx(w,{value:s,children:r.children})}const K=b((r,s)=>{const{label:a,items:l,expanded:c,onExpandedChange:d,...m}=r,u=i.useId(),I=r["aria-labelledby"]??(r["aria-label"]?void 0:u),[x,N]=E(!1,c,d),h=i.useRef(null),g=i.useRef(void 0),F=()=>{const n=h.current;if(!n)return g.current;const o=n.getAnimations({subtree:!0}).find(t=>t instanceof CSSAnimation?t.animationName==="--error-region-pulse":!1);return o?(g.current=o,o):g.current},j=C({setItems:n=>{const D=new Set(S.map(f=>f.id));if(n.filter(f=>!D.has(f.id)).length===0)return;const t=F();t&&t.play()}}),S=A(j,"items");return e.jsxs(e.Fragment,{children:[e.jsx(B,{"aria-live":"polite","aria-atomic":!0,children:a}),e.jsx(U,{open:x,setOpen:N,children:e.jsx(P.section,{...m,"aria-labelledby":I,className:p("-error-region",r.className),"data-kiwi-visible":!!a,"data-kiwi-expanded":x,ref:O(s,h),children:e.jsxs("div",{className:"-error-region-container",children:[e.jsxs(Q,{className:"-error-region-header",render:e.jsx(T,{variant:"ghost"}),children:[e.jsx(k,{tone:"attention",className:"-error-region-icon"}),e.jsx(v,{render:e.jsx("span",{}),id:u,className:"-error-region-label",variant:"body-sm",children:a}),e.jsx(L,{inert:!0,variant:"ghost",children:e.jsx(M,{})})]}),e.jsx(V,{className:"-error-region-dialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(H,{store:j,className:"-error-region-items",role:"list",children:l})})]})})})]})}),X=b((r,s)=>{const a=i.useId(),{message:l,messageId:c=`${a}-message`,actions:d,...m}=r;return e.jsxs(R,{...m,role:"listitem",className:p("-error-region-item",r.className),ref:s,children:[e.jsx(v,{id:c,variant:"body-sm",children:l}),e.jsx("div",{className:"-error-region-item-actions",children:d})]})});export{K as E,X as a};
