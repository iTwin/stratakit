import{R as Z,a2 as le,f as A,a as V,b as K,_ as H,G as X,i as ee,v as de,d as P,e as p,u as W,q as te,h as ue,a1 as me,N as F,W as k,o as D,K as q,X as G,c as fe}from"./VOQWLFSQ-BGaYPKpN.js";import{a as R,p as _}from"./chunk-NISHYRIK-C8syaGOi.js";import{l as N,w as be,x as ve,y as Ie,z as pe,E as xe,J as Se,K as Ce,L as J,M as he,N as $,O as L,Q as Pe,S as oe,U as Q}from"./~utils-BLYoTPJR.js";import{f as U,c as z,p as ge,i as se}from"./sun-D21cKTns.js";import{a as ne,b as re,C as Y,u as Te}from"./SBSPVDDI-D54zROSM.js";import{u as Ee}from"./Y62RTBST-C6LM8GvL.js";import{a as Re,c as _e,b as ye,d as Le}from"./OLVWQA7U-WK3aTy9r.js";import{c as Me}from"./AMMIPFT4-D0gUqX9V.js";var B=Z([re],[ne]),we=B.useScopedContext,ae=B.useProviderContext,je=B.ContextProvider,ce=B.ScopedContextProvider,Ne="button",Oe=V(function(t){var s=t,{store:e,getItem:r}=s,c=H(s,["store","getItem"]),I;const d=we();e=e||d,X(e,!1);const u=ee(),n=c.id||u,g=de(c),a=R.useCallback(f=>{const w=P(p({},f),{dimmed:g});return r?r(w):w},[g,r]),x=c.onClick,S=W(f=>{x?.(f),!f.defaultPrevented&&e?.setSelectedId(n)}),i=e.panels.useState(f=>{var w;return(w=f.items.find(l=>l.tabId===n))==null?void 0:w.id}),m=u?c.shouldRegisterItem:!1,v=e.useState(f=>!!n&&f.activeId===n),b=e.useState(f=>!!n&&f.selectedId===n),h=e.useState(f=>!!e.item(f.activeId)),C=v||b&&!h,T=b||((I=c.accessibleWhenDisabled)!=null?I:!0);if(N(e.combobox||e.composite,"virtualFocus")&&(c=P(p({},c),{tabIndex:-1})),c=P(p({id:n,role:"tab","aria-selected":b,"aria-controls":i||void 0},c),{onClick:S}),e.composite){const f={id:n,accessibleWhenDisabled:T,store:e.composite,shouldRegisterItem:C&&m,rowId:c.rowId,render:c.render};c=P(p({},c),{render:_.jsx(Y,P(p({},f),{render:e.combobox&&e.composite!==e.combobox?_.jsx(Y,P(p({},f),{store:e.combobox})):f.render}))})}return c=Te(P(p({store:e},c),{accessibleWhenDisabled:T,getItem:a,shouldRegisterItem:m})),c}),ke=le(A(function(t){const s=Oe(t);return K(Ne,s)})),De="div",$e=V(function(t){var s=t,{store:e}=s,r=H(s,["store"]);const c=ae();e=e||c,X(e,!1);const I=e.useState(d=>d.orientation==="both"?void 0:d.orientation);return r=te(r,d=>_.jsx(ce,{value:e,children:d}),[e]),e.composite&&(r=p({focusable:!1},r)),r=p({role:"tablist","aria-orientation":I},r),r=Re(p({store:e},r)),r}),Fe=A(function(t){const s=$e(t);return K(De,s)}),Be="div",We=V(function(t){var s=t,{store:e,unmountOnHide:r,tabId:c,getItem:I,scrollRestoration:d,scrollElement:u}=s,n=H(s,["store","unmountOnHide","tabId","getItem","scrollRestoration","scrollElement"]);const g=ae();e=e||g,X(e,!1);const a=R.useRef(null),x=ee(n.id),S=N(e.panels,()=>{var l;return c||((l=e?.panels.item(x))==null?void 0:l.tabId)}),i=N(e,l=>!!S&&l.selectedId===S),m=be({open:i}),v=N(m,"mounted"),b=R.useRef(new Map),h=W(()=>{const l=a.current;return l?u?typeof u=="function"?u(l):"current"in u?u.current:u:l:null});R.useEffect(()=>{var l,y;if(!d||!v)return;const E=h();if(!E)return;if(d==="reset"){E.scroll(0,0);return}if(!S)return;const j=b.current.get(S);E.scroll((l=j?.x)!=null?l:0,(y=j?.y)!=null?y:0);const O=()=>{b.current.set(S,{x:E.scrollLeft,y:E.scrollTop})};return E.addEventListener("scroll",O),()=>{E.removeEventListener("scroll",O)}},[d,v,S,h,e]);const[C,T]=R.useState(!1);R.useEffect(()=>{const l=a.current;if(!l)return;const y=ve(l);T(!!y.length)},[]);const M=R.useCallback(l=>{const y=P(p({},l),{id:x||l.id,tabId:c});return I?I(y):y},[x,c,I]),f=n.onKeyDown,w=W(l=>{if(f?.(l),l.defaultPrevented||!e?.composite)return;const E={ArrowLeft:e.previous,ArrowRight:e.next,Home:e.first,End:e.last}[l.key];if(!E)return;const{selectedId:j}=e.getState(),O=E({activeId:j});O&&(l.preventDefault(),e.move(O))});return n=te(n,l=>_.jsx(ce,{value:e,children:l}),[e]),n=P(p({id:x,role:"tabpanel","aria-labelledby":S||void 0},n),{children:r&&!v?null:n.children,ref:ue(a,n.ref),onKeyDown:w}),n=Ie(p({focusable:!e.composite&&!C},n)),n=pe(p({store:m},n)),n=Ee(P(p({store:e.panels},n),{getItem:M})),n}),Ae=A(function(t){const s=We(t);return K(Be,s)}),Ve=Z([Se,re],[xe,ne]),Ke=Ve.useContext;R.createContext(!1);R.createContext(null);function He(o={}){var t=o,{composite:s,combobox:e}=t,r=me(t,["composite","combobox"]);const c=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],I=Ce(r.store,J(s,c),J(e,c)),d=I?.getState(),u=_e(F(D({},r),{store:I,includesBaseElement:k(r.includesBaseElement,d?.includesBaseElement,!1),orientation:k(r.orientation,d?.orientation,"horizontal"),focusLoop:k(r.focusLoop,d?.focusLoop,!0)})),n=Me(),g=F(D({},u.getState()),{selectedId:k(r.selectedId,d?.selectedId,r.defaultSelectedId),selectOnMove:k(r.selectOnMove,d?.selectOnMove,!0)}),a=he(g,u,I);$(a,()=>L(a,["moves"],()=>{const{activeId:i,selectOnMove:m}=a.getState();if(!m||!i)return;const v=u.item(i);v&&(v.dimmed||v.disabled||a.setState("selectedId",v.id))}));let x=!0;$(a,()=>Pe(a,["selectedId"],(i,m)=>{if(!x){x=!0;return}s&&i.selectedId===m.selectedId||a.setState("activeId",i.selectedId)})),$(a,()=>L(a,["selectedId","renderedItems"],i=>{if(i.selectedId!==void 0)return;const{activeId:m,renderedItems:v}=a.getState(),b=u.item(m);if(b&&!b.disabled&&!b.dimmed)a.setState("selectedId",b.id);else{const h=v.find(C=>!C.disabled&&!C.dimmed);a.setState("selectedId",h?.id)}})),$(a,()=>L(a,["renderedItems"],i=>{const m=i.renderedItems;if(m.length)return L(n,["renderedItems"],v=>{const b=v.renderedItems;b.some(C=>!C.tabId)&&b.forEach((C,T)=>{if(C.tabId)return;const M=m[T];M&&n.renderItem(F(D({},C),{tabId:M.id}))})})}));let S=null;return $(a,()=>{const i=()=>{S=a.getState().selectedId},m=()=>{x=!1,a.setState("selectedId",S)};if(s&&"setSelectElement"in s)return q(L(s,["value"],i),L(s,["mounted"],m));if(e)return q(L(e,["selectedValue"],i),L(e,["mounted"],m))}),F(D(D({},u),a),{panels:n,setSelectedId:i=>a.setState("selectedId",i),select:i=>{a.setState("selectedId",i),u.move(i)}})}function Xe(o,t,s){G(t,[s.composite,s.combobox]),o=Le(o,t,s),Q(o,s,"selectedId","setSelectedId"),Q(o,s,"selectOnMove");const[e,r]=oe(()=>o.panels,{});return G(r,[o,r]),Object.assign(R.useMemo(()=>P(p({},o),{panels:e}),[o,e]),{composite:s.composite,combobox:s.combobox})}function ie(o={}){const t=ye(),s=Ke()||t;o=P(p({},o),{composite:o.composite!==void 0?o.composite:s,combobox:o.combobox!==void 0?o.combobox:t});const[e,r]=oe(He,o);return Xe(e,r,o)}function Ue(o={}){const t=ie(o);return _.jsx(je,{value:t,children:o.children})}const ze=se&&CSS?.supports("anchor-name: --foo"),qe=()=>se&&window.matchMedia("(prefers-reduced-motion)").matches;function st(o){const t=fe.c(14),{defaultSelectedId:s,selectedId:e,setSelectedId:r,selectOnMove:c,children:I}=o,d=c===void 0?!1:c;let u;t[0]!==s?(u={defaultSelectedId:s},t[0]=s,t[1]=u):u=t[1];const n=ie(u),g=N(n,"baseElement"),a=N(n,"selectedId");let x;t[2]!==a||t[3]!==g?(x=b=>{if(!ze)return;const h=g?.getRootNode();if(!h||!a||!b)return;const C=h.getElementById?.(a)?.getBoundingClientRect(),T=h.getElementById?.(b)?.getBoundingClientRect();if(!C||!T)return;const M=C.left-T.left,f=C.width/T.width;g?.animate([{transform:`translateX(${M}px) scaleX(${f})`},{transform:"none"}],{pseudoElement:"::after",duration:150,easing:"ease-in-out"})},t[2]=a,t[3]=g,t[4]=x):x=t[4];const S=x;let i;t[5]!==S||t[6]!==r?(i=b=>{qe()||S(b),r?.(b)},t[5]=S,t[6]=r,t[7]=i):i=t[7];const m=ge(i);let v;return t[8]!==I||t[9]!==d||t[10]!==e||t[11]!==n||t[12]!==m?(v=_.jsx(Ue,{store:n,selectedId:e,setSelectedId:m,selectOnMove:d,children:I}),t[8]=I,t[9]=d,t[10]=e,t[11]=n,t[12]=m,t[13]=v):v=t[13],v}const nt=U((o,t)=>{const{tone:s="neutral",...e}=o;return _.jsx(Fe,{...e,"data-_sk-tone":s,className:z("ğŸ¥TabList",o.className),ref:t})}),rt=U((o,t)=>_.jsx(ke,{accessibleWhenDisabled:!0,...o,className:z("ğŸ¥Tab",o.className),ref:t})),at=U((o,t)=>_.jsx(Ae,{...o,className:z("ğŸ¥TabPanel",o.className),ref:t}));export{at as T,rt as a,st as b,nt as c};
