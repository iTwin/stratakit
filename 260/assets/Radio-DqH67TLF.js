import{a as m,n as R}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as N}from"./index-jyeBNHV5.js";import{b as j,c as U}from"./Field-DmiP2U4Z.js";import{D as w,c as A,_ as T,G as B,R as $,J as G,S as H,m as p,g as J,u as M,b as v,r as O,n as W,d as q,e as z,f as K}from"./~utils-CxpNXQT1.js";import{C as L}from"./RZ4GPYOB-Tt4KcHxI.js";import{C as Q,a as V,b as X}from"./P2CTZE2T-DFmdAsln.js";import{d as Y}from"./YV4JVR4I-B6wCGKZo.js";var Z=w([V],[Q]),ee=Z.useContext,x="input";function ne(o,r){if(r!==void 0)return o!=null&&r!=null?r===o:!!r}function re(o,r){return o==="input"&&(!r||r==="radio")}var te=A(function(r){var u=r,{store:n,name:c,value:i,checked:C}=u,t=T(u,["store","name","value","checked"]);const g=ee();n=n||g;const s=B(t.id),f=m.useRef(null),d=Y(n,e=>C??ne(i,e==null?void 0:e.value));m.useEffect(()=>{!s||!d||(n==null?void 0:n.getState().activeId)===s||n==null||n.setActiveId(s)},[n,d,s]);const b=t.onChange,P=$(f,x),a=re(P,t.type),I=G(t),[F,S]=H();m.useEffect(()=>{const e=f.current;e&&(a||(d!==void 0&&(e.checked=d),c!==void 0&&(e.name=c),i!==void 0&&(e.value=`${i}`)))},[F,a,d,c,i]);const l=p(e=>{if(I){e.preventDefault(),e.stopPropagation();return}(n==null?void 0:n.getState().value)!==i&&(a||(e.currentTarget.checked=!0,S()),b==null||b(e),!e.defaultPrevented&&(n==null||n.setValue(i)))}),h=t.onClick,_=p(e=>{h==null||h(e),!e.defaultPrevented&&(a||l(e))}),k=t.onFocus,y=p(e=>{if(k==null||k(e),e.defaultPrevented||!a||!n)return;const{moves:E,activeId:D}=n.getState();E&&(s&&D!==s||l(e))});return t=J(v({id:s,role:a?void 0:"radio",type:a?"radio":void 0,"aria-checked":d},t),{ref:M(f,t.ref),onChange:l,onClick:_,onFocus:y}),t=X(v({store:n,clickOnEnter:!a},t)),O(v({name:a?c:void 0,value:a?i:void 0,checked:d},t))}),oe=W(q(function(r){const u=te(r);return z(x,u)}));const le=K((o,r)=>{const u=j(),n=U(o["aria-describedby"]);return R.jsx(L,{render:R.jsx(oe,{accessibleWhenDisabled:!0,id:u,...o,className:N("ğŸ¥-checkbox","ğŸ¥-radio",o.className),"aria-describedby":n,"data-kiwi-form-control":"checkable",ref:r})})});export{le as R};
