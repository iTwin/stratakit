import{w as q}from"./LMDWO4NN-SGO35Sn1.js";import{n as e,a as n,t as J}from"./chunk-D52XG6IA-Bjtbe6aB.js";import{a as D}from"./index-h2OwknZM.js";import{D as k,a as K,b as E,c as d}from"./DropdownMenu-BTlKGfWH.js";import{I}from"./Icon-sUEPuGiX.js";import{I as S}from"./IconButton-PC5E2GB7.js";import{T as Q}from"./Text-CI8KCrEX.js";import{T as Y,a as Z,b as ee}from"./TextBox-P94rC6S3.js";import{V as te}from"./VisuallyHidden-BpsCNWkl.js";import{T as ne,a as se,b as re,c as ae}from"./Tree-CJyS37_e.js";import{p as w}from"./placeholder-D1yfTup7.js";import{p as le,l as ie,d as oe,h as ce,s as de,m as ue,a as B,b as he,f as xe}from"./state-inherited-dot-B2xTyT_A.js";import{R as pe}from"./XL7CSKGW-Bj6N_gdg.js";import"./index-BCMTPUG2.js";import"./~utils-bgFDR2pr.js";import"./Button-Bhpq5cjb.js";import"./KUU7WJ55-D8njReye.js";import"./LVA2YJMS-N-Z6sziB.js";import"./Kbd-C4WKV6Un.js";import"./P2CTZE2T-C20IZD-z.js";import"./YV4JVR4I-D_VatxNX.js";import"./BYC7LY2E-C0G7K3Il.js";import"./VGCJ63VH-DQ4411sn.js";import"./MTZPJQMC-BSNGTYDZ.js";import"./ITI7HKP4-ZnCuhhDz.js";import"./P4IRICAX-JhY6iKpW.js";import"./Tooltip-C5gabPNO.js";import"./Field-BUXxuFsc.js";import"./~hooks-uds3lZtK.js";import"./Icon-BWW-Fjy3.js";const me="_appLayout_mwzu6_5",je="_header_mwzu6_22",fe="_platformBar_mwzu6_32",be="_logo_mwzu6_38",ve="_tools_mwzu6_48",Ce="_leftPanel_mwzu6_58",ge="_panelHeader_mwzu6_70",_e="_panelTitle_mwzu6_78",Se="_panelCaption_mwzu6_84",Ae="_shiftIconRight_mwzu6_88",Ie="_subheader_mwzu6_92",ze="_subheaderTitle_mwzu6_102",Pe="_searchInput_mwzu6_107",we="_subheaderActions_mwzu6_111",Re="_tree_mwzu6_115",Me="_canvasWrapper_mwzu6_119",Ne="_canvas_mwzu6_119",ye="_splitter_mwzu6_156",De="_action_mwzu6_198",Be="_actionIcon_mwzu6_206",Te="_slider_mwzu6_215",a={appLayout:me,header:je,platformBar:fe,logo:be,tools:ve,leftPanel:Ce,panelHeader:ge,panelTitle:_e,panelCaption:Se,shiftIconRight:Ae,subheader:Ie,subheaderTitle:ze,searchInput:Pe,subheaderActions:we,tree:Re,canvasWrapper:Me,canvas:Ne,splitter:ye,action:De,actionIcon:Be,slider:Te},L="Kiwi sandbox",gt=()=>[{title:L}],_t=q(function(){const{sliderProps:l,panelProps:s,panelMinSize:r,panelMaxSize:x,resizing:c}=Ke({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:a.appLayout,style:{"--_panel-min-size":r,"--_panel-max-size":x},children:[e.jsxs("header",{className:a.header,children:[e.jsx("div",{className:a.logo,children:e.jsx(I,{href:w,size:"large"})}),e.jsx(Q,{render:m=>e.jsx("h1",{...m}),variant:"body-md",children:L})]}),e.jsx("div",{className:a.platformBar,children:e.jsxs("div",{className:a.tools,children:[e.jsx(I,{href:w,size:"large"}),e.jsx(I,{href:w,size:"large"}),e.jsx(I,{href:w,size:"large"})]})}),e.jsxs("div",{...s,className:a.leftPanel,style:{position:"relative",...s.style},children:[e.jsxs("div",{className:a.panelHeader,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:a.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:a.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:a.actions,children:e.jsx(S,{className:a.shiftIconRight,icon:le,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(He,{}),e.jsx(Le,{})]}),e.jsx("div",{className:a.splitter,"data-resizing":c?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:a.slider,...l})}),e.jsx("div",{className:a.canvasWrapper,children:e.jsx("div",{className:a.canvas})})]})})});function ke(o,l,s){return Math.min(Math.max(o,l),s)}function Ke(o){const{minSize:l,maxSize:s,onCollapse:r}=o??{},x=n.useId(),c=n.useRef(null),[m,p]=n.useState(void 0),[j,i]=n.useState(void 0),[u,b]=n.useState(void 0),[C,R]=n.useState(!1),[z,M]=n.useState(void 0),v=n.useMemo(()=>{if(l&&j)return Math.min(l.px,l.pct/100*j)},[l,j]),_=n.useMemo(()=>{if(v&&s&&j)return Math.max(v,s.pct/100*j)},[s,j,v]),A=n.useMemo(()=>{if(u==="smallest")return v??0;if(u==="largest")return _??0;if(m&&v&&_)return ke(m,v,_)},[m,v,_,u]);n.useEffect(()=>{const h=c.current;if(!h)return;const f=h.parentElement;if(!f)return;const g=new ResizeObserver(()=>{const N=f.getBoundingClientRect(),y=h.getBoundingClientRect();i(N.width),p(y.width)});return g.observe(f),g.observe(h),()=>{g.disconnect()}},[]);const G=n.useCallback(h=>{const f=c.current;if(!f)return;const g=f.getBoundingClientRect();M(g.width+h),b(void 0),R(!0)},[]),O=n.useCallback(h=>{const f=c.current;if(!f)return;const g=f.parentElement;if(!g)return;const N=g.getBoundingClientRect(),y=h*(N.width*.005),U=f.getBoundingClientRect();M(U.width+y),b(void 0)},[]),H=n.useCallback(()=>{c.current&&(M(void 0),R(!1))},[]),{moveableProps:P}=Ee({onMove:G,onMoveEnd:H,onKeyMove:O}),F=n.useMemo(()=>({...P,onKeyDown:h=>{var f;if((f=P.onKeyDown)==null||f.call(P,h),!h.defaultPrevented)switch(h.key){case"Enter":h.preventDefault(),r==null||r();break;case"Home":h.preventDefault(),b("smallest");break;case"End":h.preventDefault(),b("largest");break}},onChange:h=>{if(C)return;const f=Number(h.target.value);M(f)},value:A===void 0?0:Math.floor(A),min:v===void 0?void 0:Math.floor(v),max:_===void 0?void 0:Math.floor(_)}),[P,A,v,_,r,C]),V=n.useMemo(()=>({style:{WebkitUserSelect:z===void 0?void 0:"none"},id:x,ref:c}),[x,z]),W=v===void 0?void 0:`${v}px`,$=n.useMemo(()=>{if(z!==void 0&&s!==void 0&&u===void 0)return`min(${z}px, ${s.pct}%)`;if(A!==void 0)return`${A}px`},[s,z,A,u]);return{sliderProps:F,panelProps:V,panelMinSize:W,panelMaxSize:$,resizing:C}}function Ee(o){const{onMove:l,onMoveEnd:s,onKeyMove:r}=o??{},x=n.useRef(null),c=n.useRef(void 0),m=n.useRef(void 0),p=n.useCallback(()=>{m.current!==void 0&&(m.current=void 0,s==null||s())},[s]);return{moveableProps:n.useMemo(()=>({onPointerDown:i=>{if(i.button!==0||i.ctrlKey)return;const u=x.current;if(!u)return;const b=u.getBoundingClientRect(),C=i.clientX-b.left;m.current=C,i.preventDefault(),u.setPointerCapture(i.pointerId)},onPointerMove:i=>{const u=m.current;if(u===void 0)return;const b=x.current;if(!b)return;const C=b.getBoundingClientRect(),R=i.clientX-u-C.left;i.preventDefault(),l==null||l(R)},onPointerUp:p,onPointerCancel:p,onKeyDown:i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowLeft":i.preventDefault(),r==null||r(-1);break;case"ArrowRight":i.preventDefault(),r==null||r(1);break}},ref:i=>{var b;if(x.current=i,(b=c.current)==null||b.call(c),c.current=void 0,!i)return;const u=C=>{C.preventDefault()};i.addEventListener("touchstart",u),c.current=()=>{i.removeEventListener("touchstart",u)}}}),[r,l,p])}}const X=n.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function Le(){const[o]=J(),l=o.get("tree"),[s,r]=n.useState(),[x,c]=n.useState([]),m=n.useCallback(p=>{c(j=>j.includes(p)?j.filter(i=>i!==p):[...j,p])},[]);return e.jsx(X.Provider,{value:n.useMemo(()=>({selected:s,setSelected:r,hidden:x,toggleHidden:m}),[x,s,m]),children:e.jsx(ne,{className:a.tree,children:l==="complex"?e.jsx(Ge,{}):e.jsx(Xe,{})})})}function Xe(){return e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Guides",children:e.jsxs(t,{label:"Tree",actions:!0,children:[e.jsx(t,{label:"Guide 4"}),e.jsx(t,{label:"Guide 3"}),e.jsx(t,{label:"Guide 2"}),e.jsx(t,{label:"Guide 1"})]})}),e.jsxs(t,{label:"Other",children:[e.jsx(t,{label:"Object 2",actions:!0,children:e.jsx(t,{label:"Path 3"})}),e.jsx(t,{label:"Object 1"})]}),e.jsxs(t,{label:"Road",children:[e.jsx(t,{label:"Parking lot access"}),e.jsx(t,{label:"Site access"})]}),e.jsx(t,{label:"Parking lot",actions:!0,children:e.jsxs(t,{label:"Parking area",actions:!0,children:[e.jsx(t,{label:"Bay point 2"}),e.jsx(t,{label:"Bay point 1",actions:!0}),e.jsx(t,{label:"Space point 1",actions:!0}),e.jsx(t,{label:"Path 6"})]})}),e.jsx(t,{label:"Building",children:e.jsx(t,{label:"Building area",children:e.jsx(t,{label:"Path 5"})})}),e.jsx(t,{label:"Sewer",children:e.jsx(t,{label:"Run off pipe",children:e.jsx(t,{label:"Path 4"})})}),e.jsx(t,{label:"Project boundary",children:e.jsx(t,{label:"Property area",children:e.jsx(t,{label:"Path 1"})})}),e.jsx(t,{label:"Map",children:e.jsx(t,{label:"Location",children:e.jsx(t,{label:"Terrain"})})})]})}function Ge(){return e.jsxs(e.Fragment,{children:[e.jsxs(t,{label:"ITC_Master",children:[e.jsx(t,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(t,{label:"002_Substation_A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",actions:!0,defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",actions:!0,defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002-A",actions:!0})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(t,{label:"007-aa_master.dgn",children:[e.jsx(t,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(t,{label:"A-CLNG-LITE-A"})}),e.jsx(t,{label:"A-CLNG-TILE",children:e.jsxs(t,{label:"A-DOOR-2D-PLAN",children:[e.jsx(t,{label:"P00003 [2-KA62]",actions:!0,children:e.jsx(t,{label:"Cell [2-KA63]",children:e.jsxs(t,{label:"Cell [2-KA64]",children:[e.jsx(t,{label:"Complex Chain [2-KA6A]"}),e.jsx(t,{label:"Complex Chain [2-KA6B]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6C]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6D]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6E]"}),e.jsx(t,{label:"Complex Chain [2-KA6F]"}),e.jsx(t,{label:"Complex Chain [2-KA6G]"}),e.jsx(t,{label:"Complex Chain [2-KA6H]"}),e.jsx(t,{label:"Complex Chain [2-KA61]"}),e.jsx(t,{label:"Complex Chain [2-KA65]"}),e.jsx(t,{label:"Complex Chain [2-KA66]"}),e.jsx(t,{label:"Complex Chain [2-KA67]"}),e.jsx(t,{label:"Complex Chain [2-KA68]"}),e.jsx(t,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(t,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA98-A]"})}),e.jsx(t,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(t,{label:"ITC_Main",actions:!0})]})}const T=n.createContext({selected:!1,hidden:!1});function t(o){const l=n.useContext(X),s=n.useContext(T),r=n.useId(),[x,c]=n.useState(o.defaultCollapsed===void 0?!0:!o.defaultCollapsed),m=n.Children.count(o.children)>0,p=n.useMemo(()=>s.hidden?!0:l.hidden.includes(r),[r,l.hidden,s.hidden]),j=s.selected||r===l.selected,i=n.useCallback(()=>{l.setSelected(u=>{if(u!==r)return r})},[r,l]);return e.jsx(T.Provider,{value:n.useMemo(()=>({selected:j,hidden:p}),[p,j]),children:e.jsx(se,{content:e.jsxs(e.Fragment,{children:[e.jsx(re,{onClick:()=>{c(u=>!u)}}),e.jsx(I,{href:w,style:{display:"inline"}}),e.jsx(ae,{onClick:()=>{i()},children:o.label}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(S,{className:a.action,icon:ie,label:"Lock",variant:"ghost","aria-hidden":!o.actions||p}),s.hidden?e.jsx("span",{className:a.actionIcon,children:e.jsx(I,{href:oe})}):e.jsx(S,{className:a.action,icon:p?ce:de,label:p?"Show":"Hide",variant:"ghost","aria-hidden":!o.actions,onClick:()=>{l.toggleHidden(r)}}),e.jsx(Oe,{hidden:!o.actions||p})]})]}),expanded:m?x:void 0,selected:j,children:x?o.children:void 0})})}function Oe({hidden:o}){return e.jsxs(k,{children:[e.jsx(K,{className:a.action,"aria-hidden":o,render:e.jsx(S,{icon:ue,label:"More",variant:"ghost"})}),e.jsxs(E,{style:{minInlineSize:164},children:[e.jsx(d,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(d,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(d,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(d,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(d,{shortcuts:"]",children:"Bring to front"}),e.jsx(d,{shortcuts:"[",children:"Send to back"}),e.jsx(d,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(d,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(d,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(d,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(d,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(d,{shortcuts:"I",children:"Isolate object"})]})]})}function He(){const[o,l]=n.useState(!1),s=n.useRef(null),r=n.useRef(null),x=o?e.jsxs(e.Fragment,{children:[e.jsx(Fe,{}),e.jsx(S,{className:a.shiftIconRight,icon:he,label:"Close",variant:"ghost",onClick:()=>{var c;D.flushSync(()=>l(!1)),(c=r.current)==null||c.focus()}})]}):e.jsx(S,{className:a.shiftIconRight,icon:B,label:"Search",variant:"ghost",onClick:()=>{var c;D.flushSync(()=>l(!0)),(c=s.current)==null||c.focus()}});return e.jsxs("div",{className:a.subheader,children:[e.jsx(pe.h3,{className:a.subheaderTitle,tabIndex:-1,ref:r,render:o?e.jsx(te,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),o?e.jsxs(Y,{className:a.searchInput,children:[e.jsx(Z,{href:B}),e.jsx(ee,{placeholder:"Search",ref:s})]}):null,e.jsx("div",{className:a.subheaderActions,children:x})]})}function Fe(){return e.jsxs(k,{children:[e.jsx(K,{render:e.jsx(S,{icon:xe,label:"Filter",variant:"ghost"})}),e.jsxs(E,{style:{minInlineSize:164},children:[e.jsx(d,{children:"Show all"}),e.jsx(d,{children:"Guides"}),e.jsx(d,{children:"Other"}),e.jsx(d,{children:"Roadway"}),e.jsx(d,{children:"Parking"}),e.jsx(d,{children:"Building"}),e.jsx(d,{children:"Dry utility"}),e.jsx(d,{children:"Stormwater"}),e.jsx(d,{children:"Sewer"}),e.jsx(d,{children:"Boundary"}),e.jsx(d,{children:"Map"})]})]})}export{_t as default,gt as meta};
