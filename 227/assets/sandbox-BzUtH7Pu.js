import{w as J}from"./LMDWO4NN-SGO35Sn1.js";import{n as e,a as n,t as Q}from"./chunk-D52XG6IA-Bjtbe6aB.js";import{a as z}from"./index-h2OwknZM.js";import{B as Y}from"./Button-Bhpq5cjb.js";import{D as k,a as K,b as E,c as d}from"./DropdownMenu-BTlKGfWH.js";import{D as Z}from"./Divider-x5fmTwpd.js";import{I}from"./Icon-sUEPuGiX.js";import{I as S}from"./IconButton-PC5E2GB7.js";import{T as ee}from"./Text-CI8KCrEX.js";import{T as te,a as ne,b as se}from"./TextBox-P94rC6S3.js";import{V as L}from"./VisuallyHidden-BpsCNWkl.js";import{T as re,a as ae,b as le,c as oe,d as ie}from"./Tree-oZZbOtVg.js";import{p as M}from"./placeholder-CEnbItCx.js";import{p as ce,l as de,d as ue,h as he,s as xe,m as me,a as T,b as pe,f as je}from"./state-inherited-dot-CunwJuly.js";import{R as fe}from"./XL7CSKGW-Bj6N_gdg.js";import"./index-BCMTPUG2.js";import"./~utils-bgFDR2pr.js";import"./KUU7WJ55-D8njReye.js";import"./LVA2YJMS-N-Z6sziB.js";import"./Kbd-C4WKV6Un.js";import"./P2CTZE2T-C20IZD-z.js";import"./YV4JVR4I-D_VatxNX.js";import"./BYC7LY2E-C0G7K3Il.js";import"./VGCJ63VH-DQ4411sn.js";import"./MTZPJQMC-BSNGTYDZ.js";import"./ITI7HKP4-ZnCuhhDz.js";import"./P4IRICAX-JhY6iKpW.js";import"./Tooltip-C5gabPNO.js";import"./Field-BUXxuFsc.js";import"./~hooks-uds3lZtK.js";import"./Icon-BWW-Fjy3.js";const be="_appLayout_1omoh_5",ve="_platformBar_1omoh_14",Ce="_logo_1omoh_19",ge="_tools_1omoh_29",_e="_leftPanel_1omoh_39",Se="_header_1omoh_50",Ae="_panelTitle_1omoh_58",Ie="_panelCaption_1omoh_64",Pe="_shiftIconRight_1omoh_68",Re="_subheader_1omoh_72",Me="_subheaderTitle_1omoh_82",ye="_searchInput_1omoh_87",Ne="_subheaderActions_1omoh_91",De="_emptyState_1omoh_95",Be="_canvasWrapper_1omoh_104",ze="_canvas_1omoh_104",Te="_splitter_1omoh_126",we="_tree_1omoh_157",ke="_action_1omoh_162",Ke="_actionIcon_1omoh_170",Ee="_slider_1omoh_181",o={appLayout:be,platformBar:ve,logo:Ce,tools:ge,leftPanel:_e,header:Se,panelTitle:Ae,panelCaption:Ie,shiftIconRight:Pe,subheader:Re,subheaderTitle:Me,searchInput:ye,subheaderActions:Ne,emptyState:De,canvasWrapper:Be,canvas:ze,splitter:Te,tree:we,action:ke,actionIcon:Ke,slider:Ee},X="Kiwi sandbox",Pt=()=>[{title:X}],Rt=J(function(){const{sliderProps:l,panelProps:s,panelMinSize:r,panelMaxSize:m,resizing:c}=Ge({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(L,{render:j=>e.jsx("h1",{...j}),children:X}),e.jsxs("div",{className:o.appLayout,style:{"--_panel-min-size":r,"--_panel-max-size":m},children:[e.jsxs("div",{className:o.platformBar,children:[e.jsx("div",{className:o.logo,children:e.jsx(I,{href:M,size:"large"})}),e.jsxs("div",{className:o.tools,children:[e.jsx(I,{href:M,size:"large"}),e.jsx(I,{href:M,size:"large"}),e.jsx(I,{href:M,size:"large"})]})]}),e.jsxs("div",{...s,className:o.leftPanel,style:{position:"relative",...s.style},children:[e.jsxs("div",{className:o.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:o.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:o.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:o.actions,children:e.jsx(S,{className:o.shiftIconRight,icon:ce,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx($e,{}),e.jsx(He,{}),e.jsx(Z,{presentational:!0,className:o.splitter,"data-resizing":c?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:o.slider,...l})})]}),e.jsx("div",{className:o.canvasWrapper,children:e.jsx("div",{className:o.canvas})})]})]})});function Le({children:a}){return e.jsx("div",{className:o.emptyState,children:a})}function Xe(a,l,s){return Math.min(Math.max(a,l),s)}function Ge(a){const{minSize:l,maxSize:s,onCollapse:r}=a??{},m=n.useId(),c=n.useRef(null),[j,h]=n.useState(void 0),[f,i]=n.useState(void 0),[x,p]=n.useState(void 0),[C,y]=n.useState(!1),[P,N]=n.useState(void 0),v=n.useMemo(()=>{if(l&&f)return Math.min(l.px,l.pct/100*f)},[l,f]),_=n.useMemo(()=>{if(v&&s&&f)return Math.max(v,s.pct/100*f)},[s,f,v]),A=n.useMemo(()=>{if(x==="smallest")return v??0;if(x==="largest")return _??0;if(j&&v&&_)return Xe(j,v,_)},[j,v,_,x]);n.useEffect(()=>{const u=c.current;if(!u)return;const b=u.parentElement;if(!b)return;const g=new ResizeObserver(()=>{const D=b.getBoundingClientRect(),B=u.getBoundingClientRect();i(D.width),h(B.width)});return g.observe(b),g.observe(u),()=>{g.disconnect()}},[]);const O=n.useCallback(u=>{const b=c.current;if(!b)return;const g=b.getBoundingClientRect();N(g.width+u),p(void 0),y(!0)},[]),H=n.useCallback(u=>{const b=c.current;if(!b)return;const g=b.parentElement;if(!g)return;const D=g.getBoundingClientRect(),B=u*(D.width*.005),q=b.getBoundingClientRect();N(q.width+B),p(void 0)},[]),F=n.useCallback(()=>{c.current&&(N(void 0),y(!1))},[]),{moveableProps:R}=Oe({onMove:O,onMoveEnd:F,onKeyMove:H}),V=n.useMemo(()=>({...R,onKeyDown:u=>{var b;if((b=R.onKeyDown)==null||b.call(R,u),!u.defaultPrevented)switch(u.key){case"Enter":u.preventDefault(),r==null||r();break;case"Home":u.preventDefault(),p("smallest");break;case"End":u.preventDefault(),p("largest");break}},onChange:u=>{if(C)return;const b=Number(u.target.value);N(b)},value:A===void 0?0:Math.floor(A),min:v===void 0?void 0:Math.floor(v),max:_===void 0?void 0:Math.floor(_)}),[R,A,v,_,r,C]),W=n.useMemo(()=>({style:{WebkitUserSelect:P===void 0?void 0:"none"},id:m,ref:c}),[m,P]),$=v===void 0?void 0:`${v}px`,U=n.useMemo(()=>{if(P!==void 0&&s!==void 0&&x===void 0)return`min(${P}px, ${s.pct}%)`;if(A!==void 0)return`${A}px`},[s,P,A,x]);return{sliderProps:V,panelProps:W,panelMinSize:$,panelMaxSize:U,resizing:C}}function Oe(a){const{onMove:l,onMoveEnd:s,onKeyMove:r}=a??{},m=n.useRef(null),c=n.useRef(void 0),j=n.useRef(void 0),h=n.useCallback(()=>{j.current!==void 0&&(j.current=void 0,s==null||s())},[s]);return{moveableProps:n.useMemo(()=>({onPointerDown:i=>{if(i.button!==0||i.ctrlKey)return;const x=m.current;if(!x)return;const p=x.getBoundingClientRect(),C=i.clientX-p.left;j.current=C,i.preventDefault(),x.setPointerCapture(i.pointerId)},onPointerMove:i=>{const x=j.current;if(x===void 0)return;const p=m.current;if(!p)return;const C=p.getBoundingClientRect(),y=i.clientX-x-C.left;i.preventDefault(),l==null||l(y)},onPointerUp:h,onPointerCancel:h,onKeyDown:i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowLeft":i.preventDefault(),r==null||r(-1);break;case"ArrowRight":i.preventDefault(),r==null||r(1);break}},ref:i=>{var p;if(m.current=i,(p=c.current)==null||p.call(c),c.current=void 0,!i)return;const x=C=>{C.preventDefault()};i.addEventListener("touchstart",x),c.current=()=>{i.removeEventListener("touchstart",x)}}}),[r,l,h])}}const G=n.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function He(){const[a]=Q(),l=a.get("tree"),[s,r]=n.useState(),[m,c]=n.useState([]),j=n.useCallback(h=>{c(f=>f.includes(h)?f.filter(i=>i!==h):[...f,h])},[]);return l==="empty"?e.jsxs(Le,{children:[e.jsx(ee,{children:"No layers"}),e.jsx(Y,{children:"Create a layer"})]}):e.jsx(G.Provider,{value:n.useMemo(()=>({selected:s,setSelected:r,hidden:m,toggleHidden:j}),[m,s,j]),children:e.jsx(re,{children:l==="complex"?e.jsx(Ve,{}):e.jsx(Fe,{})})})}function Fe(){return e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Guides",children:e.jsxs(t,{label:"Tree",actions:!0,children:[e.jsx(t,{label:"Guide 4"}),e.jsx(t,{label:"Guide 3"}),e.jsx(t,{label:"Guide 2"}),e.jsx(t,{label:"Guide 1"})]})}),e.jsxs(t,{label:"Other",children:[e.jsx(t,{label:"Object 2",actions:!0,children:e.jsx(t,{label:"Path 3"})}),e.jsx(t,{label:"Object 1"})]}),e.jsxs(t,{label:"Road",children:[e.jsx(t,{label:"Parking lot access"}),e.jsx(t,{label:"Site access"})]}),e.jsx(t,{label:"Parking lot",actions:!0,children:e.jsxs(t,{label:"Parking area",actions:!0,children:[e.jsx(t,{label:"Bay point 2"}),e.jsx(t,{label:"Bay point 1",actions:!0}),e.jsx(t,{label:"Space point 1",actions:!0}),e.jsx(t,{label:"Path 6"})]})}),e.jsx(t,{label:"Building",children:e.jsx(t,{label:"Building area",children:e.jsx(t,{label:"Path 5"})})}),e.jsx(t,{label:"Sewer",children:e.jsx(t,{label:"Run off pipe",children:e.jsx(t,{label:"Path 4"})})}),e.jsx(t,{label:"Project boundary",children:e.jsx(t,{label:"Property area",children:e.jsx(t,{label:"Path 1"})})}),e.jsx(t,{label:"Map",children:e.jsx(t,{label:"Location",children:e.jsx(t,{label:"Terrain"})})})]})}function Ve(){return e.jsxs(e.Fragment,{children:[e.jsxs(t,{label:"ITC_Master",children:[e.jsx(t,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(t,{label:"002_Substation_A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",actions:!0,defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",actions:!0,defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002-A",actions:!0})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(t,{label:"007-aa_master.dgn",children:[e.jsx(t,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(t,{label:"A-CLNG-LITE-A"})}),e.jsx(t,{label:"A-CLNG-TILE",children:e.jsxs(t,{label:"A-DOOR-2D-PLAN",children:[e.jsx(t,{label:"P00003 [2-KA62]",actions:!0,children:e.jsx(t,{label:"Cell [2-KA63]",children:e.jsxs(t,{label:"Cell [2-KA64]",children:[e.jsx(t,{label:"Complex Chain [2-KA6A]"}),e.jsx(t,{label:"Complex Chain [2-KA6B]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6C]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6D]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6E]"}),e.jsx(t,{label:"Complex Chain [2-KA6F]"}),e.jsx(t,{label:"Complex Chain [2-KA6G]"}),e.jsx(t,{label:"Complex Chain [2-KA6H]"}),e.jsx(t,{label:"Complex Chain [2-KA61]"}),e.jsx(t,{label:"Complex Chain [2-KA65]"}),e.jsx(t,{label:"Complex Chain [2-KA66]"}),e.jsx(t,{label:"Complex Chain [2-KA67]"}),e.jsx(t,{label:"Complex Chain [2-KA68]"}),e.jsx(t,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(t,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA98-A]"})}),e.jsx(t,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(t,{label:"ITC_Main",actions:!0})]})}const w=n.createContext({selected:!1,hidden:!1});function t(a){const l=n.useContext(G),s=n.useContext(w),r=n.useId(),[m,c]=n.useState(a.defaultCollapsed===void 0?!0:!a.defaultCollapsed),j=n.Children.count(a.children)>0,h=n.useMemo(()=>s.hidden?!0:l.hidden.includes(r),[r,l.hidden,s.hidden]),f=s.selected||r===l.selected,i=n.useCallback(()=>{l.setSelected(p=>{if(p!==r)return r})},[r,l]),x=a.actions||h;return e.jsx(w.Provider,{value:n.useMemo(()=>({selected:f,hidden:h}),[h,f]),children:e.jsx(ae,{content:e.jsxs(e.Fragment,{children:[e.jsx(le,{onClick:()=>{c(p=>!p)}}),e.jsx(I,{href:M,style:{display:"inline"}}),e.jsx(oe,{onClick:()=>{i()},children:a.label}),x&&e.jsxs(ie,{children:[e.jsx(S,{className:o.action,icon:de,label:"Lock",variant:"ghost","aria-hidden":!a.actions||h}),s.hidden?e.jsx("span",{className:o.actionIcon,children:e.jsx(I,{href:ue})}):e.jsx(S,{className:o.action,icon:h?he:xe,label:h?"Show":"Hide",variant:"ghost","aria-hidden":!a.actions,onClick:()=>{l.toggleHidden(r)}}),e.jsx(We,{hidden:!a.actions||h})]})]}),expanded:j?m:void 0,selected:f,children:m?a.children:void 0})})}function We({hidden:a}){return e.jsxs(k,{children:[e.jsx(K,{className:o.action,"aria-hidden":a,render:e.jsx(S,{icon:me,label:"More",variant:"ghost"})}),e.jsxs(E,{style:{minInlineSize:164},children:[e.jsx(d,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(d,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(d,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(d,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(d,{shortcuts:"]",children:"Bring to front"}),e.jsx(d,{shortcuts:"[",children:"Send to back"}),e.jsx(d,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(d,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(d,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(d,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(d,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(d,{shortcuts:"I",children:"Isolate object"})]})]})}function $e(){const[a,l]=n.useState(!1),s=n.useRef(null),r=n.useRef(null),m=a?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{}),e.jsx(S,{className:o.shiftIconRight,icon:pe,label:"Close",variant:"ghost",onClick:()=>{var c;z.flushSync(()=>l(!1)),(c=r.current)==null||c.focus()}})]}):e.jsx(S,{className:o.shiftIconRight,icon:T,label:"Search",variant:"ghost",onClick:()=>{var c;z.flushSync(()=>l(!0)),(c=s.current)==null||c.focus()}});return e.jsxs("div",{className:o.subheader,children:[e.jsx(fe.h3,{className:o.subheaderTitle,tabIndex:-1,ref:r,render:a?e.jsx(L,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),a?e.jsxs(te,{className:o.searchInput,children:[e.jsx(ne,{href:T}),e.jsx(se,{placeholder:"Search",ref:s})]}):null,e.jsx("div",{className:o.subheaderActions,children:m})]})}function Ue(){return e.jsxs(k,{children:[e.jsx(K,{render:e.jsx(S,{icon:je,label:"Filter",variant:"ghost"})}),e.jsxs(E,{style:{minInlineSize:164},children:[e.jsx(d,{children:"Show all"}),e.jsx(d,{children:"Guides"}),e.jsx(d,{children:"Other"}),e.jsx(d,{children:"Roadway"}),e.jsx(d,{children:"Parking"}),e.jsx(d,{children:"Building"}),e.jsx(d,{children:"Dry utility"}),e.jsx(d,{children:"Stormwater"}),e.jsx(d,{children:"Sewer"}),e.jsx(d,{children:"Boundary"}),e.jsx(d,{children:"Map"})]})]})}export{Rt as default,Pt as meta};
