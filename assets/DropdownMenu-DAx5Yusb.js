import{a as M,n as P}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as J}from"./index-jyeBNHV5.js";import{c as _,_ as A,g as w,u as Y,b,d as N,e as j,h as B,j as ge,k as qe,l as ae,m as K,r as Ce,n as le,o as ze,p as Ge,t as Je,q as W,s as Se,v as z,x as L,y as Pe,z as ye,A as Me,B as we,C as Qe,D as Xe,E as Ye,F as Ze,G as ce,H as Oe,I as et,J as tt,K as nt,L as rt,M as be,N as he,O as ot,P as Ee,Q as F,R as ut,S as st,T as at,U as Ae,V as it,W as lt,X as ct,Y as dt,f as Q,Z as ve}from"./~utils-c1sb-itL.js";import{R as de}from"./XL7CSKGW-CagW3_U_.js";import{B as ft}from"./Button-BzkgLK5W.js";import{K as mt}from"./Kbd-DgjfOkAJ.js";import{a as pt,C as bt}from"./Icon-DIv-lnpo.js";import{u as De,f as ht,C as ke,a as Ie,b as vt}from"./P2CTZE2T-4fKeMvch.js";import{H as xt,a as gt,c as Ct,u as St,b as Pt,d as yt,e as Mt}from"./BYC7LY2E-aAFRn7dW.js";import{u as wt}from"./VEVQD5MH-Ciqu3842.js";import{c as Ot,u as Et,a as At}from"./ITI7HKP4-BwMDVXZA.js";import{b as Dt,i as kt}from"./VGCJ63VH-DY27gHII.js";import{h as G,a as It}from"./LVA2YJMS-TgXrMinU.js";import{u as Tt}from"./P4IRICAX-ChzmpBPM.js";import{u as Te,P as Ht}from"./MTZPJQMC-BJzcLjZf.js";import{u as Ft}from"./ASMQKSDT-Dn4maEMc.js";var _t="div",He=_(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=Te();return e=e||s,o=w(b({},o),{ref:Y(e==null?void 0:e.setAnchorElement,o.ref)}),o});N(function(n){const r=He(n);return j(_t,r)});var Nt="button",Fe=_(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=Dt();e=e||s,B(e,!1);const u=e.useState("contentElement");return o=b({"aria-haspopup":ge(u,"dialog")},o),o=Tt(b({store:e},o)),o});N(function(n){const r=Fe(n);return j(Nt,r)});var jt="div";function _e(t){const n=t.relatedTarget;return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE?n:null}function Lt(t){const n=_e(t);return n?ze(t.currentTarget,n):!1}var ie=Symbol("composite-hover");function Rt(t){let n=_e(t);if(!n)return!1;do{if(Ge(n,ie)&&n[ie])return!0;n=n.parentElement}while(n);return!1}var Ne=_(function(n){var r=n,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,u=A(r,["store","focusOnHover","blurOnHoverEnd"]);const a=De();e=e||a,B(e,!1);const i=qe(),d=u.onMouseMove,c=ae(o),v=K(m=>{if(d==null||d(m),!m.defaultPrevented&&i()&&c(m)){if(!G(m.currentTarget)){const S=e==null?void 0:e.getState().baseElement;S&&!It(S)&&S.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),f=u.onMouseLeave,l=ae(s),C=K(m=>{var S;f==null||f(m),!m.defaultPrevented&&i()&&(Lt(m)||Rt(m)||c(m)&&l(m)&&(e==null||e.setActiveId(null),(S=e==null?void 0:e.getState().baseElement)==null||S.focus()))}),p=M.useCallback(m=>{m&&(m[ie]=!0)},[]);return u=w(b({},u),{ref:Y(p,u.ref),onMouseMove:v,onMouseLeave:C}),Ce(u)});le(N(function(n){const r=Ne(n);return j(jt,r)}));function Kt(t={}){var n;Je(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:W(t.value,r==null?void 0:r.value,t.defaultValue,!1)},o=Se(e,t.store);return z(L({},o),{setValue:s=>o.setState("value",s)})}function Bt(t,n,r){return ye(n,[r.store]),Me(t,r,"value","setValue"),t}function Vt(t={}){const[n,r]=Pe(Kt,t);return Bt(n,r,t)}var $t="div",R="";function ue(){R=""}function Wt(t){const n=t.target;return n&&Xe(n)?!1:t.key===" "&&R.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Ut(t,n){if(Ye(t))return!0;const r=t.target;return r?n.some(o=>o.element===r):!1}function qt(t){return t.filter(n=>!n.disabled)}function re(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?Ze(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function zt(t,n,r){if(!r)return t;const e=t.find(o=>o.id===r);return!e||!re(e,n)||R!==n&&re(e,R)?t:(R=n,ht(t.filter(o=>re(o,R)),r).filter(o=>o.id!==r))}var fe=_(function(n){var r=n,{store:e,typeahead:o=!0}=r,s=A(r,["store","typeahead"]);const u=De();e=e||u,B(e,!1);const a=s.onKeyDownCapture,i=M.useRef(0),d=K(c=>{if(a==null||a(c),c.defaultPrevented||!o||!e)return;if(!Wt(c))return ue();const{renderedItems:v,items:f,activeId:l,id:C}=e.getState();let p=qt(f.length>v.length?f:v);const m=we(c.currentTarget),S=`[data-offscreen-id="${C}"]`,h=m.querySelectorAll(S);for(const y of h){const T=y.ariaDisabled==="true"||"disabled"in y&&!!y.disabled;p.push({id:y.id,element:y,disabled:T})}if(h.length&&(p=Qe(p,y=>y.element)),!Ut(c,p))return ue();c.preventDefault(),window.clearTimeout(i.current),i.current=window.setTimeout(()=>{R=""},500);const D=c.key.toLowerCase();R+=D,p=zt(p,D,l);const E=p.find(y=>re(y,R));E?e.move(E.id):ue()});return s=w(b({},s),{onKeyDownCapture:d}),Ce(s)});N(function(n){const r=fe(n);return j($t,r)});var Gt="button",je=_(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=Te();e=e||s,B(e,!1);const u=o.onClick,a=K(i=>{e==null||e.setAnchorElement(i.currentTarget),u==null||u(i)});return o=ce(o,i=>P.jsx(Ht,{value:e,children:i}),[e]),o=w(b({},o),{onClick:a}),o=He(b({store:e},o)),o=Fe(b({store:e},o)),o});N(function(n){const r=je(n);return j(Gt,r)});var Le=Oe([Ie],[ke]),Jt=Le.useContext,Qt=Le.useScopedContext;M.createContext(void 0);var Z=Oe([Ie,gt],[ke,xt]),Xt=Z.useContext,Re=Z.useScopedContext,oe=Z.useProviderContext,Ke=Z.ContextProvider,Yt=Z.ScopedContextProvider;M.createContext(void 0);function Zt(t={}){var n=t,{combobox:r,parent:e,menubar:o}=n,s=et(n,["combobox","parent","menubar"]);const u=!!o&&!e,a=tt(s.store,rt(e,["values"]),nt(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),i=a.getState(),d=Ot(z(L({},s),{store:a,orientation:W(s.orientation,i.orientation,"vertical")})),c=Ct(z(L({},s),{store:a,placement:W(s.placement,i.placement,"bottom-start"),timeout:W(s.timeout,i.timeout,u?0:150),hideTimeout:W(s.hideTimeout,i.hideTimeout,0)})),v=z(L(L({},d.getState()),c.getState()),{initialFocus:W(i.initialFocus,"container"),values:W(s.values,i.values,s.defaultValues,{})}),f=Se(v,d,c,a);return be(f,()=>he(f,["mounted"],l=>{l.mounted||f.setState("activeId",null)})),be(f,()=>he(e,["orientation"],l=>{f.setState("placement",l.orientation==="vertical"?"right-start":"bottom-start")})),z(L(L(L({},d),c),f),{combobox:r,parent:e,menubar:o,hideAll:()=>{c.hide(),e==null||e.hideAll()},setInitialFocus:l=>f.setState("initialFocus",l),setValues:l=>f.setState("values",l),setValue:(l,C)=>{l!=="__proto__"&&l!=="constructor"&&(Array.isArray(l)||f.setState("values",p=>{const m=p[l],S=ot(C,m);return S===m?p:z(L({},p),{[l]:S!==void 0&&S})}))}})}function en(t,n,r){return ye(n,[r.combobox,r.parent,r.menubar]),Me(t,r,"values","setValues"),Object.assign(St(Et(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function Be(t={}){const n=Xt(),r=Jt(),e=wt();t=w(b({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=Pe(Zt,t);return en(o,s,t)}var tn="div";function nn(t){var n=t,{store:r}=n,e=A(n,["store"]);const[o,s]=M.useState(void 0),u=e["aria-label"],a=F(r,"disclosureElement"),i=F(r,"contentElement");return M.useEffect(()=>{const d=a;if(!d)return;const c=i;if(!c)return;u||c.hasAttribute("aria-label")?s(void 0):d.id&&s(d.id)},[u,a,i]),o}var Ve=_(function(n){var r=n,{store:e,alwaysVisible:o,composite:s}=r,u=A(r,["store","alwaysVisible","composite"]);const a=oe();e=e||a,B(e,!1);const i=e.parent,d=e.menubar,c=!!i,v=Ee(u.id),f=u.onKeyDown,l=e.useState(g=>g.placement.split("-")[0]),C=e.useState(g=>g.orientation==="both"?void 0:g.orientation),p=C!=="vertical",m=F(d,g=>!!g&&g.orientation!=="vertical"),S=K(g=>{if(f==null||f(g),!g.defaultPrevented){if(c||d&&!p){const k={ArrowRight:()=>l==="left"&&!p,ArrowLeft:()=>l==="right"&&!p,ArrowUp:()=>l==="bottom"&&p,ArrowDown:()=>l==="top"&&p}[g.key];if(k!=null&&k())return g.stopPropagation(),g.preventDefault(),e==null?void 0:e.hide()}if(d){const k={ArrowRight:()=>{if(m)return d.next()},ArrowLeft:()=>{if(m)return d.previous()},ArrowDown:()=>{if(!m)return d.next()},ArrowUp:()=>{if(!m)return d.previous()}}[g.key],V=k==null?void 0:k();V!==void 0&&(g.stopPropagation(),g.preventDefault(),d.move(V))}}});u=ce(u,g=>P.jsx(Yt,{value:e,children:g}),[e]);const h=nn(b({store:e},u)),D=e.useState("mounted"),E=kt(D,u.hidden,o),y=E?w(b({},u.style),{display:"none"}):u.style;u=w(b({id:v,"aria-labelledby":h,hidden:E},u),{ref:Y(v?e.setContentElement:null,u.ref),style:y,onKeyDown:S});const T=!!e.combobox;return s=s??!T,s&&(u=b({role:"menu","aria-orientation":C},u)),u=At(b({store:e,composite:s},u)),u=fe(b({store:e,typeahead:!T},u)),u});N(function(n){const r=Ve(n);return j(tn,r)});var rn="div",on=_(function(n){var r=n,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:u=!0,autoFocusOnShow:a=!0,hideOnHoverOutside:i,alwaysVisible:d}=r,c=A(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const v=oe();e=e||v,B(e,!1);const f=M.useRef(null),l=e.parent,C=e.menubar,p=!!l,m=!!C&&!p;c=w(b({},c),{ref:Y(f,c.ref)});const S=Ve(b({store:e,alwaysVisible:d},c)),{"aria-labelledby":h}=S;c=A(S,["aria-labelledby"]);const[E,y]=M.useState(),T=e.useState("autoFocusOnShow"),g=e.useState("initialFocus"),U=e.useState("baseElement"),k=e.useState("renderedItems");M.useEffect(()=>{let H=!1;return y(O=>{var te,me,pe;if(H||!T)return;if((te=O==null?void 0:O.current)!=null&&te.isConnected)return O;const ne=M.createRef();switch(g){case"first":ne.current=((me=k.find(X=>!X.disabled&&X.element))==null?void 0:me.element)||null;break;case"last":ne.current=((pe=[...k].reverse().find(X=>!X.disabled&&X.element))==null?void 0:pe.element)||null;break;default:ne.current=U}return ne}),()=>{H=!0}},[e,T,g,k,U]);const V=p?!1:o,x=!!a,I=!!E||!!c.initialFocus||!!V,q=F(e.combobox||e,"contentElement"),$=F((l==null?void 0:l.combobox)||l,"contentElement"),ee=M.useMemo(()=>{if(!$||!q)return;const H=q.getAttribute("role"),O=$.getAttribute("role");if(!((O==="menu"||O==="menubar")&&H==="menu"))return $},[q,$]);return ee!==void 0&&(c=b({preserveTabOrderAnchor:ee},c)),c=Pt(w(b({store:e,alwaysVisible:d,initialFocus:E,autoFocusOnShow:x?I&&a:T||!!V},c),{hideOnEscape(H){return ut(u,H)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(H){const O=e==null?void 0:e.getState().disclosureElement;return(typeof i=="function"?i(H):i??(p?!0:m?O?!G(O):!0:!1))?H.defaultPrevented||!p||!O||(st(O,"mouseout",H),!G(O))?!0:(requestAnimationFrame(()=>{G(O)||e==null||e.hide()}),!1):!1},modal:V,portal:s,backdrop:p?!1:c.backdrop})),c=b({"aria-labelledby":h},c),c}),un=yt(N(function(n){const r=on(n);return j(rn,r)}),oe);function sn(t={}){const n=Be(t);return P.jsx(Ke,{value:n,children:t.children})}var an="button";function ln(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function xe(t,n){return!!(t!=null&&t.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true"))}var cn=_(function(n){var r=n,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:u}=r,a=A(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const i=oe();e=e||i,B(e,!1);const d=M.useRef(null),c=e.parent,v=e.menubar,f=!!c,l=!!v&&!f,C=at(a),p=()=>{const x=d.current;x&&(e==null||e.setDisclosureElement(x),e==null||e.setAnchorElement(x),e==null||e.show())},m=a.onFocus,S=K(x=>{if(m==null||m(x),C||x.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!v)||!l)return;const{items:I}=v.getState();xe(I,x.currentTarget)&&p()}),h=F(e,x=>x.placement.split("-")[0]),D=a.onKeyDown,E=K(x=>{if(D==null||D(x),C||x.defaultPrevented)return;const I=ln(x,h);I&&(x.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(I))}),y=a.onClick,T=K(x=>{if(y==null||y(x),x.defaultPrevented||!e)return;const I=!x.detail,{open:q}=e.getState();(!q||I)&&((!f||I)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(I?"first":"container")),f&&p()});a=ce(a,x=>P.jsx(Ke,{value:e,children:x}),[e]),f&&(a=w(b({},a),{render:P.jsx(de.div,{render:a.render})}));const g=Ee(a.id),U=F((c==null?void 0:c.combobox)||c,"contentElement"),k=f||l?Ae(U,"menuitem"):void 0,V=e.useState("contentElement");return a=w(b({id:g,role:k,"aria-haspopup":ge(V,"menu")},a),{ref:Y(d,a.ref),onFocus:S,onKeyDown:E,onClick:T}),a=Mt(w(b({store:e,focusable:o,accessibleWhenDisabled:s},a),{showOnHover:x=>{if(!(()=>{if(typeof u=="function")return u(x);if(u!=null)return u;if(f)return!0;if(!v)return!1;const{items:ee}=v.getState();return l&&xe(ee)})())return!1;const $=l?v:c;return $&&$.setActiveId(x.currentTarget.id),!0}})),a=je(b({store:e,toggleOnClick:!f,focusable:o,accessibleWhenDisabled:s},a)),a=fe(b({store:e,typeahead:l},a)),a}),dn=N(function(n){const r=cn(n);return j(an,r)}),fn="div";function mn(t,n,r){var e;if(!t)return!1;if(G(t))return!0;const o=n==null?void 0:n.find(i=>{var d;return i.element===r?!1:((d=i.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),s=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const a=we(t).getElementById(s);return a?G(a)?!0:!!a.querySelector("[role=menuitem][aria-expanded=true]"):!1}var $e=_(function(n){var r=n,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:u,blurOnHoverEnd:a}=r,i=A(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=Re(!0),c=Qt();e=e||d||c,B(e,!1);const v=i.onClick,f=ae(o),l="hideAll"in e?e.hideAll:void 0,C=!!l,p=K(h=>{v==null||v(h),!(h.defaultPrevented||it(h)||lt(h)||!l||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&f(h)&&l()}),m=F(e,h=>"contentElement"in h?h.contentElement:null),S=Ae(m,"menuitem");return i=w(b({role:S},i),{onClick:p}),i=vt(b({store:e,preventScrollOnKeyDown:s},i)),i=Ne(w(b({store:e},i),{focusOnHover(h){const D=()=>typeof u=="function"?u(h):u??!0;if(!e||!D())return!1;const{baseElement:E,items:y}=e.getState();return C?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):mn(E,y,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof a=="function"?a(h):a??C}})),i}),pn=le(N(function(n){const r=$e(n);return j(fn,r)})),bn="div";function hn(t){return Array.isArray(t)?t.toString():t}function se(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=hn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):r?e:t===e?!1:t}var vn=_(function(n){var r=n,{store:e,name:o,value:s,checked:u,defaultChecked:a,hideOnClick:i=!1}=r,d=A(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const c=Re();e=e||c,B(e,!1);const v=ct(a);M.useEffect(()=>{e==null||e.setValue(o,(l=[])=>v?se(l,s,!0):l)},[e,o,s,v]),M.useEffect(()=>{u!==void 0&&(e==null||e.setValue(o,l=>se(l,s,u)))},[e,o,s,u]);const f=Vt({value:e.useState(l=>l.values[o]),setValue(l){e==null||e.setValue(o,()=>{if(u===void 0)return l;const C=se(l,s,u);return!Array.isArray(C)||!Array.isArray(l)?C:dt(l,C)?l:C})}});return d=b({role:"menuitemcheckbox"},d),d=Ft(b({store:f,name:o,value:s,checked:u},d)),d=$e(b({store:e,hideOnClick:i},d)),d}),xn=le(N(function(n){const r=vn(n);return j(bn,r)}));const We=Q((t,n)=>P.jsx(de.div,{role:"listitem",...t,className:J("-list-item",t.className),ref:n})),Ue=Q((t,n)=>P.jsx(de.span,{...t,className:J("-list-item-content",t.className),ref:n}));function _n(t){const{children:n,placement:r,open:e,setOpen:o,defaultOpen:s}=t,u=Be(),a=F(u,d=>d.open),i=F(u,d=>d.popoverElement);return M.useEffect(function(){var c;i!=null&&i.isConnected&&((c=i==null?void 0:i.togglePopover)==null||c.call(i,a))},[a,i]),P.jsx(sn,{store:u,placement:r,defaultOpen:s,open:e,setOpen:o,children:n})}const Nn=Q((t,n)=>P.jsx(un,{portal:!ve,unmountOnHide:!0,...t,gutter:4,style:{zIndex:ve?void 0:9999,...t.style},wrapperProps:{popover:"manual"},className:J("-dropdown-menu",t.className),ref:n})),jn=Q((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...o}=t;return P.jsx(dn,{accessibleWhenDisabled:!0,render:P.jsxs(ft,{accessibleWhenDisabled:r,children:[e,P.jsx(pt,{})]}),...o,className:J("-dropdown-menu-button",t.className),ref:n})}),Ln=Q((t,n)=>{const{shortcuts:r,...e}=t,o=M.useMemo(()=>typeof r=="string"?r.split("+").map(u=>u.trim()):[],[r]),s=o.length>0;return P.jsxs(pn,{accessibleWhenDisabled:!0,...e,render:P.jsx(We,{render:t.render}),className:J("-dropdown-menu-item",t.className),ref:n,children:[P.jsx(Ue,{children:t.children}),s&&P.jsx("span",{className:"-dropdown-menu-item-shortcuts",children:o.map((u,a)=>P.jsx(mt,{variant:"ghost",children:u},`${u+a}`))})]})}),Rn=Q((t,n)=>P.jsxs(xn,{accessibleWhenDisabled:!0,value:t.defaultChecked?"on":void 0,...t,render:P.jsx(We,{render:t.render}),className:J("-dropdown-menu-item",t.className),ref:n,children:[P.jsx(Ue,{children:t.children}),P.jsx(bt,{className:"-dropdown-menu-checkmark"})]}));export{_n as D,jn as a,Nn as b,Ln as c,Rn as d};
