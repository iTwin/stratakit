import{w as U,e as _,A as B}from"./~utils-BFcooMC1.js";import{b as l,p as e}from"./index-DDCMeoDP.js";import{I as d}from"./Icon-Bp9Xi1cW.js";import{T as M,a as q,b as G,c as H,d as y,e as n}from"./Tree-BlQrRqwj.js";import{p as m}from"./placeholder-BDe-GzZ9.js";import{u as k,r as J}from"./refresh-CVIscMDV.js";import{s as T}from"./visibility-show-CMY-I9kg.js";import"./Root.internal-FbBu8Bbs.js";import"./~hooks-D6zECIHT.js";import"./YV4JVR4I-DB2LP8YT.js";import"./BYC7LY2E-D0Jx6cGv.js";import"./VGCJ63VH-B2hmVctR.js";import"./VisuallyHidden-COre9HMK.js";import"./AOQQTIBO-B8Hiwoj-.js";import"./MTZPJQMC-pmJK4B1G.js";import"./QYJ6MIDR-Bfd920oL.js";import"./Text-Dble5oEE.js";import"./P4IRICAX-D9xLV3Xe.js";import"./Button-ORaLud1U.js";import"./KUU7WJ55-D4N8qVQv.js";import"./IconButton-CDTyte4z.js";import"./P2CTZE2T-D7c_UAUb.js";import"./RZ4GPYOB-OPHASQ16.js";import"./Tooltip-srpyKzlG.js";import"./Divider-NiBhcWAL.js";import"./ITI7HKP4-D05z1dy4.js";import"./C3IKGW5T-DhswJs3Q.js";const je={title:"Tree"},Ie=U(_(function({overflow:I=!1,selected:i=!1,description:R,error:g}){const p=I?" with a super long label that is overflown":"",v=R?"Additional description":void 0,[w,f]=l.useState(!!g),[a,h]=l.useState(()=>[{label:`Item 1${p}`,selected:!!i,expanded:!0,children:[{label:"Item 1.1",selected:!!i},{label:"Item 1.2",selected:!!i},{label:`Item 1.3${p}`,selected:!!i}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${p}`,selected:!1}]},{label:"Item 3",selected:!1},...g?Array.from({length:50}).map((s,r)=>({label:`Item ${r+4}`,selected:!1})):[]]),x=l.useId(),A=l.useRef(null),u=l.useMemo(()=>[`${x}-0-1`],[x]);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",maxBlockSize:500},children:[w&&e.jsx(M,{label:"1 issue found",items:[e.jsx(q,{message:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Failed to create hierarchy for "}),e.jsx(B,{href:`#${u[0]}`,children:"Item 1.2"})]}),messageId:`${u[0]}-message`,onDismiss:()=>f(!1),actions:[e.jsx(G,{onClick:()=>f(!1),children:"Retry"},"retry")]},"1.2")]}),e.jsx(H,{style:{maxInlineSize:I?300:void 0},children:a.map((s,r,C)=>{var E;const D=()=>{const o=a[r].selected,t=[...a];t[r].selected=!o,h(t)},z=()=>{const o=a[r].expanded;if(o===void 0)return;const t=[...a];t[r].expanded=!o,h(t)};return e.jsxs(l.Fragment,{children:[e.jsx(y,{"aria-level":1,"aria-posinset":r+1,"aria-setsize":C.length,label:s.label,description:r===0?v:void 0,expanded:s.expanded,onExpandedChange:z,selected:s.selected,onSelectedChange:D,icon:e.jsx(d,{href:m,alt:"decoration"}),actions:[e.jsx(n,{icon:k,label:"Unlock"},"unlock"),e.jsx(n,{icon:T,label:"Show"},"show")]},s.label),(E=s.children)==null?void 0:E.map((o,t,F)=>{if(!s.expanded)return null;const P=()=>{var $;const S=[...a],j=($=S[r].children)==null?void 0:$[t];j&&(j.selected=!j.selected),h(S)},b=`${x}-${r}-${t}`,c=w&&u.includes(b);return e.jsx(y,{id:c?b:void 0,"aria-level":2,"aria-posinset":t+1,"aria-setsize":F.length,label:o.label,description:t===0?v:void 0,selected:o.selected,onSelectedChange:P,unstable_decorations:t===0?e.jsxs(e.Fragment,{children:[e.jsx(d,{href:m}),e.jsx(d,{href:m})]}):e.jsx(d,{href:m}),actions:c?[e.jsx(n,{icon:J,label:"Retry",visible:!0,onClick:()=>f(!1)},"retry")]:[e.jsx(n,{icon:k,label:"Unlock"},"unlock"),e.jsx(n,{icon:T,label:"Show"},"show")],error:c?`${b}-message`:void 0,ref:c?A:void 0},o.label)})]},s.label)})})]})}));export{Ie as default,je as handle};
