import{u as jt,m as Lt,o as kt,c as ht,a as $e,d as ue,b as gt}from"./YV4JVR4I-DLga0GKc.js";import{E as Nt,s as we,t as ie,q as te,v as Vt,x as N,T as J,o as V,V as B,g as M,b as F,a6 as Ne,S as It,a7 as Et,a8 as Bt,a9 as qt,aa as ne,ab as Wt,m as fe,c as pe,_ as me,C as re,d as ae,e as ve,u as je,ac as nt,ad as Fe,ae as Ue,G as Yt,X as bt,a4 as Xt,l as Se,a1 as zt,af as Ut,h as Le,D as Kt,k as Pt,ag as Gt,H as Jt,J as Zt}from"./~utils-CXS-Eo5I.js";import{e as Qt,f as en,u as tn,d as xt,b as Ke,i as nn,g as rn,h as on,j as sn}from"./VGCJ63VH-hCInS4bf.js";import{R as rt}from"./XL7CSKGW-jKIs8fZc.js";import{a as l,n as x}from"./chunk-K6AXKMTT-B-qJA4K0.js";import{g as un,i as an,b as cn,c as Ve,d as ot,r as ln,e as fn,j as dn,k as Ae,u as wt,l as pn,h as mn}from"./LVA2YJMS-DDvwbZfd.js";import{a as Ye}from"./index-BS0ev41h.js";import{u as vn}from"./VisuallyHidden-COWKtyYs.js";import{u as St,P as yt,a as hn}from"./MTZPJQMC-BTjgTCyG.js";import{t as gn,e as En,o as bn,f as Pn,s as xn,b as wn,u as Sn,v as yn}from"./floating-ui.dom-C6I1qeG1.js";function Ot(e={}){return Qt(e)}function Ft(e,t,r){return en(e,t,r)}function On(e={}){const[t,r]=jt(Ot,e);return Ft(t,r,e)}function Fn(e={}){var t=e,{popover:r}=t,n=Nt(t,["popover"]);const o=Lt(n.store,kt(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),s=o==null?void 0:o.getState(),u=Ot(we(ie({},n),{store:o})),i=te(n.placement,s==null?void 0:s.placement,"bottom"),a=we(ie({},u.getState()),{placement:i,currentPlacement:i,anchorElement:te(s==null?void 0:s.anchorElement,null),popoverElement:te(s==null?void 0:s.popoverElement,null),arrowElement:te(s==null?void 0:s.arrowElement,null),rendered:Symbol("rendered")}),c=ht(a,u,o);return we(ie(ie({},u),c),{setAnchorElement:v=>c.setState("anchorElement",v),setPopoverElement:v=>c.setState("popoverElement",v),setArrowElement:v=>c.setState("arrowElement",v),render:()=>c.setState("rendered",Symbol("rendered"))})}function An(e,t,r){return Vt(t,[r.popover]),$e(e,r,"placement"),Ft(e,t,r)}function At(e,...t){if(!e)return!1;const r=e.getAttribute("data-backdrop");return r==null?!1:r===""||r==="true"||!t.length?!0:t.some(n=>r===n)}var Ie=new WeakMap;function Te(e,t,r){Ie.has(e)||Ie.set(e,new Map);const n=Ie.get(e),o=n.get(t);if(!o)return n.set(t,r()),()=>{var i;(i=n.get(t))==null||i(),n.delete(t)};const s=r(),u=()=>{s(),o(),n.delete(t)};return n.set(t,u),()=>{n.get(t)===u&&(s(),n.set(t,o))}}function Ge(e,t,r){return Te(e,t,()=>{const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o==null?e.removeAttribute(t):e.setAttribute(t,o)}})}function de(e,t,r){return Te(e,t,()=>{const o=t in e,s=e[t];return e[t]=r,()=>{o?e[t]=s:delete e[t]}})}function Xe(e,t){return e?Te(e,"style",()=>{const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}):()=>{}}function Tn(e,t,r){return e?Te(e,t,()=>{const o=e.style.getPropertyValue(t);return e.style.setProperty(t,r),()=>{o?e.style.setProperty(t,o):e.style.removeProperty(t)}}):()=>{}}var Rn=["SCRIPT","STYLE"];function ze(e){return`__ariakit-dialog-snapshot-${e}`}function Cn(e,t){const r=N(t),n=ze(e);if(!r.body[n])return!0;do{if(t===r.body)return!1;if(t[n])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function Dn(e,t,r){return Rn.includes(t.tagName)||!Cn(e,t)?!1:!r.some(n=>n&&V(t,n))}function Je(e,t,r,n){for(let o of t){if(!(o!=null&&o.isConnected))continue;const s=t.some(a=>!a||a===o?!1:a.contains(o)),u=N(o),i=o;for(;o.parentElement&&o!==u.body;){if(n==null||n(o.parentElement,i),!s)for(const a of o.parentElement.children)Dn(e,a,t)&&r(a,i);o=o.parentElement}}}function Mn(e,t){const{body:r}=N(t[0]),n=[];return Je(e,t,s=>{n.push(de(s,ze(e),!0))}),J(de(r,ze(e),!0),()=>{for(const s of n)s()})}function ye(e="",t=!1){return`__ariakit-dialog-${t?"ancestor":"outside"}${e?`-${e}`:""}`}function Hn(e,t=""){return J(de(e,ye(),!0),de(e,ye(t),!0))}function Tt(e,t=""){return J(de(e,ye("",!0),!0),de(e,ye(t,!0),!0))}function Ze(e,t){const r=ye(t,!0);if(e[r])return!0;const n=ye(t);do{if(e[n])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function st(e,t){const r=[],n=t.map(s=>s==null?void 0:s.id);return Je(e,t,s=>{At(s,...n)||r.unshift(Hn(s,e))},(s,u)=>{u.hasAttribute("data-dialog")&&u.id!==e||r.unshift(Tt(s,e))}),()=>{for(const s of r)s()}}function _n({store:e,backdrop:t,alwaysVisible:r,hidden:n}){const o=l.useRef(null),s=tn({disclosure:e}),u=ue(e,"contentElement");l.useEffect(()=>{const c=o.current,v=u;c&&v&&(c.style.zIndex=getComputedStyle(v).zIndex)},[u]),B(()=>{const c=u==null?void 0:u.id;if(!c)return;const v=o.current;if(v)return Tt(v,c)},[u]);const i=xt({ref:o,store:s,role:"presentation","data-backdrop":(u==null?void 0:u.id)||"",alwaysVisible:r,hidden:n??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!t)return null;if(l.isValidElement(t))return x.jsx(rt,M(F({},i),{render:t}));const a=typeof t!="boolean"?t:"div";return x.jsx(rt,M(F({},i),{render:x.jsx(a,{})}))}function $n(e,...t){if(!e)return!1;const r=e.getAttribute("data-focus-trap");return r==null?!1:t.length?r===""?!1:t.some(n=>r===n):!0}function jn(e){return Ge(e,"aria-hidden","true")}function Rt(){return"inert"in HTMLElement.prototype}function Ct(e,t){if(!("style"in e))return Ne;if(Rt())return de(e,"inert",!0);const n=un(e,!0).map(o=>{if(t!=null&&t.some(u=>u&&V(u,o)))return Ne;const s=Te(o,"focus",()=>(o.focus=Ne,()=>{delete o.focus}));return J(Ge(o,"tabindex","-1"),s)});return J(...n,jn(e),Xe(e,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function Ln(e,t){const r=[],n=t.map(s=>s==null?void 0:s.id);return Je(e,t,s=>{At(s,...n)||$n(s,...n)||r.unshift(Ct(s,t))},s=>{s.hasAttribute("role")&&(t.some(u=>u&&V(u,s))||r.unshift(Ge(s,"role","none")))}),()=>{for(const s of r)s()}}function kn({attribute:e,contentId:t,contentElement:r,enabled:n}){const[o,s]=It(),u=l.useCallback(()=>{if(!n||!r)return!1;const{body:i}=N(r),a=i.getAttribute(e);return!a||a===t},[o,n,r,e,t]);return l.useEffect(()=>{if(!n||!t||!r)return;const{body:i}=N(r);if(u())return i.setAttribute(e,t),()=>i.removeAttribute(e);const a=new MutationObserver(()=>Ye.flushSync(s));return a.observe(i,{attributeFilter:[e]}),()=>a.disconnect()},[o,n,t,r,u,e]),u}function Nn(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Vn(e,t,r){const n=kn({attribute:"data-dialog-prevent-body-scroll",contentElement:e,contentId:t,enabled:r});l.useEffect(()=>{if(!n()||!e)return;const o=N(e),s=Et(e),{documentElement:u,body:i}=o,a=u.style.getPropertyValue("--scrollbar-width"),c=a?Number.parseInt(a):s.innerWidth-u.clientWidth,v=()=>Tn(u,"--scrollbar-width",`${c}px`),S=Nn(u),p=()=>Xe(i,{overflow:"hidden",[S]:`${c}px`}),D=()=>{var H,A;const{scrollX:b,scrollY:R,visualViewport:_}=s,f=(H=_==null?void 0:_.offsetLeft)!=null?H:0,m=(A=_==null?void 0:_.offsetTop)!=null?A:0,E=Xe(i,{position:"fixed",overflow:"hidden",top:`${-(R-Math.floor(m))}px`,left:`${-(b-Math.floor(f))}px`,right:"0",[S]:`${c}px`});return()=>{E(),s.scrollTo({left:b,top:R,behavior:"instant"})}},O=Bt()&&!qt();return J(v(),O?D():p())},[n,e])}var ut=l.createContext({});function In(e){const t=l.useContext(ut),[r,n]=l.useState([]),o=l.useCallback(i=>{var a;return n(c=>[...c,i]),J((a=t.add)==null?void 0:a.call(t,i),()=>{n(c=>c.filter(v=>v!==i))})},[t]);B(()=>gt(e,["open","contentElement"],i=>{var a;if(i.open&&i.contentElement)return(a=t.add)==null?void 0:a.call(t,e)}),[e,t]);const s=l.useMemo(()=>({store:e,add:o}),[e,o]);return{wrapElement:l.useCallback(i=>x.jsx(ut.Provider,{value:s,children:i}),[s]),nestedDialogs:r}}function Bn(e){const t=l.useRef();return l.useEffect(()=>{if(!e){t.current=null;return}return ne("mousedown",n=>{t.current=n.target},!0)},[e]),t}function qn(e){return e.tagName==="HTML"?!0:V(N(e).body,e)}function Wn(e,t){if(!e)return!1;if(V(e,t))return!0;const r=t.getAttribute("aria-activedescendant");if(r){const n=N(e).getElementById(r);if(n)return V(e,n)}return!1}function Yn(e,t){if(!("clientY"in e))return!1;const r=t.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=e.clientY&&e.clientY<=r.top+r.height&&r.left<=e.clientX&&e.clientX<=r.left+r.width}function Be({store:e,type:t,listener:r,capture:n,domReady:o}){const s=fe(r),u=ue(e,"open"),i=l.useRef(!1);B(()=>{if(!u||!o)return;const{contentElement:a}=e.getState();if(!a)return;const c=()=>{i.current=!0};return a.addEventListener("focusin",c,!0),()=>a.removeEventListener("focusin",c,!0)},[e,u,o]),l.useEffect(()=>u?ne(t,c=>{const{contentElement:v,disclosureElement:S}=e.getState(),p=c.target;!v||!p||!qn(p)||V(v,p)||Wn(S,p)||p.hasAttribute("data-focus-trap")||Yn(c,v)||i.current&&!Ze(p,v.id)||an(p)||s(c)},n):void 0,[u,n])}function qe(e,t){return typeof e=="function"?e(t):!!e}function Xn(e,t,r){const n=ue(e,"open"),o=Bn(n),s={store:e,domReady:r,capture:!0};Be(M(F({},s),{type:"click",listener:u=>{const{contentElement:i}=e.getState(),a=o.current;a&&Wt(a)&&Ze(a,i==null?void 0:i.id)&&qe(t,u)&&e.hide()}})),Be(M(F({},s),{type:"focusin",listener:u=>{const{contentElement:i}=e.getState();i&&u.target!==N(i)&&qe(t,u)&&e.hide()}})),Be(M(F({},s),{type:"contextmenu",listener:u=>{qe(t,u)&&e.hide()}}))}function zn(e,t){const n=N(e).createElement("button");return n.type="button",n.tabIndex=-1,n.textContent="Dismiss popup",Object.assign(n.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),n.addEventListener("click",t),e.prepend(n),()=>{n.removeEventListener("click",t),n.remove()}}var Un="div",Dt=pe(function(t){var r=t,{autoFocusOnShow:n=!0}=r,o=me(r,["autoFocusOnShow"]);return o=re(o,s=>x.jsx(cn.Provider,{value:n,children:s}),[n]),o});ae(function(t){const r=Dt(t);return ve(Un,r)});var it=l.createContext(0);function Kn({level:e,children:t}){const r=l.useContext(it),n=Math.max(Math.min(e||r+1,6),1);return x.jsx(it.Provider,{value:n,children:t})}var Gn="span",Jn=pe(function(t){return t=M(F({"data-focus-trap":"",tabIndex:0,"aria-hidden":!0},t),{style:F({position:"fixed",top:0,left:0},t.style)}),t=vn(t),t}),_e=ae(function(t){const r=Jn(t);return ve(Gn,r)}),at=l.createContext(null),Zn="div";function Qn(e){return N(e).body}function er(e,t){return t?typeof t=="function"?t(e):t:N(e).createElement("div")}function tr(e="id"){return`${e?`${e}-`:""}${Math.random().toString(36).slice(2,8)}`}function se(e){queueMicrotask(()=>{e==null||e.focus()})}var Mt=pe(function(t){var r=t,{preserveTabOrder:n,preserveTabOrderAnchor:o,portalElement:s,portalRef:u,portal:i=!0}=r,a=me(r,["preserveTabOrder","preserveTabOrderAnchor","portalElement","portalRef","portal"]);const c=l.useRef(null),v=je(c,a.ref),S=l.useContext(at),[p,D]=l.useState(null),[O,H]=l.useState(null),A=l.useRef(null),b=l.useRef(null),R=l.useRef(null),_=l.useRef(null);return B(()=>{const f=c.current;if(!f||!i){D(null);return}const m=er(f,s);if(!m){D(null);return}const E=m.isConnected;if(E||(S||Qn(f)).appendChild(m),m.id||(m.id=f.id?`portal/${f.id}`:tr()),D(m),nt(u,m),!E)return()=>{m.remove(),nt(u,null)}},[i,s,S,u]),B(()=>{if(!i||!n||!o)return;const m=N(o).createElement("span");return m.style.position="fixed",o.insertAdjacentElement("afterend",m),H(m),()=>{m.remove(),H(null)}},[i,n,o]),l.useEffect(()=>{if(!p||!n)return;let f=0;const m=E=>{if(!Fe(E))return;const h=E.type==="focusin";if(cancelAnimationFrame(f),h)return ln(p);f=requestAnimationFrame(()=>{fn(p,!0)})};return p.addEventListener("focusin",m,!0),p.addEventListener("focusout",m,!0),()=>{cancelAnimationFrame(f),p.removeEventListener("focusin",m,!0),p.removeEventListener("focusout",m,!0)}},[p,n]),a=re(a,f=>{if(f=x.jsx(at.Provider,{value:p||S,children:f}),!i)return f;if(!p)return x.jsx("span",{ref:v,id:a.id,style:{position:"fixed"},hidden:!0});f=x.jsxs(x.Fragment,{children:[n&&p&&x.jsx(_e,{ref:b,"data-focus-trap":a.id,className:"__focus-trap-inner-before",onFocus:E=>{Fe(E,p)?se(Ve()):se(A.current)}}),f,n&&p&&x.jsx(_e,{ref:R,"data-focus-trap":a.id,className:"__focus-trap-inner-after",onFocus:E=>{Fe(E,p)?se(ot()):se(_.current)}})]}),p&&(f=Ye.createPortal(f,p));let m=x.jsxs(x.Fragment,{children:[n&&p&&x.jsx(_e,{ref:A,"data-focus-trap":a.id,className:"__focus-trap-outer-before",onFocus:E=>{!(E.relatedTarget===_.current)&&Fe(E,p)?se(b.current):se(ot())}}),n&&x.jsx("span",{"aria-owns":p==null?void 0:p.id,style:{position:"fixed"}}),n&&p&&x.jsx(_e,{ref:_,"data-focus-trap":a.id,className:"__focus-trap-outer-after",onFocus:E=>{if(Fe(E,p))se(R.current);else{const h=Ve();if(h===b.current){requestAnimationFrame(()=>{var L;return(L=Ve())==null?void 0:L.focus()});return}se(h)}}})]});return O&&n&&(m=Ye.createPortal(m,O)),x.jsxs(x.Fragment,{children:[m,f]})},[p,S,i,a.id,n,O]),a=M(F({},a),{ref:v}),a});ae(function(t){const r=Mt(t);return ve(Zn,r)});var nr="div",ct=zt();function rr(e){const t=bt();return!t||e&&V(e,t)?!1:!!Ae(t)}function lt(e,t=!1){if(!e)return null;const r="current"in e?e.current:e;return r?t?Ae(r)?r:null:r:null}var Ht=pe(function(t){var r=t,{store:n,open:o,onClose:s,focusable:u=!0,modal:i=!0,portal:a=!!i,backdrop:c=!!i,hideOnEscape:v=!0,hideOnInteractOutside:S=!0,getPersistentElements:p,preventBodyScroll:D=!!i,autoFocusOnShow:O=!0,autoFocusOnHide:H=!0,initialFocus:A,finalFocus:b,unmountOnHide:R,unstable_treeSnapshotKey:_}=r,f=me(r,["store","open","onClose","focusable","modal","portal","backdrop","hideOnEscape","hideOnInteractOutside","getPersistentElements","preventBodyScroll","autoFocusOnShow","autoFocusOnHide","initialFocus","finalFocus","unmountOnHide","unstable_treeSnapshotKey"]);const m=Ke(),E=l.useRef(null),h=On({store:n||m,open:o,setOpen(d){if(d)return;const P=E.current;if(!P)return;const j=new Event("close",{bubbles:!1,cancelable:!0});s&&P.addEventListener("close",s,{once:!0}),P.dispatchEvent(j),j.defaultPrevented&&h.setOpen(!0)}}),{portalRef:L,domReady:$}=Ue(a,f.portalRef),C=f.preserveTabOrder,q=ue(h,d=>C&&!i&&d.mounted),k=Yt(f.id),g=ue(h,"open"),T=ue(h,"mounted"),y=ue(h,"contentElement"),W=nn(T,f.hidden,f.alwaysVisible);Vn(y,k,D&&!W),Xn(h,S,$);const{wrapElement:Y,nestedDialogs:he}=In(h);f=re(f,Y,[Y]),B(()=>{if(!g)return;const d=E.current,P=bt(d,!0);P&&P.tagName!=="BODY"&&(d&&V(d,P)||h.setDisclosureElement(P))},[h,g]),ct&&l.useEffect(()=>{if(!T)return;const{disclosureElement:d}=h.getState();if(!d||!Xt(d))return;const P=()=>{let j=!1;const w=()=>{j=!0},I={capture:!0,once:!0};d.addEventListener("focusin",w,I),Ut(d,"mouseup",()=>{d.removeEventListener("focusin",w,!0),!j&&pn(d)})};return d.addEventListener("mousedown",P),()=>{d.removeEventListener("mousedown",P)}},[h,T]),l.useEffect(()=>{if(!T||!$)return;const d=E.current;if(!d)return;const P=Et(d),j=P.visualViewport||P,w=()=>{var I,G;const Oe=(G=(I=P.visualViewport)==null?void 0:I.height)!=null?G:P.innerHeight;d.style.setProperty("--dialog-viewport-height",`${Oe}px`)};return w(),j.addEventListener("resize",w),()=>{j.removeEventListener("resize",w)}},[T,$]),l.useEffect(()=>{if(!i||!T||!$)return;const d=E.current;if(!(!d||d.querySelector("[data-dialog-dismiss]")))return zn(d,h.hide)},[h,i,T,$]),B(()=>{if(!Rt()||g||!T||!$)return;const d=E.current;if(d)return Ct(d)},[g,T,$]);const X=g&&$;B(()=>{if(!k||!X)return;const d=E.current;return Mn(k,[d])},[k,X,_]);const Z=fe(p);B(()=>{if(!k||!X)return;const{disclosureElement:d}=h.getState(),P=E.current,j=Z()||[],w=[P,...j,...he.map(I=>I.getState().contentElement)];return i?J(st(k,w),Ln(k,w)):st(k,[d,...w])},[k,h,X,Z,he,i,_]);const Q=!!O,oe=Se(O),[ge,z]=l.useState(!1);l.useEffect(()=>{if(!g||!Q||!$||!(y!=null&&y.isConnected))return;const d=lt(A,!0)||y.querySelector("[data-autofocus=true],[autofocus]")||dn(y,!0,a&&q)||y,P=Ae(d);oe(P?d:null)&&(z(!0),queueMicrotask(()=>{d.focus(),ct&&d.scrollIntoView({block:"nearest",inline:"nearest"})}))},[g,Q,$,y,A,a,q,oe]);const U=!!H,ke=Se(H),[Ee,ee]=l.useState(!1);l.useEffect(()=>{if(g)return ee(!0),()=>ee(!1)},[g]);const ce=l.useCallback((d,P=!0)=>{const{disclosureElement:j}=h.getState();if(rr(d))return;let w=lt(b)||j;if(w!=null&&w.id){const G=N(w),Oe=`[aria-activedescendant="${w.id}"]`,He=G.querySelector(Oe);He&&(w=He)}if(w&&!Ae(w)){const G=w.closest("[data-dialog]");if(G!=null&&G.id){const Oe=N(G),He=`[aria-controls~="${G.id}"]`,tt=Oe.querySelector(He);tt&&(w=tt)}}const I=w&&Ae(w);if(!I&&P){requestAnimationFrame(()=>ce(d,!1));return}ke(I?w:null)&&I&&(w==null||w.focus())},[h,b,ke]),K=l.useRef(!1);B(()=>{if(g||!Ee||!U)return;const d=E.current;K.current=!0,ce(d)},[g,Ee,$,U,ce]),l.useEffect(()=>{if(!Ee||!U)return;const d=E.current;return()=>{if(K.current){K.current=!1;return}ce(d)}},[Ee,U,ce]);const Ce=Se(v);l.useEffect(()=>!$||!T?void 0:ne("keydown",P=>{if(P.key!=="Escape"||P.defaultPrevented)return;const j=E.current;if(!j||Ze(j))return;const w=P.target;if(!w)return;const{disclosureElement:I}=h.getState();!!(w.tagName==="BODY"||V(j,w)||!I||V(I,w))&&Ce(P)&&h.hide()},!0),[h,$,T,Ce]),f=re(f,d=>x.jsx(Kn,{level:i?1:void 0,children:d}),[i]);const De=f.hidden,le=f.alwaysVisible;f=re(f,d=>c?x.jsxs(x.Fragment,{children:[x.jsx(_n,{store:h,backdrop:c,hidden:De,alwaysVisible:le}),d]}):d,[h,c,De,le]);const[be,Me]=l.useState(),[Pe,xe]=l.useState();return f=re(f,d=>x.jsx(rn,{value:h,children:x.jsx(on.Provider,{value:Me,children:x.jsx(sn.Provider,{value:xe,children:d})})}),[h]),f=M(F({id:k,"data-dialog":"",role:"dialog",tabIndex:u?-1:void 0,"aria-labelledby":be,"aria-describedby":Pe},f),{ref:je(E,f.ref)}),f=Dt(M(F({},f),{autoFocusOnShow:ge})),f=xt(F({store:h},f)),f=wt(M(F({},f),{focusable:u})),f=Mt(M(F({portal:a},f),{portalRef:L,preserveTabOrder:q})),f});function Qe(e,t=Ke){return ae(function(n){const o=t(),s=n.store||o;return ue(s,i=>!n.unmountOnHide||(i==null?void 0:i.mounted)||!!n.open)?x.jsx(e,F({},n)):null})}Qe(ae(function(t){const r=Ht(t);return ve(nr,r)}),Ke);var or="div";function ft(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const o={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return M(F({},o),{toJSON:()=>o})}function sr(e){if(!e)return ft();const{x:t,y:r,width:n,height:o}=e;return ft(t,r,n,o)}function ur(e,t){return{contextElement:e||void 0,getBoundingClientRect:()=>{const n=e,o=t==null?void 0:t(n);return o||!n?sr(o):n.getBoundingClientRect()}}}function ir(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}function dt(e){const t=window.devicePixelRatio||1;return Math.round(e*t)/t}function ar(e,t){return bn(({placement:r})=>{var n;const o=((e==null?void 0:e.clientHeight)||0)/2,s=typeof t.gutter=="number"?t.gutter+o:(n=t.gutter)!=null?n:o;return{crossAxis:!!r.split("-")[1]?void 0:t.shift,mainAxis:s,alignmentAxis:t.shift}})}function cr(e){if(e.flip===!1)return;const t=typeof e.flip=="string"?e.flip.split(" "):void 0;return Le(!t||t.every(ir),!1),Pn({padding:e.overflowPadding,fallbackPlacements:t})}function lr(e){if(!(!e.slide&&!e.overlap))return xn({mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:yn()})}function fr(e){return wn({padding:e.overflowPadding,apply({elements:t,availableWidth:r,availableHeight:n,rects:o}){const s=t.floating,u=Math.round(o.reference.width);r=Math.floor(r),n=Math.floor(n),s.style.setProperty("--popover-anchor-width",`${u}px`),s.style.setProperty("--popover-available-width",`${r}px`),s.style.setProperty("--popover-available-height",`${n}px`),e.sameWidth&&(s.style.width=`${u}px`),e.fitViewport&&(s.style.maxWidth=`${r}px`,s.style.maxHeight=`${n}px`)}})}function dr(e,t){if(e)return Sn({element:e,padding:t.arrowPadding})}var _t=pe(function(t){var r=t,{store:n,modal:o=!1,portal:s=!!o,preserveTabOrder:u=!0,autoFocusOnShow:i=!0,wrapperProps:a,fixed:c=!1,flip:v=!0,shift:S=0,slide:p=!0,overlap:D=!1,sameWidth:O=!1,fitViewport:H=!1,gutter:A,arrowPadding:b=4,overflowPadding:R=8,getAnchorRect:_,updatePosition:f}=r,m=me(r,["store","modal","portal","preserveTabOrder","autoFocusOnShow","wrapperProps","fixed","flip","shift","slide","overlap","sameWidth","fitViewport","gutter","arrowPadding","overflowPadding","getAnchorRect","updatePosition"]);const E=St();n=n||E,Le(n,!1);const h=n.useState("arrowElement"),L=n.useState("anchorElement"),$=n.useState("disclosureElement"),C=n.useState("popoverElement"),q=n.useState("contentElement"),k=n.useState("placement"),g=n.useState("mounted"),T=n.useState("rendered"),y=l.useRef(null),[W,Y]=l.useState(!1),{portalRef:he,domReady:X}=Ue(s,m.portalRef),Z=fe(_),Q=fe(f),oe=!!f;B(()=>{if(!(C!=null&&C.isConnected))return;C.style.setProperty("--popover-overflow-padding",`${R}px`);const z=ur(L,Z),U=async()=>{if(!g)return;h||(y.current=y.current||document.createElement("div"));const ee=h||y.current,ce=[ar(ee,{gutter:A,shift:S}),cr({flip:v,overflowPadding:R}),lr({slide:p,shift:S,overlap:D,overflowPadding:R}),dr(ee,{arrowPadding:b}),fr({sameWidth:O,fitViewport:H,overflowPadding:R})],K=await En(z,C,{placement:k,strategy:c?"fixed":"absolute",middleware:ce});n==null||n.setState("currentPlacement",K.placement),Y(!0);const Ce=dt(K.x),De=dt(K.y);if(Object.assign(C.style,{top:"0",left:"0",transform:`translate3d(${Ce}px,${De}px,0)`}),ee&&K.middlewareData.arrow){const{x:le,y:be}=K.middlewareData.arrow,Me=K.placement.split("-")[0],Pe=ee.clientWidth/2,xe=ee.clientHeight/2,d=le!=null?le+Pe:-Pe,P=be!=null?be+xe:-xe;C.style.setProperty("--popover-transform-origin",{top:`${d}px calc(100% + ${xe}px)`,bottom:`${d}px ${-xe}px`,left:`calc(100% + ${Pe}px) ${P}px`,right:`${-Pe}px ${P}px`}[Me]),Object.assign(ee.style,{left:le!=null?`${le}px`:"",top:be!=null?`${be}px`:"",[Me]:"100%"})}},Ee=gn(z,C,async()=>{oe?(await Q({updatePosition:U}),Y(!0)):await U()},{elementResize:typeof ResizeObserver=="function"});return()=>{Y(!1),Ee()}},[n,T,C,h,L,C,k,g,X,c,v,S,p,D,O,H,A,b,R,Z,oe,Q]),B(()=>{if(!g||!X||!(C!=null&&C.isConnected)||!(q!=null&&q.isConnected))return;const z=()=>{C.style.zIndex=getComputedStyle(q).zIndex};z();let U=requestAnimationFrame(()=>{U=requestAnimationFrame(z)});return()=>cancelAnimationFrame(U)},[g,X,C,q]);const ge=c?"fixed":"absolute";return m=re(m,z=>x.jsx("div",M(F({},a),{style:F({position:ge,top:0,left:0,width:"max-content"},a==null?void 0:a.style),ref:n==null?void 0:n.setPopoverElement,children:z})),[n,ge,a]),m=re(m,z=>x.jsx(yt,{value:n,children:z}),[n]),m=M(F({"data-placing":!W||void 0},m),{style:F({position:"relative"},m.style)}),m=Ht(M(F({store:n,modal:o,portal:s,preserveTabOrder:u,preserveTabOrderAnchor:$||L,autoFocusOnShow:W&&i},m),{portalRef:he})),m});Qe(ae(function(t){const r=_t(t);return ve(or,r)}),St);var Re=Kt([hn],[yt]);Re.useContext;Re.useScopedContext;var et=Re.useProviderContext,Cr=Re.ContextProvider,pr=Re.ScopedContextProvider;function Dr(e={}){var t;const r=(t=e.store)==null?void 0:t.getState(),n=Fn(we(ie({},e),{placement:te(e.placement,r==null?void 0:r.placement,"bottom")})),o=te(e.timeout,r==null?void 0:r.timeout,500),s=we(ie({},n.getState()),{timeout:o,showTimeout:te(e.showTimeout,r==null?void 0:r.showTimeout),hideTimeout:te(e.hideTimeout,r==null?void 0:r.hideTimeout),autoFocusOnShow:te(r==null?void 0:r.autoFocusOnShow,!1)}),u=ht(s,n,e.store);return we(ie(ie({},n),u),{setAutoFocusOnShow:i=>u.setState("autoFocusOnShow",i)})}function Mr(e,t,r){return $e(e,r,"timeout"),$e(e,r,"showTimeout"),$e(e,r,"hideTimeout"),An(e,t,r)}function We(e){return[e.clientX,e.clientY]}function pt(e,t){const[r,n]=e;let o=!1;const s=t.length;for(let u=s,i=0,a=u-1;i<u;a=i++){const[c,v]=t[i],[S,p]=t[a],[,D]=t[a===0?u-1:a-1]||[0,0],O=(v-p)*(r-c)-(c-S)*(n-v);if(p<v){if(n>=p&&n<v){if(O===0)return!0;O>0&&(n===p?n>D&&(o=!o):o=!o)}}else if(v<p){if(n>v&&n<=p){if(O===0)return!0;O<0&&(n===p?n<D&&(o=!o):o=!o)}}else if(n===v&&(r>=S&&r<=c||r>=c&&r<=S))return!0}return o}function mr(e,t){const{top:r,right:n,bottom:o,left:s}=t,[u,i]=e,a=u<s?"left":u>n?"right":null,c=i<r?"top":i>o?"bottom":null;return[a,c]}function mt(e,t){const r=e.getBoundingClientRect(),{top:n,right:o,bottom:s,left:u}=r,[i,a]=mr(t,r),c=[t];return i?(a!=="top"&&c.push([i==="left"?u:o,n]),c.push([i==="left"?o:u,n]),c.push([i==="left"?o:u,s]),a!=="bottom"&&c.push([i==="left"?u:o,s])):a==="top"?(c.push([u,n]),c.push([u,s]),c.push([o,s]),c.push([o,n])):(c.push([u,s]),c.push([u,n]),c.push([o,n]),c.push([o,s])),c}var vr="div";function $t(e,t,r,n){return mn(t)?!0:e?!!(V(t,e)||r&&V(r,e)||n!=null&&n.some(o=>$t(e,o,r))):!1}function hr(e){var t=e,{store:r}=t,n=me(t,["store"]);const[o,s]=l.useState(!1),u=r.useState("mounted");l.useEffect(()=>{u||s(!1)},[u]);const i=n.onFocus,a=fe(v=>{i==null||i(v),!v.defaultPrevented&&s(!0)}),c=l.useRef(null);return l.useEffect(()=>gt(r,["anchorElement"],v=>{c.current=v.anchorElement}),[]),n=M(F({autoFocusOnHide:o,finalFocus:c},n),{onFocus:a}),n}var vt=l.createContext(null),gr=pe(function(t){var r=t,{store:n,modal:o=!1,portal:s=!!o,hideOnEscape:u=!0,hideOnHoverOutside:i=!0,disablePointerEventsOnApproach:a=!!i}=r,c=me(r,["store","modal","portal","hideOnEscape","hideOnHoverOutside","disablePointerEventsOnApproach"]);const v=et();n=n||v,Le(n,!1);const S=l.useRef(null),[p,D]=l.useState([]),O=l.useRef(0),H=l.useRef(null),{portalRef:A,domReady:b}=Ue(s,c.portalRef),R=Pt(),_=!!i,f=Se(i),m=!!a,E=Se(a),h=n.useState("open"),L=n.useState("mounted");l.useEffect(()=>{if(!b||!L||!_&&!m)return;const g=S.current;return g?J(ne("mousemove",y=>{if(!n||!R())return;const{anchorElement:W,hideTimeout:Y,timeout:he}=n.getState(),X=H.current,[Z]=y.composedPath(),Q=W;if($t(Z,g,Q,p)){H.current=Z&&Q&&V(Q,Z)?We(y):null,window.clearTimeout(O.current),O.current=0;return}if(!O.current){if(X){const oe=We(y),ge=mt(g,X);if(pt(oe,ge)){if(H.current=oe,!E(y))return;y.preventDefault(),y.stopPropagation();return}}f(y)&&(O.current=window.setTimeout(()=>{O.current=0,n==null||n.hide()},Y??he))}},!0),()=>clearTimeout(O.current)):void 0},[n,R,b,L,_,m,p,E,f]),l.useEffect(()=>{if(!b||!L||!m)return;const g=T=>{const y=S.current;if(!y)return;const W=H.current;if(!W)return;const Y=mt(y,W);if(pt(We(T),Y)){if(!E(T))return;T.preventDefault(),T.stopPropagation()}};return J(ne("mouseenter",g,!0),ne("mouseover",g,!0),ne("mouseout",g,!0),ne("mouseleave",g,!0))},[b,L,m,E]),l.useEffect(()=>{b&&(h||n==null||n.setAutoFocusOnShow(!1))},[n,b,h]);const $=Gt(h);l.useEffect(()=>{if(b)return()=>{$.current||n==null||n.setAutoFocusOnShow(!1)}},[n,b]);const C=l.useContext(vt);B(()=>{if(o||!s||!L||!b)return;const g=S.current;if(g)return C==null?void 0:C(g)},[o,s,L,b]);const q=l.useCallback(g=>{D(y=>[...y,g]);const T=C==null?void 0:C(g);return()=>{D(y=>y.filter(W=>W!==g)),T==null||T()}},[C]);c=re(c,g=>x.jsx(pr,{value:n,children:x.jsx(vt.Provider,{value:q,children:g})}),[n,q]),c=M(F({},c),{ref:je(S,c.ref)}),c=hr(F({store:n},c));const k=n.useState(g=>o||g.autoFocusOnShow);return c=_t(M(F({store:n,modal:o,portal:s,autoFocusOnShow:k},c),{portalRef:A,hideOnEscape(g){return Jt(u,g)?!1:(requestAnimationFrame(()=>{requestAnimationFrame(()=>{n==null||n.hide()})}),!0)}})),c});Qe(ae(function(t){const r=gr(t);return ve(vr,r)}),et);var Er="a",br=pe(function(t){var r=t,{store:n,showOnHover:o=!0}=r,s=me(r,["store","showOnHover"]);const u=et();n=n||u,Le(n,!1);const i=Zt(s),a=l.useRef(0);l.useEffect(()=>()=>window.clearTimeout(a.current),[]),l.useEffect(()=>ne("mouseleave",b=>{if(!n)return;const{anchorElement:R}=n.getState();R&&b.target===R&&(window.clearTimeout(a.current),a.current=0)},!0),[n]);const c=s.onMouseMove,v=Se(o),S=Pt(),p=fe(A=>{if(c==null||c(A),i||!n||A.defaultPrevented||a.current||!S()||!v(A))return;const b=A.currentTarget;n.setAnchorElement(b),n.setDisclosureElement(b);const{showTimeout:R,timeout:_}=n.getState(),f=()=>{a.current=0,S()&&(n==null||n.setAnchorElement(b),n==null||n.show(),queueMicrotask(()=>{n==null||n.setDisclosureElement(b)}))},m=R??_;m===0?f():a.current=window.setTimeout(f,m)}),D=s.onClick,O=fe(A=>{D==null||D(A),n&&(window.clearTimeout(a.current),a.current=0)}),H=l.useCallback(A=>{if(!n)return;const{anchorElement:b}=n.getState();b!=null&&b.isConnected||n.setAnchorElement(A)},[n]);return s=M(F({},s),{ref:je(H,s.ref),onMouseMove:p,onClick:O}),s=wt(s),s});ae(function(t){const r=br(t);return ve(Er,r)});export{pr as H,Cr as a,gr as b,Dr as c,Qe as d,br as e,Mr as u};
