import{w as D,a as u,o as e}from"./chunk-QMGIS6GS-BaJhsRKI.js";import{I as j}from"./sun-DkPtosCR.js";import{T as A,a as r,b as c,p as g}from"./immer-CI_7483y.js";import{d as P}from"./~utils-8hz9SpSN.js";import{r as F,u as w}from"./refresh-3hT8mqYf.js";import{p}from"./placeholder-C1sDuE8J.js";import{s as T}from"./visibility-show-CNe-NYDo.js";import"./LMDWO4NN-CcJUQKmw.js";import"./6VRAQV3D-DLGwjVYI.js";import"./RZ4GPYOB-rLT1QmIF.js";import"./DropdownMenu-CPEroGIl.js";import"./5JTVDSTH-Do8D6HSm.js";import"./S43UC3DV-CckNYJ-Q.js";import"./NTITENHD-BLLU9p-v.js";import"./F5MUBM3I-D9FiyVQy.js";import"./IAEAQUOT-CL5MitGL.js";import"./Kbd-DBpA9Hok.js";import"./~utils.icons-BY6pZBee.js";import"./~utils.icons-CFxyyG_I.js";import"./~utils.icons-D7YNPaOS.js";import"./IWEFDH56-DPnK9cU_.js";import"./index-DlVK9hNA.js";import"./XX67R432-C0JnyUGJ.js";const de={title:"Tree"},pe=D(P(function({overflow:i=!1,selected:o=!1,description:v,error:b,items:I}){const[O,k]=u.useTransition(),f=i?" with a super long label that is overflown":"",y=v?"Additional description":void 0,[C,$]=u.useState(!!b),E=I?Number(I):0,[z,S]=u.useState(()=>[{label:`Item 1${f}`,selected:!!o,expanded:!0,children:[{label:"Item 1.1",selected:!!o},{label:"Item 1.2",selected:!!o},{label:`Item 1.3${f}`,selected:!!o}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${f}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:E}).map((n,l)=>({label:`Item ${l+4}`,selected:!1}))]),_=u.useMemo(()=>z.flatMap((n,l,s)=>{const m={...n,level:1,index:l,setSize:s.length,childIndex:void 0};if(!n.expanded)return m;const h=n.children?n.children.map((d,a,U)=>({...d,level:2,index:l,childIndex:a,setSize:U.length,expanded:void 0})):[];return[m,...h]}),[z]),R=u.useCallback(()=>{$(!1)},[]);return e.jsx(A,{style:{maxInlineSize:i?300:void 0},children:_.map(n=>{const{index:l,childIndex:s}=n,m=C&&l===0&&s===void 0,h=l===0&&s===void 0||s===0;return e.jsx(r,{"aria-level":n.level,"aria-posinset":l+1,"aria-setsize":n.setSize,label:n.label,description:h?y:void 0,expanded:n.expanded,selected:n.selected,error:m,onSelectedChange:()=>{S(g(d=>{const a=s===void 0?d[l]:d[l].children?.[s];a&&(a.selected=!a.selected)}))},onExpandedChange:()=>{k(()=>{S(g(d=>{const a=d[l];a.expanded!==void 0&&(a.expanded=!a.expanded)}))})},icon:s===void 0?e.jsx(j,{href:p,alt:"decoration"}):void 0,unstable_decorations:s===0?e.jsxs(e.Fragment,{children:[e.jsx(j,{href:p}),e.jsx(j,{href:p})]}):e.jsx(j,{href:p}),actions:m?[e.jsx(c,{icon:F,label:"Retry",onClick:R,inline:!0},"retry"),e.jsx(c,{icon:w,label:"Unlock"},"unlock"),e.jsx(c,{icon:T,label:"Show"},"show")]:[e.jsx(c,{icon:w,label:"Unlock",inline:!0},"unlock"),e.jsx(c,{icon:T,label:"Show",inline:!0},"show")]},n.label)})})},{wrapperItemAction:N,_actionsOverflow:M}));function M({count:x=5,dot:i=!1}){const o=Array.from({length:Number(x)}).map((v,b)=>e.jsx(c,{label:`Action ${b+1}`,icon:p,dot:i?"Something's going on":void 0},`${b+1}`));return e.jsx(A,{children:e.jsx(r,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,actions:o})})}function t(x){const{hidden:i,...o}=x;return i?null:e.jsx(c,{icon:p,...o})}function N(){let i=1;return e.jsxs(A,{children:[e.jsx(r,{label:"4 inline actions","aria-level":1,"aria-posinset":i++,"aria-setsize":6,actions:[e.jsx(t,{label:"Action 1",inline:!0},"1"),e.jsx(t,{label:"Action 2",inline:!0},"2"),e.jsx(t,{label:"Action 3",inline:!0},"3"),e.jsx(t,{label:"Action 4",inline:!0},"4")]}),e.jsx(r,{label:"Actions menu","aria-level":1,"aria-posinset":i++,"aria-setsize":6,actions:[e.jsx(t,{label:"Action 1"},"1"),e.jsx(t,{label:"Action 2"},"2"),e.jsx(t,{label:"Action 3"},"3"),e.jsx(t,{label:"Action 4"},"4")]}),e.jsx(r,{label:"Hidden menu actions","aria-level":1,"aria-posinset":i++,"aria-setsize":6,actions:[e.jsx(t,{label:"Action 1",hidden:!0},"1"),e.jsx(t,{label:"Action 2",hidden:!0},"2"),e.jsx(t,{label:"Action 3",inline:!0},"2")]}),e.jsx(r,{label:"Aligned actions #1","aria-level":1,"aria-posinset":i++,"aria-setsize":6,actions:[e.jsx(t,{label:"Action 1",inline:!0},"1"),e.jsx(t,{label:"Action 2",inline:!0},"2"),e.jsx(t,{label:"Action 3"},"2")]}),e.jsx(r,{label:"Aligned actions #2","aria-level":1,"aria-posinset":i++,"aria-setsize":6,actions:[e.jsx(t,{label:"Action 1",inline:!0},"1"),e.jsx(t,{label:"Action 2",inline:!0,visible:!1},"2"),e.jsx(t,{label:"Action 3"},"2")]}),e.jsx(r,{label:"Single menu action","aria-level":1,"aria-posinset":i++,"aria-setsize":6,actions:[e.jsx(t,{label:"Action 1"},"1")]})]})}export{pe as default,de as handle};
