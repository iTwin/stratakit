import{W as B,N as Z,o as H,X as Me,R as Ce,a as V,_ as N,G as W,u as K,p as ye,a3 as Ze,d as P,e as S,w as we,D as Ge,y as Ye,a4 as Je,f as U,b as q,i as De,q as Ee,h as oe,a5 as Qe,a0 as et,v as tt,a6 as Oe,a7 as nt,$ as rt,Z as le,m as ot,L as st,a2 as de,a8 as at,a9 as ut,aa as it,ab as lt,a1 as ct,M as dt,c as ft}from"./VOQWLFSQ-C-BaLyus.js";import{e as fe,f as T,T as mt,c as L,j as pt,m as vt,I as bt,r as ht}from"./sun-BnXrVgd9.js";import{a as y,p as f}from"./chunk-UIGDSWPH-C0dFpbf8.js";import{W as xt,M as Pe,S as Ie,U as Ae,X as St,Y as gt,l as E,Z as Mt,_ as Ct,$ as yt,a0 as G,a1 as wt,a2 as Dt,K as Et,L as Ot,a3 as Pt,a4 as It,N as he,O as xe,a5 as At,B as kt,a6 as jt,r as ke}from"./~utils-ier8fcnI.js";import{a as je,b as Fe,c as Te,f as Ft,u as Tt}from"./SBSPVDDI-CG9bjcfB.js";import{a as Ht,c as _t,e as Nt,d as Lt}from"./OLVWQA7U-Dt4Cd195.js";import{u as Rt}from"./4I4MLMKD-PwBLC5ur.js";import{u as Kt}from"./KPUWHTQJ-Cz_LV3Z7.js";import{p as $t,K as Se}from"./Kbd-BSin8L5p.js";import{D as Bt}from"./~utils.icons-BdOWdNzk.js";import{a as Vt,b as Wt}from"./~utils.icons-CPVEZnRP.js";import{u as Ut}from"./~utils.useInit-BqSZE6H5.js";function qt(t={}){var n;xt(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:B(t.value,r?.value,t.defaultValue,!1)},a=Pe(e,t.store);return Z(H({},a),{setValue:o=>a.setState("value",o)})}function zt(t,n,r){return Me(n,[r.store]),Ae(t,r,"value","setValue"),t}function Xt(t={}){const[n,r]=Ie(qt,t);return zt(n,r,t)}var He=Ce([Fe],[je]),Zt=He.useContext,Gt=He.useScopedContext;y.createContext(void 0);var Q=Ce([Fe,gt],[je,St]),se=Q.useContext,_e=Q.useScopedContext,ae=Q.useProviderContext,Ne=Q.ContextProvider,Yt=Q.ScopedContextProvider;y.createContext(void 0);var Jt="div",_="";function ue(){_=""}function Qt(t){const n=t.target;return n&&Ge(n)?!1:t.key===" "&&_.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function en(t,n){if(Ye(t))return!0;const r=t.target;return r?n.some(a=>a.element===r):!1}function tn(t){return t.filter(n=>!n.disabled)}function re(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?Je(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function nn(t,n,r){if(!r)return t;const e=t.find(a=>a.id===r);return!e||!re(e,n)||_!==n&&re(e,_)?t:(_=n,Ft(t.filter(a=>re(a,_)),r).filter(a=>a.id!==r))}var me=V(function(n){var r=n,{store:e,typeahead:a=!0}=r,o=N(r,["store","typeahead"]);const s=Te();e=e||s,W(e,!1);const u=o.onKeyDownCapture,c=y.useRef(0),l=K(d=>{if(u?.(d),d.defaultPrevented||!a||!e)return;if(!Qt(d))return ue();const{renderedItems:b,items:m,activeId:i,id:M}=e.getState();let v=tn(m.length>b.length?m:b);const p=ye(d.currentTarget),C=`[data-offscreen-id="${M}"]`,h=p.querySelectorAll(C);for(const w of h){const j=w.ariaDisabled==="true"||"disabled"in w&&!!w.disabled;v.push({id:w.id,element:w,disabled:j})}if(h.length&&(v=Ze(v,w=>w.element)),!en(d,v))return ue();d.preventDefault(),window.clearTimeout(c.current),c.current=window.setTimeout(()=>{_=""},500);const I=d.key.toLowerCase();_+=I,v=nn(v,I,i);const O=v.find(w=>re(w,_));O?e.move(O.id):ue()});return o=P(S({},o),{onKeyDownCapture:l}),we(o)});U(function(n){const r=me(n);return q(Jt,r)});var rn="div";function on(t){var n=t,{store:r}=n,e=N(n,["store"]);const[a,o]=y.useState(void 0),s=e["aria-label"],u=E(r,"disclosureElement"),c=E(r,"contentElement");return y.useEffect(()=>{const l=u;if(!l)return;const d=c;if(!d)return;s||d.hasAttribute("aria-label")?o(void 0):l.id&&o(l.id)},[s,u,c]),a}var Le=V(function(n){var r=n,{store:e,alwaysVisible:a,composite:o}=r,s=N(r,["store","alwaysVisible","composite"]);const u=ae();e=e||u,W(e,!1);const c=e.parent,l=e.menubar,d=!!c,b=De(s.id),m=s.onKeyDown,i=e.useState(g=>g.placement.split("-")[0]),M=e.useState(g=>g.orientation==="both"?void 0:g.orientation),v=M!=="vertical",p=E(l,g=>!!g&&g.orientation!=="vertical"),C=K(g=>{if(m?.(g),!g.defaultPrevented){if(d||l&&!v){const A={ArrowRight:()=>i==="left"&&!v,ArrowLeft:()=>i==="right"&&!v,ArrowUp:()=>i==="bottom"&&v,ArrowDown:()=>i==="top"&&v}[g.key];if(A?.())return g.stopPropagation(),g.preventDefault(),e?.hide()}if(l){const A={ArrowRight:()=>{if(p)return l.next()},ArrowLeft:()=>{if(p)return l.previous()},ArrowDown:()=>{if(!p)return l.next()},ArrowUp:()=>{if(!p)return l.previous()}}[g.key],R=A?.();R!==void 0&&(g.stopPropagation(),g.preventDefault(),l.move(R))}}});s=Ee(s,g=>f.jsx(Yt,{value:e,children:g}),[e]);const h=on(S({store:e},s)),I=e.useState("mounted"),O=Mt(I,s.hidden,a),w=O?P(S({},s.style),{display:"none"}):s.style;s=P(S({id:b,"aria-labelledby":h,hidden:O},s),{ref:oe(b?e.setContentElement:null,s.ref),style:w,onKeyDown:C});const j=!!e.combobox;return o=o??!j,o&&(s=S({role:"menu","aria-orientation":M},s)),s=Ht(S({store:e,composite:o},s)),s=me(S({store:e,typeahead:!j},s)),s});U(function(n){const r=Le(n);return q(rn,r)});var sn="div",an=V(function(n){var r=n,{store:e,modal:a=!1,portal:o=!!a,hideOnEscape:s=!0,autoFocusOnShow:u=!0,hideOnHoverOutside:c,alwaysVisible:l}=r,d=N(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const b=ae();e=e||b,W(e,!1);const m=y.useRef(null),i=e.parent,M=e.menubar,v=!!i,p=!!M&&!v;d=P(S({},d),{ref:oe(m,d.ref)});const C=Le(S({store:e,alwaysVisible:l},d)),{"aria-labelledby":h}=C;d=N(C,["aria-labelledby"]);const[O,w]=y.useState(),j=e.useState("autoFocusOnShow"),g=e.useState("initialFocus"),z=e.useState("baseElement"),A=e.useState("renderedItems");y.useEffect(()=>{let F=!1;return w(D=>{var te,ve,be;if(F||!j)return;if((te=D?.current)!=null&&te.isConnected)return D;const ne=y.createRef();switch(g){case"first":ne.current=((ve=A.find(Y=>!Y.disabled&&Y.element))==null?void 0:ve.element)||null;break;case"last":ne.current=((be=[...A].reverse().find(Y=>!Y.disabled&&Y.element))==null?void 0:be.element)||null;break;default:ne.current=z}return ne}),()=>{F=!0}},[e,j,g,A,z]);const R=v?!1:a,x=!!u,k=!!O||!!d.initialFocus||!!R,X=E(e.combobox||e,"contentElement"),$=E(i?.combobox||i,"contentElement"),ee=y.useMemo(()=>{if(!$||!X)return;const F=X.getAttribute("role"),D=$.getAttribute("role");if(!((D==="menu"||D==="menubar")&&F==="menu"))return $},[X,$]);return ee!==void 0&&(d=S({preserveTabOrderAnchor:ee},d)),d=yt(P(S({store:e,alwaysVisible:l,initialFocus:O,autoFocusOnShow:x?k&&u:j||!!R},d),{hideOnEscape(F){return et(s,F)?!1:(e?.hideAll(),!0)},hideOnHoverOutside(F){const D=e?.getState().disclosureElement;return(typeof c=="function"?c(F):c??(v?!0:p?D?!G(D):!0:!1))?F.defaultPrevented||!v||!D||(Qe(D,"mouseout",F),!G(D))?!0:(requestAnimationFrame(()=>{G(D)||e?.hide()}),!1):!1},modal:R,portal:o,backdrop:v?!1:d.backdrop})),d=S({"aria-labelledby":h},d),d}),Re=Ct(U(function(n){const r=an(n);return q(sn,r)}),ae),un="button";function ln(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function ge(t,n){return!!t?.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true")}var cn=V(function(n){var r=n,{store:e,focusable:a,accessibleWhenDisabled:o,showOnHover:s}=r,u=N(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const c=ae();e=e||c,W(e,!1);const l=y.useRef(null),d=e.parent,b=e.menubar,m=!!d,i=!!b&&!m,M=tt(u),v=()=>{const x=l.current;x&&(e?.setDisclosureElement(x),e?.setAnchorElement(x),e?.show())},p=u.onFocus,C=K(x=>{if(p?.(x),M||x.defaultPrevented||(e?.setAutoFocusOnShow(!1),e?.setActiveId(null),!b)||!i)return;const{items:k}=b.getState();ge(k,x.currentTarget)&&v()}),h=E(e,x=>x.placement.split("-")[0]),I=u.onKeyDown,O=K(x=>{if(I?.(x),M||x.defaultPrevented)return;const k=ln(x,h);k&&(x.preventDefault(),v(),e?.setAutoFocusOnShow(!0),e?.setInitialFocus(k))}),w=u.onClick,j=K(x=>{if(w?.(x),x.defaultPrevented||!e)return;const k=!x.detail,{open:X}=e.getState();(!X||k)&&((!m||k)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(k?"first":"container")),m&&v()});u=Ee(u,x=>f.jsx(Ne,{value:e,children:x}),[e]),m&&(u=P(S({},u),{render:f.jsx(fe.div,{render:u.render})}));const g=De(u.id),z=E(d?.combobox||d,"contentElement"),A=m||i?Oe(z,"menuitem"):void 0,R=e.useState("contentElement");return u=P(S({id:g,role:A,"aria-haspopup":nt(R,"menu")},u),{ref:oe(l,u.ref),onFocus:C,onKeyDown:O,onClick:j}),u=wt(P(S({store:e,focusable:a,accessibleWhenDisabled:o},u),{showOnHover:x=>{if(!(()=>{if(typeof s=="function")return s(x);if(s!=null)return s;if(m)return!0;if(!b)return!1;const{items:ee}=b.getState();return i&&ge(ee)})())return!1;const $=i?b:d;return $&&$.setActiveId(x.currentTarget.id),!0}})),u=Rt(S({store:e,toggleOnClick:!m,focusable:a,accessibleWhenDisabled:o},u)),u=me(S({store:e,typeahead:i},u)),u}),Ke=U(function(n){const r=cn(n);return q(un,r)}),dn="div";function $e(t){const n=t.relatedTarget;return n?.nodeType===Node.ELEMENT_NODE?n:null}function fn(t){const n=$e(t);return n?ot(t.currentTarget,n):!1}var ce=Symbol("composite-hover");function mn(t){let n=$e(t);if(!n)return!1;do{if(st(n,ce)&&n[ce])return!0;n=n.parentElement}while(n);return!1}var Be=V(function(n){var r=n,{store:e,focusOnHover:a=!0,blurOnHoverEnd:o=!!a}=r,s=N(r,["store","focusOnHover","blurOnHoverEnd"]);const u=Te();e=e||u,W(e,!1);const c=rt(),l=s.onMouseMove,d=le(a),b=K(p=>{if(l?.(p),!p.defaultPrevented&&c()&&d(p)){if(!G(p.currentTarget)){const C=e?.getState().baseElement;C&&!Dt(C)&&C.focus()}e?.setActiveId(p.currentTarget.id)}}),m=s.onMouseLeave,i=le(o),M=K(p=>{var C;m?.(p),!p.defaultPrevented&&c()&&(fn(p)||mn(p)||d(p)&&i(p)&&(e?.setActiveId(null),(C=e?.getState().baseElement)==null||C.focus()))}),v=y.useCallback(p=>{p&&(p[ce]=!0)},[]);return s=P(S({},s),{ref:oe(v,s.ref),onMouseMove:b,onMouseLeave:M}),we(s)});de(U(function(n){const r=Be(n);return q(dn,r)}));var pn="div";function vn(t,n,r){var e;if(!t)return!1;if(G(t))return!0;const a=n?.find(c=>{var l;return c.element===r?!1:((l=c.element)==null?void 0:l.getAttribute("aria-expanded"))==="true"}),o=(e=a?.element)==null?void 0:e.getAttribute("aria-controls");if(!o)return!1;const u=ye(t).getElementById(o);return u?G(u)?!0:!!u.querySelector("[role=menuitem][aria-expanded=true]"):!1}var Ve=V(function(n){var r=n,{store:e,hideOnClick:a=!0,preventScrollOnKeyDown:o=!0,focusOnHover:s,blurOnHoverEnd:u}=r,c=N(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const l=_e(!0),d=Gt();e=e||l||d,W(e,!1);const b=c.onClick,m=le(a),i="hideAll"in e?e.hideAll:void 0,M=!!i,v=K(h=>{b?.(h),!(h.defaultPrevented||at(h)||ut(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&m(h)&&i()}),p=E(e,h=>"contentElement"in h?h.contentElement:null),C=Oe(p,"menuitem");return c=P(S({role:C},c),{onClick:v}),c=Tt(S({store:e,preventScrollOnKeyDown:o},c)),c=Be(P(S({store:e},c),{focusOnHover(h){const I=()=>typeof s=="function"?s(h):s??!0;if(!e||!I())return!1;const{baseElement:O,items:w}=e.getState();return M?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):vn(O,w,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof u=="function"?u(h):u??M}})),c}),bn=de(U(function(n){const r=Ve(n);return q(pn,r)})),hn="div";function xn(t){return Array.isArray(t)?t.toString():t}function ie(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=xn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(a=>a!==e):r?e:t===e?!1:t}var Sn=V(function(n){var r=n,{store:e,name:a,value:o,checked:s,defaultChecked:u,hideOnClick:c=!1}=r,l=N(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const d=_e();e=e||d,W(e,!1);const b=it(u);y.useEffect(()=>{e?.setValue(a,(i=[])=>b?ie(i,o,!0):i)},[e,a,o,b]),y.useEffect(()=>{s!==void 0&&e?.setValue(a,i=>ie(i,o,s))},[e,a,o,s]);const m=Xt({value:e.useState(i=>i.values[a]),setValue(i){e?.setValue(a,()=>{if(s===void 0)return i;const M=ie(i,o,s);return!Array.isArray(M)||!Array.isArray(i)?M:lt(i,M)?i:M})}});return l=S({role:"menuitemcheckbox"},l),l=Kt(S({store:m,name:a,value:o,checked:s},l)),l=Ve(S({store:e,hideOnClick:c},l)),l}),gn=de(U(function(n){const r=Sn(n);return q(hn,r)}));function Mn(t={}){var n=t,{combobox:r,parent:e,menubar:a}=n,o=ct(n,["combobox","parent","menubar"]);const s=!!a&&!e,u=Et(o.store,Pt(e,["values"]),Ot(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),c=u.getState(),l=_t(Z(H({},o),{store:u,orientation:B(o.orientation,c.orientation,"vertical")})),d=It(Z(H({},o),{store:u,placement:B(o.placement,c.placement,"bottom-start"),timeout:B(o.timeout,c.timeout,s?0:150),hideTimeout:B(o.hideTimeout,c.hideTimeout,0)})),b=Z(H(H({},l.getState()),d.getState()),{initialFocus:B(c.initialFocus,"container"),values:B(o.values,c.values,o.defaultValues,{})}),m=Pe(b,l,d,u);return he(m,()=>xe(m,["mounted"],i=>{i.mounted||m.setState("activeId",null)})),he(m,()=>xe(e,["orientation"],i=>{m.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),Z(H(H(H({},l),d),m),{combobox:r,parent:e,menubar:a,hideAll:()=>{d.hide(),e?.hideAll()},setInitialFocus:i=>m.setState("initialFocus",i),setValues:i=>m.setState("values",i),setValue:(i,M)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||m.setState("values",v=>{const p=v[i],C=dt(M,p);return C===p?v:Z(H({},v),{[i]:C!==void 0&&C})}))}})}function Cn(t,n,r){return Me(n,[r.combobox,r.parent,r.menubar]),Ae(t,r,"values","setValues"),Object.assign(At(Lt(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function pe(t={}){const n=se(),r=Zt(),e=Nt();t=P(S({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[a,o]=Ie(Mn,t);return Cn(a,o,t)}function We(t={}){const n=pe(t);return f.jsx(Ne,{value:n,children:t.children})}const Ue=T((t,n)=>f.jsx(fe.div,{role:"listitem",...t,className:L("ListItem",t.className),ref:n})),qe=T((t,n)=>f.jsx(mt,{...t,variant:"body-sm",className:L("ListItemContent",t.className),ref:n})),J=T((t,n)=>f.jsx(fe.div,{...t,className:L("ListItemDecoration",t.className),ref:n}));function _n(t){const n=ft.c(6),r=pt.c(6);Ut();const{children:e,placement:a,open:o,setOpen:s,defaultOpen:u}=t;let c;if(r[0]!==e||r[1]!==u||r[2]!==o||r[3]!==a||r[4]!==s){let l;n[0]!==e||n[1]!==u||n[2]!==o||n[3]!==a||n[4]!==s?(l=f.jsx(We,{defaultOpen:u,open:o,placement:a,setOpen:s,children:e}),n[0]=e,n[1]=u,n[2]=o,n[3]=a,n[4]=s,n[5]=l):l=n[5],c=l,r[0]=e,r[1]=u,r[2]=o,r[3]=a,r[4]=s,r[5]=c}else c=r[5];return c}const Nn=T((t,n)=>{const r=se(),e=E(r,"open"),a=E(r,"popoverElement"),o=vt({element:a,open:e});return f.jsx(Re,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...o.style,...t.style},wrapperProps:{popover:o.popover},className:L("DropdownMenu",t.className),ref:n})}),Ln=T((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...a}=t,o=E(se(),"open");return f.jsx(Ke,{accessibleWhenDisabled:!0,...a,render:t.render??f.jsxs(kt,{accessibleWhenDisabled:r,children:[e,f.jsx(Bt,{})]}),className:L("DropdownMenuButton",t.className),"data-has-popover-open":o||void 0,ref:n})}),Rn=T((t,n)=>{const{label:r,shortcuts:e,icon:a,unstable_dot:o,submenu:s,...u}=t,c=y.useId(),l=pe(),[d,b]=y.useState(),m=d??l,i=E(m,"open");return f.jsxs(f.Fragment,{children:[f.jsxs(bn,{accessibleWhenDisabled:!0,render:f.jsx(Ue,{render:f.jsx(ke,{accessibleWhenDisabled:!0,"aria-describedby":c,...u,render:s?f.jsx(Ke,{render:t.render??f.jsx("button",{}),store:m}):t.render,className:L("DropdownMenuItem",t.className),"data-has-popover-open":i||void 0,ref:n})}),children:[a?f.jsx(ze,{icon:a}):null,f.jsx(qe,{render:f.jsx("span",{}),children:r}),e?f.jsx(yn,{shortcuts:e}):null,o?f.jsx(J,{render:f.jsx(jt,{id:c,className:"DropdownMenuItemDot",children:o})}):null,s?f.jsx(J,{className:"DropdownMenuItemChevron",render:f.jsx(Vt,{})}):null]}),f.jsx(Xe.Provider,{value:y.useMemo(()=>({setStore:b}),[]),children:s})]})}),yn=T((t,n)=>{const{shortcuts:r,...e}=t,a=y.useMemo(()=>r.split("+").map(o=>({key:o.trim(),isSymbol:o in $t})),[r]);return f.jsx(J,{render:f.jsx("span",{}),...e,className:L("DropdownMenuItemShortcuts",t.className),ref:n,children:a.map(({key:o,isSymbol:s},u)=>s?f.jsx(Se,{variant:"ghost",symbol:o},`${o+u}`):f.jsx(Se,{variant:"ghost",children:o},`${o+u}`))})}),ze=T((t,n)=>{const{icon:r,...e}=t;return f.jsx(J,{render:f.jsx(bt,{href:typeof r=="string"?r:void 0,render:y.isValidElement(r)?r:void 0,...e,ref:n})})}),Kn=T((t,n)=>{const{label:r,icon:e,defaultChecked:a,checked:o,onChange:s,name:u,value:c=a?"on":void 0,...l}=t;return f.jsxs(gn,{accessibleWhenDisabled:!0,defaultChecked:a,checked:o,name:u,value:c,onChange:s,render:f.jsx(Ue,{render:f.jsx(ke,{accessibleWhenDisabled:!0,...l,className:L("DropdownMenuItem",t.className),ref:n})}),children:[e?f.jsx(ze,{icon:e}):null,f.jsx(qe,{render:f.jsx("span",{}),children:r}),f.jsx(J,{render:f.jsx(Wt,{className:"DropdownMenuCheckmark"})})]})}),Xe=y.createContext(void 0),$n=T((t,n)=>{const{setStore:r}=ht(Xe),e=pe();y.useEffect(()=>(r(e),()=>r(void 0)),[e,r]);const a=se(),o=E(a,"popoverElement");return f.jsx(We,{store:e,children:f.jsx(Re,{store:e,portal:!0,portalElement:o,preserveTabOrder:!1,unmountOnHide:!0,...t,gutter:2,shift:-4,className:L("DropdownMenu",t.className),ref:n})})});export{Kn as D,Ue as L,Ln as a,Nn as b,_n as c,Rn as d,$n as e,J as f,qe as g};
