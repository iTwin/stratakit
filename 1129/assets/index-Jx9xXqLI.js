import{w as q,a as C,p as t}from"./chunk-4WY6JWTD-BeTiufY7.js";import{I as k,c as _}from"./sun-BJKUai8C.js";import{R as y}from"./Root-BlZG5mKi.js";import{b as N,T as $,a as w,p as D}from"./immer-C_pewqHp.js";import{d as G,u as U}from"./~utils-C1urJCcZ.js";import{u as B,r as H}from"./refresh-Co13pp67.js";import{p as E}from"./placeholder-C8dZf9hw.js";import{s as F}from"./visibility-show-B8OoZTRz.js";import"./Root-Bzt7q5HS.js";import"./index-DAUfcRST.js";import"./warning-DV_jLW_U.js";import"./chevron-left-Db7gi944.js";import"./dismiss-DQ66yljm.js";import"./Tooltip-zhxDlu0h.js";import"./FIT2LC3L-DmqYf1H1.js";import"./DTXGDDAC-j1OaShpD.js";import"./QHXYX2YB-CH-GorIV.js";import"./TCFLKON2-Xjp_eLVm.js";import"./VEHC2EHR-DScKgRgp.js";import"./~utils.icons-TGCsxp8I.js";import"./~utils.icons-DqIPPz3a.js";import"./~utils.useInit-Bvs4c1FZ.js";const ue={title:"Tree"},be=q(G(function({overflow:e=!1,selected:i=!1,description:n,error:c,items:h,visible:p}){const[s,d]=C.useTransition(),l=e?" with a super long label that is overflown":"",m=p?!!p:void 0,u=n?"Additional description":void 0,[I,z]=C.useState(!!c),v=h?Number(h):0,[j,g]=C.useState(()=>[{label:`Item 1${l}`,selected:!!i,expanded:!0,children:[{label:"Item 1.1",selected:!!i},{label:"Item 1.2",selected:!!i},{label:`Item 1.3${l}`,selected:!!i}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${l}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:v}).map((r,a)=>({label:`Item ${a+4}`,selected:!1}))]),b=C.useMemo(()=>j.flatMap((r,a,o)=>{const T={...r,level:1,index:a,setSize:o.length,childIndex:void 0};if(!r.expanded)return T;const R=r.children?r.children.map((A,x,M)=>({...A,level:2,index:a,childIndex:x,setSize:M.length,expanded:void 0})):[];return[T,...R]}),[j]),S=C.useCallback(()=>{z(!1)},[]),P=U();return t.jsx(y,{colorScheme:P,children:t.jsx(N,{style:{maxInlineSize:e?300:void 0},children:b.map(r=>{const{index:a,childIndex:o}=r,T=I&&a===0&&o===void 0,R=a===0&&o===void 0||o===0;return t.jsx($,{"aria-level":r.level,"aria-posinset":o!==void 0?o+1:a+1,"aria-setsize":r.setSize,label:r.label,description:R?u:void 0,expanded:r.expanded,selected:r.selected,error:T,onSelectedChange:()=>{g(D(A=>{const x=o===void 0?A[a]:A[a].children?.[o];x&&(x.selected=!x.selected)}))},onExpandedChange:()=>{d(()=>{g(D(A=>{const x=A[a];x.expanded!==void 0&&(x.expanded=!x.expanded)}))})},icon:o===void 0?t.jsx(k,{href:E,alt:"decoration"}):void 0,unstable_decorations:o===0?t.jsxs(t.Fragment,{children:[t.jsx(k,{href:E}),t.jsx(k,{href:E})]}):t.jsx(k,{href:E}),inlineActions:T?[t.jsx(w,{icon:H,label:"Retry",onClick:S},"retry")]:[t.jsx(w,{icon:B,label:"Unlock",visible:m},"unlock"),t.jsx(w,{icon:F,label:"Show",visible:m},"show")],actions:T?[t.jsx(w,{icon:B,label:"Unlock"},"unlock"),t.jsx(w,{icon:F,label:"Show"},"show")]:void 0},r.label)})})})},{actions:K,_expansion:O}));function J(f){const e=_.c(5);let i,n;if(e[0]!==f?({hidden:i,...n}=f,e[0]=f,e[1]=i,e[2]=n):(i=e[1],n=e[2]),i)return null;let c;return e[3]!==n?(c=t.jsx(w,{icon:E,...n}),e[3]=n,e[4]=c):c=e[4],c}function K(f){const e=_.c(18),{inline:i,menu:n,dot:c,error:h,hiddenIds:p}=f,s=i?Number(i):2,d=n?Number(n):3,l=h?!!h:void 0;let m;if(e[0]!==c||e[1]!==p||e[2]!==s||e[3]!==d){const P=p?p.split(";").map(L):[];m=Array.from({length:s+d},(r,a)=>{const o=a+1;return t.jsx(J,{label:`Action ${o}`,dot:c?"Something's going on":void 0,hidden:P.includes(o)},o)}),e[0]=c,e[1]=p,e[2]=s,e[3]=d,e[4]=m}else m=e[4];const u=m;let I;e[5]!==u||e[6]!==s?(I=u.slice(0,s),e[5]=u,e[6]=s,e[7]=I):I=e[7];const z=I;let v;e[8]!==u||e[9]!==s?(v=u.slice(s),e[8]=u,e[9]=s,e[10]=v):v=e[10];const j=v,g=U();let b;e[11]!==j||e[12]!==l||e[13]!==z?(b=t.jsx(N,{children:t.jsx($,{label:"Item 1","aria-level":1,"aria-posinset":1,"aria-setsize":1,inlineActions:z,actions:j,error:l})}),e[11]=j,e[12]=l,e[13]=z,e[14]=b):b=e[14];let S;return e[15]!==g||e[16]!==b?(S=t.jsx(y,{colorScheme:g,children:b}),e[15]=g,e[16]=b,e[17]=S):S=e[17],S}function L(f){return Number(f)}function O(f){const e=_.c(11),{selectable:i}=f,[n,c]=C.useState(!1),h=U(),p=i?!1:void 0;let s;e[0]!==n||e[1]!==p?(s=t.jsx($,{label:"Parent Item","aria-level":1,"aria-posinset":1,"aria-setsize":1,expanded:n,onExpandedChange:c,selected:p}),e[0]=n,e[1]=p,e[2]=s):s=e[2];let d;e[3]!==n?(d=n&&t.jsxs(t.Fragment,{children:[t.jsx($,{label:"Child Item 1","aria-level":2,"aria-posinset":1,"aria-setsize":2}),t.jsx($,{label:"Child Item 2","aria-level":2,"aria-posinset":2,"aria-setsize":2})]}),e[3]=n,e[4]=d):d=e[4];let l;e[5]!==s||e[6]!==d?(l=t.jsxs(N,{children:[s,d]}),e[5]=s,e[6]=d,e[7]=l):l=e[7];let m;return e[8]!==h||e[9]!==l?(m=t.jsx(y,{colorScheme:h,children:l}),e[8]=h,e[9]=l,e[10]=m):m=e[10],m}export{be as default,ue as handle};
