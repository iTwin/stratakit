import{w as Ke}from"./~utils-BuKH_XhK.js";import{t as Fe,a as d,n as s}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{a as le}from"./index-Dr3kRIaJ.js";import{B as Le}from"./Button-GPjBmsog.js";import{D as ye,a as je,b as ge,c as m}from"./DropdownMenu-IzqAJT_D.js";import{I as D}from"./Icon-SCaGVORA.js";import{I as z}from"./IconButton-A5fvp0d9.js";import{S as Xe,H as Ge}from"./Select-BmNFPJ0m.js";import{T as He,a as ce,b as We,c as de}from"./Tabs-BR1THMvP.js";import{T as Pe}from"./Text-BIOJgVYR.js";import{T as Ue,a as $e,b as qe}from"./TextBox-C69E57te.js";import{V as Y}from"./VisuallyHidden-mupLk8qe.js";import{T as Je,a as Qe}from"./Tree-B8i8DSPj.js";import{p as B}from"./placeholder-ClMlJPuZ.js";import{p as Ve,l as Ye,d as Ze,h as et,m as tt,s as ue,a as nt,f as rt}from"./state-inherited-dot-DuLwyTcD.js";import{s as st}from"./visibility-show-n5JqO9A_.js";import"./index-jyeBNHV5.js";import"./KUU7WJ55-CvL3dvMd.js";import"./LVA2YJMS-BcAd7OG7.js";import"./XL7CSKGW-Cbj4nsUL.js";import"./Kbd-w5YbJL_k.js";import"./P2CTZE2T-BbbD4CJc.js";import"./YV4JVR4I-xwnP9gdF.js";import"./BYC7LY2E-fXc0Nxg4.js";import"./VGCJ63VH-BZvA6HvM.js";import"./MTZPJQMC-Bx6N7KMg.js";import"./VEVQD5MH-D6Eb5Jbk.js";import"./ITI7HKP4-DQJKDmG_.js";import"./P4IRICAX-CL7VNWO-.js";import"./ASMQKSDT-B4DAV8zs.js";import"./Tooltip-DXd-YglS.js";import"./Field-CakA-67p.js";import"./~hooks-Wdjhtx2E.js";import"./ListItem-DeA1AzYL.js";var Se=Symbol.for("immer-nothing"),fe=Symbol.for("immer-draftable"),j=Symbol.for("immer-state");function S(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var v=Object.getPrototypeOf;function N(e){return!!e&&!!e[j]}function w(e){var t;return e?Ce(e)||Array.isArray(e)||!!e[fe]||!!((t=e.constructor)!=null&&t[fe])||W(e)||U(e):!1}var it=Object.prototype.constructor.toString();function Ce(e){if(!e||typeof e!="object")return!1;const t=v(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===it}function L(e,t){H(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function H(e){const t=e[j];return t?t.type_:Array.isArray(e)?1:W(e)?2:U(e)?3:0}function Z(e,t){return H(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ae(e,t,n){const r=H(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function at(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function W(e){return e instanceof Map}function U(e){return e instanceof Set}function I(e){return e.copy_||e.base_}function ee(e,t){if(W(e))return new Map(e);if(U(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Ce(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[j];let i=Reflect.ownKeys(r);for(let l=0;l<i.length;l++){const c=i[l],o=r[c];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[c]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[c]})}return Object.create(v(e),r)}else{const r=v(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ie(e,t=!1){return $(e)||N(e)||!w(e)||(H(e)>1&&(e.set=e.add=e.clear=e.delete=ot),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>ie(r,!0))),e}function ot(){S(2)}function $(e){return Object.isFrozen(e)}var lt={};function M(e){const t=lt[e];return t||S(0,e),t}var E;function Ie(){return E}function ct(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pe(e,t){t&&(M("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function te(e){ne(e),e.drafts_.forEach(dt),e.drafts_=null}function ne(e){e===E&&(E=e.parent_)}function he(e){return E=ct(E,e)}function dt(e){const t=e[j];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function me(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[j].modified_&&(te(t),S(4)),w(e)&&(e=X(t,e),t.parent_||G(t,e)),t.patches_&&M("Patches").generateReplacementPatches_(n[j].base_,e,t.patches_,t.inversePatches_)):e=X(t,n,[]),te(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Se?e:void 0}function X(e,t,n){if($(t))return t;const r=t[j];if(!r)return L(t,(i,l)=>_e(e,r,t,i,l,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return G(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let l=i,c=!1;r.type_===3&&(l=new Set(i),i.clear(),c=!0),L(l,(o,u)=>_e(e,r,i,o,u,n,c)),G(e,i,!1),n&&e.patches_&&M("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function _e(e,t,n,r,i,l,c){if(N(i)){const o=l&&t&&t.type_!==3&&!Z(t.assigned_,r)?l.concat(r):void 0,u=X(e,i,o);if(Ae(n,r,u),N(u))e.canAutoFreeze_=!1;else return}else c&&n.add(i);if(w(i)&&!$(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;X(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&G(e,i)}}function G(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ie(t,n)}function ut(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ie(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,l=ae;n&&(i=[r],l=O);const{revoke:c,proxy:o}=Proxy.revocable(i,l);return r.draft_=o,r.revoke_=c,o}var ae={get(e,t){if(t===j)return e;const n=I(e);if(!Z(n,t))return ft(e,n,t);const r=n[t];return e.finalized_||!w(r)?r:r===Q(e.base_,t)?(V(e),e.copy_[t]=se(r,e)):r},has(e,t){return t in I(e)},ownKeys(e){return Reflect.ownKeys(I(e))},set(e,t,n){const r=ze(I(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Q(I(e),t),l=i==null?void 0:i[j];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(at(n,i)&&(n!==void 0||Z(e.base_,t)))return!0;V(e),re(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Q(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,V(e),re(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=I(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){S(11)},getPrototypeOf(e){return v(e.base_)},setPrototypeOf(){S(12)}},O={};L(ae,(e,t)=>{O[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});O.deleteProperty=function(e,t){return O.set.call(this,e,t,void 0)};O.set=function(e,t,n){return ae.set.call(this,e[0],t,n,e[0])};function Q(e,t){const n=e[j];return(n?I(n):e)[t]}function ft(e,t,n){var i;const r=ze(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function ze(e,t){if(!(t in e))return;let n=v(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=v(n)}}function re(e){e.modified_||(e.modified_=!0,e.parent_&&re(e.parent_))}function V(e){e.copy_||(e.copy_=ee(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(u=l,...f){return c.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&S(6),r!==void 0&&typeof r!="function"&&S(7);let i;if(w(t)){const l=he(this),c=se(t,void 0);let o=!0;try{i=n(c),o=!1}finally{o?te(l):ne(l)}return pe(l,r),me(i,l)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Se&&(i=void 0),this.autoFreeze_&&ie(i,!0),r){const l=[],c=[];M("Patches").generateReplacementPatches_(t,i,l,c),r(l,c)}return i}else S(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...o)=>this.produceWithPatches(c,u=>t(u,...o));let r,i;return[this.produce(t,n,(c,o)=>{r=c,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){w(e)||S(8),N(e)&&(e=ht(e));const t=he(this),n=se(e,void 0);return n[j].isManual_=!0,ne(t),n}finishDraft(e,t){const n=e&&e[j];(!n||!n.isManual_)&&S(9);const{scope_:r}=n;return pe(r,t),me(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=M("Patches").applyPatches_;return N(e)?r(e,t):this.produce(e,i=>r(i,t))}};function se(e,t){const n=W(e)?M("MapSet").proxyMap_(e,t):U(e)?M("MapSet").proxySet_(e,t):ut(e,t);return(t?t.scope_:Ie()).drafts_.push(n),n}function ht(e){return N(e)||S(10,e),we(e)}function we(e){if(!w(e)||$(e))return e;const t=e[j];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ee(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ee(e,!0);return L(n,(r,i)=>{Ae(n,r,we(i))}),t&&(t.finalized_=!1),n}var g=new pt,mt=g.produce;g.produceWithPatches.bind(g);g.setAutoFreeze.bind(g);g.setUseStrictShallowCopy.bind(g);g.applyPatches.bind(g);g.createDraft.bind(g);g.finishDraft.bind(g);const _t="_appLayout_9dbi5_5",bt="_header_9dbi5_22",xt="_platformBar_9dbi5_32",yt="_logo_9dbi5_38",jt="_tools_9dbi5_48",gt="_leftPanel_9dbi5_58",Pt="_panelHeader_9dbi5_70",St="_panelTitleWrapper_9dbi5_78",Ct="_panelCaption_9dbi5_82",At="_shiftIconRight_9dbi5_86",It="_subheader_9dbi5_90",zt="_subheaderTitle_9dbi5_101",wt="_searchInput_9dbi5_106",Mt="_subheaderActions_9dbi5_110",Rt="_tabList_9dbi5_114",Dt="_emptyState_9dbi5_119",vt="_canvasWrapper_9dbi5_128",Nt="_canvas_9dbi5_128",Tt="_splitter_9dbi5_165",kt="_tabPanel_9dbi5_207",Bt="_tree_9dbi5_213",Et="_action_9dbi5_217",Ot="_actionIcon_9dbi5_223",Kt="_slider_9dbi5_234",p={appLayout:_t,header:bt,platformBar:xt,logo:yt,tools:jt,leftPanel:gt,panelHeader:Pt,panelTitleWrapper:St,panelCaption:Ct,shiftIconRight:At,subheader:It,subheaderTitle:zt,searchInput:wt,subheaderActions:Mt,tabList:Rt,emptyState:Dt,canvasWrapper:vt,canvas:Nt,splitter:Tt,tabPanel:kt,tree:Bt,action:Et,actionIcon:Ot,slider:Kt},Me="Kiwi sandbox",Nn=()=>[{title:Me}],Tn=Ke(function(){const[t,n]=Fe(),r=t.get("tree")==="empty"?"epoch-2":"epoch-1",i=d.useCallback(o=>{n(u=>(o==="epoch-2"?u.set("tree","empty"):u.delete("tree"),u))},[n]),l=d.useMemo(()=>({"epoch-1":"Epoch System iModel 1","epoch-2":"Epoch System iModel 2"}),[]),c=d.useId();return s.jsxs(Ft,{panelContent:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:p.panelHeader,children:[s.jsxs("div",{children:[s.jsx(Y,{render:o=>s.jsx("label",{...o,htmlFor:c}),children:"Choose Model"}),s.jsx(Xe,{className:p.panelTitleWrapper,children:s.jsx(Ge,{id:c,variant:"ghost",defaultValue:r,onChange:o=>i(o.target.value),children:Object.entries(l).map(([o,u])=>s.jsx("option",{value:o,children:u},o))})}),s.jsxs("hgroup",{role:"group",children:[s.jsx(Y,{render:o=>s.jsx("h2",{...o}),children:l[r]}),s.jsx("p",{className:p.panelCaption,children:"2024 Refresh"})]})]}),s.jsx("div",{className:p.actions,children:s.jsx(z,{className:p.shiftIconRight,icon:Ve,label:"Dock panel",variant:"ghost",disabled:!0})})]}),s.jsxs(He,{children:[s.jsx(Qt,{}),s.jsx(ce,{tabId:"simple",className:p.tabPanel,focusable:!1,children:s.jsx(be,{tree:r==="epoch-2"?"empty":"simple"})}),s.jsx(ce,{tabId:"complex",className:p.tabPanel,focusable:!1,children:s.jsx(be,{tree:r==="epoch-2"?"empty":"complex"})})]})]}),children:[s.jsxs("header",{className:p.header,children:[s.jsx("div",{className:p.logo,children:s.jsx(D,{href:B,size:"large"})}),s.jsx(Pe,{render:o=>s.jsx("h1",{...o}),variant:"body-md",children:Me})]}),s.jsx("div",{className:p.platformBar,children:s.jsxs("div",{className:p.tools,children:[s.jsx(D,{href:B,size:"large"}),s.jsx(D,{href:B,size:"large"}),s.jsx(D,{href:B,size:"large"})]})}),s.jsx("div",{className:p.canvasWrapper,children:s.jsx("div",{className:p.canvas})})]})});function Ft(e){const{sliderProps:t,panelProps:n,panelMinSize:r,panelMaxSize:i,resizing:l}=Gt({minSize:{px:256,pct:20},maxSize:{pct:30}}),c=d.useId();return s.jsxs("div",{className:p.appLayout,style:{"--_panel-min-size":r,"--_panel-max-size":i},children:[s.jsx("div",{...n,className:p.leftPanel,style:{position:"relative",...n.style},children:e.panelContent}),s.jsxs("div",{className:p.splitter,"data-resizing":l?"true":void 0,children:[s.jsx(Y,{render:o=>s.jsx("label",{...o,htmlFor:c,children:"Resize layers panel"}),children:"Resize layers panel"}),s.jsx("input",{id:c,type:"range",className:p.slider,...t})]}),e.children]})}function Lt({children:e}){return s.jsx("div",{className:p.emptyState,children:e})}function Xt(e,t,n){return Math.min(Math.max(e,t),n)}function Gt(e){const{minSize:t,maxSize:n,onCollapse:r}=e,i=d.useId(),l=d.useRef(null),[c,o]=d.useState(void 0),[u,f]=d.useState(void 0),[h,b]=d.useState(void 0),[x,K]=d.useState(!1),[T,F]=d.useState(void 0),P=d.useMemo(()=>{if(t&&u)return Math.min(t.px,t.pct/100*u)},[t,u]),A=d.useMemo(()=>{if(P&&n&&u)return Math.max(P,n.pct/100*u)},[n,u,P]),R=d.useMemo(()=>{if(h==="smallest")return P??0;if(h==="largest")return A??0;if(c&&P&&A)return Xt(c,P,A)},[c,P,A,h]);d.useEffect(()=>{const _=l.current;if(!_)return;const y=_.parentElement;if(!y)return;const C=new ResizeObserver(()=>{const q=y.getBoundingClientRect(),J=_.getBoundingClientRect();f(q.width),o(J.width)});return C.observe(y),C.observe(_),()=>{C.disconnect()}},[]);const De=d.useCallback(_=>{const y=l.current;if(!y)return;const C=y.getBoundingClientRect();F(C.width+_),b(void 0),K(!0)},[]),ve=d.useCallback(_=>{const y=l.current;if(!y)return;const C=y.parentElement;if(!C)return;const q=C.getBoundingClientRect(),J=_*(q.width*.005),Oe=y.getBoundingClientRect();F(Oe.width+J),b(void 0)},[]),Ne=d.useCallback(()=>{l.current&&(F(void 0),K(!1))},[]),{moveableProps:k}=Ht({onMove:De,onMoveEnd:Ne,onKeyMove:ve}),Te=d.useMemo(()=>({...k,onKeyDown:_=>{var y;if((y=k.onKeyDown)==null||y.call(k,_),!_.defaultPrevented)switch(_.key){case"Enter":_.preventDefault(),r==null||r();break;case"Home":_.preventDefault(),b("smallest");break;case"End":_.preventDefault(),b("largest");break}},onChange:_=>{if(x)return;const y=Number(_.target.value);F(y)},value:R===void 0?0:Math.floor(R),min:P===void 0?void 0:Math.floor(P),max:A===void 0?void 0:Math.floor(A)}),[k,R,P,A,r,x]),ke=d.useMemo(()=>({style:{WebkitUserSelect:T===void 0?void 0:"none"},id:i,ref:l}),[i,T]),Be=P===void 0?void 0:`${Math.floor(P)}px`,Ee=d.useMemo(()=>{if(T!==void 0&&n!==void 0&&h===void 0)return`min(${Math.floor(T)}px, ${n.pct}%)`;if(R!==void 0)return`${Math.floor(R)}px`},[n,T,R,h]);return{sliderProps:Te,panelProps:ke,panelMinSize:Be,panelMaxSize:Ee,resizing:x}}function Ht(e){const{onMove:t,onMoveEnd:n,onKeyMove:r}=e,i=d.useRef(null),l=d.useRef(void 0),c=d.useRef(void 0),o=d.useCallback(()=>{c.current!==void 0&&(c.current=void 0,n==null||n())},[n]);return{moveableProps:d.useMemo(()=>({onPointerDown:f=>{if(f.button!==0||f.ctrlKey)return;const h=i.current;if(!h)return;const b=h.getBoundingClientRect(),x=f.clientX-b.left;c.current=x,f.preventDefault(),h.setPointerCapture(f.pointerId)},onPointerMove:f=>{const h=c.current;if(h===void 0)return;const b=i.current;if(!b)return;const x=b.getBoundingClientRect(),K=f.clientX-h-x.left;f.preventDefault(),t==null||t(K)},onPointerUp:o,onPointerCancel:o,onKeyDown:f=>{if(!f.defaultPrevented)switch(f.key){case"ArrowLeft":f.preventDefault(),r==null||r(-1);break;case"ArrowRight":f.preventDefault(),r==null||r(1);break}},ref:f=>{var b;if(i.current=f,(b=l.current)==null||b.call(l),l.current=void 0,!f)return;const h=x=>{x.preventDefault()};f.addEventListener("touchstart",h),l.current=()=>{f.removeEventListener("touchstart",h)}}}),[r,t,o])}}const oe=d.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function be({tree:e}){const[t,n]=d.useState(),[r,i]=d.useState([]),l=d.useCallback(o=>{i(u=>u.includes(o)?u.filter(f=>f!==o):[...u,o])},[]),c=d.useMemo(()=>({selected:t,setSelected:n,hidden:r,toggleHidden:l}),[r,t,l]);return e==="empty"?s.jsxs(Lt,{children:[s.jsx(Pe,{children:"No layers"}),s.jsx(Le,{children:"Create a layer"})]}):s.jsx(oe.Provider,{value:c,children:s.jsx(Je,{className:p.tree,children:s.jsx($t,{tree:e})})})}const a=(()=>{let e=0;return t=>({id:`${e++}`,label:`Tree Item ${e}`,items:[],expanded:!0,...t})})(),Wt={items:[a({label:"Guides",items:[a({label:"Tree",items:[a({label:"Guide 4"}),a({label:"Guide 3"}),a({label:"Guide 2"}),a({label:"Guide 1"})]})]}),a({label:"Other",items:[a({label:"Object 2",items:[a({label:"Path 3"})]}),a({label:"Object 1"})]}),a({label:"Road",items:[a({label:"Parking lot access"}),a({label:"Site access"})]}),a({label:"Parking lot",items:[a({label:"Parking area",items:[a({label:"Bay point 2"}),a({label:"Bay point 1"}),a({label:"Space point 1"}),a({label:"Path 6"})]})]}),a({label:"Building",items:[a({label:"Building area",items:[a({label:"Path 5"})]})]}),a({label:"Sewer",items:[a({label:"Run off pipe",items:[a({label:"Path 4"})]})]}),a({label:"Project boundary",items:[a({label:"Property area",items:[a({label:"Path 1"})]})]}),a({label:"Map",items:[a({label:"Location",items:[a({label:"Terrain"})]})]})]},Ut={items:[a({label:"ITC_Master",items:[a({label:"002_Substation",expanded:!1,items:[a({label:"002_Substation_A"})]}),a({label:"005-BENROAD-00-XX-M3-D-00003.dgn",expanded:!1,items:[a({label:"005-BENROAD-00-XX-M3-D-00003-A"})]}),a({label:"005-BENROAD-00-XX-M3-D-00005.dgn",expanded:!1,items:[a({label:"005-BENROAD-00-XX-M3-D-00005-A"})]}),a({label:"005-BENROAD-00-XX-M3-G-00002.dgn",expanded:!1,items:[a({label:"005-BENROAD-00-XX-M3-G-00002-A"})]}),a({label:"005-BENROAD-00-XX-M3-G-00003.dgn",expanded:!1,items:[a({label:"005-BENROAD-00-XX-M3-G-00003-A"})]}),a({label:"007-aa_master.dgn",items:[a({label:"A-CLNG-LITE",expanded:!1,items:[a({label:"A-CLNG-LITE-A"})]}),a({label:"A-CLNG-TILE",items:[a({label:"A-DOOR-2D-PLAN",items:[a({label:"P00003 [2-KA62]",items:[a({label:"Cell [2-KA63]",items:[a({label:"Cell [2-KA64]",items:[a({label:"Complex Chain [2-KA6A]"}),a({label:"Complex Chain [2-KA6B]"}),a({label:"Complex Chain [2-KA6C]"}),a({label:"Complex Chain [2-KA6D]"}),a({label:"Complex Chain [2-KA6E]"}),a({label:"Complex Chain [2-KA6F]"}),a({label:"Complex Chain [2-KA6G]"}),a({label:"Complex Chain [2-KA6H]"}),a({label:"Complex Chain [2-KA61]"}),a({label:"Complex Chain [2-KA65]"}),a({label:"Complex Chain [2-KA66]"}),a({label:"Complex Chain [2-KA67]"}),a({label:"Complex Chain [2-KA68]"}),a({label:"Complex Chain [2-KA69]"})]})]})]}),a({label:"P00003 [2-KA74]",expanded:!1,items:[a({label:"P00003 [2-KA74-A]"})]}),a({label:"P00003 [2-KA86]",expanded:!1,items:[a({label:"P00003 [2-KA74-A]"})]}),a({label:"P00003 [2-KA98]",expanded:!1,items:[a({label:"P00003 [2-KA98-A]"})]}),a({label:"P00003 [2-KAAA]",expanded:!1,items:[a({label:"P00003 [2-KAAA-A]"})]})]})]})]})]})]};function $t({tree:e}){return e==="complex"?s.jsx(xe,{initialItems:Ut.items}):e==="simple"?s.jsx(xe,{initialItems:Wt.items}):null}function qt(e){const t=d.useContext(oe);return d.useMemo(()=>{function n(r,i,l,c,o){const u=[];let f=1;for(const h of r){const b=h.id===t.selected||c,x=t.hidden.includes(h.id)||o;u.push({...h,level:l,parentItem:i,selected:b,hidden:x,parentHidden:o,position:f,size:r.length}),f++,h.expanded&&u.push(...n(h.items,h,l+1,b,x))}return u}return n(e,void 0,1,!1,!1)},[e,t.selected,t.hidden])}function Re(e,t){for(const n of e){if(n.id===t)return n;const r=Re(n.items,t);if(r)return r}}function xe({initialItems:e}){const[t,n]=d.useState(e),r=qt(t),{setSelected:i,selected:l,toggleHidden:c}=d.useContext(oe);return r.map(o=>{var u;return s.jsx(Qe,{label:o.label,value:o.id,parentValue:(u=o.parentItem)==null?void 0:u.id,selected:o.selected,onSelectedChange:()=>{if(l===o.id){i(void 0);return}i(o.id)},expanded:o.items.length===0?void 0:o.expanded,onExpandedChange:f=>{n(h=>mt(h,b=>{const x=Re(b,o.id);x&&(x.expanded=f)}))},icon:s.jsx(D,{href:B,style:{display:"inline"}}),actions:s.jsxs(s.Fragment,{children:[s.jsx(z,{className:p.action,icon:Ye,label:"Lock",variant:"ghost","aria-hidden":o.hidden}),o.parentHidden?s.jsx("span",{className:p.actionIcon,children:s.jsx(D,{href:Ze})}):s.jsx(z,{className:p.action,icon:o.hidden?et:st,label:o.hidden?"Show":"Hide",variant:"ghost",onClick:()=>{c(o.id)}}),s.jsx(Jt,{hidden:o.hidden})]})},o.id)})}function Jt({hidden:e}){return s.jsxs(ye,{children:[s.jsx(je,{className:p.action,"aria-hidden":e,render:s.jsx(z,{icon:tt,label:"More",variant:"ghost"})}),s.jsxs(ge,{style:{minInlineSize:164},children:[s.jsx(m,{shortcuts:"⌘+C",children:"Copy"}),s.jsx(m,{shortcuts:"⌘+P",children:"Paste"}),s.jsx(m,{shortcuts:"⌘+V",children:"Copy/Paste as"}),s.jsx(m,{shortcuts:"⌘+M",children:"Move to"}),s.jsx(m,{shortcuts:"]",children:"Bring to front"}),s.jsx(m,{shortcuts:"[",children:"Send to back"}),s.jsx(m,{shortcuts:"⌘+G",children:"Group selection"}),s.jsx(m,{shortcuts:"⌘+U",children:"Ungroup"}),s.jsx(m,{shortcuts:"⌘+R",children:"Rename"}),s.jsx(m,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),s.jsx(m,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),s.jsx(m,{shortcuts:"I",children:"Isolate object"})]})]})}function Qt(){const[e,t]=d.useState(!1),n=d.useRef(null),r=d.useRef(null),i=e?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{}),s.jsx(z,{className:p.shiftIconRight,icon:nt,label:"Close",variant:"ghost",onClick:()=>{var l;le.flushSync(()=>t(!1)),(l=r.current)==null||l.focus()}})]}):s.jsx(z,{className:p.shiftIconRight,icon:ue,label:"Search",variant:"ghost",onClick:()=>{var l;le.flushSync(()=>t(!0)),(l=n.current)==null||l.focus()}});return s.jsxs("div",{className:p.subheader,children:[e?void 0:s.jsxs(We,{className:p.tabList,tone:"accent",ref:r,children:[s.jsx(de,{id:"simple",children:"Simple"}),s.jsx(de,{id:"complex",children:"Complex"})]}),e?s.jsxs(Ue,{className:p.searchInput,children:[s.jsx($e,{href:ue}),s.jsx(qe,{placeholder:"Search",ref:n})]}):null,s.jsx("div",{className:p.subheaderActions,children:i})]})}function Vt(){return s.jsxs(ye,{children:[s.jsx(je,{render:s.jsx(z,{icon:rt,label:"Filter",variant:"ghost"})}),s.jsxs(ge,{style:{minInlineSize:164},children:[s.jsx(m,{children:"Show all"}),s.jsx(m,{children:"Guides"}),s.jsx(m,{children:"Other"}),s.jsx(m,{children:"Roadway"}),s.jsx(m,{children:"Parking"}),s.jsx(m,{children:"Building"}),s.jsx(m,{children:"Dry utility"}),s.jsx(m,{children:"Stormwater"}),s.jsx(m,{children:"Sewer"}),s.jsx(m,{children:"Boundary"}),s.jsx(m,{children:"Map"})]})]})}export{Tn as default,Nn as meta};
