import{w as U}from"./with-props-XFbs5UV3.js";import{l as e,r as t}from"./chunk-7R3XDUXW-DxTo8O6G.js";import{r as N}from"./index-CpodmKhz.js";import{D as V,a as q,b as J,c as x}from"./DropdownMenu-DWHcfSHd.js";import{D as Q}from"./Divider-BrMdR3aZ.js";import{I as P}from"./Icon-Cp_r7ubW.js";import{I as z}from"./IconButton-bOZN5IxN.js";import{T as Y,a as Z,b as ee}from"./TextBox-D607fTC4.js";import{T as ne,a as te}from"./Tree-CzG8__N9.js";import{V as L}from"./VisuallyHidden-DpR5ZIYl.js";import{L as re}from"./ListItem-CKDRkIVj.js";import{p as I}from"./placeholder-CxjXGef7.js";import{p as se,c as oe,s as T,d as ie,f as ae}from"./chevron-down-DPNK3pLJ.js";import{F as ce}from"./LVA2YJMS-DJV8VtX8.js";import{R as le}from"./XL7CSKGW-dh1dRh0h.js";import"./index-6yh6O1FZ.js";import"./ListItem-C_xdWPsu.js";import"./Button-Dr43B4ix.js";import"./KUU7WJ55-55_Apuy6.js";import"./LMDWO4NN-DZi_YyQu.js";import"./P2CTZE2T-aUTcGI4T.js";import"./YV4JVR4I-IQnN8q1u.js";import"./BYC7LY2E-BkUN-JnQ.js";import"./VGCJ63VH-DCGxV_XM.js";import"./XX67R432-CnBfjeG9.js";import"./MTZPJQMC-BlK_aww9.js";import"./ITI7HKP4-BNjRh7Y1.js";import"./P4IRICAX-Chgnv0ug.js";import"./Tooltip-B0Zg-bnd.js";import"./~hooks-CW6k0nNz.js";import"./Field-xeE_zSqj.js";const de="_appLayout_1buln_5",ue="_platformBar_1buln_14",pe="_logo_1buln_19",he="_tools_1buln_29",me="_leftPanel_1buln_39",fe="_header_1buln_49",xe="_panelTitle_1buln_57",je="_panelCaption_1buln_63",ve="_shiftIconRight_1buln_67",be="_subheader_1buln_71",ge="_subheaderTitle_1buln_81",_e="_searchInput_1buln_86",Se="_subheaderActions_1buln_90",Re="_tree_1buln_94",ye="_canvasWrapper_1buln_102",Pe="_canvas_1buln_102",Ie="_splitter_1buln_124",s={appLayout:de,platformBar:ue,logo:pe,tools:he,leftPanel:me,header:fe,panelTitle:xe,panelCaption:je,shiftIconRight:ve,subheader:be,subheaderTitle:ge,searchInput:_e,subheaderActions:Se,tree:Re,canvasWrapper:ye,canvas:Pe,splitter:Ie},E="Kiwi sandbox",pn=()=>[{title:E},{name:"color-scheme",content:"dark"}],A="left-panel",hn=U(function(){const{splitterProps:o,panelProps:i,panelMinSize:c,panelMaxSize:h}=we({minSize:{px:256,pct:20},maxSize:{pct:30},labelledby:A});return e.jsxs(e.Fragment,{children:[e.jsx(L,{render:l=>e.jsx("h1",{...l}),children:E}),e.jsxs("div",{className:s.appLayout,style:{"--_panel-min-size":c,"--_panel-max-size":h},children:[e.jsxs("div",{className:s.platformBar,children:[e.jsx("div",{className:s.logo,children:e.jsx(P,{href:I,size:"large"})}),e.jsxs("div",{className:s.tools,children:[e.jsx(P,{href:I,size:"large"}),e.jsx(P,{href:I,size:"large"}),e.jsx(P,{href:I,size:"large"})]})]}),e.jsxs("div",{...i,className:s.leftPanel,style:{position:"relative",...i.style},children:[e.jsxs("div",{className:s.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:s.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:s.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:s.actions,children:e.jsx(z,{className:s.shiftIconRight,icon:se,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(ke,{}),e.jsx(Be,{}),e.jsx(Q,{presentational:!0,role:"slider",className:s.splitter,render:e.jsx(ce,{}),...o})]}),e.jsx("div",{className:s.canvasWrapper,children:e.jsx("div",{className:s.canvas})})]})]})});function ze(a,o,i){return Math.min(Math.max(a,o),i)}function we(a){const{minSize:o,maxSize:i,labelledby:c,onCollapse:h}=a??{},l=t.useId(),j=t.useRef(null),[g,k]=t.useState(void 0),[r,f]=t.useState(void 0),[u,v]=t.useState(void 0),[w,D]=t.useState(!1),[R,M]=t.useState(void 0),m=t.useMemo(()=>{if(o&&r)return Math.min(o.px,o.pct/100*r)},[o,r]),_=t.useMemo(()=>{if(m&&i&&r)return Math.max(m,i.pct/100*r)},[i,r,m]),S=t.useMemo(()=>{if(u==="smallest")return m??0;if(u==="largest")return _??0;if(g&&m&&_)return ze(g,m,_)},[g,m,_,u]);t.useEffect(()=>{const d=j.current;if(!d)return;const p=d.parentElement;if(!p)return;const b=new ResizeObserver(()=>{const B=p.getBoundingClientRect(),C=d.getBoundingClientRect();f(B.width),k(C.width)});return b.observe(p),b.observe(d),()=>{b.disconnect()}},[]);const F=t.useCallback(d=>{const p=j.current;if(!p)return;const b=p.getBoundingClientRect();M(b.width+d),v(void 0),D(!0)},[]),G=t.useCallback(d=>{const p=j.current;if(!p)return;const b=p.parentElement;if(!b)return;const B=b.getBoundingClientRect(),C=d*(B.width*.005),H=p.getBoundingClientRect();M(H.width+C),v(void 0)},[]),O=t.useCallback(()=>{j.current&&(M(void 0),D(!1))},[]),{moveableProps:y}=Me({onMove:F,onMoveEnd:O,onKeyMove:G}),W=t.useMemo(()=>({...y,onKeyDown:d=>{var p;if((p=y.onKeyDown)==null||p.call(y,d),!d.defaultPrevented)switch(d.key){case"Enter":h==null||h(),d.preventDefault();break;case"Home":v("smallest"),d.preventDefault();break;case"End":v("largest"),d.preventDefault();break}},"aria-valuenow":S===void 0?void 0:Math.floor(S),"aria-valuemin":m===void 0?void 0:Math.floor(m),"aria-valuemax":_===void 0?void 0:Math.floor(_),"aria-labelledby":c,"aria-label":c===void 0?"Resize panel":void 0,"data-resizing":w?"true":void 0}),[y,S,m,_,c,h,w]),$=t.useMemo(()=>({style:{WebkitUserSelect:R===void 0?void 0:"none"},id:l,ref:j}),[l,R]),K=m===void 0?void 0:`${m}px`,X=t.useMemo(()=>{if(R!==void 0&&i!==void 0&&u===void 0)return`min(${R}px, ${i.pct}%)`;if(S!==void 0)return`${S}px`},[i,R,S,u]);return{splitterProps:W,panelProps:$,panelMinSize:K,panelMaxSize:X}}function Me(a){const{onMove:o,onMoveEnd:i,onKeyMove:c}=a??{},h=t.useRef(null),l=t.useRef(void 0),j=t.useRef(void 0),g=t.useCallback(()=>{j.current!==void 0&&(j.current=void 0,i==null||i())},[i]);return{moveableProps:t.useMemo(()=>({onPointerDown:r=>{if(r.button!==0||r.ctrlKey)return;const f=h.current;if(!f)return;const u=f.getBoundingClientRect(),v=r.clientX-u.left;j.current=v,f.setPointerCapture(r.pointerId)},onPointerMove:r=>{const f=j.current;if(f===void 0)return;const u=h.current;if(!u)return;const v=u.getBoundingClientRect(),w=r.clientX-f-v.left;o==null||o(w)},onPointerUp:g,onPointerCancel:g,onKeyDown:r=>{if(!r.defaultPrevented)switch(r.key){case"ArrowLeft":c==null||c(-1),r.preventDefault();break;case"ArrowRight":c==null||c(1),r.preventDefault();break}},ref:r=>{var u;if(h.current=r,(u=l.current)==null||u.call(l),l.current=void 0,!r)return;const f=v=>{v.preventDefault()};r.addEventListener("touchstart",f),l.current=()=>{r.removeEventListener("touchstart",f)}}}),[c,o,g])}}function Be(){return e.jsxs(ne,{className:s.tree,children:[e.jsx(n,{content:"Guides",children:e.jsxs(n,{content:"Tree",children:[e.jsx(n,{content:"Guide 4"}),e.jsx(n,{content:"Guide 3"}),e.jsx(n,{content:"Guide 2"}),e.jsx(n,{content:"Guide 1"})]})}),e.jsxs(n,{content:"Other",children:[e.jsx(n,{content:"Object 2",children:e.jsx(n,{content:"Path 3"})}),e.jsx(n,{content:"Object 1"})]}),e.jsxs(n,{content:"Road",children:[e.jsx(n,{content:"Parking lot access"}),e.jsx(n,{content:"Site access"})]}),e.jsx(n,{content:"Parking lot",children:e.jsxs(n,{content:"Parking area",children:[e.jsx(n,{content:"Bay point 2"}),e.jsx(n,{content:"Bay point 1"}),e.jsx(n,{content:"Space point 1"}),e.jsx(n,{content:"Path 6"})]})}),e.jsx(n,{content:"Building",children:e.jsx(n,{content:"Building area",children:e.jsx(n,{content:"Path 5"})})}),e.jsx(n,{content:"Sewer",children:e.jsx(n,{content:"Run off pipe",children:e.jsx(n,{content:"Path 4"})})}),e.jsx(n,{content:"Project boundary",children:e.jsx(n,{content:"Property area",children:e.jsx(n,{content:"Path 1"})})}),e.jsx(n,{content:"Map",children:e.jsx(n,{content:"Location",children:e.jsx(n,{content:"Terrain"})})})]})}function Ce(a){return e.jsx(z,{...a,style:{marginBlock:-6,...a.style},variant:"ghost"})}function n(a){const o=t.Children.count(a.children)>0;return e.jsx(te,{content:e.jsxs(e.Fragment,{children:[o?e.jsx(Ce,{icon:oe,label:"Collapse",variant:"ghost"}):e.jsx("span",{style:{inlineSize:"1.5rem"}}),e.jsx(P,{href:I,style:{display:"inline"}}),e.jsx(re,{children:a.content})]}),expanded:o||void 0,children:a.children})}function ke(){const[a,o]=t.useState(!1),i=t.useRef(null),c=t.useRef(null),h=a?e.jsxs(e.Fragment,{children:[e.jsx(De,{}),e.jsx(z,{className:s.shiftIconRight,icon:ie,label:"Close",variant:"ghost",onClick:()=>{var l;N.flushSync(()=>o(!1)),(l=c.current)==null||l.focus()}})]}):e.jsx(z,{className:s.shiftIconRight,icon:T,label:"Search",variant:"ghost",onClick:()=>{var l;N.flushSync(()=>o(!0)),(l=i.current)==null||l.focus()}});return e.jsxs("div",{className:s.subheader,children:[e.jsx(le.h3,{id:A,className:s.subheaderTitle,tabIndex:-1,ref:c,render:a?e.jsx(L,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),a?e.jsxs(Y,{className:s.searchInput,children:[e.jsx(Z,{href:T}),e.jsx(ee,{placeholder:"Search",ref:i})]}):null,e.jsx("div",{className:s.subheaderActions,children:h})]})}function De(){return e.jsxs(V,{children:[e.jsx(q,{render:e.jsx(z,{icon:ae,label:"Filter",variant:"ghost"})}),e.jsxs(J,{style:{minInlineSize:164},children:[e.jsx(x,{children:"Show all"}),e.jsx(x,{children:"Guides"}),e.jsx(x,{children:"Other"}),e.jsx(x,{children:"Roadway"}),e.jsx(x,{children:"Parking"}),e.jsx(x,{children:"Building"}),e.jsx(x,{children:"Dry utility"}),e.jsx(x,{children:"Stormwater"}),e.jsx(x,{children:"Sewer"}),e.jsx(x,{children:"Boundary"}),e.jsx(x,{children:"Map"})]})]})}export{hn as default,pn as meta};
