/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/

.ğŸ¥-accordion-item {
	--ğŸ¥accordion-item-gap: 12px;
	--ğŸ¥accordion-item-padding: 12px;

	@layer base {
		contain: paint;
		display: grid;
		/* biome-ignore format: improve readability */
		grid-template-columns:
			[decoration-before-start] auto [decoration-before-end
			content-start] minmax(0, 1fr) [content-end
			decoration-after-start] auto [decoration-after-end];
		grid-template-rows: [trigger-start] auto [trigger-end content-start] auto [content-end];
		border-block-end: 1px solid var(--ids-color-border-neutral-muted);
		scrollbar-gutter: stable;
	}
}

.ğŸ¥-accordion-item-trigger {
	@layer base {
		grid-row: trigger;
		grid-column: decoration-before-start / decoration-after-end;

		display: grid;
		align-items: center;
		padding: var(--ğŸ¥accordion-item-padding);
		border-radius: 12px;
		--ğŸ¥focus-outline-offset: -4px;
		cursor: pointer;

		/* TODO: improve the layout for the fallback (i.e. content doesnâ€™t align with the label if thereâ€™s a decoration) */
		grid-template-columns: inherit;

		@supports (grid-template-columns: subgrid) {
			grid-template-columns: subgrid;
		}
	}

	@layer states {
		&:where([aria-expanded="true"]) {
			--ğŸ¥chevron-down-rotate: -0.5turn;
		}
	}
}

.ğŸ¥-accordion-item-marker {
	@layer base {
		grid-row: 1;
		grid-column: decoration-after;
		margin-inline-start: var(--ğŸ¥accordion-item-gap);
		/* TODO: We can only use GhostAligner to apply alignment to block or inline, so weâ€™re manually applying it here. */
		margin-inline-end: calc(-1 * var(--ğŸ¥ghost-inline-offset));
	}

	@layer states {
		@media (any-hover: hover) {
			:where(.ğŸ¥-accordion-item-trigger:hover) & {
				--ğŸŒ€button-state: var(--ğŸŒ€button-state--hover);
			}
		}
	}
}

.ğŸ¥-accordion-item-label:is(.ğŸ¥-text) {
	@layer base {
		grid-column: content;
		font-weight: 500;
		hyphens: auto;
		overflow-wrap: break-word;
		text-box: cap alphabetic;
	}
}

.ğŸ¥-accordion-item-content {
	@layer base {
		grid-row: content;
		grid-column: content;
		padding-block-end: var(--ğŸ¥accordion-item-padding);
		text-box: cap alphabetic;
		color: var(--ids-color-text-neutral-secondary);
	}
}

.ğŸ¥-accordion-item-decoration {
	@layer base {
		grid-column: decoration-before;
		margin-inline-end: var(--ğŸ¥accordion-item-gap);
	}
}
