import{w as Z}from"./~utils-BuKH_XhK.js";import{a as t,n as e,t as ee}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{a as B}from"./index-Dr3kRIaJ.js";import{B as ne}from"./Button-GPjBmsog.js";import{D as L,a as X,b as O,c as u}from"./DropdownMenu-hmMTk52W.js";import{I as P}from"./Icon-C4TuYIIj.js";import{I as v}from"./IconButton-V0YnCOqx.js";import{S as te,H as se}from"./Select-BLvBJpat.js";import{T as ae,a as D,b as le,c as z}from"./Tabs-CqGVjk5X.js";import{T as G}from"./Text-BIOJgVYR.js";import{T as re,a as ie,b as oe}from"./TextBox-B43kyoRU.js";import{T as ce,a as de}from"./Tree-Wyo2VqYI.js";import{p as y}from"./placeholder-DUztH1Y9.js";import{p as ue,l as he,d as xe,h as pe,m as fe,s as E,a as me,f as je}from"./state-inherited-dot-DUzSK3GJ.js";import{s as be}from"./visibility-show-D95x2L7g.js";import"./index-jyeBNHV5.js";import"./KUU7WJ55-CvL3dvMd.js";import"./LVA2YJMS-BcAd7OG7.js";import"./XL7CSKGW-Cbj4nsUL.js";import"./Kbd-w5YbJL_k.js";import"./VisuallyHidden-mupLk8qe.js";import"./P2CTZE2T-DBUuQwha.js";import"./YV4JVR4I-xwnP9gdF.js";import"./BYC7LY2E-fXc0Nxg4.js";import"./VGCJ63VH-BZvA6HvM.js";import"./MTZPJQMC-Bx6N7KMg.js";import"./VEVQD5MH-DWJQZISf.js";import"./ITI7HKP4-CcxlWYYM.js";import"./P4IRICAX-DiAwIydK.js";import"./ASMQKSDT-B4DAV8zs.js";import"./Tooltip-DXd-YglS.js";import"./Field-CakA-67p.js";import"./~hooks-CeXQBooN.js";import"./ListItem-DeA1AzYL.js";const ge="_appLayout_w4nag_5",Ce="_header_w4nag_22",_e="_platformBar_w4nag_32",Se="_logo_w4nag_38",ve="_tools_w4nag_48",Ae="_leftPanel_w4nag_58",Pe="_panelHeader_w4nag_70",we="_panelTitleWrapper_w4nag_78",Ie="_panelTitle_w4nag_78",ye="_panelCaption_w4nag_89",Me="_shiftIconRight_w4nag_93",Re="_subheader_w4nag_97",Ne="_subheaderTitle_w4nag_108",Te="_searchInput_w4nag_113",Be="_subheaderActions_w4nag_117",De="_tabList_w4nag_121",ze="_emptyState_w4nag_126",Ee="_canvasWrapper_w4nag_135",ke="_canvas_w4nag_135",Ke="_splitter_w4nag_172",Le="_tabPanel_w4nag_214",Xe="_tree_w4nag_220",Oe="_action_w4nag_224",Ge="_actionIcon_w4nag_230",He="_slider_w4nag_241",r={appLayout:ge,header:Ce,platformBar:_e,logo:Se,tools:ve,leftPanel:Ae,panelHeader:Pe,panelTitleWrapper:we,panelTitle:Ie,panelCaption:ye,shiftIconRight:Me,subheader:Re,subheaderTitle:Ne,searchInput:Te,subheaderActions:Be,tabList:De,emptyState:ze,canvasWrapper:Ee,canvas:ke,splitter:Ke,tabPanel:Le,tree:Xe,action:Oe,actionIcon:Ge,slider:He},H="Kiwi sandbox",En=()=>[{title:H}],kn=Z(function(){const s=Object.fromEntries(Array(5).fill(null).map((d,l)=>[`epoch-${l}`,{name:`Epoch System iModel ${l+1}`,isEmpty:l%2===1}])),[a,i]=t.useState(Object.keys(s)[0]);return e.jsxs(We,{panelContent:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:r.panelHeader,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx(te,{className:r.panelTitleWrapper,children:e.jsx(se,{variant:"ghost",className:r.panelTitle,value:a,onChange:d=>i(d.target.value),"aria-label":"Model",children:Object.entries(s).map(([d,l])=>e.jsx("option",{value:d,children:l.name},d))})}),e.jsx("p",{className:r.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:r.actions,children:e.jsx(v,{className:r.shiftIconRight,icon:ue,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsxs(ae,{children:[e.jsx(Ze,{}),e.jsx(D,{tabId:"simple",className:r.tabPanel,focusable:!1,children:e.jsx(k,{tree:s[a].isEmpty?"empty":"simple"})}),e.jsx(D,{tabId:"complex",className:r.tabPanel,focusable:!1,children:e.jsx(k,{tree:s[a].isEmpty?"empty":"complex"})})]})]}),children:[e.jsxs("header",{className:r.header,children:[e.jsx("div",{className:r.logo,children:e.jsx(P,{href:y,size:"large"})}),e.jsx(G,{render:d=>e.jsx("h1",{...d}),variant:"body-md",children:H})]}),e.jsx("div",{className:r.platformBar,children:e.jsxs("div",{className:r.tools,children:[e.jsx(P,{href:y,size:"large"}),e.jsx(P,{href:y,size:"large"}),e.jsx(P,{href:y,size:"large"})]})}),e.jsx("div",{className:r.canvasWrapper,children:e.jsx("div",{className:r.canvas})})]})});function We(o){const{sliderProps:s,panelProps:a,panelMinSize:i,panelMaxSize:d,resizing:l}=Ue({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs("div",{className:r.appLayout,style:{"--_panel-min-size":i,"--_panel-max-size":d},children:[e.jsx("div",{...a,className:r.leftPanel,style:{position:"relative",...a.style},children:o.panelContent}),e.jsx("div",{className:r.splitter,"data-resizing":l?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:r.slider,...s})}),o.children]})}function Fe({children:o}){return e.jsx("div",{className:r.emptyState,children:o})}function $e(o,s,a){return Math.min(Math.max(o,s),a)}function Ue(o){const{minSize:s,maxSize:a,onCollapse:i}=o,d=t.useId(),l=t.useRef(null),[j,p]=t.useState(void 0),[f,c]=t.useState(void 0),[h,b]=t.useState(void 0),[C,M]=t.useState(!1),[w,R]=t.useState(void 0),g=t.useMemo(()=>{if(s&&f)return Math.min(s.px,s.pct/100*f)},[s,f]),S=t.useMemo(()=>{if(g&&a&&f)return Math.max(g,a.pct/100*f)},[a,f,g]),A=t.useMemo(()=>{if(h==="smallest")return g??0;if(h==="largest")return S??0;if(j&&g&&S)return $e(j,g,S)},[j,g,S,h]);t.useEffect(()=>{const x=l.current;if(!x)return;const m=x.parentElement;if(!m)return;const _=new ResizeObserver(()=>{const N=m.getBoundingClientRect(),T=x.getBoundingClientRect();c(N.width),p(T.width)});return _.observe(m),_.observe(x),()=>{_.disconnect()}},[]);const F=t.useCallback(x=>{const m=l.current;if(!m)return;const _=m.getBoundingClientRect();R(_.width+x),b(void 0),M(!0)},[]),$=t.useCallback(x=>{const m=l.current;if(!m)return;const _=m.parentElement;if(!_)return;const N=_.getBoundingClientRect(),T=x*(N.width*.005),Y=m.getBoundingClientRect();R(Y.width+T),b(void 0)},[]),U=t.useCallback(()=>{l.current&&(R(void 0),M(!1))},[]),{moveableProps:I}=Ve({onMove:F,onMoveEnd:U,onKeyMove:$}),V=t.useMemo(()=>({...I,onKeyDown:x=>{var m;if((m=I.onKeyDown)==null||m.call(I,x),!x.defaultPrevented)switch(x.key){case"Enter":x.preventDefault(),i==null||i();break;case"Home":x.preventDefault(),b("smallest");break;case"End":x.preventDefault(),b("largest");break}},onChange:x=>{if(C)return;const m=Number(x.target.value);R(m)},value:A===void 0?0:Math.floor(A),min:g===void 0?void 0:Math.floor(g),max:S===void 0?void 0:Math.floor(S)}),[I,A,g,S,i,C]),q=t.useMemo(()=>({style:{WebkitUserSelect:w===void 0?void 0:"none"},id:d,ref:l}),[d,w]),J=g===void 0?void 0:`${Math.floor(g)}px`,Q=t.useMemo(()=>{if(w!==void 0&&a!==void 0&&h===void 0)return`min(${Math.floor(w)}px, ${a.pct}%)`;if(A!==void 0)return`${Math.floor(A)}px`},[a,w,A,h]);return{sliderProps:V,panelProps:q,panelMinSize:J,panelMaxSize:Q,resizing:C}}function Ve(o){const{onMove:s,onMoveEnd:a,onKeyMove:i}=o,d=t.useRef(null),l=t.useRef(void 0),j=t.useRef(void 0),p=t.useCallback(()=>{j.current!==void 0&&(j.current=void 0,a==null||a())},[a]);return{moveableProps:t.useMemo(()=>({onPointerDown:c=>{if(c.button!==0||c.ctrlKey)return;const h=d.current;if(!h)return;const b=h.getBoundingClientRect(),C=c.clientX-b.left;j.current=C,c.preventDefault(),h.setPointerCapture(c.pointerId)},onPointerMove:c=>{const h=j.current;if(h===void 0)return;const b=d.current;if(!b)return;const C=b.getBoundingClientRect(),M=c.clientX-h-C.left;c.preventDefault(),s==null||s(M)},onPointerUp:p,onPointerCancel:p,onKeyDown:c=>{if(!c.defaultPrevented)switch(c.key){case"ArrowLeft":c.preventDefault(),i==null||i(-1);break;case"ArrowRight":c.preventDefault(),i==null||i(1);break}},ref:c=>{var b;if(d.current=c,(b=l.current)==null||b.call(l),l.current=void 0,!c)return;const h=C=>{C.preventDefault()};c.addEventListener("touchstart",h),l.current=()=>{c.removeEventListener("touchstart",h)}}}),[i,s,p])}}const W=t.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function k({tree:o}){const[s]=ee(),a=s.get("tree"),[i,d]=t.useState(),[l,j]=t.useState([]),p=t.useCallback(f=>{j(c=>c.includes(f)?c.filter(h=>h!==f):[...c,f])},[]);return a==="empty"?e.jsxs(Fe,{children:[e.jsx(G,{children:"No layers"}),e.jsx(ne,{children:"Create a layer"})]}):e.jsx(W.Provider,{value:t.useMemo(()=>({selected:i,setSelected:d,hidden:l,toggleHidden:p}),[l,i,p]),children:e.jsx(ce,{className:r.tree,children:e.jsx(qe,{tree:o})})})}function qe({tree:o}){switch(o){case"complex":return e.jsx(Qe,{});case"simple":return e.jsx(Je,{});default:return null}}function Je(){return e.jsxs(e.Fragment,{children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1"})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1"})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access"})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})}function Qe(){return e.jsxs(e.Fragment,{children:[e.jsxs(n,{label:"ITC_Master",children:[e.jsx(n,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(n,{label:"002_Substation_A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(n,{label:"007-aa_master.dgn",children:[e.jsx(n,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(n,{label:"A-CLNG-LITE-A"})}),e.jsx(n,{label:"A-CLNG-TILE",children:e.jsxs(n,{label:"A-DOOR-2D-PLAN",children:[e.jsx(n,{label:"P00003 [2-KA62]",children:e.jsx(n,{label:"Cell [2-KA63]",children:e.jsxs(n,{label:"Cell [2-KA64]",children:[e.jsx(n,{label:"Complex Chain [2-KA6A]"}),e.jsx(n,{label:"Complex Chain [2-KA6B]"}),e.jsx(n,{label:"Complex Chain [2-KA6C]"}),e.jsx(n,{label:"Complex Chain [2-KA6D]"}),e.jsx(n,{label:"Complex Chain [2-KA6E]"}),e.jsx(n,{label:"Complex Chain [2-KA6F]"}),e.jsx(n,{label:"Complex Chain [2-KA6G]"}),e.jsx(n,{label:"Complex Chain [2-KA6H]"}),e.jsx(n,{label:"Complex Chain [2-KA61]"}),e.jsx(n,{label:"Complex Chain [2-KA65]"}),e.jsx(n,{label:"Complex Chain [2-KA66]"}),e.jsx(n,{label:"Complex Chain [2-KA67]"}),e.jsx(n,{label:"Complex Chain [2-KA68]"}),e.jsx(n,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(n,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA98-A]"})}),e.jsx(n,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(n,{label:"ITC_Main"})]})}const K=t.createContext({selected:!1,hidden:!1});function n(o){const s=t.useContext(W),a=t.useContext(K),i=t.useId(),[d,l]=t.useState(o.defaultCollapsed===void 0?!0:!o.defaultCollapsed),j=t.Children.count(o.children)>0,p=t.useMemo(()=>a.hidden?!0:s.hidden.includes(i),[i,s.hidden,a.hidden]),f=a.selected||i===s.selected,c=t.useCallback(h=>{s.setSelected(h?i:void 0)},[i,s]);return e.jsx(K.Provider,{value:t.useMemo(()=>({selected:f,hidden:p}),[p,f]),children:e.jsx(de,{expanded:j?d:void 0,onExpandedChange:l,selected:f,onSelectedChange:c,icon:e.jsx(P,{href:y,style:{display:"inline"}}),label:o.label,actions:e.jsxs(e.Fragment,{children:[e.jsx(v,{className:r.action,icon:he,label:"Lock",variant:"ghost","aria-hidden":p}),a.hidden?e.jsx("span",{className:r.actionIcon,children:e.jsx(P,{href:xe})}):e.jsx(v,{className:r.action,icon:p?pe:be,label:p?"Show":"Hide",variant:"ghost",onClick:()=>{s.toggleHidden(i)}}),e.jsx(Ye,{hidden:p})]}),children:d?o.children:void 0})})}function Ye({hidden:o}){return e.jsxs(L,{children:[e.jsx(X,{className:r.action,"aria-hidden":o,render:e.jsx(v,{icon:fe,label:"More",variant:"ghost"})}),e.jsxs(O,{style:{minInlineSize:164},children:[e.jsx(u,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(u,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(u,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(u,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(u,{shortcuts:"]",children:"Bring to front"}),e.jsx(u,{shortcuts:"[",children:"Send to back"}),e.jsx(u,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(u,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(u,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(u,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(u,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(u,{shortcuts:"I",children:"Isolate object"})]})]})}function Ze(){const[o,s]=t.useState(!1),a=t.useRef(null),i=t.useRef(null),d=o?e.jsxs(e.Fragment,{children:[e.jsx(en,{}),e.jsx(v,{className:r.shiftIconRight,icon:me,label:"Close",variant:"ghost",onClick:()=>{var l;B.flushSync(()=>s(!1)),(l=i.current)==null||l.focus()}})]}):e.jsx(v,{className:r.shiftIconRight,icon:E,label:"Search",variant:"ghost",onClick:()=>{var l;B.flushSync(()=>s(!0)),(l=a.current)==null||l.focus()}});return e.jsxs("div",{className:r.subheader,children:[o?void 0:e.jsxs(le,{className:r.tabList,tone:"accent",ref:i,children:[e.jsx(z,{id:"simple",children:"Simple"}),e.jsx(z,{id:"complex",children:"Complex"})]}),o?e.jsxs(re,{className:r.searchInput,children:[e.jsx(ie,{href:E}),e.jsx(oe,{placeholder:"Search",ref:a})]}):null,e.jsx("div",{className:r.subheaderActions,children:d})]})}function en(){return e.jsxs(L,{children:[e.jsx(X,{render:e.jsx(v,{icon:je,label:"Filter",variant:"ghost"})}),e.jsxs(O,{style:{minInlineSize:164},children:[e.jsx(u,{children:"Show all"}),e.jsx(u,{children:"Guides"}),e.jsx(u,{children:"Other"}),e.jsx(u,{children:"Roadway"}),e.jsx(u,{children:"Parking"}),e.jsx(u,{children:"Building"}),e.jsx(u,{children:"Dry utility"}),e.jsx(u,{children:"Stormwater"}),e.jsx(u,{children:"Sewer"}),e.jsx(u,{children:"Boundary"}),e.jsx(u,{children:"Map"})]})]})}export{kn as default,En as meta};
