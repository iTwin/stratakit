import{w as H}from"./LMDWO4NN-AdQVI40z.js";import{n as e,a as t}from"./chunk-D52XG6IA-BPj3SxYk.js";import{a as B}from"./index-Dh4JygWN.js";import{D as U,a as q,b as J,c as b}from"./DropdownMenu-D6iW12lq.js";import{D as Q}from"./Divider-CMpo5Zhs.js";import{I as C}from"./Icon-DRPsd_jo.js";import{I as R}from"./IconButton-DcEbyEuY.js";import{T as Y,a as Z,b as ee}from"./TextBox-b79ZpE4X.js";import{V as E}from"./VisuallyHidden-lfLZ5qm_.js";import{T as te,a as ne,b as re,c as se}from"./Tree-BUpZC6ku.js";import{p as I}from"./placeholder-ByhhEg5M.js";import{p as ie,l as ae,s as oe,a as D,d as le,f as ce}from"./visibility-show-dIjr--SP.js";import{R as de}from"./XL7CSKGW-DDU26wbd.js";import"./index-LDMScfjX.js";import"./Button-B0xhYNln.js";import"./KUU7WJ55-t09PjvBK.js";import"./LVA2YJMS-CkBCxIVR.js";import"./~utils-YFcEjjdk.js";import"./P2CTZE2T-BT-mtSx2.js";import"./YV4JVR4I-7LgjLGcz.js";import"./BYC7LY2E-9GYEBff6.js";import"./VGCJ63VH-DjYMlTD4.js";import"./XX67R432-Cv_HVTJr.js";import"./MTZPJQMC-BeFKSML9.js";import"./ITI7HKP4-CKgdTtAx.js";import"./P4IRICAX-v-6bqxP5.js";import"./Tooltip-DDwD56QE.js";import"./Field-CTkCeEwQ.js";import"./~hooks-KbN8yI3B.js";import"./Icon-TLEIVBJG.js";const ue="_appLayout_1xb0k_5",xe="_platformBar_1xb0k_14",he="_logo_1xb0k_19",pe="_tools_1xb0k_29",me="_leftPanel_1xb0k_39",fe="_header_1xb0k_50",be="_panelTitle_1xb0k_58",ve="_panelCaption_1xb0k_64",je="_shiftIconRight_1xb0k_68",ge="_subheader_1xb0k_72",_e="_subheaderTitle_1xb0k_82",Se="_searchInput_1xb0k_87",ke="_subheaderActions_1xb0k_91",Re="_tree_1xb0k_95",ye="_canvasWrapper_1xb0k_103",Pe="_canvas_1xb0k_103",Ce="_splitter_1xb0k_125",Ie="_action_1xb0k_156",ze="_slider_1xb0k_162",r={appLayout:ue,platformBar:xe,logo:he,tools:pe,leftPanel:me,header:fe,panelTitle:be,panelCaption:ve,shiftIconRight:je,subheader:ge,subheaderTitle:_e,searchInput:Se,subheaderActions:ke,tree:Re,canvasWrapper:ye,canvas:Pe,splitter:Ce,action:Ie,slider:ze},A="Kiwi sandbox",xt=()=>[{title:A}],ht=H(function(){const{sliderProps:a,panelProps:i,panelMinSize:c,panelMaxSize:h,resizing:o}=Me({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(E,{render:p=>e.jsx("h1",{...p}),children:A}),e.jsxs("div",{className:r.appLayout,style:{"--_panel-min-size":c,"--_panel-max-size":h},children:[e.jsxs("div",{className:r.platformBar,children:[e.jsx("div",{className:r.logo,children:e.jsx(C,{href:I,size:"large"})}),e.jsxs("div",{className:r.tools,children:[e.jsx(C,{href:I,size:"large"}),e.jsx(C,{href:I,size:"large"}),e.jsx(C,{href:I,size:"large"})]})]}),e.jsxs("div",{...i,className:r.leftPanel,style:{position:"relative",...i.style},children:[e.jsxs("div",{className:r.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:r.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:r.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:r.actions,children:e.jsx(R,{className:r.shiftIconRight,icon:ie,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(De,{}),e.jsx(Be,{}),e.jsx(Q,{presentational:!0,className:r.splitter,"data-resizing":o?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:r.slider,...a})})]}),e.jsx("div",{className:r.canvasWrapper,children:e.jsx("div",{className:r.canvas})})]})]})});function we(s,a,i){return Math.min(Math.max(s,a),i)}function Me(s){const{minSize:a,maxSize:i,onCollapse:c}=s??{},h=t.useId(),o=t.useRef(null),[p,v]=t.useState(void 0),[j,l]=t.useState(void 0),[u,m]=t.useState(void 0),[g,z]=t.useState(!1),[y,w]=t.useState(void 0),f=t.useMemo(()=>{if(a&&j)return Math.min(a.px,a.pct/100*j)},[a,j]),S=t.useMemo(()=>{if(f&&i&&j)return Math.max(f,i.pct/100*j)},[i,j,f]),k=t.useMemo(()=>{if(u==="smallest")return f??0;if(u==="largest")return S??0;if(p&&f&&S)return we(p,f,S)},[p,f,S,u]);t.useEffect(()=>{const d=o.current;if(!d)return;const x=d.parentElement;if(!x)return;const _=new ResizeObserver(()=>{const M=x.getBoundingClientRect(),N=d.getBoundingClientRect();l(M.width),v(N.width)});return _.observe(x),_.observe(d),()=>{_.disconnect()}},[]);const G=t.useCallback(d=>{const x=o.current;if(!x)return;const _=x.getBoundingClientRect();w(_.width+d),m(void 0),z(!0)},[]),O=t.useCallback(d=>{const x=o.current;if(!x)return;const _=x.parentElement;if(!_)return;const M=_.getBoundingClientRect(),N=d*(M.width*.005),X=x.getBoundingClientRect();w(X.width+N),m(void 0)},[]),W=t.useCallback(()=>{o.current&&(w(void 0),z(!1))},[]),{moveableProps:P}=Ne({onMove:G,onMoveEnd:W,onKeyMove:O}),$=t.useMemo(()=>({...P,onKeyDown:d=>{var x;if((x=P.onKeyDown)==null||x.call(P,d),!d.defaultPrevented)switch(d.key){case"Enter":d.preventDefault(),c==null||c();break;case"Home":d.preventDefault(),m("smallest");break;case"End":d.preventDefault(),m("largest");break}},onChange:d=>{if(g)return;const x=Number(d.target.value);w(x)},value:k===void 0?0:Math.floor(k),min:f===void 0?void 0:Math.floor(f),max:S===void 0?void 0:Math.floor(S)}),[P,k,f,S,c,g]),F=t.useMemo(()=>({style:{WebkitUserSelect:y===void 0?void 0:"none"},id:h,ref:o}),[h,y]),K=f===void 0?void 0:`${f}px`,V=t.useMemo(()=>{if(y!==void 0&&i!==void 0&&u===void 0)return`min(${y}px, ${i.pct}%)`;if(k!==void 0)return`${k}px`},[i,y,k,u]);return{sliderProps:$,panelProps:F,panelMinSize:K,panelMaxSize:V,resizing:g}}function Ne(s){const{onMove:a,onMoveEnd:i,onKeyMove:c}=s??{},h=t.useRef(null),o=t.useRef(void 0),p=t.useRef(void 0),v=t.useCallback(()=>{p.current!==void 0&&(p.current=void 0,i==null||i())},[i]);return{moveableProps:t.useMemo(()=>({onPointerDown:l=>{if(l.button!==0||l.ctrlKey)return;const u=h.current;if(!u)return;const m=u.getBoundingClientRect(),g=l.clientX-m.left;p.current=g,l.preventDefault(),u.setPointerCapture(l.pointerId)},onPointerMove:l=>{const u=p.current;if(u===void 0)return;const m=h.current;if(!m)return;const g=m.getBoundingClientRect(),z=l.clientX-u-g.left;l.preventDefault(),a==null||a(z)},onPointerUp:v,onPointerCancel:v,onKeyDown:l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowLeft":l.preventDefault(),c==null||c(-1);break;case"ArrowRight":l.preventDefault(),c==null||c(1);break}},ref:l=>{var m;if(h.current=l,(m=o.current)==null||m.call(o),o.current=void 0,!l)return;const u=g=>{g.preventDefault()};l.addEventListener("touchstart",u),o.current=()=>{l.removeEventListener("touchstart",u)}}}),[c,a,v])}}const L=t.createContext({selected:void 0,setSelected:()=>{}});function Be(){const[s,a]=t.useState();return e.jsx(L.Provider,{value:{selected:s,setSelected:a},children:e.jsxs(te,{className:r.tree,children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1",lockAction:!0})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1",visibilityAction:!0})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access",lockAction:!0,visibilityAction:!0})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})})}const T=t.createContext({selected:!1});function n(s){const a=t.Children.count(s.children)>0,[i,c]=t.useState(!0),h=t.useContext(L),p=t.useContext(T).selected||!!s.label&&s.label===h.selected;return e.jsx(T.Provider,{value:{selected:p},children:e.jsx(ne,{content:e.jsxs(e.Fragment,{children:[e.jsx(re,{onClick:v=>{c(j=>!j),v.stopPropagation()}}),e.jsx(C,{href:I,style:{display:"inline"}}),e.jsx(se,{children:s.label}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(R,{className:r.action,icon:ae,label:"Lock",variant:"ghost","aria-hidden":!s.lockAction}),e.jsx(R,{className:r.action,icon:oe,label:"Show",variant:"ghost","aria-hidden":!s.visibilityAction})]})]}),expanded:a?i:void 0,selected:p,onClick:()=>{h.setSelected(v=>{if(v!==s.label)return s.label})},children:i?s.children:void 0})})}function De(){const[s,a]=t.useState(!1),i=t.useRef(null),c=t.useRef(null),h=s?e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsx(R,{className:r.shiftIconRight,icon:le,label:"Close",variant:"ghost",onClick:()=>{var o;B.flushSync(()=>a(!1)),(o=c.current)==null||o.focus()}})]}):e.jsx(R,{className:r.shiftIconRight,icon:D,label:"Search",variant:"ghost",onClick:()=>{var o;B.flushSync(()=>a(!0)),(o=i.current)==null||o.focus()}});return e.jsxs("div",{className:r.subheader,children:[e.jsx(de.h3,{className:r.subheaderTitle,tabIndex:-1,ref:c,render:s?e.jsx(E,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),s?e.jsxs(Y,{className:r.searchInput,children:[e.jsx(Z,{href:D}),e.jsx(ee,{placeholder:"Search",ref:i})]}):null,e.jsx("div",{className:r.subheaderActions,children:h})]})}function Te(){return e.jsxs(U,{children:[e.jsx(q,{render:e.jsx(R,{icon:ce,label:"Filter",variant:"ghost"})}),e.jsxs(J,{style:{minInlineSize:164},children:[e.jsx(b,{children:"Show all"}),e.jsx(b,{children:"Guides"}),e.jsx(b,{children:"Other"}),e.jsx(b,{children:"Roadway"}),e.jsx(b,{children:"Parking"}),e.jsx(b,{children:"Building"}),e.jsx(b,{children:"Dry utility"}),e.jsx(b,{children:"Stormwater"}),e.jsx(b,{children:"Sewer"}),e.jsx(b,{children:"Boundary"}),e.jsx(b,{children:"Map"})]})]})}export{ht as default,xt as meta};
