import{w as U}from"./with-props-XFbs5UV3.js";import{l as e,r as s}from"./chunk-7R3XDUXW-DxTo8O6G.js";import{r as D}from"./index-CpodmKhz.js";import{D as X,a as H,b as q,c as m}from"./DropdownMenu-eMW5zztH.js";import{D as J}from"./Divider-Fk3IPNVU.js";import{I as P}from"./Icon-DEYvwDNQ.js";import{I as g}from"./IconButton-Cl-vrbfR.js";import{T as Q,a as Y,b as Z}from"./TextBox-DM4q9mXB.js";import{T as ee,a as te,b as ne,c as se}from"./Tree-DgBWqEkf.js";import{V as L}from"./VisuallyHidden-DpR5ZIYl.js";import{p as w}from"./placeholder-DeFGWrFQ.js";import{p as re,l as oe,s as ie,a as A,d as ae,f as ce}from"./visibility-show-DApvu9tc.js";import{F as le}from"./LVA2YJMS-DJV8VtX8.js";import{R as de}from"./XL7CSKGW-dh1dRh0h.js";import"./index-6yh6O1FZ.js";import"./ListItem-BRV-r4_W.js";import"./Button-Dw5k1uNt.js";import"./KUU7WJ55-55_Apuy6.js";import"./LMDWO4NN-DZi_YyQu.js";import"./~utils-YFcEjjdk.js";import"./P2CTZE2T-D3bU2ZSB.js";import"./YV4JVR4I-IQnN8q1u.js";import"./BYC7LY2E-BkUN-JnQ.js";import"./VGCJ63VH-DCGxV_XM.js";import"./XX67R432-CnBfjeG9.js";import"./MTZPJQMC-BlK_aww9.js";import"./ITI7HKP4-DXjMEB6-.js";import"./P4IRICAX-BfOnAF6k.js";import"./Tooltip-D8McOP2g.js";import"./Field-DTbqARiF.js";import"./~hooks-CW6k0nNz.js";const ue="_appLayout_1sd03_5",he="_platformBar_1sd03_14",pe="_logo_1sd03_19",xe="_tools_1sd03_29",me="_leftPanel_1sd03_39",fe="_header_1sd03_49",je="_panelTitle_1sd03_57",ve="_panelCaption_1sd03_63",be="_shiftIconRight_1sd03_67",_e="_subheader_1sd03_71",ge="_subheaderTitle_1sd03_81",Se="_searchInput_1sd03_86",ye="_subheaderActions_1sd03_90",Re="_tree_1sd03_94",Ie="_canvasWrapper_1sd03_102",Pe="_canvas_1sd03_102",we="_splitter_1sd03_124",ke="_action_1sd03_150",o={appLayout:ue,platformBar:he,logo:pe,tools:xe,leftPanel:me,header:fe,panelTitle:je,panelCaption:ve,shiftIconRight:be,subheader:_e,subheaderTitle:ge,searchInput:Se,subheaderActions:ye,tree:Re,canvasWrapper:Ie,canvas:Pe,splitter:we,action:ke},E="Kiwi sandbox",ut=()=>[{title:E},{name:"color-scheme",content:"dark"}],F="left-panel",ht=U(function(){const{splitterProps:i,panelProps:r,panelMinSize:a,panelMaxSize:d}=ze({minSize:{px:256,pct:20},maxSize:{pct:30},labelledby:F});return e.jsxs(e.Fragment,{children:[e.jsx(L,{render:c=>e.jsx("h1",{...c}),children:E}),e.jsxs("div",{className:o.appLayout,style:{"--_panel-min-size":a,"--_panel-max-size":d},children:[e.jsxs("div",{className:o.platformBar,children:[e.jsx("div",{className:o.logo,children:e.jsx(P,{href:w,size:"large"})}),e.jsxs("div",{className:o.tools,children:[e.jsx(P,{href:w,size:"large"}),e.jsx(P,{href:w,size:"large"}),e.jsx(P,{href:w,size:"large"})]})]}),e.jsxs("div",{...r,className:o.leftPanel,style:{position:"relative",...r.style},children:[e.jsxs("div",{className:o.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:o.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:o.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:o.actions,children:e.jsx(g,{className:o.shiftIconRight,icon:re,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Me,{}),e.jsx(Be,{}),e.jsx(J,{className:o.splitter,render:e.jsx(le,{}),...i})]}),e.jsx("div",{className:o.canvasWrapper,children:e.jsx("div",{className:o.canvas})})]})]})});function M(l,i,r){return Math.min(Math.max(l,i),r)}function ze(l){const{minSize:i,maxSize:r,labelledby:a,onCollapse:d}=l??{},c=s.useId(),f=s.useRef(null),[_,N]=s.useState(void 0),[n,p]=s.useState(void 0),[x,j]=s.useState(void 0),[v,T]=s.useState(void 0),k=s.useMemo(()=>{if(i&&n)return Math.min(i.px,i.pct/100*n)},[i,n]),S=s.useMemo(()=>{if(k!==void 0&&n)return M(k/n*100,0,100)},[k,n]),y=s.useMemo(()=>{if(r&&n)return M(r.pct,0,100)},[r,n]),R=s.useMemo(()=>{if(x==="smallest")return S??0;if(x==="largest")return y??0;if(_&&n)return M(_/n*100,S??0,y??0)},[_,n,S,y,x]);s.useEffect(()=>{const u=f.current;if(!u)return;const h=u.parentElement;if(!h)return;const b=new ResizeObserver(()=>{const C=h.getBoundingClientRect(),B=u.getBoundingClientRect();p(C.width),N(B.width)});return b.observe(h),b.observe(u),()=>{b.disconnect()}},[]);const z=s.useCallback(u=>{const h=f.current;if(!h)return;const b=h.getBoundingClientRect();T(b.width+u),j(void 0)},[]),G=s.useCallback(u=>{const h=f.current;if(!h)return;const b=h.parentElement;if(!b)return;const C=b.getBoundingClientRect(),B=u*(C.width*.005);z(B)},[z]),O=s.useCallback(()=>{f.current&&T(void 0)},[]),{moveableProps:I}=Ce({onMove:z,onMoveEnd:O,onKeyMove:G}),W=s.useMemo(()=>({...I,onKeyDown:u=>{var h;switch((h=I.onKeyDown)==null||h.call(I,u),u.key){case"Enter":d==null||d();break;case"Home":j("smallest");break;case"End":j("largest");break}},"aria-orientation":"vertical","aria-valuenow":R,"aria-valuemin":S,"aria-valuemax":y,"aria-controls":c,"aria-labelledby":a,"aria-label":a===void 0?"Resize panel":void 0,"data-resizing":v===void 0?void 0:"true"}),[I,R,S,y,c,a,d,v]),$=s.useMemo(()=>({style:{WebkitUserSelect:v===void 0?void 0:"none"},id:c,ref:f}),[c,v]),K=i===void 0?void 0:`${k}px`,V=s.useMemo(()=>v!==void 0&&r!==void 0?`min(${v}px, ${r.pct}%)`:R===void 0?void 0:`${R}%`,[r,v,R]);return{splitterProps:W,panelProps:$,panelMinSize:K,panelMaxSize:V}}function Ce(l){const{onMove:i,onMoveEnd:r,onKeyMove:a}=l??{},d=s.useRef(null),c=s.useRef(void 0),f=s.useRef(void 0),_=s.useCallback(()=>{f.current!==void 0&&(f.current=void 0,r==null||r())},[r]);return{moveableProps:s.useMemo(()=>({onPointerDown:n=>{if(n.button!==0||n.ctrlKey)return;const p=d.current;if(!p)return;const x=p.getBoundingClientRect(),j=n.clientX-x.left;f.current=j,p.setPointerCapture(n.pointerId)},onPointerMove:n=>{const p=f.current;if(p===void 0)return;const x=d.current;if(!x)return;const j=x.getBoundingClientRect(),v=n.clientX-p-j.left;i==null||i(v)},onPointerUp:_,onPointerCancel:_,onKeyDown:n=>{switch(n.key){case"ArrowLeft":a==null||a(-1);break;case"ArrowRight":a==null||a(1);break}},onKeyUp:n=>{switch(n.key){case"ArrowLeft":case"ArrowRight":r==null||r();break}},ref:n=>{var x;if(d.current=n,(x=c.current)==null||x.call(c),c.current=void 0,!n)return;const p=j=>{j.preventDefault()};n.addEventListener("touchstart",p),c.current=()=>{n.removeEventListener("touchstart",p)}}}),[a,r,i,_])}}function Be(){return e.jsxs(ee,{className:o.tree,children:[e.jsx(t,{content:"Guides",children:e.jsxs(t,{content:"Tree",children:[e.jsx(t,{content:"Guide 4"}),e.jsx(t,{content:"Guide 3"}),e.jsx(t,{content:"Guide 2"}),e.jsx(t,{content:"Guide 1",lockAction:!0})]})}),e.jsxs(t,{content:"Other",children:[e.jsx(t,{content:"Object 2",children:e.jsx(t,{content:"Path 3"})}),e.jsx(t,{content:"Object 1",visibilityAction:!0})]}),e.jsxs(t,{content:"Road",children:[e.jsx(t,{content:"Parking lot access"}),e.jsx(t,{content:"Site access",lockAction:!0,visibilityAction:!0})]}),e.jsx(t,{content:"Parking lot",children:e.jsxs(t,{content:"Parking area",children:[e.jsx(t,{content:"Bay point 2"}),e.jsx(t,{content:"Bay point 1"}),e.jsx(t,{content:"Space point 1"}),e.jsx(t,{content:"Path 6"})]})}),e.jsx(t,{content:"Building",children:e.jsx(t,{content:"Building area",children:e.jsx(t,{content:"Path 5"})})}),e.jsx(t,{content:"Sewer",children:e.jsx(t,{content:"Run off pipe",children:e.jsx(t,{content:"Path 4"})})}),e.jsx(t,{content:"Project boundary",children:e.jsx(t,{content:"Property area",children:e.jsx(t,{content:"Path 1"})})}),e.jsx(t,{content:"Map",children:e.jsx(t,{content:"Location",children:e.jsx(t,{content:"Terrain"})})})]})}function t(l){const i=s.Children.count(l.children)>0,[r,a]=s.useState(!0);return e.jsx(te,{content:e.jsxs(e.Fragment,{children:[e.jsx(ne,{onClick:()=>a(d=>!d)}),e.jsx(P,{href:w,style:{display:"inline"}}),e.jsx(se,{children:l.content}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(g,{className:o.action,icon:oe,label:"Lock",variant:"ghost","aria-hidden":!l.lockAction}),e.jsx(g,{className:o.action,icon:ie,label:"Show",variant:"ghost","aria-hidden":!l.visibilityAction})]})]}),expanded:i?r:void 0,children:r?l.children:void 0})}function Me(){const[l,i]=s.useState(!1),r=s.useRef(null),a=s.useRef(null),d=l?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{}),e.jsx(g,{className:o.shiftIconRight,icon:ae,label:"Close",variant:"ghost",onClick:()=>{var c;D.flushSync(()=>i(!1)),(c=a.current)==null||c.focus()}})]}):e.jsx(g,{className:o.shiftIconRight,icon:A,label:"Search",variant:"ghost",onClick:()=>{var c;D.flushSync(()=>i(!0)),(c=r.current)==null||c.focus()}});return e.jsxs("div",{className:o.subheader,children:[e.jsx(de.h3,{id:F,className:o.subheaderTitle,tabIndex:-1,ref:a,render:l?e.jsx(L,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),l?e.jsxs(Q,{className:o.searchInput,children:[e.jsx(Y,{href:A}),e.jsx(Z,{placeholder:"Search",ref:r})]}):null,e.jsx("div",{className:o.subheaderActions,children:d})]})}function Ne(){return e.jsxs(X,{children:[e.jsx(H,{render:e.jsx(g,{icon:ce,label:"Filter",variant:"ghost"})}),e.jsxs(q,{style:{minInlineSize:164},children:[e.jsx(m,{children:"Show all"}),e.jsx(m,{children:"Guides"}),e.jsx(m,{children:"Other"}),e.jsx(m,{children:"Roadway"}),e.jsx(m,{children:"Parking"}),e.jsx(m,{children:"Building"}),e.jsx(m,{children:"Dry utility"}),e.jsx(m,{children:"Stormwater"}),e.jsx(m,{children:"Sewer"}),e.jsx(m,{children:"Boundary"}),e.jsx(m,{children:"Map"})]})]})}export{ht as default,ut as meta};
