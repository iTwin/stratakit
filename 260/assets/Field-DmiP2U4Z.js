import{n as i,a as r}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as I}from"./index-jyeBNHV5.js";import{f as h}from"./~utils-CxpNXQT1.js";import{u as w}from"./C3IKGW5T-vrqjKoNQ.js";import{d as F}from"./YV4JVR4I-B6wCGKZo.js";import{a as y,C as k}from"./RZ4GPYOB-Tt4KcHxI.js";import{R as v}from"./XL7CSKGW-DWygVppE.js";function D(t={}){const e=w(t);return i.jsx(y,{value:e,children:t.children})}const M=h((t,e)=>{const n=w(),o=F(n,b=>{const u=b.renderedItems.filter(s=>{var l;return(l=s.element)==null?void 0:l.matches(".-label, .-label-text, [data-kiwi-form-control]")}),m=u.findIndex(s=>{var l;return(l=s.element)==null?void 0:l.matches(".-label, .-label-text")}),x=u.findIndex(s=>{var l;return(l=s.element)==null?void 0:l.matches("[data-kiwi-form-control]")});return m===-1||x===-1?void 0:m>x?"after":"before"}),f=F(n,b=>{var u,m;return(m=(u=b.renderedItems.find(x=>{var s;return(s=x.element)==null?void 0:s.matches("[data-kiwi-form-control]")}))==null?void 0:u.element)==null?void 0:m.dataset.kiwiFormControl}),d=r.useId(),{layout:c,...a}=t;return i.jsx(j.Provider,{value:d,children:i.jsx(p,{children:i.jsx(D,{store:n,children:i.jsx(v.div,{...a,className:I("-field",t.className),"data-kiwi-layout":c,"data-kiwi-label-placement":o,"data-kiwi-control-type":f,ref:e})})})})}),T=h((t,e)=>i.jsx(k,{render:i.jsx("span",{...t,className:I("-field-label-text",t.className),ref:e})})),C=r.createContext(void 0);function p(t){const[e,n]=r.useState(new Set),o=r.useCallback(d=>{n(c=>{const a=new Set(c);return a.add(d),a})},[]),f=r.useCallback(d=>{n(c=>{const a=new Set(c);return a.delete(d),a})},[]);return i.jsx(C.Provider,{value:r.useMemo(()=>({describedBy:e,register:o,unregister:f}),[e,o,f]),children:t.children})}function z(t){var n;const e=(n=r.useContext(C))==null?void 0:n.describedBy;return r.useMemo(()=>!e||e.size===0?t:[...e,t].filter(Boolean).join(" "),[e,t])}function A(t){const e=r.useContext(C),n=e==null?void 0:e.register,o=e==null?void 0:e.unregister;r.useEffect(()=>{if(!(!n||!o))return n(t),()=>o(t)},[t,n,o])}const j=r.createContext(void 0);function L(){return r.useContext(j)}export{M as F,T as a,L as b,z as c,A as u};
