import{p as o,b as u}from"./index-DDCMeoDP.js";import{I as R,J as P,K as A,l as B,m as E,n as V,_ as G,P as H,o as I,f as h,c as v,h as j}from"./~utils-CVrIWKd_.js";import{a as z}from"./MTZPJQMC-BF1USmkC.js";import{f as W}from"./BYC7LY2E-CmmV7fGv.js";import{b as J}from"./P2CTZE2T-Wt7VrJxp.js";import{c as Z,a as $,b as q,e as O,C as Q}from"./VEVQD5MH-W8gC6swX.js";import{d as U}from"./YV4JVR4I-DscRzu5f.js";import{u as X,T as Y,I as ee}from"./IconButton-DIntrVS-.js";import{L as oe,e as k,f as y,g as te,d as re,D as se,a as ne,b as ae}from"./DropdownMenu-qVo8rmm5.js";import{I as T,S as ie,M as le}from"./Icon-DCDqn4X1.js";import{f as b,e as ce}from"./~hooks-Ic0iY_GM.js";import{G as de,u as ue}from"./Button-BJEnKCWw.js";function me(e={}){var r;const t=(r=e.store)==null?void 0:r.getState();return Z(R(A({},e),{orientation:P(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:P(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function fe(e,r,t){return $(e,r,t)}function xe(e={}){const[r,t]=U(me,e);return fe(r,t,e)}var he="div",ve=E(function(r){var t=r,{store:n,orientation:s,virtualFocus:m,focusLoop:l,rtl:x}=t,i=G(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const D=X();n=n||D;const d=xe({store:n,orientation:s,virtualFocus:m,focusLoop:l,rtl:x}),p=d.useState(c=>c.orientation==="both"?void 0:c.orientation);return i=H(i,c=>o.jsx(Y,{value:d,children:c}),[d]),i=I({role:"toolbar","aria-orientation":p},i),i=q(I({store:d},i)),i}),pe=B(function(r){const t=ve(r);return V(he,t)});function je(e={}){const r=W(e);return o.jsx(z,{value:r,children:e.children})}const N=u.createContext(void 0),Me=h((e,r)=>{const{"aria-level":t,selected:n,expanded:s,icon:m,unstable_decorations:l,label:x,description:i,actions:D,error:d,onSelectedChange:p,onExpandedChange:c,onClick:F,onKeyDown:S,..._}=e,K=a=>{n!==void 0&&(a.stopPropagation(),p==null||p(!n))},L=a=>{a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||s!==void 0&&(a.key==="ArrowRight"||a.key==="ArrowLeft")&&(a.preventDefault(),c==null||c(a.key==="ArrowRight"))},g=u.useId(),C=u.useId(),w=u.useId(),f=d?o.jsx(ie,{}):m,M=u.useMemo(()=>{const a=[];return i&&a.push(C),(l||f)&&a.push(w),a.length>0?a.join(" "):void 0},[l,f,w,i,C]);return o.jsx(N.Provider,{value:u.useMemo(()=>({level:t,expanded:s,selected:n,error:d}),[t,s,n,d]),children:o.jsx(J,{render:o.jsx(j,{..._}),onClick:b(F,K),onKeyDown:b(S,L),role:"treeitem","aria-expanded":s,"aria-selected":n,"aria-labelledby":g,"aria-describedby":M,"aria-level":t,className:v("-tree-item",e.className),ref:r,children:o.jsxs(oe,{"data-kiwi-expanded":s,"data-kiwi-selected":n,"data-kiwi-error":d?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":t},role:void 0,children:[o.jsxs(k,{children:[o.jsx(de,{align:i?"block":void 0,children:o.jsx(Ce,{onClick:()=>{s!==void 0&&(c==null||c(!s))}})}),f||l?o.jsx(j,{className:"-tree-item-decoration",id:w,render:u.isValidElement(f)?f:typeof f=="string"?o.jsx(T,{href:f}):void 0,children:f?null:l}):null]}),o.jsx(y,{id:g,className:"-tree-item-content",children:x}),i?o.jsx(y,{id:C,className:"-tree-item-description",children:i}):void 0,o.jsx(k,{render:o.jsx(be,{children:D})})]})})})}),be=h((e,r)=>{const{children:t,...n}=e,s=u.Children.toArray(t).filter(Boolean),{error:m}=ce(N),l=m?2:3;return o.jsxs(pe,{...n,onClick:b(e.onClick,x=>x.stopPropagation()),onKeyDown:b(e.onKeyDown,x=>x.stopPropagation()),className:v("-tree-item-actions-container",e.className),ref:r,children:[s.slice(0,l-1),s.length===l?s[l-1]:null,s.length>l&&o.jsx(je,{placement:"right-start",children:o.jsxs(se,{children:[o.jsx(ne,{render:o.jsx(De,{label:"More",icon:o.jsx(le,{})})}),o.jsx(ae,{children:s.slice(2)})]})})]})}),De=h((e,r)=>{const{visible:t,label:n,icon:s,...m}=e;return u.useContext(te)?o.jsx(re,{...m,label:n,icon:s,ref:r}):o.jsx(ee,{label:n,icon:s,inert:t===!1?!0:void 0,...m,variant:"ghost",className:v("-tree-item-action",e.className),"data-kiwi-visible":t,ref:r})}),Ce=h((e,r)=>o.jsx(j.span,{"aria-hidden":"true",...e,onClick:b(e.onClick,t=>t.stopPropagation()),className:v("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":ue(),ref:r,children:o.jsx(we,{})})),we=h((e,r)=>o.jsx(T,{...e,render:o.jsx(j.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:o.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:v("-tree-chevron",e.className),ref:r})),Re=h((e,r)=>{const t=O({orientation:"vertical"});return o.jsx(j.div,{role:"tree",...e,render:o.jsx(Q,{store:t}),className:v("-tree",e.className),ref:r,children:e.children})});export{Re as T,Me as a,De as b};
