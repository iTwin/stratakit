import{a as h,z as tn,w as nn,p as a,A as sn}from"./chunk-JZWAC4HX-ROAaBwzV.js";import{c as U,a as rn,t as on}from"./~utils-Bgzl5YLW.js";import{a as at}from"./index-VRfNF7fP.js";import{A as ct}from"./Anchor-CNhfONnW.js";import{B as ln}from"./Button-CbBZLa3p.js";import{F as an,a as cn,b as un}from"./Field-CwSFqw0i.js";import{I as de}from"./IconButton-CIYIVHnf.js";import{S as dn,H as fn}from"./Select-DYSjL4Zy.js";import{S as Le}from"./Skeleton-DXggwKHQ.js";import{T as $e}from"./Text-J5vt8TYq.js";import{T as hn,a as pn,b as mn}from"./TextBox-DC-O7cS5.js";import{V as Ce}from"./VisuallyHidden-B7YTsaGY.js";import{I as bn}from"./Icon-CYA3tWYY.js";import{S as xn,q as ut,t as ne,u as Ke,r as ze,f as Xe,v as Je,w as dt,x as gn,y as Ee,i as yn,z as vn,A as ft,n as Pt,B as wt,C as Sn}from"./QueryClientProvider-CGTI_rVq.js";import{T as In,a as W,p as zn,b as Cn}from"./immer-D_FQgI4a.js";import{c as Rn,a as _n,d as Pn,m as wn,p as En,r as jn,l as kn,h as Tn,s as ht,f as Ln}from"./visibility-hide-CUdiQgIW.js";import{s as Mn}from"./dismiss-xyVoToeL.js";import{p as Nn}from"./placeholder-C6u7d6t-.js";import{s as An}from"./visibility-show-C9Itt8Pp.js";import{T as je,a as $n}from"./Toolbar-BiYLPogi.js";import{T as Dn,a as Fn,b as Hn,c as On}from"./Tabs-DfRO5yW6.js";import{E as Un,a as Bn}from"./ErrorRegion-RA1mOXEM.js";import{D as Vn,a as qn,b as Qn,c as Gn}from"./DropdownMenu-BfIAhef3.js";import"./U6HHPQDW-DHT_Hcr6.js";import"./~utils.useInit-CnEu9hZW.js";import"./HMKTUWOU-CtvBd77f.js";import"./PZ3OL7I2-CJWqiBBn.js";import"./~utils.GhostAligner-Br93o2kf.js";import"./GVAFFF2B-PmGHE2ZX.js";import"./Q5W46E73-BR5nxZ18.js";import"./Z2O3VLAQ-DfccVRF8.js";import"./Field.internal-BrJov_qO.js";import"./collection-CwAoCiSg.js";import"./~utils.Dot-CWNiCg_P.js";import"./IconButton.internal-ODXc2Muv.js";import"./Tooltip-D2m4y6Pq.js";import"./ECBEZ4YM-DfdXobuv.js";import"./B6FLPFJM-BVbpFrtb.js";import"./Z32PU2LQ-Ci6-9_A6.js";import"./WLZ6H5FH-DemDu-2R.js";import"./JMU4N4M5-DdpAb22u.js";import"./~utils.icons-C25LbPDm.js";import"./~utils.icons-B9GxxG7R.js";import"./WZWDIE3S-5P4c6P2s.js";import"./HSU7H6PW-E4YhnhTC.js";import"./CVCFNOHX-BuD-HOxQ.js";import"./~utils.icons-CY5v6rai.js";import"./~utils.useInit-BoPc52E1.js";import"./APVORPDK-CQUY-ek2.js";import"./NDVACHQI-S3IHQtjQ.js";import"./dialog-provider-CqcP8_I_.js";import"./RFRKSHIZ-B2hZwNEo.js";import"./I7KWAPMF-DekwuUVa.js";import"./Kbd-CSxN6eiI.js";var Wn=class extends xn{constructor(t,e){super(),this.options=e,this.#n=t,this.#r=null,this.#s=ut(),this.bindMethods(),this.setOptions(e)}#n;#e=void 0;#p=void 0;#t=void 0;#o;#u;#s;#r;#m;#d;#f;#l;#a;#i;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),pt(this.#e,this.options)?this.#c():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ye(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ye(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#S(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#n.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ne(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#I(),this.#e.setOptions(this.options),e._defaulted&&!Ke(this.options,e)&&this.#n.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&mt(this.#e,n,this.options,e)&&this.#c(),this.updateResult(),s&&(this.#e!==n||ne(this.options.enabled,this.#e)!==ne(e.enabled,this.#e)||ze(this.options.staleTime,this.#e)!==ze(e.staleTime,this.#e))&&this.#b();const r=this.#x();s&&(this.#e!==n||ne(this.options.enabled,this.#e)!==ne(e.enabled,this.#e)||r!==this.#i)&&this.#g(r)}getOptimisticResult(t){const e=this.#n.getQueryCache().build(this.#n,t),n=this.createResult(e,t);return Xn(this,n)&&(this.#t=n,this.#u=this.options,this.#o=this.#e.state),n}getCurrentResult(){return this.#t}trackResult(t,e){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){this.#h.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#n.defaultQueryOptions(t),n=this.#n.getQueryCache().build(this.#n,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(t){this.#I();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Xe)),e}#b(){this.#v();const t=ze(this.options.staleTime,this.#e);if(Je||this.#t.isStale||!dt(t))return;const n=gn(this.#t.dataUpdatedAt,t)+1;this.#l=Ee.setTimeout(()=>{this.#t.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#g(t){this.#S(),this.#i=t,!(Je||ne(this.options.enabled,this.#e)===!1||!dt(this.#i)||this.#i===0)&&(this.#a=Ee.setInterval(()=>{(this.options.refetchIntervalInBackground||yn.isFocused())&&this.#c()},this.#i))}#y(){this.#b(),this.#g(this.#x())}#v(){this.#l&&(Ee.clearTimeout(this.#l),this.#l=void 0)}#S(){this.#a&&(Ee.clearInterval(this.#a),this.#a=void 0)}createResult(t,e){const n=this.#e,s=this.options,r=this.#t,i=this.#o,o=this.#u,c=t!==n?t.state:this.#p,{state:d}=t;let m={...d},p=!1,u;if(e._optimisticResults){const M=this.hasListeners(),V=!M&&pt(t,e),q=M&&mt(t,n,e,s);(V||q)&&(m={...m,...vn(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:f,errorUpdatedAt:b,status:x}=m;u=m.data;let S=!1;if(e.placeholderData!==void 0&&u===void 0&&x==="pending"){let M;r?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(M=r.data,S=!0):M=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,M!==void 0&&(x="success",u=ft(r?.data,M,e),p=!0)}if(e.select&&u!==void 0&&!S)if(r&&u===i?.data&&e.select===this.#m)u=this.#d;else try{this.#m=e.select,u=e.select(u),u=ft(r?.data,u,e),this.#d=u,this.#r=null}catch(M){this.#r=M}this.#r&&(f=this.#r,u=this.#d,b=Date.now(),x="error");const y=m.fetchStatus==="fetching",R=x==="pending",E=x==="error",j=R&&y,L=u!==void 0,_={status:x,fetchStatus:m.fetchStatus,isPending:R,isSuccess:x==="success",isError:E,isInitialLoading:j,isLoading:j,data:u,dataUpdatedAt:m.dataUpdatedAt,error:f,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!R,isLoadingError:E&&!L,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&L,isStale:tt(t,e),refetch:this.refetch,promise:this.#s,isEnabled:ne(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=_.data!==void 0,V=_.status==="error"&&!M,q=G=>{V?G.reject(_.error):M&&G.resolve(_.data)},$=()=>{const G=this.#s=_.promise=ut();q(G)},N=this.#s;switch(N.status){case"pending":t.queryHash===n.queryHash&&q(N);break;case"fulfilled":(V||_.data!==N.value)&&$();break;case"rejected":(!V||_.error!==N.reason)&&$();break}}return _}updateResult(){const t=this.#t,e=this.createResult(this.#e,this.options);if(this.#o=this.#e.state,this.#u=this.options,this.#o.data!==void 0&&(this.#f=this.#e),Ke(e,t))return;this.#t=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,r=typeof s=="function"?s():s;if(r==="all"||!r&&!this.#h.size)return!0;const i=new Set(r??this.#h);return this.options.throwOnError&&i.add("error"),Object.keys(this.#t).some(o=>{const l=o;return this.#t[l]!==t[l]&&i.has(l)})};this.#z({listeners:n()})}#I(){const t=this.#n.getQueryCache().build(this.#n,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#p=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#z(t){Pt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#n.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Kn(t,e){return ne(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pt(t,e){return Kn(t,e)||t.state.data!==void 0&&Ye(t,e,e.refetchOnMount)}function Ye(t,e,n){if(ne(e.enabled,t)!==!1&&ze(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&tt(t,e)}return!1}function mt(t,e,n,s){return(t!==e||ne(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&tt(t,n)}function tt(t,e){return ne(e.enabled,t)!==!1&&t.isStaleByTime(ze(e.staleTime,t))}function Xn(t,e){return!Ke(t.getCurrentResult(),e)}var Et=h.createContext(!1),Jn=()=>h.useContext(Et);Et.Provider;function Yn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Zn=h.createContext(Yn()),es=()=>h.useContext(Zn),ts=(t,e,n)=>{const s=n?.state.error&&typeof t.throwOnError=="function"?wt(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||s)&&(e.isReset()||(t.retryOnMount=!1))},ns=t=>{h.useEffect(()=>{t.clearReset()},[t])},ss=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||wt(n,[t.error,s])),rs=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},is=(t,e)=>t.isLoading&&t.isFetching&&!e,os=(t,e)=>t?.suspense&&e.isPending,bt=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function ls(t,e,n){const s=Jn(),r=es(),i=Sn(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=s?"isRestoring":"optimistic",rs(o),ts(o,r,l),ns(r);const c=!i.getQueryCache().get(o.queryHash),[d]=h.useState(()=>new e(i,o)),m=d.getOptimisticResult(o),p=!s&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(u=>{const f=p?d.subscribe(Pt.batchCalls(u)):Xe;return d.updateResult(),f},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),h.useEffect(()=>{d.setOptions(o)},[o,d]),os(o,m))throw bt(o,d,r);if(ss({result:m,errorResetBoundary:r,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!Je&&is(m,s)&&(c?bt(o,d,r):l?.promise)?.catch(Xe).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?m:d.trackResult(m)}function as(t,e){return ls(t,Wn)}const De=h.createContext(null);De.displayName="PanelGroupContext";const O={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},nt=10,he=h.useLayoutEffect,xt=tn.useId,cs=typeof xt=="function"?xt:()=>null;let us=0;function st(t=null){const e=cs(),n=h.useRef(t||e||null);return n.current===null&&(n.current=""+us++),t??n.current}function jt({children:t,className:e="",collapsedSize:n,collapsible:s,defaultSize:r,forwardedRef:i,id:o,maxSize:l,minSize:c,onCollapse:d,onExpand:m,onResize:p,order:u,style:f,tagName:b="div",...x}){const S=h.useContext(De);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:R,getPanelSize:E,getPanelStyle:j,groupId:L,isPanelCollapsed:w,reevaluatePanelConstraints:_,registerPanel:M,resizePanel:V,unregisterPanel:q}=S,$=st(o),N=h.useRef({callbacks:{onCollapse:d,onExpand:m,onResize:p},constraints:{collapsedSize:n,collapsible:s,defaultSize:r,maxSize:l,minSize:c},id:$,idIsFromProps:o!==void 0,order:u});h.useRef({didLogMissingDefaultSizeWarning:!1}),he(()=>{const{callbacks:B,constraints:F}=N.current,Q={...F};N.current.id=$,N.current.idIsFromProps=o!==void 0,N.current.order=u,B.onCollapse=d,B.onExpand=m,B.onResize=p,F.collapsedSize=n,F.collapsible=s,F.defaultSize=r,F.maxSize=l,F.minSize=c,(Q.collapsedSize!==F.collapsedSize||Q.collapsible!==F.collapsible||Q.maxSize!==F.maxSize||Q.minSize!==F.minSize)&&_(N.current,Q)}),he(()=>{const B=N.current;return M(B),()=>{q(B)}},[u,$,M,q]),h.useImperativeHandle(i,()=>({collapse:()=>{y(N.current)},expand:B=>{R(N.current,B)},getId(){return $},getSize(){return E(N.current)},isCollapsed(){return w(N.current)},isExpanded(){return!w(N.current)},resize:B=>{V(N.current,B)}}),[y,R,E,w,$,V]);const G=j(N.current,r);return h.createElement(b,{...x,children:t,className:e,id:$,style:{...G,...f},[O.groupId]:L,[O.panel]:"",[O.panelCollapsible]:s||void 0,[O.panelId]:$,[O.panelSize]:parseFloat(""+G.flexGrow).toFixed(1)})}const Ze=h.forwardRef((t,e)=>h.createElement(jt,{...t,forwardedRef:e}));jt.displayName="Panel";Ze.displayName="forwardRef(Panel)";let et=null,Te=-1,ce=null;function ds(t,e,n){const s=(e&Nt)!==0,r=(e&At)!==0,i=(e&$t)!==0,o=(e&Dt)!==0;if(e){if(s)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function fs(){ce!==null&&(document.head.removeChild(ce),et=null,ce=null,Te=-1)}function Ve(t,e,n){var s,r;const i=ds(t,e);if(et!==i){if(et=i,ce===null&&(ce=document.createElement("style"),document.head.appendChild(ce)),Te>=0){var o;(o=ce.sheet)===null||o===void 0||o.removeRule(Te)}Te=(s=(r=ce.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&s!==void 0?s:-1}}function kt(t){return t.type==="keydown"}function Tt(t){return t.type.startsWith("pointer")}function Lt(t){return t.type.startsWith("mouse")}function Fe(t){if(Tt(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(Lt(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function hs(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function ps(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function ms(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:vt(t),b:vt(e)};let s;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),s=t;k(s,"Stacking order can only be calculated for elements with a common ancestor");const r={a:yt(gt(n.a)),b:yt(gt(n.b))};if(r.a===r.b){const i=s.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let l=i.length;for(;l--;){const c=i[l];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(r.a-r.b)}const bs=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function xs(t){var e;const n=getComputedStyle((e=Mt(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function gs(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||xs(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||bs.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function gt(t){let e=t.length;for(;e--;){const n=t[e];if(k(n,"Missing node"),gs(n))return n}return null}function yt(t){return t&&Number(getComputedStyle(t).zIndex)||0}function vt(t){const e=[];for(;t;)e.push(t),t=Mt(t);return e}function Mt(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const Nt=1,At=2,$t=4,Dt=8,ys=hs()==="coarse";let se=[],ge=!1,ue=new Map,He=new Map;const Re=new Set;function vs(t,e,n,s,r){var i;const{ownerDocument:o}=e,l={direction:n,element:e,hitAreaMargins:s,setResizeHandlerState:r},c=(i=ue.get(o))!==null&&i!==void 0?i:0;return ue.set(o,c+1),Re.add(l),Me(),function(){var m;He.delete(t),Re.delete(l);const p=(m=ue.get(o))!==null&&m!==void 0?m:1;if(ue.set(o,p-1),Me(),p===1&&ue.delete(o),se.includes(l)){const u=se.indexOf(l);u>=0&&se.splice(u,1),Oe(),r("up",!0,null)}}}function Ss(t){const{target:e}=t,{x:n,y:s}=Fe(t);ge=!0,rt({target:e,x:n,y:s}),Me(),se.length>0&&(Ne("down",t),Oe(),t.preventDefault(),Ft(e)||t.stopImmediatePropagation())}function qe(t){const{x:e,y:n}=Fe(t);if(ge&&t.type!=="pointerleave"&&t.buttons===0&&(ge=!1,Ne("up",t)),!ge){const{target:s}=t;rt({target:s,x:e,y:n})}Ne("move",t),Oe(),se.length>0&&t.preventDefault()}function Qe(t){const{target:e}=t,{x:n,y:s}=Fe(t);He.clear(),ge=!1,se.length>0&&(t.preventDefault(),Ft(e)||t.stopImmediatePropagation()),Ne("up",t),rt({target:e,x:n,y:s}),Oe(),Me()}function Ft(t){let e=t;for(;e;){if(e.hasAttribute(O.resizeHandle))return!0;e=e.parentElement}return!1}function rt({target:t,x:e,y:n}){se.splice(0);let s=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(s=t),Re.forEach(r=>{const{element:i,hitAreaMargins:o}=r,l=i.getBoundingClientRect(),{bottom:c,left:d,right:m,top:p}=l,u=ys?o.coarse:o.fine;if(e>=d-u&&e<=m+u&&n>=p-u&&n<=c+u){if(s!==null&&document.contains(s)&&i!==s&&!i.contains(s)&&!s.contains(i)&&ms(s,i)>0){let b=s,x=!1;for(;b&&!b.contains(i);){if(ps(b.getBoundingClientRect(),l)){x=!0;break}b=b.parentElement}if(x)return}se.push(r)}})}function Ge(t,e){He.set(t,e)}function Oe(){let t=!1,e=!1;se.forEach(s=>{const{direction:r}=s;r==="horizontal"?t=!0:e=!0});let n=0;He.forEach(s=>{n|=s}),t&&e?Ve("intersection",n):t?Ve("horizontal",n):e?Ve("vertical",n):fs()}let We;function Me(){var t;(t=We)===null||t===void 0||t.abort(),We=new AbortController;const e={capture:!0,signal:We.signal};Re.size&&(ge?(se.length>0&&ue.forEach((n,s)=>{const{body:r}=s;n>0&&(r.addEventListener("contextmenu",Qe,e),r.addEventListener("pointerleave",qe,e),r.addEventListener("pointermove",qe,e))}),ue.forEach((n,s)=>{const{body:r}=s;r.addEventListener("pointerup",Qe,e),r.addEventListener("pointercancel",Qe,e)})):ue.forEach((n,s)=>{const{body:r}=s;n>0&&(r.addEventListener("pointerdown",Ss,e),r.addEventListener("pointermove",qe,e))}))}function Ne(t,e){Re.forEach(n=>{const{setResizeHandlerState:s}=n,r=se.includes(n);s(t,r,e)})}function Is(){const[t,e]=h.useState(0);return h.useCallback(()=>e(n=>n+1),[])}function k(t,e){if(!t)throw console.error(e),Error(e)}function pe(t,e,n=nt){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function ae(t,e,n=nt){return pe(t,e,n)===0}function J(t,e,n){return pe(t,e,n)===0}function zs(t,e,n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){const r=t[s],i=e[s];if(!J(r,i,n))return!1}return!0}function xe({panelConstraints:t,panelIndex:e,size:n}){const s=t[e];k(s!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:r=0,collapsible:i,maxSize:o=100,minSize:l=0}=s;if(pe(n,l)<0)if(i){const c=(r+l)/2;pe(n,c)<0?n=r:n=l}else n=l;return n=Math.min(o,n),n=parseFloat(n.toFixed(nt)),n}function Se({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:s,prevLayout:r,trigger:i}){if(J(t,0))return e;const o=[...e],[l,c]=s;k(l!=null,"Invalid first pivot index"),k(c!=null,"Invalid second pivot index");let d=0;if(i==="keyboard"){{const p=t<0?c:l,u=n[p];k(u,`Panel constraints not found for index ${p}`);const{collapsedSize:f=0,collapsible:b,minSize:x=0}=u;if(b){const S=e[p];if(k(S!=null,`Previous layout not found for panel index ${p}`),J(S,f)){const y=x-S;pe(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}{const p=t<0?l:c,u=n[p];k(u,`No panel constraints found for index ${p}`);const{collapsedSize:f=0,collapsible:b,minSize:x=0}=u;if(b){const S=e[p];if(k(S!=null,`Previous layout not found for panel index ${p}`),J(S,x)){const y=S-f;pe(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}}{const p=t<0?1:-1;let u=t<0?c:l,f=0;for(;;){const x=e[u];k(x!=null,`Previous layout not found for panel index ${u}`);const y=xe({panelConstraints:n,panelIndex:u,size:100})-x;if(f+=y,u+=p,u<0||u>=n.length)break}const b=Math.min(Math.abs(t),Math.abs(f));t=t<0?0-b:b}{let u=t<0?l:c;for(;u>=0&&u<n.length;){const f=Math.abs(t)-Math.abs(d),b=e[u];k(b!=null,`Previous layout not found for panel index ${u}`);const x=b-f,S=xe({panelConstraints:n,panelIndex:u,size:x});if(!J(b,S)&&(d+=b-S,o[u]=S,d.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?u--:u++}}if(zs(r,o))return r;{const p=t<0?c:l,u=e[p];k(u!=null,`Previous layout not found for panel index ${p}`);const f=u+d,b=xe({panelConstraints:n,panelIndex:p,size:f});if(o[p]=b,!J(b,f)){let x=f-b,y=t<0?c:l;for(;y>=0&&y<n.length;){const R=o[y];k(R!=null,`Previous layout not found for panel index ${y}`);const E=R+x,j=xe({panelConstraints:n,panelIndex:y,size:E});if(J(R,j)||(x-=j-R,o[y]=j),J(x,0))break;t>0?y--:y++}}}const m=o.reduce((p,u)=>u+p,0);return J(m,100)?o:r}function Cs({layout:t,panelsArray:e,pivotIndices:n}){let s=0,r=100,i=0,o=0;const l=n[0];k(l!=null,"No pivot index found"),e.forEach((p,u)=>{const{constraints:f}=p,{maxSize:b=100,minSize:x=0}=f;u===l?(s=x,r=b):(i+=x,o+=b)});const c=Math.min(r,100-i),d=Math.max(s,100-o),m=t[l];return{valueMax:c,valueMin:d,valueNow:m}}function _e(t,e=document){return Array.from(e.querySelectorAll(`[${O.resizeHandleId}][data-panel-group-id="${t}"]`))}function Ht(t,e,n=document){const r=_e(t,n).findIndex(i=>i.getAttribute(O.resizeHandleId)===e);return r??null}function Ot(t,e,n){const s=Ht(t,e,n);return s!=null?[s,s+1]:[-1,-1]}function Rs(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function Ut(t,e=document){if(Rs(e)&&e.dataset.panelGroupId==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function Pe(t,e=document){const n=e.querySelector(`[${O.resizeHandleId}="${t}"]`);return n||null}function _s(t,e,n,s=document){var r,i,o,l;const c=Pe(e,s),d=_e(t,s),m=c?d.indexOf(c):-1,p=(r=(i=n[m])===null||i===void 0?void 0:i.id)!==null&&r!==void 0?r:null,u=(o=(l=n[m+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[p,u]}function Ps({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:s,panelDataArray:r,panelGroupElement:i,setLayout:o}){h.useRef({didWarnAboutMissingResizeHandle:!1}),he(()=>{if(!i)return;const l=_e(n,i);for(let c=0;c<r.length-1;c++){const{valueMax:d,valueMin:m,valueNow:p}=Cs({layout:s,panelsArray:r,pivotIndices:[c,c+1]}),u=l[c];if(u!=null){const f=r[c];k(f,`No panel data found for index "${c}"`),u.setAttribute("aria-controls",f.id),u.setAttribute("aria-valuemax",""+Math.round(d)),u.setAttribute("aria-valuemin",""+Math.round(m)),u.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{l.forEach((c,d)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,s,r,i]),h.useEffect(()=>{if(!i)return;const l=e.current;k(l,"Eager values not found");const{panelDataArray:c}=l,d=Ut(n,i);k(d!=null,`No group found for id "${n}"`);const m=_e(n,i);k(m,`No resize handles found for group id "${n}"`);const p=m.map(u=>{const f=u.getAttribute(O.resizeHandleId);k(f,"Resize handle element has no handle id attribute");const[b,x]=_s(n,f,c,i);if(b==null||x==null)return()=>{};const S=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const R=c.findIndex(E=>E.id===b);if(R>=0){const E=c[R];k(E,`No panel data found for index ${R}`);const j=s[R],{collapsedSize:L=0,collapsible:w,minSize:_=0}=E.constraints;if(j!=null&&w){const M=Se({delta:J(j,L)?_-L:L-j,initialLayout:s,panelConstraints:c.map(V=>V.constraints),pivotIndices:Ot(n,f,i),prevLayout:s,trigger:"keyboard"});s!==M&&o(M)}}break}}};return u.addEventListener("keydown",S),()=>{u.removeEventListener("keydown",S)}});return()=>{p.forEach(u=>u())}},[i,t,e,n,s,r,o])}function St(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Bt(t,e){const n=t==="horizontal",{x:s,y:r}=Fe(e);return n?s:r}function ws(t,e,n,s,r){const i=n==="horizontal",o=Pe(e,r);k(o,`No resize handle element found for id "${e}"`);const l=o.getAttribute(O.groupId);k(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=s;const d=Bt(n,t),m=Ut(l,r);k(m,`No group element found for id "${l}"`);const p=m.getBoundingClientRect(),u=i?p.width:p.height;return(d-c)/u*100}function Es(t,e,n,s,r,i){if(kt(t)){const o=n==="horizontal";let l=0;t.shiftKey?l=100:r!=null?l=r:l=10;let c=0;switch(t.key){case"ArrowDown":c=o?0:l;break;case"ArrowLeft":c=o?-l:0;break;case"ArrowRight":c=o?l:0;break;case"ArrowUp":c=o?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return s==null?0:ws(t,e,n,s,i)}function js({panelDataArray:t}){const e=Array(t.length),n=t.map(i=>i.constraints);let s=0,r=100;for(let i=0;i<t.length;i++){const o=n[i];k(o,`Panel constraints not found for index ${i}`);const{defaultSize:l}=o;l!=null&&(s++,e[i]=l,r-=l)}for(let i=0;i<t.length;i++){const o=n[i];k(o,`Panel constraints not found for index ${i}`);const{defaultSize:l}=o;if(l!=null)continue;const c=t.length-s,d=r/c;s++,e[i]=d,r-=d}return e}function me(t,e,n){e.forEach((s,r)=>{const i=t[r];k(i,`Panel data not found for index ${r}`);const{callbacks:o,constraints:l,id:c}=i,{collapsedSize:d=0,collapsible:m}=l,p=n[c];if(p==null||s!==p){n[c]=s;const{onCollapse:u,onExpand:f,onResize:b}=o;b&&b(s,p),m&&(u||f)&&(f&&(p==null||ae(p,d))&&!ae(s,d)&&f(),u&&(p==null||!ae(p,d))&&ae(s,d)&&u())}})}function ke(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function ks({defaultSize:t,dragState:e,layout:n,panelData:s,panelIndex:r,precision:i=3}){const o=n[r];let l;return o==null?l=t!=null?t.toFixed(i):"1":s.length===1?l="1":l=o.toFixed(i),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Ts(t,e=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}}function It(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Vt(t){return`react-resizable-panels:${t}`}function qt(t){return t.map(e=>{const{constraints:n,id:s,idIsFromProps:r,order:i}=e;return r?s:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Qt(t,e){try{const n=Vt(t),s=e.getItem(n);if(s){const r=JSON.parse(s);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function Ls(t,e,n){var s,r;const i=(s=Qt(t,n))!==null&&s!==void 0?s:{},o=qt(e);return(r=i[o])!==null&&r!==void 0?r:null}function Ms(t,e,n,s,r){var i;const o=Vt(t),l=qt(e),c=(i=Qt(t,r))!==null&&i!==void 0?i:{};c[l]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{r.setItem(o,JSON.stringify(c))}catch(d){console.error(d)}}function zt({layout:t,panelConstraints:e}){const n=[...t],s=n.reduce((i,o)=>i+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!J(s,100)&&n.length>0)for(let i=0;i<e.length;i++){const o=n[i];k(o!=null,`No layout data found for index ${i}`);const l=100/s*o;n[i]=l}let r=0;for(let i=0;i<e.length;i++){const o=n[i];k(o!=null,`No layout data found for index ${i}`);const l=xe({panelConstraints:e,panelIndex:i,size:o});o!=l&&(r+=o-l,n[i]=l)}if(!J(r,0))for(let i=0;i<e.length;i++){const o=n[i];k(o!=null,`No layout data found for index ${i}`);const l=o+r,c=xe({panelConstraints:e,panelIndex:i,size:l});if(o!==c&&(r-=c-o,n[i]=c,J(r,0)))break}return n}const Ns=100,Ie={getItem:t=>(It(Ie),Ie.getItem(t)),setItem:(t,e)=>{It(Ie),Ie.setItem(t,e)}},Ct={};function Gt({autoSaveId:t=null,children:e,className:n="",direction:s,forwardedRef:r,id:i=null,onLayout:o=null,keyboardResizeBy:l=null,storage:c=Ie,style:d,tagName:m="div",...p}){const u=st(i),f=h.useRef(null),[b,x]=h.useState(null),[S,y]=h.useState([]),R=Is(),E=h.useRef({}),j=h.useRef(new Map),L=h.useRef(0),w=h.useRef({autoSaveId:t,direction:s,dragState:b,id:u,keyboardResizeBy:l,onLayout:o,storage:c}),_=h.useRef({layout:S,panelDataArray:[],panelDataArrayChanged:!1});h.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),h.useImperativeHandle(r,()=>({getId:()=>w.current.id,getLayout:()=>{const{layout:v}=_.current;return v},setLayout:v=>{const{onLayout:I}=w.current,{layout:g,panelDataArray:C}=_.current,z=zt({layout:v,panelConstraints:C.map(P=>P.constraints)});St(g,z)||(y(z),_.current.layout=z,I&&I(z),me(C,z,E.current))}}),[]),he(()=>{w.current.autoSaveId=t,w.current.direction=s,w.current.dragState=b,w.current.id=u,w.current.onLayout=o,w.current.storage=c}),Ps({committedValuesRef:w,eagerValuesRef:_,groupId:u,layout:S,panelDataArray:_.current.panelDataArray,setLayout:y,panelGroupElement:f.current}),h.useEffect(()=>{const{panelDataArray:v}=_.current;if(t){if(S.length===0||S.length!==v.length)return;let I=Ct[t];I==null&&(I=Ts(Ms,Ns),Ct[t]=I);const g=[...v],C=new Map(j.current);I(t,g,C,S,c)}},[t,S,c]),h.useEffect(()=>{});const M=h.useCallback(v=>{const{onLayout:I}=w.current,{layout:g,panelDataArray:C}=_.current;if(v.constraints.collapsible){const z=C.map(ie=>ie.constraints),{collapsedSize:P=0,panelSize:T,pivotIndices:D}=fe(C,v,g);if(k(T!=null,`Panel size not found for panel "${v.id}"`),!ae(T,P)){j.current.set(v.id,T);const oe=be(C,v)===C.length-1?T-P:P-T,H=Se({delta:oe,initialLayout:g,panelConstraints:z,pivotIndices:D,prevLayout:g,trigger:"imperative-api"});ke(g,H)||(y(H),_.current.layout=H,I&&I(H),me(C,H,E.current))}}},[]),V=h.useCallback((v,I)=>{const{onLayout:g}=w.current,{layout:C,panelDataArray:z}=_.current;if(v.constraints.collapsible){const P=z.map(te=>te.constraints),{collapsedSize:T=0,panelSize:D=0,minSize:ie=0,pivotIndices:oe}=fe(z,v,C),H=I??ie;if(ae(D,T)){const te=j.current.get(v.id),ye=te!=null&&te>=H?te:H,Be=be(z,v)===z.length-1?D-ye:ye-D,K=Se({delta:Be,initialLayout:C,panelConstraints:P,pivotIndices:oe,prevLayout:C,trigger:"imperative-api"});ke(C,K)||(y(K),_.current.layout=K,g&&g(K),me(z,K,E.current))}}},[]),q=h.useCallback(v=>{const{layout:I,panelDataArray:g}=_.current,{panelSize:C}=fe(g,v,I);return k(C!=null,`Panel size not found for panel "${v.id}"`),C},[]),$=h.useCallback((v,I)=>{const{panelDataArray:g}=_.current,C=be(g,v);return ks({defaultSize:I,dragState:b,layout:S,panelData:g,panelIndex:C})},[b,S]),N=h.useCallback(v=>{const{layout:I,panelDataArray:g}=_.current,{collapsedSize:C=0,collapsible:z,panelSize:P}=fe(g,v,I);return k(P!=null,`Panel size not found for panel "${v.id}"`),z===!0&&ae(P,C)},[]),G=h.useCallback(v=>{const{layout:I,panelDataArray:g}=_.current,{collapsedSize:C=0,collapsible:z,panelSize:P}=fe(g,v,I);return k(P!=null,`Panel size not found for panel "${v.id}"`),!z||pe(P,C)>0},[]),B=h.useCallback(v=>{const{panelDataArray:I}=_.current;I.push(v),I.sort((g,C)=>{const z=g.order,P=C.order;return z==null&&P==null?0:z==null?-1:P==null?1:z-P}),_.current.panelDataArrayChanged=!0,R()},[R]);he(()=>{if(_.current.panelDataArrayChanged){_.current.panelDataArrayChanged=!1;const{autoSaveId:v,onLayout:I,storage:g}=w.current,{layout:C,panelDataArray:z}=_.current;let P=null;if(v){const D=Ls(v,z,g);D&&(j.current=new Map(Object.entries(D.expandToSizes)),P=D.layout)}P==null&&(P=js({panelDataArray:z}));const T=zt({layout:P,panelConstraints:z.map(D=>D.constraints)});St(C,T)||(y(T),_.current.layout=T,I&&I(T),me(z,T,E.current))}}),he(()=>{const v=_.current;return()=>{v.layout=[]}},[]);const F=h.useCallback(v=>{let I=!1;const g=f.current;return g&&window.getComputedStyle(g,null).getPropertyValue("direction")==="rtl"&&(I=!0),function(z){z.preventDefault();const P=f.current;if(!P)return()=>null;const{direction:T,dragState:D,id:ie,keyboardResizeBy:oe,onLayout:H}=w.current,{layout:te,panelDataArray:ye}=_.current,{initialLayout:we}=D??{},Be=Ot(ie,v,P);let K=Es(z,v,T,D,oe,P);const ot=T==="horizontal";ot&&I&&(K=-K);const Zt=ye.map(en=>en.constraints),ve=Se({delta:K,initialLayout:we??te,panelConstraints:Zt,pivotIndices:Be,prevLayout:te,trigger:kt(z)?"keyboard":"mouse-or-touch"}),lt=!ke(te,ve);(Tt(z)||Lt(z))&&L.current!=K&&(L.current=K,!lt&&K!==0?ot?Ge(v,K<0?Nt:At):Ge(v,K<0?$t:Dt):Ge(v,0)),lt&&(y(ve),_.current.layout=ve,H&&H(ve),me(ye,ve,E.current))}},[]),Q=h.useCallback((v,I)=>{const{onLayout:g}=w.current,{layout:C,panelDataArray:z}=_.current,P=z.map(te=>te.constraints),{panelSize:T,pivotIndices:D}=fe(z,v,C);k(T!=null,`Panel size not found for panel "${v.id}"`);const oe=be(z,v)===z.length-1?T-I:I-T,H=Se({delta:oe,initialLayout:C,panelConstraints:P,pivotIndices:D,prevLayout:C,trigger:"imperative-api"});ke(C,H)||(y(H),_.current.layout=H,g&&g(H),me(z,H,E.current))},[]),le=h.useCallback((v,I)=>{const{layout:g,panelDataArray:C}=_.current,{collapsedSize:z=0,collapsible:P}=I,{collapsedSize:T=0,collapsible:D,maxSize:ie=100,minSize:oe=0}=v.constraints,{panelSize:H}=fe(C,v,g);H!=null&&(P&&D&&ae(H,z)?ae(z,T)||Q(v,T):H<oe?Q(v,oe):H>ie&&Q(v,ie))},[Q]),re=h.useCallback((v,I)=>{const{direction:g}=w.current,{layout:C}=_.current;if(!f.current)return;const z=Pe(v,f.current);k(z,`Drag handle element not found for id "${v}"`);const P=Bt(g,I);x({dragHandleId:v,dragHandleRect:z.getBoundingClientRect(),initialCursorPosition:P,initialLayout:C})},[]),Y=h.useCallback(()=>{x(null)},[]),ee=h.useCallback(v=>{const{panelDataArray:I}=_.current,g=be(I,v);g>=0&&(I.splice(g,1),delete E.current[v.id],_.current.panelDataArrayChanged=!0,R())},[R]),X=h.useMemo(()=>({collapsePanel:M,direction:s,dragState:b,expandPanel:V,getPanelSize:q,getPanelStyle:$,groupId:u,isPanelCollapsed:N,isPanelExpanded:G,reevaluatePanelConstraints:le,registerPanel:B,registerResizeHandle:F,resizePanel:Q,startDragging:re,stopDragging:Y,unregisterPanel:ee,panelGroupElement:f.current}),[M,b,s,V,q,$,u,N,G,le,B,F,Q,re,Y,ee]),Z={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return h.createElement(De.Provider,{value:X},h.createElement(m,{...p,children:e,className:n,id:i,ref:f,style:{...Z,...d},[O.group]:"",[O.groupDirection]:s,[O.groupId]:u}))}const Wt=h.forwardRef((t,e)=>h.createElement(Gt,{...t,forwardedRef:e}));Gt.displayName="PanelGroup";Wt.displayName="forwardRef(PanelGroup)";function be(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function fe(t,e,n){const s=be(t,e),i=s===t.length-1?[s-1,s]:[s,s+1],o=n[s];return{...e.constraints,panelSize:o,pivotIndices:i}}function As({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:s}){h.useEffect(()=>{if(t||n==null||s==null)return;const r=Pe(e,s);if(r==null)return;const i=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const l=r.getAttribute(O.groupId);k(l,`No group element found for id "${l}"`);const c=_e(l,s),d=Ht(l,e,s);k(d!==null,`No resize element found for id "${e}"`);const m=o.shiftKey?d>0?d-1:c.length-1:d+1<c.length?d+1:0;c[m].focus();break}}};return r.addEventListener("keydown",i),()=>{r.removeEventListener("keydown",i)}},[s,t,e,n])}function Kt({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:s,id:r,onBlur:i,onClick:o,onDragging:l,onFocus:c,onPointerDown:d,onPointerUp:m,style:p={},tabIndex:u=0,tagName:f="div",...b}){var x,S;const y=h.useRef(null),R=h.useRef({onClick:o,onDragging:l,onPointerDown:d,onPointerUp:m});h.useEffect(()=>{R.current.onClick=o,R.current.onDragging=l,R.current.onPointerDown=d,R.current.onPointerUp=m});const E=h.useContext(De);if(E===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:j,groupId:L,registerResizeHandle:w,startDragging:_,stopDragging:M,panelGroupElement:V}=E,q=st(r),[$,N]=h.useState("inactive"),[G,B]=h.useState(!1),[F,Q]=h.useState(null),le=h.useRef({state:$});he(()=>{le.current.state=$}),h.useEffect(()=>{if(n)Q(null);else{const X=w(q);Q(()=>X)}},[n,q,w]);const re=(x=s?.coarse)!==null&&x!==void 0?x:15,Y=(S=s?.fine)!==null&&S!==void 0?S:5;h.useEffect(()=>{if(n||F==null)return;const X=y.current;k(X,"Element ref not attached");let Z=!1;return vs(q,X,j,{coarse:re,fine:Y},(I,g,C)=>{if(!g){N("inactive");return}switch(I){case"down":{N("drag"),Z=!1,k(C,'Expected event to be defined for "down" action'),_(q,C);const{onDragging:z,onPointerDown:P}=R.current;z?.(!0),P?.();break}case"move":{const{state:z}=le.current;Z=!0,z!=="drag"&&N("hover"),k(C,'Expected event to be defined for "move" action'),F(C);break}case"up":{N("hover"),M();const{onClick:z,onDragging:P,onPointerUp:T}=R.current;P?.(!1),T?.(),Z||z?.();break}}})},[re,j,n,Y,w,q,F,_,M]),As({disabled:n,handleId:q,resizeHandler:F,panelGroupElement:V});const ee={touchAction:"none",userSelect:"none"};return h.createElement(f,{...b,children:t,className:e,id:r,onBlur:()=>{B(!1),i?.()},onFocus:()=>{B(!0),c?.()},ref:y,role:"separator",style:{...ee,...p},tabIndex:u,[O.groupDirection]:j,[O.groupId]:L,[O.resizeHandle]:"",[O.resizeHandleActive]:$==="drag"?"pointer":G?"keyboard":void 0,[O.resizeHandleEnabled]:!n,[O.resizeHandleId]:q,[O.resizeHandleState]:$})}Kt.displayName="PanelResizeHandle";const $s="/stratakit/1256/assets/sandbox.model1-B8uu5h-t.json",Ds="/stratakit/1256/assets/sandbox.model2-Bi69Ub92.json",Fs="data:application/json;base64,ewoJIm5hbWUiOiAiRXBvY2ggU3lzdGVtIGlNb2RlbCAzIiwKCSJ2ZXJzaW9uIjogIjIwMjQgUmVmcmVzaCIsCgkiZGF0YSI6IHsKCQkiZGVmYXVsdCI6IFtdCgl9Cn0K",Hs="_appLayout_19oq0_5",Os="_header_19oq0_17",Us="_content_19oq0_30",Bs="_leftPanel_19oq0_34",Vs="_panelHeader_19oq0_45",qs="_panelTitleWrapper_19oq0_53",Qs="_panelCaption_19oq0_57",Gs="_shiftIconRight_19oq0_61",Ws="_subheader_19oq0_65",Ks="_searchInput_19oq0_81",Xs="_subheaderActions_19oq0_85",Js="_tabList_19oq0_89",Ys="_emptyState_19oq0_94",Zs="_skeletonTree_19oq0_103",er="_skeletonTreeItem_19oq0_110",tr="_canvasWrapper_19oq0_124",nr="_canvas_19oq0_124",sr="_splitter_19oq0_161",rr="_tabPanel_19oq0_187",ir="_tree_19oq0_196",or="_colorSwatch_19oq0_201",A={appLayout:Hs,header:Os,content:Us,leftPanel:Bs,panelHeader:Vs,panelTitleWrapper:qs,panelCaption:Qs,shiftIconRight:Gs,subheader:Ws,searchInput:Ks,subheaderActions:Xs,tabList:Js,emptyState:Ys,skeletonTree:Zs,skeletonTreeItem:er,canvasWrapper:tr,canvas:nr,splitter:sr,tabPanel:rr,tree:ir,colorSwatch:or},Ae={model1:{name:"Epoch System iModel 1",url:$s},model2:{name:"Epoch System iModel 2",url:Ds},model3:{name:"Epoch System iModel 3",url:Fs}};async function lr(t){if(t in Ae){const e=await fetch(Ae[t].url).then(n=>n.json());return e.slow&&await new Promise(n=>setTimeout(n,Math.random()*2e3)),e}return{name:"Unknown",version:"Unknown",data:{default:[]}}}const Xt="StrataKit sandbox",Ni=()=>[{title:Xt}],Ai=nn(function(){const e=U.c(4);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=a.jsx(ar,{}),e[0]=n):n=e[0];let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={display:"contents"},e[1]=s):s=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsxs("nav",{"aria-label":"Left panel",style:s,children:[a.jsx(Ze,{defaultSize:20,minSize:15,maxSize:35,className:A.leftPanel,children:a.jsx(ur,{})}),a.jsx(hr,{})]}),e[2]=r):r=e[2];let i;return e[3]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsxs("div",{className:A.appLayout,children:[n,a.jsxs(Wt,{direction:"horizontal",className:A.content,keyboardResizeBy:2.5,children:[r,a.jsx(Ze,{className:A.canvasWrapper,tagName:"main",children:a.jsx(cr,{})})]})]}),e[3]=i):i=e[3],i});function ar(){const t=U.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.jsx("header",{className:A.header,children:a.jsx($e,{render:a.jsx("h1",{}),variant:"body-md",children:Xt})}),t[0]=e):e=t[0],e}function cr(){const t=U.c(4);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.jsx(je,{render:a.jsx(de,{label:"Select",icon:`${Rn}#icon-large`,variant:"ghost"})}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=a.jsx(je,{render:a.jsx(de,{label:"Move",icon:`${_n}#icon-large`,variant:"ghost"})}),t[1]=n):n=t[1];let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx(je,{render:a.jsx(de,{label:"Draw",icon:`${Pn}#icon-large`,variant:"ghost"})}),t[2]=s):s=t[2];let r;return t[3]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx("div",{className:A.canvas,children:a.jsxs($n,{variant:"solid",children:[e,n,s,a.jsx(je,{render:a.jsx(de,{label:"Measure",icon:`${wn}#icon-large`,variant:"ghost"})})]})}),t[3]=r):r=t[3],r}function ur(){const t=U.c(35),[e,n]=sn();let s;t[0]!==e?(s=e.get("model")||"model1",t[0]=e,t[1]=s):s=t[1];const r=s;let i;t[2]!==r?(i={queryKey:["sandbox-data",r],queryFn:()=>lr(r),staleTime:Number.POSITIVE_INFINITY},t[2]=r,t[3]=i):i=t[3];const o=as(i);let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(Ce,{render:a.jsx(an,{}),children:"Choose Model"}),t[4]=l):l=t[4];let c;t[5]!==r||t[6]!==n?(c=a.jsxs(cn,{children:[l,a.jsx(un,{render:_=>a.jsx(dn,{className:A.panelTitleWrapper,children:a.jsx(fn,{..._,variant:"ghost",defaultValue:r,onChange:M=>n({model:M.currentTarget.value}),children:Object.entries(Ae).map(dr)})})})]}),t[5]=r,t[6]=n,t[7]=c):c=t[7];let d;t[8]===Symbol.for("react.memo_cache_sentinel")?(d=a.jsx("h2",{}),t[8]=d):d=t[8];const m=Ae[r]?.name;let p;t[9]!==m?(p=a.jsx(Ce,{render:d,children:m}),t[9]=m,t[10]=p):p=t[10];let u;t[11]===Symbol.for("react.memo_cache_sentinel")?(u=a.jsx(Le,{variant:"text"}),t[11]=u):u=t[11];let f;t[12]!==o?(f=a.jsx(xr,{query:o}),t[12]=o,t[13]=f):f=t[13];let b;t[14]!==r||t[15]!==f?(b=a.jsx(h.Suspense,{fallback:u,children:f},r),t[14]=r,t[15]=f,t[16]=b):b=t[16];let x;t[17]!==p||t[18]!==b?(x=a.jsxs("hgroup",{role:"group",children:[p,b]}),t[17]=p,t[18]=b,t[19]=x):x=t[19];let S;t[20]!==x||t[21]!==c?(S=a.jsxs("div",{children:[c,x]}),t[20]=x,t[21]=c,t[22]=S):S=t[22];let y;t[23]===Symbol.for("react.memo_cache_sentinel")?(y=a.jsx("div",{children:a.jsx(de,{className:A.shiftIconRight,icon:En,label:"Dock panel",variant:"ghost",disabled:!0})}),t[23]=y):y=t[23];let R;t[24]!==S?(R=a.jsxs("div",{className:A.panelHeader,children:[S,y]}),t[24]=S,t[25]=R):R=t[25];let E;t[26]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx(pr,{}),t[26]=E):E=t[26];let j;t[27]!==o?(j=a.jsx(fr,{query:o}),t[27]=o,t[28]=j):j=t[28];let L;t[29]!==r||t[30]!==j?(L=a.jsx(h.Suspense,{fallback:E,children:j},r),t[29]=r,t[30]=j,t[31]=L):L=t[31];let w;return t[32]!==R||t[33]!==L?(w=a.jsxs(a.Fragment,{children:[R,L]}),t[32]=R,t[33]=L,t[34]=w):w=t[34],w}function dr(t){const[e,n]=t,{name:s}=n;return a.jsx("option",{value:e,children:s},e)}function fr(t){const e=U.c(7),{data:n}=h.use(t.query.promise);let s;e[0]!==n?(s=Object.keys(n),e[0]=n,e[1]=s):s=e[1];const r=s.length!==1;let i;e[2]!==n?(i=a.jsx(gr,{data:n}),e[2]=n,e[3]=i):i=e[3];let o;return e[4]!==r||e[5]!==i?(o=a.jsx(Lr,{defaultVisible:r,children:i}),e[4]=r,e[5]=i,e[6]=o):o=e[6],o}function hr(){const t=U.c(6),e=h.useId();let n,s;t[0]!==e?(n=()=>{Pe(e)?.setAttribute("role","slider")},s=[e],t[0]=e,t[1]=n,t[2]=s):(n=t[1],s=t[2]),h.useEffect(n,s);let r;t[3]===Symbol.for("react.memo_cache_sentinel")?(r={fine:2,coarse:12},t[3]=r):r=t[3];let i;return t[4]!==e?(i=a.jsx(Kt,{id:e,hitAreaMargins:r,className:A.splitter,"aria-label":"Resize left panel"}),t[4]=e,t[5]=i):i=t[5],i}function pr(){const t=U.c(3);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[1,1,2,2,3,2,3,2,1,1,2,3,4,5,2,3,4,5],t[0]=e):e=t[0];const n=e;let s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx("div",{className:A.subheader,children:a.jsx(Le,{variant:"text"})}),t[1]=s):s=t[1];let r;return t[2]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsxs(a.Fragment,{children:[s,a.jsxs("div",{className:A.skeletonTree,children:[n.map(mr),a.jsx(Ce,{children:"Loadingâ€¦"})]})]}),t[2]=r):r=t[2],r}function mr(t,e){return a.jsx(br,{style:{"--level":t}},`${e}-${t}`)}function br(t){const e=U.c(7);let n;e[0]!==t.className?(n=rn(A.skeletonTreeItem,t.className),e[0]=t.className,e[1]=n):n=e[1];let s,r;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx(Le,{variant:"object",size:"small"}),r=a.jsx(Le,{variant:"text"}),e[2]=s,e[3]=r):(s=e[2],r=e[3]);let i;return e[4]!==t||e[5]!==n?(i=a.jsxs("div",{...t,className:n,children:[s,r]}),e[4]=t,e[5]=n,e[6]=i):i=e[6],i}function xr(t){const e=U.c(3),{version:n}=h.use(t.query.promise),s=n===void 0?"":n;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx("p",{}),e[0]=r):r=e[0];let i;return e[1]!==s?(i=a.jsx($e,{className:A.panelCaption,variant:"body-sm",render:r,children:s}),e[1]=s,e[2]=i):i=e[2],i}function gr(t){const e=U.c(20),{isSearchboxVisible:n}=h.useContext(it);let s;e[0]!==t.data?(s=Object.entries(t.data).map(vr),e[0]=t.data,e[1]=s):s=e[1];const r=s,[i,o]=h.useState(r[0]?.name);let l;e:{if(!i){l=r[0].filters;break e}let f;e[2]!==i||e[3]!==r?(f=r.find(b=>b.name===i)?.filters||[],e[2]=i,e[3]=r,e[4]=f):f=e[4],l=f}const c=l;if(r.length===1){let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=a.jsx(Rt,{}),e[5]=f):f=e[5];let b;return e[6]!==c||e[7]!==r[0].content?(b=a.jsxs(_t,{allFilters:c,children:[f,r[0].content]}),e[6]=c,e[7]=r[0].content,e[8]=b):b=e[8],b}let d;e[9]!==r?(d=a.jsx(Rt,{tabs:r.map(yr)}),e[9]=r,e[10]=d):d=e[10];let m;e[11]!==n||e[12]!==r?(m=r.map(f=>a.jsx(Dn,{role:n?"group":"tabpanel","aria-label":n?f.name:void 0,tabId:f.name,className:A.tabPanel,focusable:!1,unmountOnHide:!0,children:f.content},f.name)),e[11]=n,e[12]=r,e[13]=m):m=e[13];let p;e[14]!==d||e[15]!==m?(p=a.jsxs(Hn,{selectOnMove:!1,setSelectedId:o,children:[d,m]}),e[14]=d,e[15]=m,e[16]=p):p=e[16];let u;return e[17]!==c||e[18]!==p?(u=a.jsx(_t,{allFilters:c,children:p}),e[17]=c,e[18]=p,e[19]=u):u=e[19],u}function yr(t){return a.jsx(Fn,{id:t.name,children:on(t.name)},t.name)}function vr(t){const[e,n]=t,s=n.length<=1?[]:n.map(Sr);return{name:e,filters:s,content:n.length>0?a.jsx(Pr,{data:n}):a.jsxs(Ir,{children:[a.jsx($e,{variant:"body-sm",children:"No layers"}),a.jsx(ln,{children:"Create a layer"})]})}}function Sr(t){const{label:e}=t;return e}function Ir(t){const e=U.c(2),{children:n}=t;let s;return e[0]!==n?(s=a.jsx("div",{className:A.emptyState,children:n}),e[0]=n,e[1]=s):s=e[1],s}function zr(){const t=U.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.jsx("div",{style:{textAlign:"center"},children:a.jsx($e,{variant:"body-sm",children:"No results found"})}),t[0]=e):e=t[0],e}const Jt=(()=>{let t=0;return e=>({id:`${t++}`,label:`Tree Item ${t}`,expanded:!0,...e,items:(e?.items??[]).map(Jt)})})();function Cr(t){const e=U.c(14),{items:n,filters:s,search:r,errorIds:i}=t;let o;e:{if(s.length===0){o=n;break e}let f;if(e[0]!==s||e[1]!==n){let b;e[3]!==s?(b=(x,S)=>(s.includes(S.label)&&x.push(S),x),e[3]=s,e[4]=b):b=e[4],f=n.reduce(b,[]),e[0]=s,e[1]=n,e[2]=f}else f=e[2];o=f}const l=o;let c;if(e[5]!==i||e[6]!==l||e[7]!==r){e:{let f=function(b){return b.reduce((x,S)=>{const R=i.includes(S.id)?[]:f(S.items??[]);return(S.label.toLowerCase().includes(r.toLowerCase())||R.length>0)&&x.push({...S,items:R}),x},[])};if(r===""&&i.length===0){c=l;break e}c=f(l)}e[5]=i,e[6]=l,e[7]=r,e[8]=c}else c=e[8];const d=c;let m;e:{if(s.length===0&&r===""){m=void 0;break e}let f;if(e[9]!==d){let b=function(x){return x.reduce((S,y)=>{const R=y.items?b(y.items):0;return S+1+R},0)};f=b(d),e[9]=d,e[10]=f}else f=e[10];m=f}const p=m;let u;return e[11]!==d||e[12]!==p?(u={filteredTree:d,itemCount:p},e[11]=d,e[12]=p,e[13]=u):u=e[13],u}function Rr(t,e){const n=U.c(3);let s;if(n[0]!==e||n[1]!==t){let r=function(i){return i.reduce((o,l)=>(e.includes(l.id)&&o.push(l),l.items&&o.push(...r(l.items)),o),[])};s=r(t),n[0]=e,n[1]=t,n[2]=s}else s=n[2];return s}function _r(t,e,n){const s=U.c(4);let r;if(s[0]!==n||s[1]!==t||s[2]!==e){let i=function(o,l,c,d,m){const p=[];let u=1;for(const f of o){const b=f.id===e||d,x=n.includes(f.id)||m;p.push({...f,level:c,parentItem:l,selected:b,hidden:x,parentHidden:m,position:u++,size:o.length}),f.expanded&&p.push(...i(f.items,f,c+1,b,x))}return p};r=i(t,void 0,1,!1,!1),s[0]=n,s[1]=t,s[2]=e,s[3]=r}else r=s[3];return r}function Yt(t,e){for(const n of t){if(n.id===e)return n;const s=Yt(n.items,e);if(s)return s}}function Pr(t){const e=U.c(41),{data:n}=t,{appliedFilters:s,search:r,setItemCount:i}=h.useContext(Ue),o=h.useId(),[l,c]=h.useState();let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[0]=d):d=e[0];const[m,p]=h.useState(d);let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=I=>{p(g=>g.includes(I)?g.filter(C=>C!==I):[...g,I])},e[1]=u):u=e[1];const f=u;let b;e[2]!==n?(b=()=>n.map(jr),e[2]=n,e[3]=b):b=e[3];const[x,S]=h.useState(b);let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=["benstr","benroad"],e[4]=y):y=e[4];const[R,E]=h.useState(y),j=Rr(x,R);let L;e[5]!==j?(L=j.filter(Er),e[5]=j,e[6]=L):L=e[6];const w=L;let _;e[7]!==w?(_=w.map(wr),e[7]=w,e[8]=_):_=e[8];const M=_;let V;e[9]!==M||e[10]!==s||e[11]!==x||e[12]!==r?(V={items:x,filters:s,search:r,errorIds:M},e[9]=M,e[10]=s,e[11]=x,e[12]=r,e[13]=V):V=e[13];const{filteredTree:q,itemCount:$}=Cr(V),N=_r(q,l,m);let G,B;e[14]!==$||e[15]!==i?(G=()=>{i($)},B=[i,$],e[14]=$,e[15]=i,e[16]=G,e[17]=B):(G=e[16],B=e[17]),h.useEffect(G,B);const F=w.length;let Q;e:{if(F===0){Q=void 0;break e}if(F===1){Q="1 issue found";break e}Q=`${F} issues found`}const le=Q,re=h.useDeferredValue(N);if(re.length===0){let I;return e[18]===Symbol.for("react.memo_cache_sentinel")?(I=a.jsx(zr,{}),e[18]=I):I=e[18],I}let Y;if(e[19]!==w||e[20]!==o){let I;e[22]!==o?(I=g=>{const C=`${o}-${g.id}`;return a.jsx(Un,{message:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Failed to create hierarchy for "}),a.jsx(ct,{href:`#${C}`,children:g.label})]}),messageId:`${C}-message`,actions:a.jsx(ct,{render:a.jsx("button",{}),onClick:()=>{E(z=>z.filter(P=>P!==g.id))},children:"Retry"},"retry")},g.id)},e[22]=o,e[23]=I):I=e[23],Y=w.map(I),e[19]=w,e[20]=o,e[21]=Y}else Y=e[21];let ee;e[24]!==le||e[25]!==Y?(ee=a.jsx(Bn,{"aria-label":"Tree errors",label:le,items:Y}),e[24]=le,e[25]=Y,e[26]=ee):ee=e[26];let X;if(e[27]!==re||e[28]!==w||e[29]!==l||e[30]!==o){let I;e[32]!==w||e[33]!==l||e[34]!==o?(I=g=>{const C=w.find(P=>P.id===g.id),z=C?`${o}-${g.id}`:void 0;return a.jsx(In,{id:z,label:g.label,description:g.description,"aria-level":g.level,"aria-posinset":g.position,"aria-setsize":g.size,selected:g.selected,onSelectedChange:()=>{if(l===g.id){c(void 0);return}c(g.id)},expanded:g.items.length===0&&!C?void 0:g.expanded,onExpandedChange:P=>{S(zn(T=>{const D=Yt(T,g.id);D&&(D.expanded=P)}))},unstable_decorations:a.jsxs(a.Fragment,{children:[g.color?a.jsx(Mr,{color:g.color,alt:g.color}):null,a.jsx(bn,{href:Nn})]}),inlineActions:C?[a.jsx(W,{icon:jn,label:"Retry",onClick:()=>{E(P=>P.filter(T=>T!==g.id))}},"retry")]:[a.jsx(W,{icon:kn,label:"Lock"},"lock"),a.jsx(kr,{item:g,onClick:f},"visibility")],actions:[a.jsx(W,{label:"Copy"},"copy"),a.jsx(W,{label:"Paste"},"paste"),a.jsx(W,{label:"Copy/Paste as"},"copy-paste"),a.jsx(W,{label:"Move to"},"move"),a.jsx(W,{label:"Bring to front"},"bring-to-front"),a.jsx(W,{label:"Send to back"},"send-to-back"),a.jsx(W,{label:"Group selection"},"group"),a.jsx(W,{label:"Ungroup"},"ungroup"),a.jsx(W,{label:"Rename"},"rename"),a.jsx(W,{label:"Show/hide"},"show-hide"),a.jsx(W,{label:"Lock/unlock"},"lock-unlock"),a.jsx(W,{label:"Isolate object"},"isolate")],error:C?`${z}-message`:void 0},g.id)},e[32]=w,e[33]=l,e[34]=o,e[35]=I):I=e[35],X=re.map(I),e[27]=re,e[28]=w,e[29]=l,e[30]=o,e[31]=X}else X=e[31];let Z;e[36]!==X?(Z=a.jsx(Cn,{className:A.tree,children:X}),e[36]=X,e[37]=Z):Z=e[37];let v;return e[38]!==ee||e[39]!==Z?(v=a.jsxs(h.Suspense,{fallback:"Loading...",children:[ee,Z]}),e[38]=ee,e[39]=Z,e[40]=v):v=e[40],v}function wr(t){return t.id}function Er(t){return t.expanded}function jr(t){return Jt(t)}function kr(t){const e=U.c(9),{item:n,onClick:s}=t,r=n.hidden?Tn:An,i=n.hidden?"Show":"Hide",o=n.hidden?!0:void 0;let l;e[0]!==n.id||e[1]!==s?(l=()=>{s(n.id)},e[0]=n.id,e[1]=s,e[2]=l):l=e[2];const c=l,d=n.hidden?"Hidden":void 0;let m;return e[3]!==r||e[4]!==i||e[5]!==o||e[6]!==c||e[7]!==d?(m=a.jsx(W,{icon:r,label:i,visible:o,onClick:c,dot:d},"visibility"),e[3]=r,e[4]=i,e[5]=o,e[6]=c,e[7]=d,e[8]=m):m=e[8],m}function Rt(t){const e=U.c(20),{tabs:n}=t,{itemCount:s,isFiltered:r,search:i,setSearch:o}=h.useContext(Ue),{isSearchboxVisible:l,setIsSearchboxVisible:c}=h.useContext(it),d=h.useRef(null),m=h.useRef(null),p=r||!!i;let u;e[0]!==p||e[1]!==l||e[2]!==c||e[3]!==n?(u=l?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{}),n?a.jsx(de,{className:A.shiftIconRight,icon:Mn,label:"Close",variant:"ghost",onClick:()=>{at.flushSync(()=>c(!1)),m.current?.focus()}}):null]}):a.jsx(de,{className:A.shiftIconRight,icon:ht,label:"Search",dot:p?"Some filters or search applied":void 0,variant:"ghost",onClick:()=>{at.flushSync(()=>c(!0)),d.current?.focus()}}),e[0]=p,e[1]=l,e[2]=c,e[3]=n,e[4]=u):u=e[4];const f=u;let b;e:{if(!r){b=void 0;break e}if(s===void 0){b="Showing all tree items";break e}b=`Showing ${s} tree items`}const x=b;let S;e[5]!==x?(S=a.jsx(Ce,{"aria-live":"polite","aria-atomic":!0,children:x}),e[5]=x,e[6]=S):S=e[6];let y;e[7]!==l||e[8]!==n?(y=n&&!l?a.jsx(On,{className:A.tabList,tone:"accent",ref:m,children:n}):null,e[7]=l,e[8]=n,e[9]=y):y=e[9];let R;e[10]!==l||e[11]!==o?(R=l?a.jsxs(hn,{className:A.searchInput,children:[a.jsx(pn,{href:ht}),a.jsx(mn,{placeholder:"Search",ref:d,onChange:L=>o(L.currentTarget.value)})]}):null,e[10]=l,e[11]=o,e[12]=R):R=e[12];let E;e[13]!==f?(E=a.jsx("div",{className:A.subheaderActions,children:f}),e[13]=f,e[14]=E):E=e[14];let j;return e[15]!==S||e[16]!==y||e[17]!==R||e[18]!==E?(j=a.jsxs("div",{className:A.subheader,children:[S,y,R,E]}),e[15]=S,e[16]=y,e[17]=R,e[18]=E,e[19]=j):j=e[19],j}function Tr(){const t=U.c(10),e=h.useContext(Ue),s=e.appliedFilters.length>0?"Some filters applied":void 0,r=e.allFilters.length===0;let i;t[0]!==s||t[1]!==r?(i=a.jsx(qn,{render:a.jsx(de,{icon:Ln,label:"Filter",dot:s,variant:"ghost",disabled:r})}),t[0]=s,t[1]=r,t[2]=i):i=t[2];let o;t[3]!==e?(o=e.allFilters.map(d=>{const m=e.appliedFilters.includes(d);return a.jsx(Vn,{name:d,label:d,checked:m,onChange:()=>{e.toggleFilter(d)}},d)}),t[3]=e,t[4]=o):o=t[4];let l;t[5]!==o?(l=a.jsx(Qn,{children:o}),t[5]=o,t[6]=l):l=t[6];let c;return t[7]!==i||t[8]!==l?(c=a.jsxs(Gn,{children:[i,l]}),t[7]=i,t[8]=l,t[9]=c):c=t[9],c}function _t(t){const e=U.c(15),[n,s]=h.useState(!1);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[i,o]=h.useState(r),[l,c]=h.useState(""),[d,m]=h.useState(void 0);let p;e[1]!==i?(p=j=>{const L=i.includes(j)?i.filter(w=>w!==j):[...i,j];o(L),s(L.length>0)},e[1]=i,e[2]=p):p=e[2];const u=p;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{o([]),s(!1)},e[3]=f):f=e[3];const b=f;let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=j=>{c(j),s(!!j)},e[4]=x):x=e[4];const S=x;let y;e[5]!==i||e[6]!==n||e[7]!==d||e[8]!==t.allFilters||e[9]!==l||e[10]!==u?(y={allFilters:t.allFilters,appliedFilters:i,isFiltered:n,toggleFilter:u,clearFilters:b,search:l,setSearch:S,itemCount:d,setItemCount:m},e[5]=i,e[6]=n,e[7]=d,e[8]=t.allFilters,e[9]=l,e[10]=u,e[11]=y):y=e[11];const R=y;let E;return e[12]!==t.children||e[13]!==R?(E=a.jsx(Ue.Provider,{value:R,children:t.children}),e[12]=t.children,e[13]=R,e[14]=E):E=e[14],E}const Ue=h.createContext({allFilters:[],appliedFilters:[],isFiltered:!1,toggleFilter:()=>{},clearFilters:()=>{},search:"",setSearch:()=>{},itemCount:void 0,setItemCount:()=>{}});function Lr(t){const e=U.c(5),[n,s]=h.useState(!t.defaultVisible);let r;e[0]!==n?(r={isSearchboxVisible:n,setIsSearchboxVisible:s},e[0]=n,e[1]=r):r=e[1];const i=r;let o;return e[2]!==t.children||e[3]!==i?(o=a.jsx(it.Provider,{value:i,children:t.children}),e[2]=t.children,e[3]=i,e[4]=o):o=e[4],o}const it=h.createContext({isSearchboxVisible:!1,setIsSearchboxVisible:()=>{}});function Mr(t){const e=U.c(7),n=`var(--_color--${t.color})`;let s;e[0]!==n?(s={"--_color":n},e[0]=n,e[1]=s):s=e[1];const r=s;let i;e[2]!==t.alt?(i=t.alt?a.jsx(Ce,{children:t.alt}):null,e[2]=t.alt,e[3]=i):i=e[3];let o;return e[4]!==r||e[5]!==i?(o=a.jsx("div",{className:A.colorSwatch,style:r,children:i}),e[4]=r,e[5]=i,e[6]=o):o=e[6],o}export{Ai as default,Ni as meta};
