import{w as V}from"./LMDWO4NN-SGO35Sn1.js";import{n as e,a as n,t as U}from"./chunk-D52XG6IA-Bjtbe6aB.js";import{a as B}from"./index-h2OwknZM.js";import{D as q,a as J,b as Q,c as b}from"./DropdownMenu-CrqDj8yb.js";import{D as Y}from"./Divider-x5fmTwpd.js";import{I as R}from"./Icon-sUEPuGiX.js";import{I as y}from"./IconButton-DvhWvt27.js";import{T as Z,a as ee,b as te}from"./TextBox-DW3Vrkxp.js";import{V as T}from"./VisuallyHidden-wPE1jjpq.js";import{T as ne,a as se,b as le,c as ae}from"./Tree-BOcOL8Vi.js";import{p as I}from"./placeholder-BOuIlaoq.js";import{p as re,l as ie,s as oe,a as z,d as ce,f as de}from"./visibility-show-B5CCx8JA.js";import{R as ue}from"./XL7CSKGW-Bj6N_gdg.js";import"./index-BCMTPUG2.js";import"./~utils-bgFDR2pr.js";import"./Button-BoV_bj8s.js";import"./KUU7WJ55-CxesKT3y.js";import"./LVA2YJMS-_GQ0__BM.js";import"./Kbd-CO7injhN.js";import"./P2CTZE2T-BN4mKOuc.js";import"./YV4JVR4I-D_VatxNX.js";import"./BYC7LY2E-CQ8Lds9I.js";import"./VGCJ63VH-DQ4411sn.js";import"./XX67R432-UkYfFkYB.js";import"./MTZPJQMC-BSNGTYDZ.js";import"./ITI7HKP4-CZZkUcIS.js";import"./P4IRICAX-BXdW1VUB.js";import"./Tooltip-edzaN2iN.js";import"./Field-BUXxuFsc.js";import"./~hooks-uds3lZtK.js";import"./Icon-BWW-Fjy3.js";const pe="_appLayout_pavyn_5",xe="_platformBar_pavyn_14",he="_logo_pavyn_19",me="_tools_pavyn_29",je="_leftPanel_pavyn_39",be="_header_pavyn_50",fe="_panelTitle_pavyn_58",ve="_panelCaption_pavyn_64",Ce="_shiftIconRight_pavyn_68",Ae="_subheader_pavyn_72",ge="_subheaderTitle_pavyn_82",_e="_searchInput_pavyn_87",ye="_subheaderActions_pavyn_91",Se="_tree_pavyn_95",Pe="_canvasWrapper_pavyn_99",Re="_canvas_pavyn_99",Ie="_splitter_pavyn_121",Me="_action_pavyn_152",De="_slider_pavyn_160",i={appLayout:pe,platformBar:xe,logo:he,tools:me,leftPanel:je,header:be,panelTitle:fe,panelCaption:ve,shiftIconRight:Ce,subheader:Ae,subheaderTitle:ge,searchInput:_e,subheaderActions:ye,tree:Se,canvasWrapper:Pe,canvas:Re,splitter:Ie,action:Me,slider:De},K="Kiwi sandbox",jt=()=>[{title:K}],bt=V(function(){const{sliderProps:l,panelProps:a,panelMinSize:o,panelMaxSize:x,resizing:r}=ke({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(T,{render:j=>e.jsx("h1",{...j}),children:K}),e.jsxs("div",{className:i.appLayout,style:{"--_panel-min-size":o,"--_panel-max-size":x},children:[e.jsxs("div",{className:i.platformBar,children:[e.jsx("div",{className:i.logo,children:e.jsx(R,{href:I,size:"large"})}),e.jsxs("div",{className:i.tools,children:[e.jsx(R,{href:I,size:"large"}),e.jsx(R,{href:I,size:"large"}),e.jsx(R,{href:I,size:"large"})]})]}),e.jsxs("div",{...a,className:i.leftPanel,style:{position:"relative",...a.style},children:[e.jsxs("div",{className:i.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:i.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:i.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:i.actions,children:e.jsx(y,{className:i.shiftIconRight,icon:re,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Ke,{}),e.jsx(ze,{}),e.jsx(Y,{presentational:!0,className:i.splitter,"data-resizing":r?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:i.slider,...l})})]}),e.jsx("div",{className:i.canvasWrapper,children:e.jsx("div",{className:i.canvas})})]})]})});function Ne(c,l,a){return Math.min(Math.max(c,l),a)}function ke(c){const{minSize:l,maxSize:a,onCollapse:o}=c??{},x=n.useId(),r=n.useRef(null),[j,C]=n.useState(void 0),[f,s]=n.useState(void 0),[u,h]=n.useState(void 0),[v,M]=n.useState(!1),[S,D]=n.useState(void 0),m=n.useMemo(()=>{if(l&&f)return Math.min(l.px,l.pct/100*f)},[l,f]),g=n.useMemo(()=>{if(m&&a&&f)return Math.max(m,a.pct/100*f)},[a,f,m]),_=n.useMemo(()=>{if(u==="smallest")return m??0;if(u==="largest")return g??0;if(j&&m&&g)return Ne(j,m,g)},[j,m,g,u]);n.useEffect(()=>{const d=r.current;if(!d)return;const p=d.parentElement;if(!p)return;const A=new ResizeObserver(()=>{const N=p.getBoundingClientRect(),k=d.getBoundingClientRect();s(N.width),C(k.width)});return A.observe(p),A.observe(d),()=>{A.disconnect()}},[]);const X=n.useCallback(d=>{const p=r.current;if(!p)return;const A=p.getBoundingClientRect();D(A.width+d),h(void 0),M(!0)},[]),L=n.useCallback(d=>{const p=r.current;if(!p)return;const A=p.parentElement;if(!A)return;const N=A.getBoundingClientRect(),k=d*(N.width*.005),H=p.getBoundingClientRect();D(H.width+k),h(void 0)},[]),O=n.useCallback(()=>{r.current&&(D(void 0),M(!1))},[]),{moveableProps:P}=Be({onMove:X,onMoveEnd:O,onKeyMove:L}),G=n.useMemo(()=>({...P,onKeyDown:d=>{var p;if((p=P.onKeyDown)==null||p.call(P,d),!d.defaultPrevented)switch(d.key){case"Enter":d.preventDefault(),o==null||o();break;case"Home":d.preventDefault(),h("smallest");break;case"End":d.preventDefault(),h("largest");break}},onChange:d=>{if(v)return;const p=Number(d.target.value);D(p)},value:_===void 0?0:Math.floor(_),min:m===void 0?void 0:Math.floor(m),max:g===void 0?void 0:Math.floor(g)}),[P,_,m,g,o,v]),F=n.useMemo(()=>({style:{WebkitUserSelect:S===void 0?void 0:"none"},id:x,ref:r}),[x,S]),W=m===void 0?void 0:`${m}px`,$=n.useMemo(()=>{if(S!==void 0&&a!==void 0&&u===void 0)return`min(${S}px, ${a.pct}%)`;if(_!==void 0)return`${_}px`},[a,S,_,u]);return{sliderProps:G,panelProps:F,panelMinSize:W,panelMaxSize:$,resizing:v}}function Be(c){const{onMove:l,onMoveEnd:a,onKeyMove:o}=c??{},x=n.useRef(null),r=n.useRef(void 0),j=n.useRef(void 0),C=n.useCallback(()=>{j.current!==void 0&&(j.current=void 0,a==null||a())},[a]);return{moveableProps:n.useMemo(()=>({onPointerDown:s=>{if(s.button!==0||s.ctrlKey)return;const u=x.current;if(!u)return;const h=u.getBoundingClientRect(),v=s.clientX-h.left;j.current=v,s.preventDefault(),u.setPointerCapture(s.pointerId)},onPointerMove:s=>{const u=j.current;if(u===void 0)return;const h=x.current;if(!h)return;const v=h.getBoundingClientRect(),M=s.clientX-u-v.left;s.preventDefault(),l==null||l(M)},onPointerUp:C,onPointerCancel:C,onKeyDown:s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowLeft":s.preventDefault(),o==null||o(-1);break;case"ArrowRight":s.preventDefault(),o==null||o(1);break}},ref:s=>{var h;if(x.current=s,(h=r.current)==null||h.call(r),r.current=void 0,!s)return;const u=v=>{v.preventDefault()};s.addEventListener("touchstart",u),r.current=()=>{s.removeEventListener("touchstart",u)}}}),[o,l,C])}}const E=n.createContext({selected:void 0,setSelected:()=>{}});function ze(){const[c]=U(),l=c.get("tree"),[a,o]=n.useState();return e.jsx(E.Provider,{value:{selected:a,setSelected:o},children:e.jsx(ne,{className:i.tree,children:l==="complex"?e.jsx(Te,{}):e.jsx(we,{})})})}function we(){return e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Guides",children:e.jsxs(t,{label:"Tree",children:[e.jsx(t,{label:"Guide 4"}),e.jsx(t,{label:"Guide 3"}),e.jsx(t,{label:"Guide 2"}),e.jsx(t,{label:"Guide 1",lockAction:!0})]})}),e.jsxs(t,{label:"Other",children:[e.jsx(t,{label:"Object 2",children:e.jsx(t,{label:"Path 3"})}),e.jsx(t,{label:"Object 1",visibilityAction:!0})]}),e.jsxs(t,{label:"Road",children:[e.jsx(t,{label:"Parking lot access"}),e.jsx(t,{label:"Site access",lockAction:!0,visibilityAction:!0})]}),e.jsx(t,{label:"Parking lot",children:e.jsxs(t,{label:"Parking area",children:[e.jsx(t,{label:"Bay point 2"}),e.jsx(t,{label:"Bay point 1"}),e.jsx(t,{label:"Space point 1"}),e.jsx(t,{label:"Path 6"})]})}),e.jsx(t,{label:"Building",children:e.jsx(t,{label:"Building area",children:e.jsx(t,{label:"Path 5"})})}),e.jsx(t,{label:"Sewer",children:e.jsx(t,{label:"Run off pipe",children:e.jsx(t,{label:"Path 4"})})}),e.jsx(t,{label:"Project boundary",children:e.jsx(t,{label:"Property area",children:e.jsx(t,{label:"Path 1"})})}),e.jsx(t,{label:"Map",children:e.jsx(t,{label:"Location",children:e.jsx(t,{label:"Terrain"})})})]})}function Te(){return e.jsxs(e.Fragment,{children:[e.jsxs(t,{label:"ITC_Master",children:[e.jsx(t,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(t,{label:"002_Substation_A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,lockAction:!0,visibilityAction:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,lockAction:!0,visibilityAction:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002-A",lockAction:!0,visibilityAction:!0})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(t,{label:"007-aa_master.dgn",children:[e.jsx(t,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(t,{label:"A-CLNG-LITE-A"})}),e.jsx(t,{label:"A-CLNG-TILE",children:e.jsxs(t,{label:"A-DOOR-2D-PLAN",children:[e.jsx(t,{label:"P00003 [2-KA62]",children:e.jsx(t,{label:"Cell [2-KA63]",children:e.jsxs(t,{label:"Cell [2-KA64]",children:[e.jsx(t,{label:"Complex Chain [2-KA6A]"}),e.jsx(t,{label:"Complex Chain [2-KA6B]",lockAction:!0,visibilityAction:!0}),e.jsx(t,{label:"Complex Chain [2-KA6C]",lockAction:!0,visibilityAction:!0}),e.jsx(t,{label:"Complex Chain [2-KA6D]",lockAction:!0,visibilityAction:!0}),e.jsx(t,{label:"Complex Chain [2-KA6E]"}),e.jsx(t,{label:"Complex Chain [2-KA6F]"}),e.jsx(t,{label:"Complex Chain [2-KA6G]"}),e.jsx(t,{label:"Complex Chain [2-KA6H]"}),e.jsx(t,{label:"Complex Chain [2-KA61]"}),e.jsx(t,{label:"Complex Chain [2-KA65]"}),e.jsx(t,{label:"Complex Chain [2-KA66]"}),e.jsx(t,{label:"Complex Chain [2-KA67]"}),e.jsx(t,{label:"Complex Chain [2-KA68]"}),e.jsx(t,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(t,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA98-A]"})}),e.jsx(t,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(t,{label:"ITC_Main",lockAction:!0,visibilityAction:!0})]})}const w=n.createContext({selected:!1});function t(c){const l=n.useId(),a=n.Children.count(c.children)>0,[o,x]=n.useState(c.defaultCollapsed===void 0?!0:!c.defaultCollapsed),r=n.useContext(E),C=n.useContext(w).selected||l===r.selected,f=n.useCallback(()=>{r.setSelected(s=>{if(s!==l)return l})},[l,r]);return e.jsx(w.Provider,{value:{selected:C},children:e.jsx(se,{content:e.jsxs(e.Fragment,{children:[e.jsx(le,{onClick:()=>{x(s=>!s)}}),e.jsx(R,{href:I,style:{display:"inline"}}),e.jsx(ae,{onClick:()=>{f()},children:c.label}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(y,{className:i.action,icon:ie,label:"Lock",variant:"ghost","aria-hidden":!c.lockAction}),e.jsx(y,{className:i.action,icon:oe,label:"Show",variant:"ghost","aria-hidden":!c.visibilityAction})]})]}),expanded:a?o:void 0,selected:C,children:o?c.children:void 0})})}function Ke(){const[c,l]=n.useState(!1),a=n.useRef(null),o=n.useRef(null),x=c?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{}),e.jsx(y,{className:i.shiftIconRight,icon:ce,label:"Close",variant:"ghost",onClick:()=>{var r;B.flushSync(()=>l(!1)),(r=o.current)==null||r.focus()}})]}):e.jsx(y,{className:i.shiftIconRight,icon:z,label:"Search",variant:"ghost",onClick:()=>{var r;B.flushSync(()=>l(!0)),(r=a.current)==null||r.focus()}});return e.jsxs("div",{className:i.subheader,children:[e.jsx(ue.h3,{className:i.subheaderTitle,tabIndex:-1,ref:o,render:c?e.jsx(T,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),c?e.jsxs(Z,{className:i.searchInput,children:[e.jsx(ee,{href:z}),e.jsx(te,{placeholder:"Search",ref:a})]}):null,e.jsx("div",{className:i.subheaderActions,children:x})]})}function Ee(){return e.jsxs(q,{children:[e.jsx(J,{render:e.jsx(y,{icon:de,label:"Filter",variant:"ghost"})}),e.jsxs(Q,{style:{minInlineSize:164},children:[e.jsx(b,{children:"Show all"}),e.jsx(b,{children:"Guides"}),e.jsx(b,{children:"Other"}),e.jsx(b,{children:"Roadway"}),e.jsx(b,{children:"Parking"}),e.jsx(b,{children:"Building"}),e.jsx(b,{children:"Dry utility"}),e.jsx(b,{children:"Stormwater"}),e.jsx(b,{children:"Sewer"}),e.jsx(b,{children:"Boundary"}),e.jsx(b,{children:"Map"})]})]})}export{bt as default,jt as meta};
