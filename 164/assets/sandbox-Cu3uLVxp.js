import{w as H}from"./with-props-XFbs5UV3.js";import{l as e,r as n}from"./chunk-7R3XDUXW-DxTo8O6G.js";import{r as k}from"./index-CpodmKhz.js";import{D as U,a as q,b as J,c as j}from"./DropdownMenu-DxqKIjI_.js";import{D as Q}from"./Divider-Fk3IPNVU.js";import{I as z}from"./Icon-DEYvwDNQ.js";import{I as w}from"./IconButton-D7CQjlsK.js";import{T as Y,a as Z,b as ee}from"./TextBox-OVaNxJiM.js";import{T as te,a as ne}from"./Tree-Cri-tYTu.js";import{V as L}from"./VisuallyHidden-DpR5ZIYl.js";import{L as re}from"./ListItem-BmEjkIOs.js";import{p as I}from"./placeholder-CxjXGef7.js";import{p as se,c as oe,s as T,d as ie,f as ae}from"./chevron-down-DPNK3pLJ.js";import{R as ce}from"./XL7CSKGW-dh1dRh0h.js";import"./index-6yh6O1FZ.js";import"./ListItem-NN_h3XYs.js";import"./Button-PGXhnZ6-.js";import"./KUU7WJ55-D-YHFOBk.js";import"./LVA2YJMS-D4_IrASL.js";import"./LMDWO4NN-DZi_YyQu.js";import"./P2CTZE2T-DiKUJO9D.js";import"./YV4JVR4I-IQnN8q1u.js";import"./BYC7LY2E-BfotWczU.js";import"./VGCJ63VH-DCGxV_XM.js";import"./XX67R432-CnBfjeG9.js";import"./MTZPJQMC-BlK_aww9.js";import"./ITI7HKP4-BTCbsDiF.js";import"./P4IRICAX-DZlrdNUQ.js";import"./Tooltip-BFjDwZIh.js";import"./~hooks-CW6k0nNz.js";import"./Field-DTbqARiF.js";const le="_appLayout_133u6_5",de="_platformBar_133u6_14",ue="_logo_133u6_19",pe="_tools_133u6_29",he="_leftPanel_133u6_39",me="_header_133u6_49",fe="_panelTitle_133u6_57",xe="_panelCaption_133u6_63",je="_shiftIconRight_133u6_67",ve="_subheader_133u6_71",ge="_subheaderTitle_133u6_81",_e="_searchInput_133u6_86",be="_subheaderActions_133u6_90",Se="_tree_133u6_94",Re="_canvasWrapper_133u6_102",ye="_canvas_133u6_102",Pe="_splitter_133u6_124",ze="_slider_133u6_155",s={appLayout:le,platformBar:de,logo:ue,tools:pe,leftPanel:he,header:me,panelTitle:fe,panelCaption:xe,shiftIconRight:je,subheader:ve,subheaderTitle:ge,searchInput:_e,subheaderActions:be,tree:Se,canvasWrapper:Re,canvas:ye,splitter:Pe,slider:ze},E="Kiwi sandbox",ut=()=>[{title:E},{name:"color-scheme",content:"dark"}],A="left-panel",pt=H(function(){const{sliderProps:o,panelProps:i,panelMinSize:l,panelMaxSize:h,resizing:d}=we({minSize:{px:256,pct:20},maxSize:{pct:30},labelledby:A});return e.jsxs(e.Fragment,{children:[e.jsx(L,{render:m=>e.jsx("h1",{...m}),children:E}),e.jsxs("div",{className:s.appLayout,style:{"--_panel-min-size":l,"--_panel-max-size":h},children:[e.jsxs("div",{className:s.platformBar,children:[e.jsx("div",{className:s.logo,children:e.jsx(z,{href:I,size:"large"})}),e.jsxs("div",{className:s.tools,children:[e.jsx(z,{href:I,size:"large"}),e.jsx(z,{href:I,size:"large"}),e.jsx(z,{href:I,size:"large"})]})]}),e.jsxs("div",{...i,className:s.leftPanel,style:{position:"relative",...i.style},children:[e.jsxs("div",{className:s.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:s.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:s.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:s.actions,children:e.jsx(w,{className:s.shiftIconRight,icon:se,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(De,{}),e.jsx(Be,{}),e.jsx(Q,{presentational:!0,className:s.splitter,"data-resizing":d?"true":void 0,children:e.jsx("input",{type:"range",className:s.slider,...o})})]}),e.jsx("div",{className:s.canvasWrapper,children:e.jsx("div",{className:s.canvas})})]})]})});function Ie(c,o,i){return Math.min(Math.max(c,o),i)}function we(c){const{minSize:o,maxSize:i,labelledby:l,onCollapse:h}=c??{},d=n.useId(),m=n.useRef(null),[_,D]=n.useState(void 0),[r,x]=n.useState(void 0),[p,v]=n.useState(void 0),[R,N]=n.useState(!1),[y,M]=n.useState(void 0),f=n.useMemo(()=>{if(o&&r)return Math.min(o.px,o.pct/100*r)},[o,r]),b=n.useMemo(()=>{if(f&&i&&r)return Math.max(f,i.pct/100*r)},[i,r,f]),S=n.useMemo(()=>{if(p==="smallest")return f??0;if(p==="largest")return b??0;if(_&&f&&b)return Ie(_,f,b)},[_,f,b,p]);n.useEffect(()=>{const a=m.current;if(!a)return;const u=a.parentElement;if(!u)return;const g=new ResizeObserver(()=>{const B=u.getBoundingClientRect(),C=a.getBoundingClientRect();x(B.width),D(C.width)});return g.observe(u),g.observe(a),()=>{g.disconnect()}},[]);const G=n.useCallback(a=>{const u=m.current;if(!u)return;const g=u.getBoundingClientRect();M(g.width+a),v(void 0),N(!0)},[]),O=n.useCallback(a=>{const u=m.current;if(!u)return;const g=u.parentElement;if(!g)return;const B=g.getBoundingClientRect(),C=a*(B.width*.005),X=u.getBoundingClientRect();M(X.width+C),v(void 0)},[]),W=n.useCallback(()=>{m.current&&(M(void 0),N(!1))},[]),{moveableProps:P}=Me({onMove:G,onMoveEnd:W,onKeyMove:O}),$=n.useMemo(()=>({...P,onKeyDown:a=>{var u;if((u=P.onKeyDown)==null||u.call(P,a),!a.defaultPrevented)switch(a.key){case"Enter":a.preventDefault(),h==null||h();break;case"Home":a.preventDefault(),v("smallest");break;case"End":a.preventDefault(),v("largest");break}},onChange:a=>{if(R)return;const u=Number(a.target.value);M(u)},value:S===void 0?0:Math.floor(S),min:f===void 0?void 0:Math.floor(f),max:b===void 0?void 0:Math.floor(b),"aria-labelledby":l,"aria-label":l===void 0?"Resize panel":void 0}),[P,S,f,b,l,h,R]),F=n.useMemo(()=>({style:{WebkitUserSelect:y===void 0?void 0:"none"},id:d,ref:m}),[d,y]),K=f===void 0?void 0:`${f}px`,V=n.useMemo(()=>{if(y!==void 0&&i!==void 0&&p===void 0)return`min(${y}px, ${i.pct}%)`;if(S!==void 0)return`${S}px`},[i,y,S,p]);return{sliderProps:$,panelProps:F,panelMinSize:K,panelMaxSize:V,resizing:R}}function Me(c){const{onMove:o,onMoveEnd:i,onKeyMove:l}=c??{},h=n.useRef(null),d=n.useRef(void 0),m=n.useRef(void 0),_=n.useCallback(()=>{m.current!==void 0&&(m.current=void 0,i==null||i())},[i]);return{moveableProps:n.useMemo(()=>({onPointerDown:r=>{if(r.button!==0||r.ctrlKey)return;const x=h.current;if(!x)return;const p=x.getBoundingClientRect(),v=r.clientX-p.left;m.current=v,r.preventDefault(),x.setPointerCapture(r.pointerId)},onPointerMove:r=>{const x=m.current;if(x===void 0)return;const p=h.current;if(!p)return;const v=p.getBoundingClientRect(),R=r.clientX-x-v.left;r.preventDefault(),o==null||o(R)},onPointerUp:_,onPointerCancel:_,onKeyDown:r=>{if(!r.defaultPrevented)switch(r.key){case"ArrowLeft":r.preventDefault(),l==null||l(-1);break;case"ArrowRight":r.preventDefault(),l==null||l(1);break}},ref:r=>{var p;if(h.current=r,(p=d.current)==null||p.call(d),d.current=void 0,!r)return;const x=v=>{v.preventDefault()};r.addEventListener("touchstart",x),d.current=()=>{r.removeEventListener("touchstart",x)}}}),[l,o,_])}}function Be(){return e.jsxs(te,{className:s.tree,children:[e.jsx(t,{content:"Guides",children:e.jsxs(t,{content:"Tree",children:[e.jsx(t,{content:"Guide 4"}),e.jsx(t,{content:"Guide 3"}),e.jsx(t,{content:"Guide 2"}),e.jsx(t,{content:"Guide 1"})]})}),e.jsxs(t,{content:"Other",children:[e.jsx(t,{content:"Object 2",children:e.jsx(t,{content:"Path 3"})}),e.jsx(t,{content:"Object 1"})]}),e.jsxs(t,{content:"Road",children:[e.jsx(t,{content:"Parking lot access"}),e.jsx(t,{content:"Site access"})]}),e.jsx(t,{content:"Parking lot",children:e.jsxs(t,{content:"Parking area",children:[e.jsx(t,{content:"Bay point 2"}),e.jsx(t,{content:"Bay point 1"}),e.jsx(t,{content:"Space point 1"}),e.jsx(t,{content:"Path 6"})]})}),e.jsx(t,{content:"Building",children:e.jsx(t,{content:"Building area",children:e.jsx(t,{content:"Path 5"})})}),e.jsx(t,{content:"Sewer",children:e.jsx(t,{content:"Run off pipe",children:e.jsx(t,{content:"Path 4"})})}),e.jsx(t,{content:"Project boundary",children:e.jsx(t,{content:"Property area",children:e.jsx(t,{content:"Path 1"})})}),e.jsx(t,{content:"Map",children:e.jsx(t,{content:"Location",children:e.jsx(t,{content:"Terrain"})})})]})}function Ce(c){return e.jsx(w,{...c,style:{marginBlock:-6,...c.style},variant:"ghost"})}function t(c){const o=n.Children.count(c.children)>0;return e.jsx(ne,{content:e.jsxs(e.Fragment,{children:[o?e.jsx(Ce,{icon:oe,label:"Collapse",variant:"ghost"}):e.jsx("span",{style:{inlineSize:"1.5rem"}}),e.jsx(z,{href:I,style:{display:"inline"}}),e.jsx(re,{children:c.content})]}),expanded:o||void 0,children:c.children})}function De(){const[c,o]=n.useState(!1),i=n.useRef(null),l=n.useRef(null),h=c?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{}),e.jsx(w,{className:s.shiftIconRight,icon:ie,label:"Close",variant:"ghost",onClick:()=>{var d;k.flushSync(()=>o(!1)),(d=l.current)==null||d.focus()}})]}):e.jsx(w,{className:s.shiftIconRight,icon:T,label:"Search",variant:"ghost",onClick:()=>{var d;k.flushSync(()=>o(!0)),(d=i.current)==null||d.focus()}});return e.jsxs("div",{className:s.subheader,children:[e.jsx(ce.h3,{id:A,className:s.subheaderTitle,tabIndex:-1,ref:l,render:c?e.jsx(L,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),c?e.jsxs(Y,{className:s.searchInput,children:[e.jsx(Z,{href:T}),e.jsx(ee,{placeholder:"Search",ref:i})]}):null,e.jsx("div",{className:s.subheaderActions,children:h})]})}function Ne(){return e.jsxs(U,{children:[e.jsx(q,{render:e.jsx(w,{icon:ae,label:"Filter",variant:"ghost"})}),e.jsxs(J,{style:{minInlineSize:164},children:[e.jsx(j,{children:"Show all"}),e.jsx(j,{children:"Guides"}),e.jsx(j,{children:"Other"}),e.jsx(j,{children:"Roadway"}),e.jsx(j,{children:"Parking"}),e.jsx(j,{children:"Building"}),e.jsx(j,{children:"Dry utility"}),e.jsx(j,{children:"Stormwater"}),e.jsx(j,{children:"Sewer"}),e.jsx(j,{children:"Boundary"}),e.jsx(j,{children:"Map"})]})]})}export{pt as default,ut as meta};
