import{n as i,a as o}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as x}from"./index-jyeBNHV5.js";import{c as p,_ as b,C as y,r as I,d as v,e as g,f as j}from"./~utils-CxpNXQT1.js";import{a as F,C as S,b as u}from"./RZ4GPYOB-DLrWG0rS.js";import{u as k}from"./C3IKGW5T-CVfBMKKM.js";import{d as w}from"./YV4JVR4I-B6wCGKZo.js";import{R as T}from"./XL7CSKGW-DWygVppE.js";var B="div",R=p(function(e){var t=e,{store:r}=t,s=b(t,["store"]);const a=F();return r=r||a,s=y(s,l=>i.jsx(S,{value:r,children:l}),[r]),I(s)}),h=v(function(e){const t=R(e);return g(B,t)});function D(n){const e=k({defaultItems:[]}),t=w(e,"renderedItems"),[r,s]=o.useMemo(()=>{var c;let l;return[(c=t.find((f,C)=>{if(f.elementType==="control")return l=C,!0}))==null?void 0:c.controlType,l]},[t]),a=o.useMemo(()=>{if(s==null)return;const l=t.findIndex(c=>c.elementType==="label");return l===-1?void 0:l<s?"before":"after"},[t,s]);return i.jsx(h,{...n,store:e,"data-kiwi-label-placement":a,"data-kiwi-control-type":r})}function U(n){const{type:e,...t}=n,r=o.useCallback(s=>({...s,elementType:"control",controlType:e}),[e]);return i.jsx(u,{...t,getItem:r})}function V(n){const e=o.useCallback(t=>({...t,elementType:"label"}),[]);return i.jsx(u,{...n,getItem:e})}const W=j((n,e)=>{const t=o.useId(),{layout:r,...s}=n;return i.jsx(m.Provider,{value:t,children:i.jsx(E,{children:i.jsx(D,{render:i.jsx(T.div,{...s,className:x("ðŸ¥-field",n.className),"data-kiwi-layout":r,ref:e})})})})}),d=o.createContext(void 0);function E(n){const[e,t]=o.useState(new Set),r=o.useCallback(a=>{t(l=>{const c=new Set(l);return c.add(a),c})},[]),s=o.useCallback(a=>{t(l=>{const c=new Set(l);return c.delete(a),c})},[]);return i.jsx(d.Provider,{value:o.useMemo(()=>({describedBy:e,register:r,unregister:s}),[e,r,s]),children:n.children})}function q(n){var t;const e=(t=o.useContext(d))==null?void 0:t.describedBy;return o.useMemo(()=>!e||e.size===0?n:[...e,n].filter(Boolean).join(" "),[e,n])}function A(n){const e=o.useContext(d),t=e==null?void 0:e.register,r=e==null?void 0:e.unregister;o.useEffect(()=>{if(!(!t||!r))return t(n),()=>r(n)},[n,t,r])}const m=o.createContext(void 0);function G(){return o.useContext(m)}export{W as F,G as a,q as b,U as c,V as d,A as u};
