import{u as Ln,m as Hn,o as $n,c as on,a as tt,d as he,b as sn}from"./YV4JVR4I-DrVsdYpu.js";import{b as Re,o as B,d as k,e as be,g as Ce,_ as Te,B as it,a6 as U,aj as Vt,r as z,A as fe,ak as We,al as ft,am as Bt,an as kn,ao as _n,m as Nn,j as $e,k as ge,h as ae,u as jn,l as Vn,$ as oe,M as q,R as It,ap as dt,a0 as Bn,Y as In,aq as un,ar as Wn,as as zn,at as le,au as qn,q as Se,av as Yn,aw as Xn,ax as St,z as Un,a8 as cn,af as Kn,J as ke,ay as Gn,az as ze,a1 as an,ac as Jn,aA as Zn,aB as Qn,p as st,I as ln,aC as er,C as tr,E as nr,G as rr}from"./~utils.ListItem-D8TlN_14.js";import{e as or,f as ir,u as sr,d as fn,b as At,i as ur,g as cr,h as ar,j as lr}from"./VGCJ63VH-C6eCidGw.js";import{b as y,p as D,d as vt}from"./index-DSPnbld9.js";import{u as fr}from"./XX67R432-B5sjsDHR.js";import{P as Wt}from"./AOQQTIBO-Di_q30KS.js";import{P as dn,a as dr,u as pn}from"./MTZPJQMC-DZ8lHb20.js";var pr="span",mr=Re(function(t){return t=B(k({"data-focus-trap":"",tabIndex:0,"aria-hidden":!0},t),{style:k({position:"fixed",top:0,left:0},t.style)}),t=fr(t),t}),Qe=be(function(t){const r=mr(t);return Ce(pr,r)}),hr="div";function gr(e){return z(e).body}function xr(e,t){return t?typeof t=="function"?t(e):t:z(e).createElement("div")}function vr(e="id"){return`${e?`${e}-`:""}${Math.random().toString(36).slice(2,8)}`}function me(e){queueMicrotask(()=>{e==null||e.focus()})}var mn=Re(function(t){var r=t,{preserveTabOrder:n,preserveTabOrderAnchor:o,portalElement:i,portalRef:s,portal:u=!0}=r,c=Te(r,["preserveTabOrder","preserveTabOrderAnchor","portalElement","portalRef","portal"]);const a=y.useRef(null),l=it(a,c.ref),d=y.useContext(Wt),[f,m]=y.useState(null),[h,v]=y.useState(null),w=y.useRef(null),g=y.useRef(null),b=y.useRef(null),S=y.useRef(null);return U(()=>{const p=a.current;if(!p||!u){m(null);return}const x=xr(p,i);if(!x){m(null);return}const A=x.isConnected;if(A||(d||gr(p)).appendChild(x),x.id||(x.id=p.id?`portal/${p.id}`:vr()),m(x),Vt(s,x),!A)return()=>{x.remove(),Vt(s,null)}},[u,i,d,s]),U(()=>{if(!u||!n||!o)return;const x=z(o).createElement("span");return x.style.position="fixed",o.insertAdjacentElement("afterend",x),v(x),()=>{x.remove(),v(null)}},[u,n,o]),y.useEffect(()=>{if(!f||!n)return;let p=0;const x=A=>{if(!We(A))return;const P=A.type==="focusin";if(cancelAnimationFrame(p),P)return kn(f);p=requestAnimationFrame(()=>{_n(f,!0)})};return f.addEventListener("focusin",x,!0),f.addEventListener("focusout",x,!0),()=>{cancelAnimationFrame(p),f.removeEventListener("focusin",x,!0),f.removeEventListener("focusout",x,!0)}},[f,n]),c=fe(c,p=>{if(p=D.jsx(Wt.Provider,{value:f||d,children:p}),!u)return p;if(!f)return D.jsx("span",{ref:l,id:c.id,style:{position:"fixed"},hidden:!0});p=D.jsxs(D.Fragment,{children:[n&&f&&D.jsx(Qe,{ref:g,"data-focus-trap":c.id,className:"__focus-trap-inner-before",onFocus:A=>{We(A,f)?me(ft()):me(w.current)}}),p,n&&f&&D.jsx(Qe,{ref:b,"data-focus-trap":c.id,className:"__focus-trap-inner-after",onFocus:A=>{We(A,f)?me(Bt()):me(S.current)}})]}),f&&(p=vt.createPortal(p,f));let x=D.jsxs(D.Fragment,{children:[n&&f&&D.jsx(Qe,{ref:w,"data-focus-trap":c.id,className:"__focus-trap-outer-before",onFocus:A=>{!(A.relatedTarget===S.current)&&We(A,f)?me(g.current):me(Bt())}}),n&&D.jsx("span",{"aria-owns":f==null?void 0:f.id,style:{position:"fixed"}}),n&&f&&D.jsx(Qe,{ref:S,"data-focus-trap":c.id,className:"__focus-trap-outer-after",onFocus:A=>{if(We(A,f))me(b.current);else{const P=ft();if(P===g.current){requestAnimationFrame(()=>{var $;return($=ft())==null?void 0:$.focus()});return}me(P)}}})]});return h&&n&&(x=vt.createPortal(x,h)),D.jsxs(D.Fragment,{children:[x,p]})},[f,d,u,c.id,n,h]),c=B(k({},c),{ref:l}),c});be(function(t){const r=mn(t);return Ce(hr,r)});function hn(e={}){return or(e)}function gn(e,t,r){return ir(e,t,r)}function wr(e={}){const[t,r]=Ln(hn,e);return gn(t,r,e)}function yr(e={}){var t=e,{popover:r}=t,n=Nn(t,["popover"]);const o=Hn(n.store,$n(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),i=o==null?void 0:o.getState(),s=hn($e(ge({},n),{store:o})),u=ae(n.placement,i==null?void 0:i.placement,"bottom"),c=$e(ge({},s.getState()),{placement:u,currentPlacement:u,anchorElement:ae(i==null?void 0:i.anchorElement,null),popoverElement:ae(i==null?void 0:i.popoverElement,null),arrowElement:ae(i==null?void 0:i.arrowElement,null),rendered:Symbol("rendered")}),a=on(c,s,o);return $e(ge(ge({},s),a),{setAnchorElement:l=>a.setState("anchorElement",l),setPopoverElement:l=>a.setState("popoverElement",l),setArrowElement:l=>a.setState("arrowElement",l),render:()=>a.setState("rendered",Symbol("rendered"))})}function br(e,t,r){return jn(t,[r.popover]),tt(e,r,"placement"),gn(e,t,r)}function ni(e={}){var t;const r=(t=e.store)==null?void 0:t.getState(),n=yr($e(ge({},e),{placement:ae(e.placement,r==null?void 0:r.placement,"bottom")})),o=ae(e.timeout,r==null?void 0:r.timeout,500),i=$e(ge({},n.getState()),{timeout:o,showTimeout:ae(e.showTimeout,r==null?void 0:r.showTimeout),hideTimeout:ae(e.hideTimeout,r==null?void 0:r.hideTimeout),autoFocusOnShow:ae(r==null?void 0:r.autoFocusOnShow,!1)}),s=on(i,n,e.store);return $e(ge(ge({},n),s),{setAutoFocusOnShow:u=>s.setState("autoFocusOnShow",u)})}function ri(e,t,r){return tt(e,r,"timeout"),tt(e,r,"showTimeout"),tt(e,r,"hideTimeout"),br(e,t,r)}var Ye=Vn([dr],[dn]);Ye.useContext;Ye.useScopedContext;var Ot=Ye.useProviderContext,oi=Ye.ContextProvider,Er=Ye.ScopedContextProvider;function pt(e){return[e.clientX,e.clientY]}function zt(e,t){const[r,n]=e;let o=!1;const i=t.length;for(let s=i,u=0,c=s-1;u<s;c=u++){const[a,l]=t[u],[d,f]=t[c],[,m]=t[c===0?s-1:c-1]||[0,0],h=(l-f)*(r-a)-(a-d)*(n-l);if(f<l){if(n>=f&&n<l){if(h===0)return!0;h>0&&(n===f?n>m&&(o=!o):o=!o)}}else if(l<f){if(n>l&&n<=f){if(h===0)return!0;h<0&&(n===f?n<m&&(o=!o):o=!o)}}else if(n===l&&(r>=d&&r<=a||r>=a&&r<=d))return!0}return o}function Pr(e,t){const{top:r,right:n,bottom:o,left:i}=t,[s,u]=e,c=s<i?"left":s>n?"right":null,a=u<r?"top":u>o?"bottom":null;return[c,a]}function qt(e,t){const r=e.getBoundingClientRect(),{top:n,right:o,bottom:i,left:s}=r,[u,c]=Pr(t,r),a=[t];return u?(c!=="top"&&a.push([u==="left"?s:o,n]),a.push([u==="left"?o:s,n]),a.push([u==="left"?o:s,i]),c!=="bottom"&&a.push([u==="left"?s:o,i])):c==="top"?(a.push([s,n]),a.push([s,i]),a.push([o,i]),a.push([o,n])):(a.push([s,i]),a.push([s,n]),a.push([o,n]),a.push([o,i])),a}function xn(e,...t){if(!e)return!1;const r=e.getAttribute("data-backdrop");return r==null?!1:r===""||r==="true"||!t.length?!0:t.some(n=>r===n)}var mt=new WeakMap;function Xe(e,t,r){mt.has(e)||mt.set(e,new Map);const n=mt.get(e),o=n.get(t);if(!o)return n.set(t,r()),()=>{var u;(u=n.get(t))==null||u(),n.delete(t)};const i=r(),s=()=>{i(),o(),n.delete(t)};return n.set(t,s),()=>{n.get(t)===s&&(i(),n.set(t,o))}}function Rt(e,t,r){return Xe(e,t,()=>{const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o==null?e.removeAttribute(t):e.setAttribute(t,o)}})}function Ae(e,t,r){return Xe(e,t,()=>{const o=t in e,i=e[t];return e[t]=r,()=>{o?e[t]=i:delete e[t]}})}function wt(e,t){return e?Xe(e,"style",()=>{const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}):()=>{}}function Sr(e,t,r){return e?Xe(e,t,()=>{const o=e.style.getPropertyValue(t);return e.style.setProperty(t,r),()=>{o?e.style.setProperty(t,o):e.style.removeProperty(t)}}):()=>{}}var Ar=["SCRIPT","STYLE"];function yt(e){return`__ariakit-dialog-snapshot-${e}`}function Or(e,t){const r=z(t),n=yt(e);if(!r.body[n])return!0;do{if(t===r.body)return!1;if(t[n])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function Rr(e,t,r){return Ar.includes(t.tagName)||!Or(e,t)?!1:!r.some(n=>n&&q(t,n))}function Ct(e,t,r,n){for(let o of t){if(!(o!=null&&o.isConnected))continue;const i=t.some(c=>!c||c===o?!1:c.contains(o)),s=z(o),u=o;for(;o.parentElement&&o!==s.body;){if(n==null||n(o.parentElement,u),!i)for(const c of o.parentElement.children)Rr(e,c,t)&&r(c,u);o=o.parentElement}}}function Cr(e,t){const{body:r}=z(t[0]),n=[];return Ct(e,t,i=>{n.push(Ae(i,yt(e),!0))}),oe(Ae(r,yt(e),!0),()=>{for(const i of n)i()})}function Ne(e="",t=!1){return`__ariakit-dialog-${t?"ancestor":"outside"}${e?`-${e}`:""}`}function Tr(e,t=""){return oe(Ae(e,Ne(),!0),Ae(e,Ne(t),!0))}function vn(e,t=""){return oe(Ae(e,Ne("",!0),!0),Ae(e,Ne(t,!0),!0))}function Tt(e,t){const r=Ne(t,!0);if(e[r])return!0;const n=Ne(t);do{if(e[n])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function Yt(e,t){const r=[],n=t.map(i=>i==null?void 0:i.id);return Ct(e,t,i=>{xn(i,...n)||r.unshift(Tr(i,e))},(i,s)=>{s.hasAttribute("data-dialog")&&s.id!==e||r.unshift(vn(i,e))}),()=>{for(const i of r)i()}}function Fr({store:e,backdrop:t,alwaysVisible:r,hidden:n}){const o=y.useRef(null),i=sr({disclosure:e}),s=he(e,"contentElement");y.useEffect(()=>{const a=o.current,l=s;a&&l&&(a.style.zIndex=getComputedStyle(l).zIndex)},[s]),U(()=>{const a=s==null?void 0:s.id;if(!a)return;const l=o.current;if(l)return vn(l,a)},[s]);const u=fn({ref:o,store:i,role:"presentation","data-backdrop":(s==null?void 0:s.id)||"",alwaysVisible:r,hidden:n??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!t)return null;if(y.isValidElement(t))return D.jsx(It,B(k({},u),{render:t}));const c=typeof t!="boolean"?t:"div";return D.jsx(It,B(k({},u),{render:D.jsx(c,{})}))}function Dr(e,...t){if(!e)return!1;const r=e.getAttribute("data-focus-trap");return r==null?!1:t.length?r===""?!1:t.some(n=>r===n):!0}function Mr(e){return Rt(e,"aria-hidden","true")}function wn(){return"inert"in HTMLElement.prototype}function yn(e,t){if(!("style"in e))return dt;if(wn())return Ae(e,"inert",!0);const n=Bn(e,!0).map(o=>{if(t!=null&&t.some(s=>s&&q(s,o)))return dt;const i=Xe(o,"focus",()=>(o.focus=dt,()=>{delete o.focus}));return oe(Rt(o,"tabindex","-1"),i)});return oe(...n,Mr(e),wt(e,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function Lr(e,t){const r=[],n=t.map(i=>i==null?void 0:i.id);return Ct(e,t,i=>{xn(i,...n)||Dr(i,...n)||r.unshift(yn(i,t))},i=>{i.hasAttribute("role")&&(t.some(s=>s&&q(s,i))||r.unshift(Rt(i,"role","none")))}),()=>{for(const i of r)i()}}function Hr({attribute:e,contentId:t,contentElement:r,enabled:n}){const[o,i]=In(),s=y.useCallback(()=>{if(!n||!r)return!1;const{body:u}=z(r),c=u.getAttribute(e);return!c||c===t},[o,n,r,e,t]);return y.useEffect(()=>{if(!n||!t||!r)return;const{body:u}=z(r);if(s())return u.setAttribute(e,t),()=>u.removeAttribute(e);const c=new MutationObserver(()=>vt.flushSync(i));return c.observe(u,{attributeFilter:[e]}),()=>c.disconnect()},[o,n,t,r,s,e]),s}function $r(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function kr(e,t,r){const n=Hr({attribute:"data-dialog-prevent-body-scroll",contentElement:e,contentId:t,enabled:r});y.useEffect(()=>{if(!n()||!e)return;const o=z(e),i=un(e),{documentElement:s,body:u}=o,c=s.style.getPropertyValue("--scrollbar-width"),a=c?Number.parseInt(c):i.innerWidth-s.clientWidth,l=()=>Sr(s,"--scrollbar-width",`${a}px`),d=$r(s),f=()=>wt(u,{overflow:"hidden",[d]:`${a}px`}),m=()=>{var v,w;const{scrollX:g,scrollY:b,visualViewport:S}=i,p=(v=S==null?void 0:S.offsetLeft)!=null?v:0,x=(w=S==null?void 0:S.offsetTop)!=null?w:0,A=wt(u,{position:"fixed",overflow:"hidden",top:`${-(b-Math.floor(x))}px`,left:`${-(g-Math.floor(p))}px`,right:"0",[d]:`${a}px`});return()=>{A(),i.scrollTo({left:g,top:b,behavior:"instant"})}},h=Wn()&&!zn();return oe(l(),h?m():f())},[n,e])}var Xt=y.createContext({});function _r(e){const t=y.useContext(Xt),[r,n]=y.useState([]),o=y.useCallback(u=>{var c;return n(a=>[...a,u]),oe((c=t.add)==null?void 0:c.call(t,u),()=>{n(a=>a.filter(l=>l!==u))})},[t]);U(()=>sn(e,["open","contentElement"],u=>{var c;if(u.open&&u.contentElement)return(c=t.add)==null?void 0:c.call(t,e)}),[e,t]);const i=y.useMemo(()=>({store:e,add:o}),[e,o]);return{wrapElement:y.useCallback(u=>D.jsx(Xt.Provider,{value:i,children:u}),[i]),nestedDialogs:r}}function Nr(e){const t=y.useRef();return y.useEffect(()=>{if(!e){t.current=null;return}return le("mousedown",n=>{t.current=n.target},!0)},[e]),t}function jr(e){return e.tagName==="HTML"?!0:q(z(e).body,e)}function Vr(e,t){if(!e)return!1;if(q(e,t))return!0;const r=t.getAttribute("aria-activedescendant");if(r){const n=z(e).getElementById(r);if(n)return q(e,n)}return!1}function Br(e,t){if(!("clientY"in e))return!1;const r=t.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=e.clientY&&e.clientY<=r.top+r.height&&r.left<=e.clientX&&e.clientX<=r.left+r.width}function ht({store:e,type:t,listener:r,capture:n,domReady:o}){const i=Se(r),s=he(e,"open"),u=y.useRef(!1);U(()=>{if(!s||!o)return;const{contentElement:c}=e.getState();if(!c)return;const a=()=>{u.current=!0};return c.addEventListener("focusin",a,!0),()=>c.removeEventListener("focusin",a,!0)},[e,s,o]),y.useEffect(()=>s?le(t,a=>{const{contentElement:l,disclosureElement:d}=e.getState(),f=a.target;!l||!f||!jr(f)||q(l,f)||Vr(d,f)||f.hasAttribute("data-focus-trap")||Br(a,l)||u.current&&!Tt(f,l.id)||Yn(f)||i(a)},n):void 0,[s,n])}function gt(e,t){return typeof e=="function"?e(t):!!e}function Ir(e,t,r){const n=he(e,"open"),o=Nr(n),i={store:e,domReady:r,capture:!0};ht(B(k({},i),{type:"click",listener:s=>{const{contentElement:u}=e.getState(),c=o.current;c&&qn(c)&&Tt(c,u==null?void 0:u.id)&&gt(t,s)&&e.hide()}})),ht(B(k({},i),{type:"focusin",listener:s=>{const{contentElement:u}=e.getState();u&&s.target!==z(u)&&gt(t,s)&&e.hide()}})),ht(B(k({},i),{type:"contextmenu",listener:s=>{gt(t,s)&&e.hide()}}))}function Wr(e,t){const n=z(e).createElement("button");return n.type="button",n.tabIndex=-1,n.textContent="Dismiss popup",Object.assign(n.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),n.addEventListener("click",t),e.prepend(n),()=>{n.removeEventListener("click",t),n.remove()}}var zr="div",bn=Re(function(t){var r=t,{autoFocusOnShow:n=!0}=r,o=Te(r,["autoFocusOnShow"]);return o=fe(o,i=>D.jsx(Xn.Provider,{value:n,children:i}),[n]),o});be(function(t){const r=bn(t);return Ce(zr,r)});var Ut=y.createContext(0);function qr({level:e,children:t}){const r=y.useContext(Ut),n=Math.max(Math.min(e||r+1,6),1);return D.jsx(Ut.Provider,{value:n,children:t})}var Yr="div",Kt=Jn();function Xr(e){const t=cn();return!t||e&&q(e,t)?!1:!!ze(t)}function Gt(e,t=!1){if(!e)return null;const r="current"in e?e.current:e;return r?t?ze(r)?r:null:r:null}var En=Re(function(t){var r=t,{store:n,open:o,onClose:i,focusable:s=!0,modal:u=!0,portal:c=!!u,backdrop:a=!!u,hideOnEscape:l=!0,hideOnInteractOutside:d=!0,getPersistentElements:f,preventBodyScroll:m=!!u,autoFocusOnShow:h=!0,autoFocusOnHide:v=!0,initialFocus:w,finalFocus:g,unmountOnHide:b,unstable_treeSnapshotKey:S}=r,p=Te(r,["store","open","onClose","focusable","modal","portal","backdrop","hideOnEscape","hideOnInteractOutside","getPersistentElements","preventBodyScroll","autoFocusOnShow","autoFocusOnHide","initialFocus","finalFocus","unmountOnHide","unstable_treeSnapshotKey"]);const x=At(),A=y.useRef(null),P=wr({store:n||x,open:o,setOpen(E){if(E)return;const F=A.current;if(!F)return;const I=new Event("close",{bubbles:!1,cancelable:!0});i&&F.addEventListener("close",i,{once:!0}),F.dispatchEvent(I),I.defaultPrevented&&P.setOpen(!0)}}),{portalRef:$,domReady:L}=St(c,p.portalRef),C=p.preserveTabOrder,j=he(P,E=>C&&!u&&E.mounted),H=Un(p.id),O=he(P,"open"),R=he(P,"mounted"),T=he(P,"contentElement"),N=ur(R,p.hidden,p.alwaysVisible);kr(T,H,m&&!N),Ir(P,d,L);const{wrapElement:_,nestedDialogs:W}=_r(P);p=fe(p,_,[_]),U(()=>{if(!O)return;const E=A.current,F=cn(E,!0);F&&F.tagName!=="BODY"&&(E&&q(E,F)||P.setDisclosureElement(F))},[P,O]),Kt&&y.useEffect(()=>{if(!R)return;const{disclosureElement:E}=P.getState();if(!E||!Kn(E))return;const F=()=>{let I=!1;const M=()=>{I=!0},Y={capture:!0,once:!0};E.addEventListener("focusin",M,Y),Zn(E,"mouseup",()=>{E.removeEventListener("focusin",M,!0),!I&&Qn(E)})};return E.addEventListener("mousedown",F),()=>{E.removeEventListener("mousedown",F)}},[P,R]),y.useEffect(()=>{if(!R||!L)return;const E=A.current;if(!E)return;const F=un(E),I=F.visualViewport||F,M=()=>{var Y,ne;const Ie=(ne=(Y=F.visualViewport)==null?void 0:Y.height)!=null?ne:F.innerHeight;E.style.setProperty("--dialog-viewport-height",`${Ie}px`)};return M(),I.addEventListener("resize",M),()=>{I.removeEventListener("resize",M)}},[R,L]),y.useEffect(()=>{if(!u||!R||!L)return;const E=A.current;if(!(!E||E.querySelector("[data-dialog-dismiss]")))return Wr(E,P.hide)},[P,u,R,L]),U(()=>{if(!wn()||O||!R||!L)return;const E=A.current;if(E)return yn(E)},[O,R,L]);const V=O&&L;U(()=>{if(!H||!V)return;const E=A.current;return Cr(H,[E])},[H,V,S]);const G=Se(f);U(()=>{if(!H||!V)return;const{disclosureElement:E}=P.getState(),F=A.current,I=G()||[],M=[F,...I,...W.map(Y=>Y.getState().contentElement)];return u?oe(Yt(H,M),Lr(H,M)):Yt(H,[E,...M])},[H,P,V,G,W,u,S]);const ue=!!h,pe=ke(h),[Fe,J]=y.useState(!1);y.useEffect(()=>{if(!O||!ue||!L||!(T!=null&&T.isConnected))return;const E=Gt(w,!0)||T.querySelector("[data-autofocus=true],[autofocus]")||Gn(T,!0,c&&j)||T,F=ze(E);pe(F?E:null)&&(J(!0),queueMicrotask(()=>{E.focus(),Kt&&E.scrollIntoView({block:"nearest",inline:"nearest"})}))},[O,ue,L,T,w,c,j,pe]);const ee=!!v,lt=ke(v),[De,ce]=y.useState(!1);y.useEffect(()=>{if(O)return ce(!0),()=>ce(!1)},[O]);const Ee=y.useCallback((E,F=!0)=>{const{disclosureElement:I}=P.getState();if(Xr(E))return;let M=Gt(g)||I;if(M!=null&&M.id){const ne=z(M),Ie=`[aria-activedescendant="${M.id}"]`,Ze=ne.querySelector(Ie);Ze&&(M=Ze)}if(M&&!ze(M)){const ne=M.closest("[data-dialog]");if(ne!=null&&ne.id){const Ie=z(ne),Ze=`[aria-controls~="${ne.id}"]`,jt=Ie.querySelector(Ze);jt&&(M=jt)}}const Y=M&&ze(M);if(!Y&&F){requestAnimationFrame(()=>Ee(E,!1));return}lt(Y?M:null)&&Y&&(M==null||M.focus())},[P,g,lt]),te=y.useRef(!1);U(()=>{if(O||!De||!ee)return;const E=A.current;te.current=!0,Ee(E)},[O,De,L,ee,Ee]),y.useEffect(()=>{if(!De||!ee)return;const E=A.current;return()=>{if(te.current){te.current=!1;return}Ee(E)}},[De,ee,Ee]);const Ke=ke(l);y.useEffect(()=>!L||!R?void 0:le("keydown",F=>{if(F.key!=="Escape"||F.defaultPrevented)return;const I=A.current;if(!I||Tt(I))return;const M=F.target;if(!M)return;const{disclosureElement:Y}=P.getState();!!(M.tagName==="BODY"||q(I,M)||!Y||q(Y,M))&&Ke(F)&&P.hide()},!0),[P,L,R,Ke]),p=fe(p,E=>D.jsx(qr,{level:u?1:void 0,children:E}),[u]);const Ge=p.hidden,Pe=p.alwaysVisible;p=fe(p,E=>a?D.jsxs(D.Fragment,{children:[D.jsx(Fr,{store:P,backdrop:a,hidden:Ge,alwaysVisible:Pe}),E]}):E,[P,a,Ge,Pe]);const[Me,Je]=y.useState(),[Le,He]=y.useState();return p=fe(p,E=>D.jsx(cr,{value:P,children:D.jsx(ar.Provider,{value:Je,children:D.jsx(lr.Provider,{value:He,children:E})})}),[P]),p=B(k({id:H,"data-dialog":"",role:"dialog",tabIndex:s?-1:void 0,"aria-labelledby":Me,"aria-describedby":Le},p),{ref:it(A,p.ref)}),p=bn(B(k({},p),{autoFocusOnShow:Fe})),p=fn(k({store:P},p)),p=an(B(k({},p),{focusable:s})),p=mn(B(k({portal:c},p),{portalRef:$,preserveTabOrder:j})),p});function Ft(e,t=At){return be(function(n){const o=t(),i=n.store||o;return he(i,u=>!n.unmountOnHide||(u==null?void 0:u.mounted)||!!n.open)?D.jsx(e,k({},n)):null})}Ft(be(function(t){const r=En(t);return Ce(Yr,r)}),At);const xe=Math.min,X=Math.max,nt=Math.round,et=Math.floor,re=e=>({x:e,y:e}),Ur={left:"right",right:"left",bottom:"top",top:"bottom"},Kr={start:"end",end:"start"};function bt(e,t,r){return X(e,xe(t,r))}function ve(e,t){return typeof e=="function"?e(t):e}function de(e){return e.split("-")[0]}function Ve(e){return e.split("-")[1]}function Dt(e){return e==="x"?"y":"x"}function Mt(e){return e==="y"?"height":"width"}function we(e){return["top","bottom"].includes(de(e))?"y":"x"}function Lt(e){return Dt(we(e))}function Gr(e,t,r){r===void 0&&(r=!1);const n=Ve(e),o=Lt(e),i=Mt(o);let s=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=rt(s)),[s,rt(s)]}function Jr(e){const t=rt(e);return[Et(e),t,Et(t)]}function Et(e){return e.replace(/start|end/g,t=>Kr[t])}function Zr(e,t,r){const n=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?i:s;default:return[]}}function Qr(e,t,r,n){const o=Ve(e);let i=Zr(de(e),r==="start",n);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Et)))),i}function rt(e){return e.replace(/left|right|bottom|top/g,t=>Ur[t])}function eo(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pn(e){return typeof e!="number"?eo(e):{top:e,right:e,bottom:e,left:e}}function ot(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Jt(e,t,r){let{reference:n,floating:o}=e;const i=we(t),s=Lt(t),u=Mt(s),c=de(t),a=i==="y",l=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,f=n[u]/2-o[u]/2;let m;switch(c){case"top":m={x:l,y:n.y-o.height};break;case"bottom":m={x:l,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-o.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Ve(t)){case"start":m[s]-=f*(r&&a?-1:1);break;case"end":m[s]+=f*(r&&a?-1:1);break}return m}const to=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:s}=r,u=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:d}=Jt(a,n,c),f=n,m={},h=0;for(let v=0;v<u.length;v++){const{name:w,fn:g}=u[v],{x:b,y:S,data:p,reset:x}=await g({x:l,y:d,initialPlacement:n,placement:f,strategy:o,middlewareData:m,rects:a,platform:s,elements:{reference:e,floating:t}});l=b??l,d=S??d,m={...m,[w]:{...m[w],...p}},x&&h<=50&&(h++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(a=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:l,y:d}=Jt(a,f,c)),v=-1)}return{x:l,y:d,placement:f,strategy:o,middlewareData:m}};async function Ht(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:i,rects:s,elements:u,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=ve(t,e),h=Pn(m),w=u[f?d==="floating"?"reference":"floating":d],g=ot(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:a,rootBoundary:l,strategy:c})),b=d==="floating"?{x:n,y:o,width:s.floating.width,height:s.floating.height}:s.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),p=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},x=ot(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:b,offsetParent:S,strategy:c}):b);return{top:(g.top-x.top+h.top)/p.y,bottom:(x.bottom-g.bottom+h.bottom)/p.y,left:(g.left-x.left+h.left)/p.x,right:(x.right-g.right+h.right)/p.x}}const no=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:i,platform:s,elements:u,middlewareData:c}=t,{element:a,padding:l=0}=ve(e,t)||{};if(a==null)return{};const d=Pn(l),f={x:r,y:n},m=Lt(o),h=Mt(m),v=await s.getDimensions(a),w=m==="y",g=w?"top":"left",b=w?"bottom":"right",S=w?"clientHeight":"clientWidth",p=i.reference[h]+i.reference[m]-f[m]-i.floating[h],x=f[m]-i.reference[m],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let P=A?A[S]:0;(!P||!await(s.isElement==null?void 0:s.isElement(A)))&&(P=u.floating[S]||i.floating[h]);const $=p/2-x/2,L=P/2-v[h]/2-1,C=xe(d[g],L),j=xe(d[b],L),H=C,O=P-v[h]-j,R=P/2-v[h]/2+$,T=bt(H,R,O),N=!c.arrow&&Ve(o)!=null&&R!==T&&i.reference[h]/2-(R<H?C:j)-v[h]/2<0,_=N?R<H?R-H:R-O:0;return{[m]:f[m]+_,data:{[m]:T,centerOffset:R-T-_,...N&&{alignmentOffset:_}},reset:N}}}),ro=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:i,rects:s,initialPlacement:u,platform:c,elements:a}=t,{mainAxis:l=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,...w}=ve(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=de(o),b=we(u),S=de(u)===u,p=await(c.isRTL==null?void 0:c.isRTL(a.floating)),x=f||(S||!v?[rt(u)]:Jr(u)),A=h!=="none";!f&&A&&x.push(...Qr(u,v,h,p));const P=[u,...x],$=await Ht(t,w),L=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&L.push($[g]),d){const R=Gr(o,s,p);L.push($[R[0]],$[R[1]])}if(C=[...C,{placement:o,overflows:L}],!L.every(R=>R<=0)){var j,H;const R=(((j=i.flip)==null?void 0:j.index)||0)+1,T=P[R];if(T)return{data:{index:R,overflows:C},reset:{placement:T}};let N=(H=C.filter(_=>_.overflows[0]<=0).sort((_,W)=>_.overflows[1]-W.overflows[1])[0])==null?void 0:H.placement;if(!N)switch(m){case"bestFit":{var O;const _=(O=C.filter(W=>{if(A){const V=we(W.placement);return V===b||V==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(V=>V>0).reduce((V,G)=>V+G,0)]).sort((W,V)=>W[1]-V[1])[0])==null?void 0:O[0];_&&(N=_);break}case"initialPlacement":N=u;break}if(o!==N)return{reset:{placement:N}}}return{}}}};async function oo(e,t){const{placement:r,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),s=de(r),u=Ve(r),c=we(r)==="y",a=["left","top"].includes(s)?-1:1,l=i&&c?-1:1,d=ve(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return u&&typeof h=="number"&&(m=u==="end"?h*-1:h),c?{x:m*l,y:f*a}:{x:f*a,y:m*l}}const io=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:i,placement:s,middlewareData:u}=t,c=await oo(t,e);return s===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:s}}}}},so=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:u={fn:w=>{let{x:g,y:b}=w;return{x:g,y:b}}},...c}=ve(e,t),a={x:r,y:n},l=await Ht(t,c),d=we(de(o)),f=Dt(d);let m=a[f],h=a[d];if(i){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",b=m+l[w],S=m-l[g];m=bt(b,m,S)}if(s){const w=d==="y"?"top":"left",g=d==="y"?"bottom":"right",b=h+l[w],S=h-l[g];h=bt(b,h,S)}const v=u.fn({...t,[f]:m,[d]:h});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:i,[d]:s}}}}}},uo=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:i,middlewareData:s}=t,{offset:u=0,mainAxis:c=!0,crossAxis:a=!0}=ve(e,t),l={x:r,y:n},d=we(o),f=Dt(d);let m=l[f],h=l[d];const v=ve(u,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const S=f==="y"?"height":"width",p=i.reference[f]-i.floating[S]+w.mainAxis,x=i.reference[f]+i.reference[S]-w.mainAxis;m<p?m=p:m>x&&(m=x)}if(a){var g,b;const S=f==="y"?"width":"height",p=["top","left"].includes(de(o)),x=i.reference[d]-i.floating[S]+(p&&((g=s.offset)==null?void 0:g[d])||0)+(p?0:w.crossAxis),A=i.reference[d]+i.reference[S]+(p?0:((b=s.offset)==null?void 0:b[d])||0)-(p?w.crossAxis:0);h<x?h=x:h>A&&(h=A)}return{[f]:m,[d]:h}}}},co=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:i,platform:s,elements:u}=t,{apply:c=()=>{},...a}=ve(e,t),l=await Ht(t,a),d=de(o),f=Ve(o),m=we(o)==="y",{width:h,height:v}=i.floating;let w,g;d==="top"||d==="bottom"?(w=d,g=f===(await(s.isRTL==null?void 0:s.isRTL(u.floating))?"start":"end")?"left":"right"):(g=d,w=f==="end"?"top":"bottom");const b=v-l.top-l.bottom,S=h-l.left-l.right,p=xe(v-l[w],b),x=xe(h-l[g],S),A=!t.middlewareData.shift;let P=p,$=x;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&($=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=b),A&&!f){const C=X(l.left,0),j=X(l.right,0),H=X(l.top,0),O=X(l.bottom,0);m?$=h-2*(C!==0||j!==0?C+j:X(l.left,l.right)):P=v-2*(H!==0||O!==0?H+O:X(l.top,l.bottom))}await c({...t,availableWidth:$,availableHeight:P});const L=await s.getDimensions(u.floating);return h!==L.width||v!==L.height?{reset:{rects:!0}}:{}}}};function ut(){return typeof window<"u"}function Be(e){return Sn(e)?(e.nodeName||"").toLowerCase():"#document"}function K(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function se(e){var t;return(t=(Sn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sn(e){return ut()?e instanceof Node||e instanceof K(e).Node:!1}function Z(e){return ut()?e instanceof Element||e instanceof K(e).Element:!1}function ie(e){return ut()?e instanceof HTMLElement||e instanceof K(e).HTMLElement:!1}function Zt(e){return!ut()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof K(e).ShadowRoot}function Ue(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Q(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function ao(e){return["table","td","th"].includes(Be(e))}function ct(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $t(e){const t=kt(),r=Z(e)?Q(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lo(e){let t=ye(e);for(;ie(t)&&!je(t);){if($t(t))return t;if(ct(t))return null;t=ye(t)}return null}function kt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function je(e){return["html","body","#document"].includes(Be(e))}function Q(e){return K(e).getComputedStyle(e)}function at(e){return Z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ye(e){if(Be(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zt(e)&&e.host||se(e);return Zt(t)?t.host:t}function An(e){const t=ye(e);return je(t)?e.ownerDocument?e.ownerDocument.body:e.body:ie(t)&&Ue(t)?t:An(t)}function qe(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=An(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),s=K(o);if(i){const u=Pt(s);return t.concat(s,s.visualViewport||[],Ue(o)?o:[],u&&r?qe(u):[])}return t.concat(o,qe(o,[],r))}function Pt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function On(e){const t=Q(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=ie(e),i=o?e.offsetWidth:r,s=o?e.offsetHeight:n,u=nt(r)!==i||nt(n)!==s;return u&&(r=i,n=s),{width:r,height:n,$:u}}function _t(e){return Z(e)?e:e.contextElement}function _e(e){const t=_t(e);if(!ie(t))return re(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:i}=On(t);let s=(i?nt(r.width):r.width)/n,u=(i?nt(r.height):r.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const fo=re(0);function Rn(e){const t=K(e);return!kt()||!t.visualViewport?fo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function po(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==K(e)?!1:t}function Oe(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),i=_t(e);let s=re(1);t&&(n?Z(n)&&(s=_e(n)):s=_e(e));const u=po(i,r,n)?Rn(i):re(0);let c=(o.left+u.x)/s.x,a=(o.top+u.y)/s.y,l=o.width/s.x,d=o.height/s.y;if(i){const f=K(i),m=n&&Z(n)?K(n):n;let h=f,v=Pt(h);for(;v&&n&&m!==h;){const w=_e(v),g=v.getBoundingClientRect(),b=Q(v),S=g.left+(v.clientLeft+parseFloat(b.paddingLeft))*w.x,p=g.top+(v.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,a*=w.y,l*=w.x,d*=w.y,c+=S,a+=p,h=K(v),v=Pt(h)}}return ot({width:l,height:d,x:c,y:a})}function Nt(e,t){const r=at(e).scrollLeft;return t?t.left+r:Oe(se(e)).left+r}function Cn(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:Nt(e,n)),i=n.top+t.scrollTop;return{x:o,y:i}}function mo(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const i=o==="fixed",s=se(n),u=t?ct(t.floating):!1;if(n===s||u&&i)return r;let c={scrollLeft:0,scrollTop:0},a=re(1);const l=re(0),d=ie(n);if((d||!d&&!i)&&((Be(n)!=="body"||Ue(s))&&(c=at(n)),ie(n))){const m=Oe(n);a=_e(n),l.x=m.x+n.clientLeft,l.y=m.y+n.clientTop}const f=s&&!d&&!i?Cn(s,c,!0):re(0);return{width:r.width*a.x,height:r.height*a.y,x:r.x*a.x-c.scrollLeft*a.x+l.x+f.x,y:r.y*a.y-c.scrollTop*a.y+l.y+f.y}}function ho(e){return Array.from(e.getClientRects())}function go(e){const t=se(e),r=at(e),n=e.ownerDocument.body,o=X(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=X(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Nt(e);const u=-r.scrollTop;return Q(n).direction==="rtl"&&(s+=X(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:s,y:u}}function xo(e,t){const r=K(e),n=se(e),o=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,u=0,c=0;if(o){i=o.width,s=o.height;const a=kt();(!a||a&&t==="fixed")&&(u=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:u,y:c}}function vo(e,t){const r=Oe(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=ie(e)?_e(e):re(1),s=e.clientWidth*i.x,u=e.clientHeight*i.y,c=o*i.x,a=n*i.y;return{width:s,height:u,x:c,y:a}}function Qt(e,t,r){let n;if(t==="viewport")n=xo(e,r);else if(t==="document")n=go(se(e));else if(Z(t))n=vo(t,r);else{const o=Rn(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ot(n)}function Tn(e,t){const r=ye(e);return r===t||!Z(r)||je(r)?!1:Q(r).position==="fixed"||Tn(r,t)}function wo(e,t){const r=t.get(e);if(r)return r;let n=qe(e,[],!1).filter(u=>Z(u)&&Be(u)!=="body"),o=null;const i=Q(e).position==="fixed";let s=i?ye(e):e;for(;Z(s)&&!je(s);){const u=Q(s),c=$t(s);!c&&u.position==="fixed"&&(o=null),(i?!c&&!o:!c&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ue(s)&&!c&&Tn(e,s))?n=n.filter(l=>l!==s):o=u,s=ye(s)}return t.set(e,n),n}function yo(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const s=[...r==="clippingAncestors"?ct(t)?[]:wo(t,this._c):[].concat(r),n],u=s[0],c=s.reduce((a,l)=>{const d=Qt(t,l,o);return a.top=X(d.top,a.top),a.right=xe(d.right,a.right),a.bottom=xe(d.bottom,a.bottom),a.left=X(d.left,a.left),a},Qt(t,u,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bo(e){const{width:t,height:r}=On(e);return{width:t,height:r}}function Eo(e,t,r){const n=ie(t),o=se(t),i=r==="fixed",s=Oe(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const c=re(0);if(n||!n&&!i)if((Be(t)!=="body"||Ue(o))&&(u=at(t)),n){const f=Oe(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else o&&(c.x=Nt(o));const a=o&&!n&&!i?Cn(o,u):re(0),l=s.left+u.scrollLeft-c.x-a.x,d=s.top+u.scrollTop-c.y-a.y;return{x:l,y:d,width:s.width,height:s.height}}function xt(e){return Q(e).position==="static"}function en(e,t){if(!ie(e)||Q(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return se(e)===r&&(r=r.ownerDocument.body),r}function Fn(e,t){const r=K(e);if(ct(e))return r;if(!ie(e)){let o=ye(e);for(;o&&!je(o);){if(Z(o)&&!xt(o))return o;o=ye(o)}return r}let n=en(e,t);for(;n&&ao(n)&&xt(n);)n=en(n,t);return n&&je(n)&&xt(n)&&!$t(n)?r:n||lo(e)||r}const Po=async function(e){const t=this.getOffsetParent||Fn,r=this.getDimensions,n=await r(e.floating);return{reference:Eo(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function So(e){return Q(e).direction==="rtl"}const Ao={convertOffsetParentRelativeRectToViewportRelativeRect:mo,getDocumentElement:se,getClippingRect:yo,getOffsetParent:Fn,getElementRects:Po,getClientRects:ho,getDimensions:bo,getScale:_e,isElement:Z,isRTL:So};function Oo(e,t){let r=null,n;const o=se(e);function i(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function s(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const{left:a,top:l,width:d,height:f}=e.getBoundingClientRect();if(u||t(),!d||!f)return;const m=et(l),h=et(o.clientWidth-(a+d)),v=et(o.clientHeight-(l+f)),w=et(a),b={rootMargin:-m+"px "+-h+"px "+-v+"px "+-w+"px",threshold:X(0,xe(1,c))||1};let S=!0;function p(x){const A=x[0].intersectionRatio;if(A!==c){if(!S)return s();A?s(!1,A):n=setTimeout(()=>{s(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(p,{...b,root:o.ownerDocument})}catch{r=new IntersectionObserver(p,b)}r.observe(e)}return s(!0),i}function Ro(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,a=_t(e),l=o||i?[...a?qe(a):[],...qe(t)]:[];l.forEach(g=>{o&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const d=a&&u?Oo(a,r):null;let f=-1,m=null;s&&(m=new ResizeObserver(g=>{let[b]=g;b&&b.target===a&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),r()}),a&&!c&&m.observe(a),m.observe(t));let h,v=c?Oe(e):null;c&&w();function w(){const g=Oe(e);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&r(),v=g,h=requestAnimationFrame(w)}return r(),()=>{var g;l.forEach(b=>{o&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(h)}}const Co=io,To=so,Fo=ro,Do=co,Mo=no,Lo=uo,Ho=(e,t,r)=>{const n=new Map,o={platform:Ao,...r},i={...o.platform,_c:n};return to(e,t,{...o,platform:i})};var $o="div";function tn(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const o={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return B(k({},o),{toJSON:()=>o})}function ko(e){if(!e)return tn();const{x:t,y:r,width:n,height:o}=e;return tn(t,r,n,o)}function _o(e,t){return{contextElement:e||void 0,getBoundingClientRect:()=>{const n=e,o=t==null?void 0:t(n);return o||!n?ko(o):n.getBoundingClientRect()}}}function No(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}function nn(e){const t=window.devicePixelRatio||1;return Math.round(e*t)/t}function jo(e,t){return Co(({placement:r})=>{var n;const o=((e==null?void 0:e.clientHeight)||0)/2,i=typeof t.gutter=="number"?t.gutter+o:(n=t.gutter)!=null?n:o;return{crossAxis:!!r.split("-")[1]?void 0:t.shift,mainAxis:i,alignmentAxis:t.shift}})}function Vo(e){if(e.flip===!1)return;const t=typeof e.flip=="string"?e.flip.split(" "):void 0;return st(!t||t.every(No),!1),Fo({padding:e.overflowPadding,fallbackPlacements:t})}function Bo(e){if(!(!e.slide&&!e.overlap))return To({mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Lo()})}function Io(e){return Do({padding:e.overflowPadding,apply({elements:t,availableWidth:r,availableHeight:n,rects:o}){const i=t.floating,s=Math.round(o.reference.width);r=Math.floor(r),n=Math.floor(n),i.style.setProperty("--popover-anchor-width",`${s}px`),i.style.setProperty("--popover-available-width",`${r}px`),i.style.setProperty("--popover-available-height",`${n}px`),e.sameWidth&&(i.style.width=`${s}px`),e.fitViewport&&(i.style.maxWidth=`${r}px`,i.style.maxHeight=`${n}px`)}})}function Wo(e,t){if(e)return Mo({element:e,padding:t.arrowPadding})}var Dn=Re(function(t){var r=t,{store:n,modal:o=!1,portal:i=!!o,preserveTabOrder:s=!0,autoFocusOnShow:u=!0,wrapperProps:c,fixed:a=!1,flip:l=!0,shift:d=0,slide:f=!0,overlap:m=!1,sameWidth:h=!1,fitViewport:v=!1,gutter:w,arrowPadding:g=4,overflowPadding:b=8,getAnchorRect:S,updatePosition:p}=r,x=Te(r,["store","modal","portal","preserveTabOrder","autoFocusOnShow","wrapperProps","fixed","flip","shift","slide","overlap","sameWidth","fitViewport","gutter","arrowPadding","overflowPadding","getAnchorRect","updatePosition"]);const A=pn();n=n||A,st(n,!1);const P=n.useState("arrowElement"),$=n.useState("anchorElement"),L=n.useState("disclosureElement"),C=n.useState("popoverElement"),j=n.useState("contentElement"),H=n.useState("placement"),O=n.useState("mounted"),R=n.useState("rendered"),T=y.useRef(null),[N,_]=y.useState(!1),{portalRef:W,domReady:V}=St(i,x.portalRef),G=Se(S),ue=Se(p),pe=!!p;U(()=>{if(!(C!=null&&C.isConnected))return;C.style.setProperty("--popover-overflow-padding",`${b}px`);const J=_o($,G),ee=async()=>{if(!O)return;P||(T.current=T.current||document.createElement("div"));const ce=P||T.current,Ee=[jo(ce,{gutter:w,shift:d}),Vo({flip:l,overflowPadding:b}),Bo({slide:f,shift:d,overlap:m,overflowPadding:b}),Wo(ce,{arrowPadding:g}),Io({sameWidth:h,fitViewport:v,overflowPadding:b})],te=await Ho(J,C,{placement:H,strategy:a?"fixed":"absolute",middleware:Ee});n==null||n.setState("currentPlacement",te.placement),_(!0);const Ke=nn(te.x),Ge=nn(te.y);if(Object.assign(C.style,{top:"0",left:"0",transform:`translate3d(${Ke}px,${Ge}px,0)`}),ce&&te.middlewareData.arrow){const{x:Pe,y:Me}=te.middlewareData.arrow,Je=te.placement.split("-")[0],Le=ce.clientWidth/2,He=ce.clientHeight/2,E=Pe!=null?Pe+Le:-Le,F=Me!=null?Me+He:-He;C.style.setProperty("--popover-transform-origin",{top:`${E}px calc(100% + ${He}px)`,bottom:`${E}px ${-He}px`,left:`calc(100% + ${Le}px) ${F}px`,right:`${-Le}px ${F}px`}[Je]),Object.assign(ce.style,{left:Pe!=null?`${Pe}px`:"",top:Me!=null?`${Me}px`:"",[Je]:"100%"})}},De=Ro(J,C,async()=>{pe?(await ue({updatePosition:ee}),_(!0)):await ee()},{elementResize:typeof ResizeObserver=="function"});return()=>{_(!1),De()}},[n,R,C,P,$,C,H,O,V,a,l,d,f,m,h,v,w,g,b,G,pe,ue]),U(()=>{if(!O||!V||!(C!=null&&C.isConnected)||!(j!=null&&j.isConnected))return;const J=()=>{C.style.zIndex=getComputedStyle(j).zIndex};J();let ee=requestAnimationFrame(()=>{ee=requestAnimationFrame(J)});return()=>cancelAnimationFrame(ee)},[O,V,C,j]);const Fe=a?"fixed":"absolute";return x=fe(x,J=>D.jsx("div",B(k({},c),{style:k({position:Fe,top:0,left:0,width:"max-content"},c==null?void 0:c.style),ref:n==null?void 0:n.setPopoverElement,children:J})),[n,Fe,c]),x=fe(x,J=>D.jsx(dn,{value:n,children:J}),[n]),x=B(k({"data-placing":!N||void 0},x),{style:k({position:"relative"},x.style)}),x=En(B(k({store:n,modal:o,portal:i,preserveTabOrder:s,preserveTabOrderAnchor:L||$,autoFocusOnShow:N&&u},x),{portalRef:W})),x});Ft(be(function(t){const r=Dn(t);return Ce($o,r)}),pn);var zo="div";function Mn(e,t,r,n){return nr(t)?!0:e?!!(q(t,e)||r&&q(r,e)||n!=null&&n.some(o=>Mn(e,o,r))):!1}function qo(e){var t=e,{store:r}=t,n=Te(t,["store"]);const[o,i]=y.useState(!1),s=r.useState("mounted");y.useEffect(()=>{s||i(!1)},[s]);const u=n.onFocus,c=Se(l=>{u==null||u(l),!l.defaultPrevented&&i(!0)}),a=y.useRef(null);return y.useEffect(()=>sn(r,["anchorElement"],l=>{a.current=l.anchorElement}),[]),n=B(k({autoFocusOnHide:o,finalFocus:a},n),{onFocus:c}),n}var rn=y.createContext(null),Yo=Re(function(t){var r=t,{store:n,modal:o=!1,portal:i=!!o,hideOnEscape:s=!0,hideOnHoverOutside:u=!0,disablePointerEventsOnApproach:c=!!u}=r,a=Te(r,["store","modal","portal","hideOnEscape","hideOnHoverOutside","disablePointerEventsOnApproach"]);const l=Ot();n=n||l,st(n,!1);const d=y.useRef(null),[f,m]=y.useState([]),h=y.useRef(0),v=y.useRef(null),{portalRef:w,domReady:g}=St(i,a.portalRef),b=ln(),S=!!u,p=ke(u),x=!!c,A=ke(c),P=n.useState("open"),$=n.useState("mounted");y.useEffect(()=>{if(!g||!$||!S&&!x)return;const O=d.current;return O?oe(le("mousemove",T=>{if(!n||!b())return;const{anchorElement:N,hideTimeout:_,timeout:W}=n.getState(),V=v.current,[G]=T.composedPath(),ue=N;if(Mn(G,O,ue,f)){v.current=G&&ue&&q(ue,G)?pt(T):null,window.clearTimeout(h.current),h.current=0;return}if(!h.current){if(V){const pe=pt(T),Fe=qt(O,V);if(zt(pe,Fe)){if(v.current=pe,!A(T))return;T.preventDefault(),T.stopPropagation();return}}p(T)&&(h.current=window.setTimeout(()=>{h.current=0,n==null||n.hide()},_??W))}},!0),()=>clearTimeout(h.current)):void 0},[n,b,g,$,S,x,f,A,p]),y.useEffect(()=>{if(!g||!$||!x)return;const O=R=>{const T=d.current;if(!T)return;const N=v.current;if(!N)return;const _=qt(T,N);if(zt(pt(R),_)){if(!A(R))return;R.preventDefault(),R.stopPropagation()}};return oe(le("mouseenter",O,!0),le("mouseover",O,!0),le("mouseout",O,!0),le("mouseleave",O,!0))},[g,$,x,A]),y.useEffect(()=>{g&&(P||n==null||n.setAutoFocusOnShow(!1))},[n,g,P]);const L=er(P);y.useEffect(()=>{if(g)return()=>{L.current||n==null||n.setAutoFocusOnShow(!1)}},[n,g]);const C=y.useContext(rn);U(()=>{if(o||!i||!$||!g)return;const O=d.current;if(O)return C==null?void 0:C(O)},[o,i,$,g]);const j=y.useCallback(O=>{m(T=>[...T,O]);const R=C==null?void 0:C(O);return()=>{m(T=>T.filter(N=>N!==O)),R==null||R()}},[C]);a=fe(a,O=>D.jsx(Er,{value:n,children:D.jsx(rn.Provider,{value:j,children:O})}),[n,j]),a=B(k({},a),{ref:it(d,a.ref)}),a=qo(k({store:n},a));const H=n.useState(O=>o||O.autoFocusOnShow);return a=Dn(B(k({store:n,modal:o,portal:i,autoFocusOnShow:H},a),{portalRef:w,hideOnEscape(O){return tr(s,O)?!1:(requestAnimationFrame(()=>{requestAnimationFrame(()=>{n==null||n.hide()})}),!0)}})),a});Ft(be(function(t){const r=Yo(t);return Ce(zo,r)}),Ot);var Xo="a",Uo=Re(function(t){var r=t,{store:n,showOnHover:o=!0}=r,i=Te(r,["store","showOnHover"]);const s=Ot();n=n||s,st(n,!1);const u=rr(i),c=y.useRef(0);y.useEffect(()=>()=>window.clearTimeout(c.current),[]),y.useEffect(()=>le("mouseleave",g=>{if(!n)return;const{anchorElement:b}=n.getState();b&&g.target===b&&(window.clearTimeout(c.current),c.current=0)},!0),[n]);const a=i.onMouseMove,l=ke(o),d=ln(),f=Se(w=>{if(a==null||a(w),u||!n||w.defaultPrevented||c.current||!d()||!l(w))return;const g=w.currentTarget;n.setAnchorElement(g),n.setDisclosureElement(g);const{showTimeout:b,timeout:S}=n.getState(),p=()=>{c.current=0,d()&&(n==null||n.setAnchorElement(g),n==null||n.show(),queueMicrotask(()=>{n==null||n.setDisclosureElement(g)}))},x=b??S;x===0?p():c.current=window.setTimeout(p,x)}),m=i.onClick,h=Se(w=>{m==null||m(w),n&&(window.clearTimeout(c.current),c.current=0)}),v=y.useCallback(w=>{if(!n)return;const{anchorElement:g}=n.getState();g!=null&&g.isConnected||n.setAnchorElement(w)},[n]);return i=B(k({},i),{ref:it(v,i.ref),onMouseMove:f,onClick:h}),i=an(i),i});be(function(t){const r=Uo(t);return Ce(Xo,r)});export{Er as H,oi as a,Yo as b,ni as c,Ft as d,Uo as e,ri as u};
