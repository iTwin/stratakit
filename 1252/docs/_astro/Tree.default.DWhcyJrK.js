import{w as T,j as o,t as j,R as y,c as b,I as G}from"./ExamplePreview.B1D9q5sx.js";import{r}from"./index.DIfZGIpv.js";import{u as H,C as q}from"./IQYAUKXT.Dplt8ZRz.js";import{u as U}from"./~utils.useInit.DNnVuCdH.js";import{f as C}from"./styles.internal.BwFdDu8v.js";import{b as V}from"./WZWDIE3S.HChNjFxO.js";import{T as J,a as Q}from"./HSU7H6PW.B9r4GGpV.js";import{I as W}from"./IconButton.DWmUcXVV.js";import{G as X}from"./~utils.GhostAligner.B21hVgIA.js";import{a as Y}from"./IconButton.internal.BMCbHJWT.js";import{S as Z,C as ee,M as te}from"./~utils.icons.CL5h9CNJ.js";import{L as oe,d as k,e as E,D as ne,a as re,b as se,c as ie}from"./DropdownMenu.BCEnDYES.js";import"./preload-helper.BgLC2_sS.js";import"./index.XeJbqeyU.js";import"./U6HHPQDW.Cr3M70m4.js";import"./GVAFFF2B.lIVfmnoI.js";import"./Q5W46E73.CXCMmHzV.js";import"./Z2O3VLAQ.BN2SpjsU.js";import"./PZ3OL7I2.BkjYL2WV.js";import"./~utils.Dot.kV9-cipr.js";import"./VisuallyHidden.3vlKSirh.js";import"./~utils.useInit.DNOszSps.js";import"./Button.w-QPTHtn.js";import"./HMKTUWOU.PJo57jBf.js";import"./Tooltip.yGXtQKGR.js";import"./ECBEZ4YM.DViQKUmB.js";import"./Z32PU2LQ.BIPwE9B6.js";import"./WLZ6H5FH.CZAN1lZp.js";import"./JMU4N4M5.Bh-DsNVZ.js";import"./~utils.icons.0aDRCzv5.js";import"./APVORPDK.DrsYlCdR.js";import"./NDVACHQI.CZnLS71x.js";import"./I7KWAPMF.UHXjn5a7.js";import"./CVCFNOHX.CDdOpCUm.js";import"./Kbd.Bj7zOXlQ.js";import"./Text.Zm2w0ij-.js";import"./~utils.icons.cmZ0jN2D.js";const D=r.createContext(void 0),M=r.createContext(void 0),N=r.createContext(void 0),R=r.createContext(void 0),F=r.createContext(void 0),A=r.createContext(void 0),K=r.createContext(void 0),P=r.createContext(void 0),_=r.createContext(void 0),g=r.createContext(void 0),I=r.memo(C((e,t)=>{const{selected:n,onSelectedChange:s,expanded:i,onExpandedChange:a,icon:c,unstable_decorations:l,label:d,description:m,inlineActions:x,actions:f,error:v,onClick:h,onKeyDown:p,...$}=e,w=T(()=>{i!==void 0&&a?.(!i)}),B=u=>{if(n!==void 0){u.stopPropagation(),s?.(!n);return}i!==void 0&&(u.stopPropagation(),a?.(!i))},O=u=>{u.altKey||u.ctrlKey||u.metaKey||u.shiftKey||i!==void 0&&(u.key==="ArrowRight"||u.key==="ArrowLeft")&&(u.preventDefault(),a?.(u.key==="ArrowRight"))};return o.jsx(ae,{...e,children:o.jsx(ce,{...$,expanded:i,selected:n,onClick:T(h,B),onKeyDown:T(p,O),ref:t,children:r.useMemo(()=>o.jsx(de,{onExpanderClick:w,expanded:i,selected:n}),[w,i,n])})})}));function ae(e){const t=j.c(12),{inlineActions:n,actions:s,label:i,description:a,icon:c,unstable_decorations:l,error:d}=e,m=r.useId(),x=r.useId(),f=r.useId();let v;if(t[0]!==s||t[1]!==f||t[2]!==l||t[3]!==a||t[4]!==x||t[5]!==d||t[6]!==c||t[7]!==n||t[8]!==i||t[9]!==m||t[10]!==e.children){const h=d?o.jsx(Z,{tone:"attention"}):c,p=h||l;v=o.jsx(D.Provider,{value:d,children:o.jsx(M.Provider,{value:n,children:o.jsx(N.Provider,{value:s,children:o.jsx(L.Provider,{value:s?s.length>0:!1,children:o.jsx(A.Provider,{value:p?f:void 0,children:o.jsx(R.Provider,{value:l,children:o.jsx(F.Provider,{value:h,children:o.jsx(P.Provider,{value:m,children:o.jsx(K.Provider,{value:i,children:o.jsx(_.Provider,{value:a,children:o.jsx(g.Provider,{value:a?x:void 0,children:e.children})})})})})})})})})})}),t[0]=s,t[1]=f,t[2]=l,t[3]=a,t[4]=x,t[5]=d,t[6]=c,t[7]=n,t[8]=i,t[9]=m,t[10]=e.children,t[11]=v}else v=t[11];return v}const ce=r.memo(C((e,t)=>{const{style:n,"aria-level":s,selected:i,expanded:a,...c}=e,l=r.useContext(P),d=r.useContext(A),m=r.useContext(g),x=r.useContext(D),f=typeof x=="string"?x:void 0,v=r.useMemo(()=>{const p=[];return m&&p.push(m),d&&p.push(d),f&&p.push(f),p.length>0?p.join(" "):void 0},[d,m,f]),h=r.useMemo(()=>({...n,"--TreeItem-level":s}),[n,s]);return o.jsx(V,{render:o.jsx(y,{...c,role:"treeitem","aria-expanded":a,"aria-selected":i,"aria-labelledby":l,"aria-describedby":v,"aria-level":s,className:b("TreeItem",e.className),style:h,ref:t}),children:e.children})}));function le(){const e=j.c(5),t=r.useRef(null),[n,s]=r.useState(!1);let i,a;e[0]!==n?(i=()=>{const l=t.current;if(!l||n)return;const d=new IntersectionObserver(m=>{const[x]=m;x.isIntersecting&&r.startTransition(()=>{s(!0)})});return d.observe(l),()=>{d.disconnect()}},a=[n],e[0]=n,e[1]=i,e[2]=a):(i=e[1],a=e[2]),r.useEffect(i,a);let c;return e[3]!==n?(c=[t,n],e[3]=n,e[4]=c):c=e[4],c}const de=r.memo(e=>{const t=j.c(7),{expanded:n,selected:s,onExpanderClick:i}=e,a=r.useContext(D),[c,l]=le(),d=a?!0:void 0;let m;return t[0]!==n||t[1]!==i||t[2]!==c||t[3]!==l||t[4]!==s||t[5]!==d?(m=o.jsxs(oe,{"data-_sk-expanded":n,"data-_sk-selected":s,"data-_sk-error":d,className:"TreeItemNode",role:void 0,ref:c,children:[o.jsx(me,{onExpanderClick:i}),o.jsx(xe,{}),o.jsx(pe,{}),l&&o.jsx(Ie,{})]}),t[0]=n,t[1]=i,t[2]=c,t[3]=l,t[4]=s,t[5]=d,t[6]=m):m=t[6],m}),me=r.memo(e=>o.jsxs(k,{children:[o.jsx(Te,{onClick:e.onExpanderClick}),o.jsx(ue,{})]}));function ue(){const e=j.c(4),t=r.useContext(A),n=r.useContext(R),s=r.useContext(F);let i;return e[0]!==t||e[1]!==n||e[2]!==s?(i=s||n?o.jsx(y,{className:"TreeItemDecoration",id:t,render:r.isValidElement(s)?s:typeof s=="string"?o.jsx(G,{href:s}):void 0,children:s?null:n}):null,e[0]=t,e[1]=n,e[2]=s,e[3]=i):i=e[3],i}const xe=r.memo(()=>{const e=j.c(3),t=r.useContext(P),n=r.useContext(K);let s;return e[0]!==n||e[1]!==t?(s=o.jsx(E,{id:t,className:"TreeItemContent",children:n}),e[0]=n,e[1]=t,e[2]=s):s=e[2],s}),pe=r.memo(()=>{const e=j.c(3),t=r.useContext(_),n=r.useContext(g);let s;return e[0]!==t||e[1]!==n?(s=t?o.jsx(E,{id:n,className:"TreeItemDescription",children:t}):void 0,e[0]=t,e[1]=n,e[2]=s):s=e[2],s}),Ie=r.memo(C((e,t)=>o.jsxs(k,{...e,onClick:T(e.onClick,n=>n.stopPropagation()),onKeyDown:T(e.onKeyDown,n=>n.stopPropagation()),className:b("TreeItemActionsContainer",e.className),ref:t,render:o.jsx(J,{focusLoop:!1}),children:[o.jsx(fe,{}),o.jsx(ve,{})]})));function fe(){const e=j.c(2),t=r.useContext(M)??[];let n;return e[0]!==t?(n=t.slice(0,2),e[0]=t,e[1]=n):n=e[1],n}const Ce=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],z=r.createContext(!1),L=r.createContext(!1),ve=r.memo(C((e,t)=>{const[n,s]=r.useState(!1),i=r.useRef(!1),a=r.useContext(L),c=r.useCallback(l=>{l&&!i.current?s(!0):s(!1)},[]);return a?o.jsxs(ne,{open:n,setOpen:c,placement:"right-start",children:[o.jsx(re,{...e,onKeyDown:l=>{Ce.includes(l.key)&&(i.current=!0),queueMicrotask(()=>{i.current=!1})},render:o.jsx(S,{label:"More",icon:o.jsx(te,{})}),ref:t}),o.jsx(je,{})]}):null}));function je(){return o.jsx(z.Provider,{value:!0,children:o.jsx(se,{children:o.jsx(he,{})})})}function he(){return r.useContext(N)??[]}r.memo(C((e,t)=>{const{label:n,icon:s,dot:i,...a}=e;return r.useContext(z)?o.jsx(ie,{...a,label:n,icon:s,unstable_dot:i,ref:t}):o.jsx(S,{...e,ref:t})}));const S=r.memo(C((e,t)=>{const n=r.useContext(D),s=r.useId(),{id:i=s,visible:a=n?!0:void 0,label:c,icon:l,dot:d,...m}=e;return o.jsx(W,{id:i,label:c,icon:l,inert:a===!1?"true":void 0,...m,render:o.jsx(Q,{render:e.render}),dot:d,variant:"ghost",className:b("TreeItemAction",e.className),"data-_sk-visible":a,ref:t})})),Te=C((e,t)=>{const n=r.useContext(g);return o.jsx(X,{align:n?"block":void 0,children:o.jsx(Y,{"aria-hidden":"true",...e,onClick:T(e.onClick,s=>s.stopPropagation()),className:b("TreeItemExpander",e.className),variant:"ghost",ref:t,children:o.jsx(ee,{})})})}),be=C((e,t)=>{U();const n=H({orientation:"vertical"});return o.jsx(y.div,{role:"tree",...e,render:o.jsx(q,{store:n}),className:b("Tree",e.className),ref:t,children:e.children})}),it=()=>{const[e,t]=r.useState({item1:!1,item2:!1,item3:!1}),n=s=>{t(i=>({...i,[s]:!i[s]}))};return o.jsxs(be,{children:[o.jsx(I,{label:"Item 1","aria-level":1,"aria-posinset":1,"aria-setsize":3,expanded:e.item1,onExpandedChange:()=>n("item1")}),e.item1&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Item 1.1","aria-level":2,"aria-posinset":1,"aria-setsize":2}),o.jsx(I,{label:"Item 1.2","aria-level":2,"aria-posinset":2,"aria-setsize":2})]}),o.jsx(I,{label:"Item 2","aria-level":1,"aria-posinset":2,"aria-setsize":3,expanded:e.item2,onExpandedChange:()=>n("item2")}),e.item2&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Item 2.1","aria-level":2,"aria-posinset":1,"aria-setsize":2}),o.jsx(I,{label:"Item 2.2","aria-level":2,"aria-posinset":2,"aria-setsize":2})]}),o.jsx(I,{label:"Item 3","aria-level":1,"aria-posinset":3,"aria-setsize":3,expanded:e.item3,onExpandedChange:()=>n("item3")}),e.item3&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Item 3.1","aria-level":2,"aria-posinset":1,"aria-setsize":2}),o.jsx(I,{label:"Item 3.2","aria-level":2,"aria-posinset":2,"aria-setsize":2})]})]})};export{it as default};
