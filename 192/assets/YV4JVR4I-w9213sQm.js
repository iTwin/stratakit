import{i as nt,ad as et,P as A,o as q,ae as rt,af as st,D as ut,A as ot,C as at,a2 as it,V as ct,R as L,g as ft,d as C,l as lt,ac as dt}from"./index-DW8YKRcD.js";import{r as St,v as pt,a as R}from"./chunk-D52XG6IA-BPj3SxYk.js";function E(t,e){const n=t.__unstableInternals;return nt(n,"Invalid store"),n[e]}function M(t,...e){let n=t,f=n,r=Symbol(),a=it;const u=new Set,c=new Set,d=new Set,v=new Set,p=new Set,o=new WeakMap,l=new WeakMap,b=s=>(d.add(s),()=>d.delete(s)),V=()=>{const s=u.size,i=Symbol();u.add(i);const g=()=>{u.delete(i),!u.size&&a()};if(s)return g;const _=et(n).map(h=>A(...e.map(x=>{var S;const y=(S=x==null?void 0:x.getState)==null?void 0:S.call(x);if(y&&q(y,h))return J(x,[h],P=>{U(h,P[h],!0)})}))),w=[];for(const h of d)w.push(h());const I=e.map(G);return a=A(..._,...w,...I),g},m=(s,i,g=v)=>(g.add(i),l.set(i,s),()=>{var _;(_=o.get(i))==null||_(),o.delete(i),l.delete(i),g.delete(i)}),j=(s,i)=>m(s,i),T=(s,i)=>(o.set(i,i(n,n)),m(s,i)),X=(s,i)=>(o.set(i,i(n,f)),m(s,i,p)),Y=s=>M(rt(n,s),O),Z=s=>M(st(n,s),O),k=()=>n,U=(s,i,g=!1)=>{var _;if(!q(n,s))return;const w=ut(i,n[s]);if(w===n[s])return;if(!g)for(const S of e)(_=S==null?void 0:S.setState)==null||_.call(S,s,w);const I=n;n=ot(at({},n),{[s]:w});const h=Symbol();r=h,c.add(s);const x=(S,y,P)=>{var B;const W=l.get(S),tt=$=>P?P.has($):$===s;(!W||W.some(tt))&&((B=o.get(S))==null||B(),o.set(S,S(n,y)))};for(const S of v)x(S,I);queueMicrotask(()=>{if(r!==h)return;const S=n;for(const y of p)x(y,f,c);f=S,c.clear()})},O={getState:k,setState:U,__unstableInternals:{setup:b,init:V,subscribe:j,sync:T,batch:X,pick:Y,omit:Z}};return O}function wt(t,...e){if(t)return E(t,"setup")(...e)}function G(t,...e){if(t)return E(t,"init")(...e)}function H(t,...e){if(t)return E(t,"subscribe")(...e)}function J(t,...e){if(t)return E(t,"sync")(...e)}function vt(t,...e){if(t)return E(t,"batch")(...e)}function yt(t,...e){if(t)return E(t,"omit")(...e)}function Rt(t,...e){if(t)return E(t,"pick")(...e)}function Vt(...t){const e=t.reduce((f,r)=>{var a;const u=(a=r==null?void 0:r.getState)==null?void 0:a.call(r);return u?Object.assign(f,u):f},{}),n=M(e,...t);return Object.assign({},...t,n)}function jt(t,e){}var z={exports:{}},D={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F;function mt(){if(F)return D;F=1;var t=St();function e(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var n=typeof Object.is=="function"?Object.is:e,f=t.useState,r=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(o,l){var b=l(),V=f({inst:{value:b,getSnapshot:l}}),m=V[0].inst,j=V[1];return a(function(){m.value=b,m.getSnapshot=l,d(m)&&j({inst:m})},[o,b,l]),r(function(){return d(m)&&j({inst:m}),o(function(){d(m)&&j({inst:m})})},[o]),u(b),b}function d(o){var l=o.getSnapshot;o=o.value;try{var b=l();return!n(o,b)}catch{return!0}}function v(o,l){return l()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:c;return D.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,D}var K;function bt(){return K||(K=1,z.exports=mt()),z.exports}var ht=bt();const gt=pt(ht);var{useSyncExternalStore:N}=gt,Q=()=>()=>{};function _t(t,e=ct){const n=R.useCallback(r=>t?H(t,null,r):Q(),[t]),f=()=>{const r=typeof e=="string"?e:null,a=typeof e=="function"?e:null,u=t==null?void 0:t.getState();if(a)return a(u);if(u&&r&&q(u,r))return u[r]};return N(n,f,f)}function qt(t,e){const n=R.useRef({}),f=R.useCallback(a=>t?H(t,null,a):Q(),[t]),r=()=>{const a=t==null?void 0:t.getState();let u=!1;const c=n.current;for(const d in e){const v=e[d];if(typeof v=="function"){const p=v(a);p!==c[d]&&(c[d]=p,u=!0)}if(typeof v=="string"){if(!a||!q(a,v))continue;const p=a[v];p!==c[d]&&(c[d]=p,u=!0)}}return u&&(n.current=C({},c)),n.current};return N(f,r,r)}function Pt(t,e,n,f){const r=q(e,n)?e[n]:void 0,a=f?e[f]:void 0,u=dt({value:r,setValue:a});L(()=>J(t,[n],(c,d)=>{const{value:v,setValue:p}=u.current;p&&c[n]!==d[n]&&c[n]!==v&&p(c[n])}),[t,n]),L(()=>{if(r!==void 0)return t.setState(n,r),vt(t,[n],()=>{r!==void 0&&t.setState(n,r)})})}function Ct(t,e){const[n,f]=R.useState(()=>t(e));L(()=>G(n),[n]);const r=R.useCallback(c=>_t(n,c),[n]),a=R.useMemo(()=>ft(C({},n),{useState:r}),[n,r]),u=lt(()=>{f(c=>t(C(C({},e),c.getState())))});return[a,u]}export{J as a,Pt as b,M as c,_t as d,vt as e,qt as f,H as g,G as i,Vt as m,yt as o,Rt as p,wt as s,jt as t,Ct as u};
