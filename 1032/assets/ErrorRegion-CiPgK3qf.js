import{a as n,p as e}from"./chunk-OIYGIGL5-CSMkcYsE.js";import{C as y}from"./collection-CAAzeroq.js";import{C as N}from"./Y62RTBST-D-WkbKM1.js";import{a as C}from"./AMMIPFT4-Cp1VWIyy.js";import{l as w,V as k,q as L,B as P,m as _}from"./~utils-DTuYwfvV.js";import{f as g,q as A,R as B,c as h,T as v}from"./sun-C0STd8eG.js";import{D as O}from"./ZTXFEM5L-DmO_gHty.js";import{D as q}from"./dialog-provider-DElEz5Zo.js";import{S as H,C as T}from"./~utils.icons-BQI8eknz.js";const W=g((t,l)=>{const{label:s,items:r=[],open:c,setOpen:d,...m}=t,u=n.useId(),R=t["aria-label"]?void 0:s?u:void 0,j=Array.isArray(r)?r.length>0:!!s,[f,D]=A(!1,c,d),p=n.useRef(null),I=()=>{const a=p.current;if(!a)return;const i="--ErrorRegion-pulse";a.getAnimations({subtree:!0}).find(o=>o.id===i)||a.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:i,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},x=C({setItems:a=>{const i=new Set(E.map(o=>o.id));a.filter(o=>!i.has(o.id)).length!==0&&(I(),S(s))}}),E=w(x,"items"),[b,S]=n.useState(s);return e.jsxs(e.Fragment,{children:[e.jsx(k,{"aria-live":"polite","aria-atomic":!0,children:b===s?b:void 0}),e.jsx(q,{open:f,setOpen:D,children:e.jsx(B.section,{"aria-labelledby":R,...m,className:h("ErrorRegion",t.className),"data-_sk-visible":j,"data-_sk-expanded":f,ref:l,children:e.jsxs("div",{className:"ErrorRegionContainer",ref:p,children:[e.jsxs(O,{className:"ErrorRegionHeader",render:e.jsx(P,{variant:"ghost"}),children:[e.jsx(H,{tone:"attention",className:"ErrorRegionIcon"}),e.jsx(v,{render:e.jsx("span",{}),id:u,className:"ErrorRegionLabel",variant:"body-sm",children:s}),e.jsx(L,{inert:!0,variant:"ghost",children:e.jsx(T,{})})]}),e.jsx(_,{className:"ErrorRegionDialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(y,{store:x,className:"ErrorRegionItems",role:"list",children:r})})]})})})]})}),X=g((t,l)=>{const s=n.useId(),{message:r,messageId:c=`${s}-message`,actions:d,...m}=t;return e.jsxs(N,{...m,role:"listitem",className:h("ErrorRegionItem",t.className),ref:l,children:[e.jsx(v,{id:c,variant:"body-sm",children:r}),e.jsx("div",{className:"ErrorRegionItemActions",children:d})]})});export{W as E,X as a};
