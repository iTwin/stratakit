import{a as e,n as l}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as b}from"./index-DeGJKKUv.js";import{f as x,i as y}from"./~utils-ChHMGsjo.js";import{R as C}from"./XL7CSKGW-DWaBDxUb.js";const E=x((r,s)=>{const t=e.useRef(null),n=e.useId(),{layout:a,...c}=r,[u,o]=e.useState(null),[f,m]=e.useState(null);return p(()=>{!(t!=null&&t.current)||!(t.current instanceof Element)||(o(t.current.matches(":is(label ~ *, label ~ * *, label * ~ *)")?"before":"after"),m(t.current.matches(":is(.ðŸ¥-text-box, .ðŸ¥-select)")?"text":"checkable"))},[]),l.jsx(d,{value:e.useMemo(()=>({id:n,controlRef:t}),[n]),children:l.jsx(F,{children:l.jsx(C,{...c,className:b("ðŸ¥-field",r.className),"data-kiwi-label-placement":u,"data-kiwi-control-type":f,"data-kiwi-layout":a,ref:s})})})}),i=e.createContext(void 0);function F(r){const[s,t]=e.useState(new Set),n=e.useCallback(c=>{t(u=>{const o=new Set(u);return o.add(c),o})},[]),a=e.useCallback(c=>{t(u=>{const o=new Set(u);return o.delete(c),o})},[]);return l.jsx(i.Provider,{value:e.useMemo(()=>({describedBy:s,register:n,unregister:a}),[s,n,a]),children:r.children})}function S(r){var t;const s=(t=e.useContext(i))==null?void 0:t.describedBy;return e.useMemo(()=>!s||s.size===0?r:[...s,r].filter(Boolean).join(" "),[s,r])}function j(r){const s=e.useContext(i),t=s==null?void 0:s.register,n=s==null?void 0:s.unregister;e.useEffect(()=>{if(!(!t||!n))return t(r),()=>n(r)},[r,t,n])}const d=e.createContext(void 0);function k(){return e.useContext(d)}const p=y?e.useLayoutEffect:e.useEffect;export{E as F,k as a,S as b,j as u};
