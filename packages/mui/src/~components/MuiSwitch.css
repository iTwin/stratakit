/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/

.MuiSwitch-root {
	padding: 0;
	block-size: auto;
	inline-size: auto;
	align-items: center;
	overflow: visible;

	&:where(.MuiSwitch-sizeSmall) {
		--_switch-thumb-size: 0.75rem;
	}

	&:where(.MuiSwitch-sizeMedium) {
		--_switch-thumb-size: 1rem;
	}
}

.MuiSwitch-switchBase {
	aspect-ratio: 1;
	block-size: var(--_switch-thumb-size);
	inline-size: var(--_switch-thumb-size);
	inset: unset;
	inset-inline-end: calc(var(--_switch-thumb-size) + var(--stratakit-space-x05)); /* 18px */
	padding: 0;

	@media (prefers-reduced-motion: no-preference) {
		transition: inset 150ms ease-out;
	}

	@media (any-hover: hover) {
		&:where(:not(.Mui-disabled)):hover,
		:where(.MuiFormControlLabel-root:where(:not(.Mui-disabled))):hover & {
			--_hover-background-color: var(--stratakit-color-bg-glow-on-surface-neutral-hover);

			&:where(.Mui-checked) {
				--_hover-background-color: var(--stratakit-color-bg-glow-on-surface-accent-hover);
			}
		}
	}

	&:where(.Mui-checked) {
		inset: unset;
		inset-inline-end: var(--stratakit-space-x05); /* 2px */
		transform: none;
	}

	/* This pseudo-element increases tap target size to 24x24 */
	&::before {
		content: "";
		position: absolute;
		inset: calc(((24px - var(--_switch-thumb-size)) / 2) * -1); /* Makes touch target area 24px */
		border-radius: 50%;
		background-color: var(--_hover-background-color);
	}
}

.MuiSwitch-thumb {
	aspect-ratio: inherit;
	block-size: inherit;
	inline-size: inherit;
	border-radius: inherit;
	background-color: var(--stratakit-color-bg-neutral-inverse);
	border: 1px solid var(--stratakit-color-border-shadow-base);
	position: relative;

	:where(.Mui-disabled) & {
		background-color: var(--stratakit-color-icon-neutral-disabled);
		border-color: var(--stratakit-color-icon-neutral-disabled);
	}
}

.MuiSwitch-track {
	inline-size: calc((var(--_switch-thumb-size) * 2) + (var(--stratakit-space-x05) * 2));
	block-size: calc(var(--_switch-thumb-size) + (var(--stratakit-space-x05) * 2));
	background-color: var(--stratakit-color-bg-page-base);
	border: 1px solid var(--stratakit-color-border-neutral-base);
	border-radius: 9999px;
	opacity: 1;

	:where(.Mui-checked) + & {
		background-color: var(--stratakit-color-bg-accent-base);
		border-color: var(--stratakit-color-border-shadow-strong);
	}

	:where(.Mui-disabled) + & {
		background-color: var(--stratakit-color-bg-page-base);
		border-color: var(--stratakit-color-icon-neutral-disabled);
	}

	:where(.Mui-focusVisible) + & {
		outline: 2px solid var(--stratakit-color-border-accent-strong);
		outline-offset: 2px;
	}
}
