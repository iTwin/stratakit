import{p as e,b as g}from"./index-DDCMeoDP.js";import{u as F,C as S}from"./RZ4GPYOB-DM4c59vB.js";import{L as C,M as R,l as b,N as y,O as w,V as E,o as B,p as A,d as v,S as O,Q as P,U as k,B as L,W as M}from"./~utils-Lz1DNjB_.js";import{C as T}from"./collection-s5l5R4Ho.js";import{D as V}from"./AXB53BZF-D7075Qxi.js";import{T as p}from"./Text-B5OEV2Jl.js";function H(r={}){const s=C(r);return e.jsx(R,{value:s,children:r.children})}const G=b((r,s)=>{const{label:a,items:n,expanded:i,onExpandedChange:l,...d}=r,c=g.useId(),I=r["aria-labelledby"]??(r["aria-label"]?void 0:c),[x,N]=y(!1,i,l),f=g.useRef(void 0),h=F({setItems:o=>{var t;if(j.length===0)return;const D=new Set(j.map(u=>u.id));o.filter(u=>!D.has(u.id)).length!==0&&((t=f.current)==null||t.play())}}),j=w(h,"items");return e.jsxs(e.Fragment,{children:[e.jsx(E,{"aria-live":"polite","aria-atomic":!0,children:a}),e.jsx(H,{open:x,setOpen:N,children:e.jsx(B.section,{...d,"aria-labelledby":I,className:v("-error-region",r.className),"data-kiwi-visible":!!a,"data-kiwi-expanded":x,ref:A(s,o=>{if(!o)return;const m=o.getAnimations({subtree:!0}).find(t=>t instanceof CSSAnimation?t.animationName==="--error-region-pulse":!1);m&&(f.current=m)}),children:e.jsxs("div",{className:"-error-region-container",children:[e.jsxs(V,{className:"-error-region-header",render:e.jsx(L,{variant:"ghost"}),children:[e.jsx(O,{tone:"attention",className:"-error-region-icon"}),e.jsx(p,{render:e.jsx("span",{}),id:c,className:"-error-region-label",variant:"body-sm",children:a}),e.jsx(P,{inert:!0,variant:"ghost",children:e.jsx(k,{})})]}),e.jsx(M,{className:"-error-region-dialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":c,children:e.jsx(T,{store:h,className:"-error-region-items",role:"list",children:n})})]})})})]})}),J=b((r,s)=>{const a=g.useId(),{message:n,messageId:i=`${a}-message`,actions:l,...d}=r;return e.jsxs(S,{...d,role:"listitem",className:v("-error-region-item",r.className),ref:s,children:[e.jsx(p,{id:i,variant:"body-sm",children:n}),e.jsx("div",{className:"-error-region-item-actions",children:l})]})});export{G as E,J as a};
