import{w as D,a as l,o as e}from"./chunk-QMGIS6GS-BaJhsRKI.js";import{I as p}from"./sun-DkPtosCR.js";import{T as w,a as S,b as m,p as T}from"./immer-L9DKhEDW.js";import{d as P}from"./~utils-G2QC8hIy.js";import{r as U,u as F}from"./refresh-3hT8mqYf.js";import{p as c}from"./placeholder-C1sDuE8J.js";import{s as M}from"./visibility-show-CNe-NYDo.js";import"./LMDWO4NN-CcJUQKmw.js";import"./6VRAQV3D-BUhDy_Yi.js";import"./RZ4GPYOB-rLT1QmIF.js";import"./IWEFDH56-Bu_IF7_u.js";import"./5JTVDSTH-XOpIFNn4.js";import"./~utils.icons-D7YNPaOS.js";import"./~utils.icons-CFxyyG_I.js";import"./DropdownMenu-BXTpqw17.js";import"./S43UC3DV-D28ziV4v.js";import"./NTITENHD-BdQpJJIE.js";import"./F5MUBM3I-DLVdStrv.js";import"./IAEAQUOT-B3YoTFqh.js";import"./Kbd-DueFKDTn.js";import"./~utils.icons-BY6pZBee.js";import"./index-DlVK9hNA.js";import"./XX67R432-C0JnyUGJ.js";const ce={title:"Tree"},de=D(P(function({overflow:d=!1,selected:s=!1,description:f,error:h,items:x}){const[u,y]=l.useTransition(),b=d?" with a super long label that is overflown":"",z=f?"Additional description":void 0,[C,$]=l.useState(!!h),k=x?Number(x):0,[j,g]=l.useState(()=>[{label:`Item 1${b}`,selected:!!s,expanded:!0,children:[{label:"Item 1.1",selected:!!s},{label:"Item 1.2",selected:!!s},{label:`Item 1.3${b}`,selected:!!s}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${b}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:k}).map((t,o)=>({label:`Item ${o+4}`,selected:!1}))]),E=l.useMemo(()=>j.flatMap((t,o,n)=>{const i={...t,level:1,index:o,setSize:n.length,childIndex:void 0};if(!t.expanded)return i;const v=t.children?t.children.map((a,r,R)=>({...a,level:2,index:o,childIndex:r,setSize:R.length,expanded:void 0})):[];return[i,...v]}),[j]),_=l.useCallback(()=>{$(!1)},[]),A=[e.jsx(m,{icon:F,label:"Unlock"},"unlock"),e.jsx(m,{icon:M,label:"Show"},"show")];return e.jsx(w,{style:{maxInlineSize:d?300:void 0},children:E.map(t=>{const{index:o,childIndex:n}=t,i=C&&o===0&&n===void 0,v=o===0&&n===void 0||n===0;return e.jsx(S,{"aria-level":t.level,"aria-posinset":o+1,"aria-setsize":t.setSize,label:t.label,description:v?z:void 0,expanded:t.expanded,selected:t.selected,error:i,onSelectedChange:()=>{g(T(a=>{const r=n===void 0?a[o]:a[o].children?.[n];r&&(r.selected=!r.selected)}))},onExpandedChange:()=>{y(()=>{g(T(a=>{const r=a[o];r.expanded!==void 0&&(r.expanded=!r.expanded)}))})},icon:n===void 0?e.jsx(p,{href:c,alt:"decoration"}):void 0,unstable_decorations:n===0?e.jsxs(e.Fragment,{children:[e.jsx(p,{href:c}),e.jsx(p,{href:c})]}):e.jsx(p,{href:c}),menuActions:i?A:void 0,inlineActions:i?[e.jsx(m,{icon:U,label:"Retry",onClick:_},"retry")]:A},t.label)})})},{_actionsOverflow:N}));function N({count:I=5,dot:d=!1}){const s=Array.from({length:Number(I)}).map((x,u)=>e.jsx(m,{label:`Action ${u+1}`,icon:c,dot:d?"Something's going on":void 0},`${u+1}`)),f=s.slice(0,2),h=s.slice(2);return e.jsx(w,{children:e.jsx(S,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,inlineActions:f,menuActions:h})})}export{de as default,ce as handle};
