/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.appLayout {
	--_splitter-width: 12px;

	block-size: 100dvb;
	display: grid;
	grid-template-areas:
		"header"
		"content";
	grid-template-rows: auto 1fr;
	grid-template-columns: 1fr;
}

.header {
	--_header-height: 56px;
	grid-area: header;
	background-color: var(--stratakit-color-bg-page-base);
	border-block-end: 1px solid var(--stratakit-color-border-neutral-base);

	min-block-size: var(--_header-height);
	display: flex;
	align-items: center;
	gap: var(--stratakit-space-x3);
	padding-inline: var(--stratakit-space-x3);
}

.content {
	grid-area: content;
}

.leftPanel {
	padding-block-start: var(--stratakit-space-x3);
	background-color: var(--stratakit-color-bg-page-base);
	min-block-size: 0;

	contain: size layout; /* prevent unnecessary overflow */
	display: flex;
	flex-direction: column;
	gap: var(--stratakit-space-x3);
}

.panelHeader {
	display: flex;
	padding-inline: var(--stratakit-space-x3);
	justify-content: space-between;

	font-size: var(--stratakit-font-size-12);
}

.panelTitleWrapper {
	margin-inline-start: calc(var(--stratakit-space-x2) * -1);
}

.panelCaption {
	color: var(--stratakit-color-text-neutral-secondary);
}

.shiftIconRight {
	margin-inline-end: calc(var(--stratakit-space-x1) * -1);
}

.subheader {
	min-block-size: 2.5rem;
	padding-inline: var(--stratakit-space-x3);
	border-block: 1px solid var(--stratakit-color-border-neutral-base);
	border-inline: none;

	display: flex;
	gap: var(--stratakit-space-x1);
	align-items: center;
}

.subheaderTitle {
	font-size: var(--stratakit-font-size-12);
	font-weight: 600;
}

.searchInput {
	flex: 1;
}

.subheaderActions {
	margin-inline-start: auto;
}

.tabList {
	align-self: flex-end;
	margin-block-end: -1px;
}

.emptyState {
	display: flex;
	align-items: center;
	justify-content: center;
	flex-direction: column;
	block-size: 100%;
	gap: var(--stratakit-space-x2);
}

.skeletonTree {
	display: flex;
	flex-direction: column;
	gap: var(--stratakit-space-x2);
	overflow: auto;
}

.skeletonTreeItem {
	display: flex;
	align-items: center;
	gap: var(--stratakit-space-x2);
	width: 100%;
	padding-inline-start: calc(
		var(--stratakit-space-x3) +
		var(--stratakit-space-x1) +
		var(--stratakit-space-x05) *
		(var(--level) - 1)
	);
	padding-inline-end: var(--stratakit-space-x2);
}

.canvasWrapper {
	padding-block: var(--stratakit-space-x2);
	padding-inline-end: var(--stratakit-space-x2);
}

.canvas {
	block-size: 100%;
	border-radius: 16px;
	box-shadow: var(--stratakit-shadow-surface-xl);
	border: 1px solid var(--stratakit-color-border-neutral-muted);
	position: relative;
	padding: var(--stratakit-space-x2);

	&::before {
		content: "";
		position: absolute;
		inset: 0;
		background-image: var(--_rings), var(--_gradient);
		opacity: 0.5;
		z-index: -1;
		border-radius: inherit;

		--_rings: repeating-radial-gradient(
			circle at center,
			var(--stratakit-color-border-neutral-muted) 1px,
			var(--stratakit-color-border-neutral-muted) 3px,
			transparent 3px,
			transparent 10px
		);
		--_gradient: linear-gradient(
			180deg,
			var(--stratakit-color-bg-page-base) 0%,
			var(--stratakit-color-bg-page-depth) 100%
		);
	}
}

.splitter {
	position: relative;
	inline-size: var(--_splitter-width);

	&::before {
		content: "";
		position: absolute;
		inline-size: 2px;
		inset-inline-start: calc(var(--_splitter-width) / 2);
		inset-block: 0;
		background-color: var(--_bg);
	}

	&:where(:hover, [data-resize-handle-state="hover"], [data-resize-handle-state="drag"]) {
		--_bg: var(--stratakit-color-border-accent-strong);

		@media (forced-colors: active) {
			--_bg: Highlight;
		}
	}

	&:focus-visible {
		outline-offset: calc(var(--stratakit-space-x05) * -1);
	}
}

.tabPanel {
	min-block-size: 0;
	flex-grow: 1;
	padding-block-end: var(--stratakit-space-x3);

	display: flex;
	flex-direction: column;
}

.tree {
	scrollbar-gutter: stable;
	flex: 1;
}

.colorSwatch {
	--_color: var(--_color--default);
	--_color--default: var(--_color,);
	--_color--blue: var(--_color,);
	--_color--gray: var(--_color,);
	--_color--green: var(--_color,);
	--_color--purple: var(--_color,);
	--_color--red: var(--_color,);
	--_color--teal: var(--_color,);
	--_color--yellow: var(--_color,);

	aspect-ratio: 1;
	block-size: 1em;
	border-radius: 2px;
	border: 1px solid rgb(255 255 255 / 0.16);
	background-color: var(--_color--default, CurrentColor) var(--_color--blue, #0005f9)
		var(--_color--gray, #808080) var(--_color--green, #15c72f) var(--_color--purple, #8c00ff)
		var(--_color--red, #fe0f17) var(--_color--teal, #1cfffe) var(--_color--yellow, #ffff43);
}
