import{n as c,a as r}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as b}from"./index-jyeBNHV5.js";import{c as y,_ as I,C as v,r as g,d as j,e as F,f as S}from"./~utils-CxpNXQT1.js";import{a as k,C as w,b as f}from"./RZ4GPYOB-DLrWG0rS.js";import{u as T}from"./C3IKGW5T-CVfBMKKM.js";import{d as B}from"./YV4JVR4I-B6wCGKZo.js";import{R}from"./XL7CSKGW-DWygVppE.js";var h="div",D=y(function(e){var t=e,{store:o}=t,s=I(t,["store"]);const i=k();return o=o||i,s=v(s,l=>c.jsx(w,{value:o,children:l}),[o]),g(s)}),E=j(function(e){const t=D(e);return F(h,t)});function P(n){const[e,t]=r.useState([]),o=T({items:e,setItems:t}),s=B(o,"renderedItems"),[i,l]=r.useMemo(()=>{var u;let d;return[(u=s.find((x,p)=>{if(x.elementType==="control")return d=p,!0}))==null?void 0:u.controlType,d]},[s]),a=r.useMemo(()=>{if(l==null)return;const d=s.findIndex(u=>u.elementType==="label");return d===-1?void 0:d<l?"before":"after"},[s,l]);return c.jsx(E,{...n,store:o,"data-kiwi-label-placement":a,"data-kiwi-control-type":i})}function W(n){const{type:e,...t}=n,o=r.useCallback(s=>({...s,elementType:"control",controlType:e}),[e]);return c.jsx(f,{...t,getItem:o})}function q(n){const e=r.useCallback(t=>({...t,elementType:"label"}),[]);return c.jsx(f,{...n,getItem:e})}const A=S((n,e)=>{const t=r.useId(),{layout:o,...s}=n;return c.jsx(C.Provider,{value:t,children:c.jsx(M,{children:c.jsx(P,{render:c.jsx(R.div,{...s,className:b("ðŸ¥-field",n.className),"data-kiwi-layout":o,ref:e})})})})}),m=r.createContext(void 0);function M(n){const[e,t]=r.useState(new Set),o=r.useCallback(i=>{t(l=>{const a=new Set(l);return a.add(i),a})},[]),s=r.useCallback(i=>{t(l=>{const a=new Set(l);return a.delete(i),a})},[]);return c.jsx(m.Provider,{value:r.useMemo(()=>({describedBy:e,register:o,unregister:s}),[e,o,s]),children:n.children})}function G(n){var t;const e=(t=r.useContext(m))==null?void 0:t.describedBy;return r.useMemo(()=>!e||e.size===0?n:[...e,n].filter(Boolean).join(" "),[e,n])}function J(n){const e=r.useContext(m),t=e==null?void 0:e.register,o=e==null?void 0:e.unregister;r.useEffect(()=>{if(!(!t||!o))return t(n),()=>o(n)},[n,t,o])}const C=r.createContext(void 0);function K(){return r.useContext(C)}export{A as F,K as a,G as b,W as c,q as d,J as u};
