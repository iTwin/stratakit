import{n as a,a as c}from"./chunk-K6CSEXPM-DTpfuivu.js";import{c as C}from"./~utils-DJBN2z_y.js";import{R as m}from"./XL7CSKGW-B8eqAfzP.js";import{f as I}from"./~utils-ByC6hA40.js";import{u as j}from"./C3IKGW5T-C5398cDE.js";import{a as v,C as T,b as y,c as p}from"./RZ4GPYOB-CnW7c3F4.js";import{f as g,c as F,b as R,_ as k,x as D,r as w}from"./LMDWO4NN-BfB9Y8BD.js";import{d as x}from"./~hooks-xhRWJkci.js";var E="div",L=F(function(t){var e=t,{store:r}=e,s=k(e,["store"]);const l=v();return r=r||l,s=D(s,o=>a.jsx(T,{value:r,children:o}),[r]),w(s)}),N=g(function(t){const e=L(t);return R(E,e)});const q=I((n,t)=>{const{layout:e,...r}=n;return a.jsx(M,{render:a.jsx(m.div,{...r,className:C("ğŸ¥-field",n.className),"data-kiwi-layout":e,ref:t})})});function M(n){const t=j({defaultItems:[]}),e=x(t,o=>o.renderedItems),[r,s]=c.useMemo(()=>{var i;const o=e.findIndex(u=>u.elementType==="control");return[(i=e[o])==null?void 0:i.controlType,o]},[e]),l=c.useMemo(()=>{const o=e.findIndex(i=>i.elementType==="label");if(!(s===-1||o===-1))return o<s?"before":"after"},[e,s]);return a.jsx(N,{...n,store:t,"data-kiwi-label-placement":l,"data-kiwi-control-type":r})}function z(n){const t=y(),e=c.useId(),{id:r=t?e:void 0,type:s,...l}=n,o=x(t,d=>d.renderedItems),i=c.useMemo(()=>{var b;return((b=o==null?void 0:o.filter(f=>f.elementType==="description"))==null?void 0:b.map(f=>f.id).join(" "))||void 0},[o]),u=c.useCallback(d=>({...d,elementType:"control",controlType:s}),[s]);return a.jsx(p,{id:r,getItem:u,render:a.jsx(m,{...l,"aria-describedby":i})})}function P(n){const t=y(),e=x(t,l=>l.renderedItems),r=c.useMemo(()=>{var l;return(l=e==null?void 0:e.find(o=>o.elementType==="control"))==null?void 0:l.id},[e]),s=c.useCallback(l=>({...l,elementType:"label"}),[]);return a.jsx(p,{getItem:s,render:a.jsx(m.label,{...n,htmlFor:r})})}function A(n){const t=c.useId(),{id:e=t,...r}=n,s=c.useCallback(l=>({...l,elementType:"description"}),[]);return a.jsx(p,{...r,id:e,getItem:s})}const G=I((n,t)=>a.jsx(P,{render:a.jsx(m.label,{...n,className:C("ğŸ¥-label",n.className),ref:t})}));export{q as F,G as L,A as a,z as b};
