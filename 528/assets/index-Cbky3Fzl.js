import{w as _,i as R,I as f}from"./~utils-BsM9VYNc.js";import{b as i,p as e}from"./index-DDCMeoDP.js";import{T as w,a as S,b as h,p as T}from"./immer-Ciu4ze1E.js";import{r as D,u as P}from"./refresh-Cw76qoXA.js";import{p as d}from"./placeholder-CGglErnt.js";import{s as U}from"./visibility-show-D_lw6AWM.js";import"./P2CTZE2T-df_t5MJF.js";import"./RZ4GPYOB-CF-aq2ks.js";import"./BOLVLGVE-Y5dLfPGV.js";import"./ITI7HKP4-B6zbWjIb.js";import"./DropdownMenu-D2DpQY5h.js";import"./VEVQD5MH-DykvSjfS.js";import"./AXB53BZF-BDgE6q_h.js";import"./P4IRICAX-fjdIeTMI.js";import"./ASMQKSDT-CO-ExitI.js";import"./Kbd-DcWT92bQ.js";import"./Text-C8LZ3M2d.js";const oe={title:"Tree"},re=_(R(function({overflow:c=!1,selected:n=!1,description:I,error:p,items:v}){const[M,y]=i.useTransition(),x=c?" with a super long label that is overflown":"",z=I?"Additional description":void 0,[A,C]=i.useState(!!p),$=v?Number(v):0,[j,g]=i.useState(()=>[{label:`Item 1${x}`,selected:!!n,expanded:!0,children:[{label:"Item 1.1",selected:!!n},{label:"Item 1.2",selected:!!n},{label:`Item 1.3${x}`,selected:!!n}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${x}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:$}).map((t,o)=>({label:`Item ${o+4}`,selected:!1}))]),k=i.useMemo(()=>j.flatMap((t,o,r)=>{const l={...t,level:1,index:o,setSize:r.length,childIndex:void 0};if(!t.expanded)return l;const u=t.children?t.children.map((a,s,m)=>({...a,level:2,index:o,childIndex:s,setSize:m.length,expanded:void 0})):[];return[l,...u]}),[j]),E=i.useCallback(()=>{C(!1)},[]);return e.jsx(w,{style:{maxInlineSize:c?300:void 0},children:k.map(t=>{const{index:o,childIndex:r}=t,l=A&&o===0&&r===void 0,u=o===0&&r===void 0||r===0;return e.jsx(S,{"aria-level":t.level,"aria-posinset":o+1,"aria-setsize":t.setSize,label:t.label,description:u?z:void 0,expanded:t.expanded,selected:t.selected,error:l,onSelectedChange:()=>{g(T(a=>{var m;const s=r===void 0?a[o]:(m=a[o].children)==null?void 0:m[r];s&&(s.selected=!s.selected)}))},onExpandedChange:()=>{y(()=>{g(T(a=>{const s=a[o];s.expanded!==void 0&&(s.expanded=!s.expanded)}))})},icon:r===void 0?e.jsx(f,{href:d,alt:"decoration"}):void 0,unstable_decorations:r===0?e.jsxs(e.Fragment,{children:[e.jsx(f,{href:d}),e.jsx(f,{href:d})]}):e.jsx(f,{href:d}),actions:[l&&e.jsx(h,{icon:D,label:"Retry",onClick:E},"retry"),e.jsx(h,{icon:P,label:"Unlock"},"unlock"),e.jsx(h,{icon:U,label:"Show"},"show")]},t.label)})})},{_actionsOverflow:F}));function F({count:b=5,dot:c=!1}){const n=Array.from({length:Number(b)}).map((I,p)=>e.jsx(h,{label:`Action ${p+1}`,icon:d,dot:c?"Something's going on":void 0},`${p+1}`));return e.jsx(w,{children:e.jsx(S,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,actions:n})})}export{re as default,oe as handle};
