import{w as z}from"./collection-JezXOkgr.js";import{a as i,n as e}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{d as A}from"./~utils-SuWoen7v.js";import{c as j}from"./index-jyeBNHV5.js";import{f as m,F as E,a as L}from"./~utils-gi11tQPH.js";import{R as b}from"./XL7CSKGW-DQcObpvQ.js";import{C as M}from"./ASMQKSDT-CRi099g7.js";import{V as F,u as V}from"./~hooks-Dket-DI7.js";import"./KUU7WJ55-E_SwHLD9.js";import"./LVA2YJMS-BhSxftNL.js";import"./XX67R432-C-LektBF.js";const W=m((s,t)=>{const r=i.useId(),{layout:l,...x}=s;return e.jsx(P.Provider,{value:r,children:e.jsx(O,{children:e.jsx(E,{render:e.jsx(b.div,{...x,className:j("-field",s.className),"data-kiwi-layout":l,ref:t})})})})});W.displayName="Field";const g=i.createContext(void 0);function O(s){const[t,r]=i.useState(new Set),l=i.useCallback(o=>{r(d=>{const c=new Set(d);return c.add(o),c})},[]),x=i.useCallback(o=>{r(d=>{const c=new Set(d);return c.delete(o),c})},[]);return e.jsx(g.Provider,{value:i.useMemo(()=>({describedBy:t,register:l,unregister:x}),[t,l,x]),children:s.children})}function _(s){var r;const t=(r=i.useContext(g))==null?void 0:r.describedBy;return i.useMemo(()=>!t||t.size===0?s:[...t,s].filter(Boolean).join(" "),[t,s])}const P=i.createContext(void 0);function U(){return i.useContext(P)}const k=m((s,t)=>{const r=U(),l=_(s["aria-describedby"]);return e.jsx(L,{type:"checkable",render:e.jsx(M,{accessibleWhenDisabled:!0,id:r,...s,className:j("-checkbox",s.className),"aria-describedby":l,ref:t})})});k.displayName="Checkbox";const y=i.createContext({setLabelledBy:()=>{}}),D=m((s,t)=>{const[r,l]=i.useState(new Set),[x,o]=i.useState(),[d,c]=i.useState();return e.jsx(y.Provider,{value:{selectedRows:r,setSelectedRows:l,totalRows:x,setTotalRows:o,setLabelledBy:c},children:e.jsx(b,{...s,className:j("-table",s.className),ref:t,role:"table","aria-labelledby":d,children:s.children})})});D.displayName="Table.Root";const v=i.createContext(!1),w=m((s,t)=>e.jsx(v.Provider,{value:!0,children:e.jsx(b.div,{...s,className:j("-table-header",s.className),ref:t,role:"rowgroup",children:s.children})}));w.displayName="Table.Header";const T=m((s,t)=>{const{totalRows:r,setTotalRows:l,selectedRows:x,setSelectedRows:o}=i.useContext(y)||{};return i.useEffect(()=>{l==null||l(i.Children.count(s.children))},[l,s.children]),e.jsx(y.Provider,{value:{selectedRows:x,setSelectedRows:o,totalRows:r},children:e.jsx(b.div,{...s,className:j("-table-body",s.className),ref:t,role:"rowgroup",children:i.Children.map(s.children,(d,c)=>e.jsx(I.Provider,{value:{rowIndex:c},children:d}))})})});T.displayName="Table.Body";const I=i.createContext(void 0),a=m((s,t)=>{const{children:r,selected:l,...x}=s,o=i.useContext(v),{selectedRows:d,setSelectedRows:c,totalRows:N}=i.useContext(y)||{},{rowIndex:h}=i.useContext(I)||{};i.useEffect(()=>{h!==void 0&&l&&(c==null||c(u=>u.has(h)?u:new Set(u).add(h)))},[h,l,c]);const C=h!==void 0&&(d==null?void 0:d.has(h)),f=N!==void 0&&N===(d==null?void 0:d.size),R=!f&&d!==void 0&&d.size>0,B=()=>{h!==void 0&&(c==null||c(u=>{const p=new Set(u);return p.has(h)?p.delete(h):p.add(h),p}))},H=()=>{c==null||c(u=>f?new Set:N!==void 0?new Set(Array.from({length:N},(p,$)=>$)):u)};return e.jsxs(b.div,{...x,className:j("-table-row",s.className),ref:t,role:"row","aria-selected":C?"true":void 0,"data-kiwi-variant":o?"header":void 0,onClick:B,children:[e.jsx(n,{"data-kiwi-slot":!0,children:o?e.jsxs(e.Fragment,{children:[e.jsx(k,{onClick:u=>{u.stopPropagation(),H()},checked:R?"mixed":f}),e.jsx(F,{children:f?"Deselect all":"Select all"})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{onClick:u=>{u.stopPropagation(),B()},checked:C}),e.jsx(F,{children:C?`Deselect row ${h}`:`Select row ${h}`})]})}),r]})});a.displayName="Table.Row";const S=m((s,t)=>{const{id:r,children:l,...x}=s,o=i.useContext(y),d=i.useId(),c=r||d,N=i.useCallback(C=>{var f;(f=o==null?void 0:o.setLabelledBy)==null||f.call(o,C?c:void 0)},[c,o]),h=V(t,N);return e.jsx(b,{...x,id:c,className:j("-table-caption",s.className),ref:h,children:l})});S.displayName="Table.Caption";const n=m((s,t)=>{const r=i.useContext(v);return e.jsx(b.span,{...s,className:j("-table-cell",s.className),ref:t,role:r?"columnheader":"cell",children:s.children})});n.displayName="Table.Cell";const le={title:"Table"},ce=z(A(function(){return e.jsxs(D,{children:[e.jsx(S,{children:"Description of the table contents."}),e.jsx(w,{children:e.jsxs(a,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Description"})]})}),e.jsxs(T,{children:[e.jsxs(a,{children:[e.jsx(n,{children:"Name 1"}),e.jsx(n,{children:"Description 1"})]}),e.jsxs(a,{children:[e.jsx(n,{children:"Name 2"}),e.jsx(n,{children:"Description 2"})]}),e.jsxs(a,{children:[e.jsx(n,{children:"Name 3"}),e.jsx(n,{children:"Description 3"})]}),e.jsxs(a,{children:[e.jsx(n,{children:"Name 4"}),e.jsx(n,{children:"Description 4"})]})]})]})},{visual:q,scroll:G,select:J}));function q(){return e.jsxs(D,{children:[e.jsx(S,{children:"Description of the table contents."}),e.jsx(w,{children:e.jsxs(a,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Description"})]})}),e.jsxs(T,{children:[e.jsxs(a,{children:[e.jsx(n,{children:"Name 1"}),e.jsx(n,{children:"Description 1"})]}),e.jsxs(a,{children:[e.jsx(n,{children:"Name 2"}),e.jsx(n,{children:"Description 2"})]}),e.jsxs(a,{children:[e.jsx(n,{children:"Name 3"}),e.jsx(n,{children:"Description 3"})]}),e.jsxs(a,{children:[e.jsx(n,{children:"Name 4"}),e.jsx(n,{children:"Description 4"})]})]})]})}function G(){const s=r=>r.charAt(0).toUpperCase()+r.slice(1),t=i.useMemo(()=>Array(100).fill(null).map((r,l)=>({id:l,name:`Name ${l}`,description:`Description ${l}`})),[]);return e.jsxs(D,{children:[e.jsx(S,{children:"Description of the table contents."}),e.jsx(w,{children:e.jsx(a,{children:Object.keys(t[0]).map(r=>e.jsx(n,{children:s(r)},r))})}),e.jsx(T,{children:t.map(r=>e.jsx(a,{children:Object.values(r).map(l=>e.jsx(n,{children:l},r.id))},r.id))})]})}function J(){return e.jsxs(D,{children:[e.jsx(w,{children:e.jsxs(a,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Description"})]})}),e.jsxs(T,{children:[e.jsxs(a,{selected:!0,children:[e.jsx(n,{children:"Name 1"}),e.jsx(n,{children:"Description 1"})]}),e.jsxs(a,{selected:!0,children:[e.jsx(n,{children:"Name 2"}),e.jsx(n,{children:"Description 2"})]}),e.jsxs(a,{children:[e.jsx(n,{children:"Name 3"}),e.jsx(n,{children:"Description 3"})]}),e.jsxs(a,{children:[e.jsx(n,{children:"Name 4"}),e.jsx(n,{children:"Description 4"})]})]})]})}export{ce as default,le as handle};
