import{b as w,p as v}from"./index-DDCMeoDP.js";import{E as $e,F as R,G as ge,J as z,K as T,L as Se,M as Ce,N as ye,O as Me,Q as we,S as Oe,U as We,W as Ue,X as qe,Y as ze,Z as Ge,$ as Je,a0 as Qe,a1 as ve,a2 as be,a3 as Xe,a4 as E,a5 as g,a6 as Ye,a7 as B,a8 as j,a9 as Pe,aa as V,ab as N,ac as Ee,ad as Ze,ae as Ae,af as et,ag as tt,ah as nt,ai as rt,aj as $,ak as W,al as Ie,am as _,an as ke,ao as ot,ap as re,aq as st,ar as at,as as ut,at as G,au as it,av as lt,o as ct,aw as De,ax as dt,ay as ft,az as mt,aA as ue,aB as pt,aC as vt,aD as bt,aE as le,aF as ht,aG as xt,aH as gt,aI as St,aJ as Ct,l as J,d as X,B as yt,aK as Mt,aL as wt,aM as He,I as Ot,aN as Pt}from"./~utils-B21z9VD2.js";import{u as Et,L as Te,a as Fe,b as ce}from"./QYJ6MIDR-D4Ko6HNV.js";import{p as At,K as he}from"./Kbd-DEDlpDjL.js";import{c as It,u as kt,a as Dt}from"./ITI7HKP4-DMPqypKC.js";import{u as Ht}from"./VEVQD5MH-gYqs42ew.js";import{u as Tt}from"./ASMQKSDT-GR2YKO0e.js";function Ft(t={}){var n;$e(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:R(t.value,r==null?void 0:r.value,t.defaultValue,!1)},a=ge(e,t.store);return z(T({},a),{setValue:o=>a.setState("value",o)})}function jt(t,n,r){return Ce(n,[r.store]),ye(t,r,"value","setValue"),t}function _t(t={}){const[n,r]=Se(Ft,t);return jt(n,r,t)}var je=Me([Oe],[we]),Lt=je.useContext,Nt=je.useScopedContext;w.createContext(void 0);var Y=Me([Oe,Ue],[we,We]),de=Y.useContext,_e=Y.useScopedContext,oe=Y.useProviderContext,Le=Y.ContextProvider,Kt=Y.ScopedContextProvider;w.createContext(void 0);function Rt(t={}){var n=t,{combobox:r,parent:e,menubar:a}=n,o=qe(n,["combobox","parent","menubar"]);const s=!!a&&!e,u=ze(o.store,Je(e,["values"]),Ge(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),d=u.getState(),c=It(z(T({},o),{store:u,orientation:R(o.orientation,d.orientation,"vertical")})),l=Qe(z(T({},o),{store:u,placement:R(o.placement,d.placement,"bottom-start"),timeout:R(o.timeout,d.timeout,s?0:150),hideTimeout:R(o.hideTimeout,d.hideTimeout,0)})),h=z(T(T({},c.getState()),l.getState()),{initialFocus:R(d.initialFocus,"container"),values:R(o.values,d.values,o.defaultValues,{})}),f=ge(h,c,l,u);return ve(f,()=>be(f,["mounted"],i=>{i.mounted||f.setState("activeId",null)})),ve(f,()=>be(e,["orientation"],i=>{f.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),z(T(T(T({},c),l),f),{combobox:r,parent:e,menubar:a,hideAll:()=>{l.hide(),e==null||e.hideAll()},setInitialFocus:i=>f.setState("initialFocus",i),setValues:i=>f.setState("values",i),setValue:(i,C)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||f.setState("values",p=>{const m=p[i],y=Xe(C,m);return y===m?p:z(T({},p),{[i]:y!==void 0&&y})}))}})}function Bt(t,n,r){return Ce(n,[r.combobox,r.parent,r.menubar]),ye(t,r,"values","setValues"),Object.assign(Ye(kt(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function Vt(t={}){const n=de(),r=Lt(),e=Ht();t=E(g({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[a,o]=Se(Rt,t);return Bt(a,o,t)}var $t="div",F="";function se(){F=""}function Wt(t){const n=t.target;return n&&et(n)?!1:t.key===" "&&F.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Ut(t,n){if(tt(t))return!0;const r=t.target;return r?n.some(a=>a.element===r):!1}function qt(t){return t.filter(n=>!n.disabled)}function ne(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?rt(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function zt(t,n,r){if(!r)return t;const e=t.find(a=>a.id===r);return!e||!ne(e,n)||F!==n&&ne(e,F)?t:(F=n,nt(t.filter(a=>ne(a,F)),r).filter(a=>a.id!==r))}var fe=B(function(n){var r=n,{store:e,typeahead:a=!0}=r,o=j(r,["store","typeahead"]);const s=Pe();e=e||s,V(e,!1);const u=o.onKeyDownCapture,d=w.useRef(0),c=N(l=>{if(u==null||u(l),l.defaultPrevented||!a||!e)return;if(!Wt(l))return se();const{renderedItems:h,items:f,activeId:i,id:C}=e.getState();let p=qt(f.length>h.length?f:h);const m=Ee(l.currentTarget),y=`[data-offscreen-id="${C}"]`,b=m.querySelectorAll(y);for(const M of b){const D=M.ariaDisabled==="true"||"disabled"in M&&!!M.disabled;p.push({id:M.id,element:M,disabled:D})}if(b.length&&(p=Ze(p,M=>M.element)),!Ut(l,p))return se();l.preventDefault(),window.clearTimeout(d.current),d.current=window.setTimeout(()=>{F=""},500);const A=l.key.toLowerCase();F+=A,p=zt(p,A,i);const P=p.find(M=>ne(M,F));P?e.move(P.id):se()});return o=E(g({},o),{onKeyDownCapture:c}),Ae(o)});$(function(n){const r=fe(n);return W($t,r)});var Gt="div";function Jt(t){var n=t,{store:r}=n,e=j(n,["store"]);const[a,o]=w.useState(void 0),s=e["aria-label"],u=_(r,"disclosureElement"),d=_(r,"contentElement");return w.useEffect(()=>{const c=u;if(!c)return;const l=d;if(!l)return;s||l.hasAttribute("aria-label")?o(void 0):c.id&&o(c.id)},[s,u,d]),a}var Ne=B(function(n){var r=n,{store:e,alwaysVisible:a,composite:o}=r,s=j(r,["store","alwaysVisible","composite"]);const u=oe();e=e||u,V(e,!1);const d=e.parent,c=e.menubar,l=!!d,h=Ie(s.id),f=s.onKeyDown,i=e.useState(S=>S.placement.split("-")[0]),C=e.useState(S=>S.orientation==="both"?void 0:S.orientation),p=C!=="vertical",m=_(c,S=>!!S&&S.orientation!=="vertical"),y=N(S=>{if(f==null||f(S),!S.defaultPrevented){if(l||c&&!p){const I={ArrowRight:()=>i==="left"&&!p,ArrowLeft:()=>i==="right"&&!p,ArrowUp:()=>i==="bottom"&&p,ArrowDown:()=>i==="top"&&p}[S.key];if(I!=null&&I())return S.stopPropagation(),S.preventDefault(),e==null?void 0:e.hide()}if(c){const I={ArrowRight:()=>{if(m)return c.next()},ArrowLeft:()=>{if(m)return c.previous()},ArrowDown:()=>{if(!m)return c.next()},ArrowUp:()=>{if(!m)return c.previous()}}[S.key],L=I==null?void 0:I();L!==void 0&&(S.stopPropagation(),S.preventDefault(),c.move(L))}}});s=ke(s,S=>v.jsx(Kt,{value:e,children:S}),[e]);const b=Jt(g({store:e},s)),A=e.useState("mounted"),P=ot(A,s.hidden,a),M=P?E(g({},s.style),{display:"none"}):s.style;s=E(g({id:h,"aria-labelledby":b,hidden:P},s),{ref:re(h?e.setContentElement:null,s.ref),style:M,onKeyDown:y});const D=!!e.combobox;return o=o??!D,o&&(s=g({role:"menu","aria-orientation":C},s)),s=Dt(g({store:e,composite:o},s)),s=fe(g({store:e,typeahead:!D},s)),s});$(function(n){const r=Ne(n);return W(Gt,r)});var Qt="div",Xt=B(function(n){var r=n,{store:e,modal:a=!1,portal:o=!!a,hideOnEscape:s=!0,autoFocusOnShow:u=!0,hideOnHoverOutside:d,alwaysVisible:c}=r,l=j(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const h=oe();e=e||h,V(e,!1);const f=w.useRef(null),i=e.parent,C=e.menubar,p=!!i,m=!!C&&!p;l=E(g({},l),{ref:re(f,l.ref)});const y=Ne(g({store:e,alwaysVisible:c},l)),{"aria-labelledby":b}=y;l=j(y,["aria-labelledby"]);const[P,M]=w.useState(),D=e.useState("autoFocusOnShow"),S=e.useState("initialFocus"),U=e.useState("baseElement"),I=e.useState("renderedItems");w.useEffect(()=>{let H=!1;return M(O=>{var ee,me,pe;if(H||!D)return;if((ee=O==null?void 0:O.current)!=null&&ee.isConnected)return O;const te=w.createRef();switch(S){case"first":te.current=((me=I.find(Q=>!Q.disabled&&Q.element))==null?void 0:me.element)||null;break;case"last":te.current=((pe=[...I].reverse().find(Q=>!Q.disabled&&Q.element))==null?void 0:pe.element)||null;break;default:te.current=U}return te}),()=>{H=!0}},[e,D,S,I,U]);const L=p?!1:a,x=!!u,k=!!P||!!l.initialFocus||!!L,q=_(e.combobox||e,"contentElement"),K=_((i==null?void 0:i.combobox)||i,"contentElement"),Z=w.useMemo(()=>{if(!K||!q)return;const H=q.getAttribute("role"),O=K.getAttribute("role");if(!((O==="menu"||O==="menubar")&&H==="menu"))return K},[q,K]);return Z!==void 0&&(l=g({preserveTabOrderAnchor:Z},l)),l=at(E(g({store:e,alwaysVisible:c,initialFocus:P,autoFocusOnShow:x?k&&u:D||!!L},l),{hideOnEscape(H){return it(s,H)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(H){const O=e==null?void 0:e.getState().disclosureElement;return(typeof d=="function"?d(H):d??(p?!0:m?O?!G(O):!0:!1))?H.defaultPrevented||!p||!O||(ut(O,"mouseout",H),!G(O))?!0:(requestAnimationFrame(()=>{G(O)||e==null||e.hide()}),!1):!1},modal:L,portal:o,backdrop:p?!1:l.backdrop})),l=g({"aria-labelledby":b},l),l}),Yt=st($(function(n){const r=Xt(n);return W(Qt,r)}),oe);function Zt(t={}){const n=Vt(t);return v.jsx(Le,{value:n,children:t.children})}var en="button";function tn(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function xe(t,n){return!!(t!=null&&t.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true"))}var nn=B(function(n){var r=n,{store:e,focusable:a,accessibleWhenDisabled:o,showOnHover:s}=r,u=j(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const d=oe();e=e||d,V(e,!1);const c=w.useRef(null),l=e.parent,h=e.menubar,f=!!l,i=!!h&&!f,C=lt(u),p=()=>{const x=c.current;x&&(e==null||e.setDisclosureElement(x),e==null||e.setAnchorElement(x),e==null||e.show())},m=u.onFocus,y=N(x=>{if(m==null||m(x),C||x.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!h)||!i)return;const{items:k}=h.getState();xe(k,x.currentTarget)&&p()}),b=_(e,x=>x.placement.split("-")[0]),A=u.onKeyDown,P=N(x=>{if(A==null||A(x),C||x.defaultPrevented)return;const k=tn(x,b);k&&(x.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(k))}),M=u.onClick,D=N(x=>{if(M==null||M(x),x.defaultPrevented||!e)return;const k=!x.detail,{open:q}=e.getState();(!q||k)&&((!f||k)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(k?"first":"container")),f&&p()});u=ke(u,x=>v.jsx(Le,{value:e,children:x}),[e]),f&&(u=E(g({},u),{render:v.jsx(ct.div,{render:u.render})}));const S=Ie(u.id),U=_((l==null?void 0:l.combobox)||l,"contentElement"),I=f||i?De(U,"menuitem"):void 0,L=e.useState("contentElement");return u=E(g({id:S,role:I,"aria-haspopup":dt(L,"menu")},u),{ref:re(c,u.ref),onFocus:y,onKeyDown:P,onClick:D}),u=ft(E(g({store:e,focusable:a,accessibleWhenDisabled:o},u),{showOnHover:x=>{if(!(()=>{if(typeof s=="function")return s(x);if(s!=null)return s;if(f)return!0;if(!h)return!1;const{items:Z}=h.getState();return i&&xe(Z)})())return!1;const K=i?h:l;return K&&K.setActiveId(x.currentTarget.id),!0}})),u=Et(g({store:e,toggleOnClick:!f,focusable:a,accessibleWhenDisabled:o},u)),u=fe(g({store:e,typeahead:i},u)),u}),rn=$(function(n){const r=nn(n);return W(en,r)}),on="div";function Ke(t){const n=t.relatedTarget;return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE?n:null}function sn(t){const n=Ke(t);return n?vt(t.currentTarget,n):!1}var ie=Symbol("composite-hover");function an(t){let n=Ke(t);if(!n)return!1;do{if(bt(n,ie)&&n[ie])return!0;n=n.parentElement}while(n);return!1}var Re=B(function(n){var r=n,{store:e,focusOnHover:a=!0,blurOnHoverEnd:o=!!a}=r,s=j(r,["store","focusOnHover","blurOnHoverEnd"]);const u=Pe();e=e||u,V(e,!1);const d=mt(),c=s.onMouseMove,l=ue(a),h=N(m=>{if(c==null||c(m),!m.defaultPrevented&&d()&&l(m)){if(!G(m.currentTarget)){const y=e==null?void 0:e.getState().baseElement;y&&!pt(y)&&y.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),f=s.onMouseLeave,i=ue(o),C=N(m=>{var y;f==null||f(m),!m.defaultPrevented&&d()&&(sn(m)||an(m)||l(m)&&i(m)&&(e==null||e.setActiveId(null),(y=e==null?void 0:e.getState().baseElement)==null||y.focus()))}),p=w.useCallback(m=>{m&&(m[ie]=!0)},[]);return s=E(g({},s),{ref:re(p,s.ref),onMouseMove:h,onMouseLeave:C}),Ae(s)});le($(function(n){const r=Re(n);return W(on,r)}));var un="div";function ln(t,n,r){var e;if(!t)return!1;if(G(t))return!0;const a=n==null?void 0:n.find(d=>{var c;return d.element===r?!1:((c=d.element)==null?void 0:c.getAttribute("aria-expanded"))==="true"}),o=(e=a==null?void 0:a.element)==null?void 0:e.getAttribute("aria-controls");if(!o)return!1;const u=Ee(t).getElementById(o);return u?G(u)?!0:!!u.querySelector("[role=menuitem][aria-expanded=true]"):!1}var Be=B(function(n){var r=n,{store:e,hideOnClick:a=!0,preventScrollOnKeyDown:o=!0,focusOnHover:s,blurOnHoverEnd:u}=r,d=j(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const c=_e(!0),l=Nt();e=e||c||l,V(e,!1);const h=d.onClick,f=ue(a),i="hideAll"in e?e.hideAll:void 0,C=!!i,p=N(b=>{h==null||h(b),!(b.defaultPrevented||ht(b)||xt(b)||!i||b.currentTarget.getAttribute("aria-haspopup")==="menu")&&f(b)&&i()}),m=_(e,b=>"contentElement"in b?b.contentElement:null),y=De(m,"menuitem");return d=E(g({role:y},d),{onClick:p}),d=gt(g({store:e,preventScrollOnKeyDown:o},d)),d=Re(E(g({store:e},d),{focusOnHover(b){const A=()=>typeof s=="function"?s(b):s??!0;if(!e||!A())return!1;const{baseElement:P,items:M}=e.getState();return C?(b.currentTarget.hasAttribute("aria-expanded")&&b.currentTarget.focus(),!0):ln(P,M,b.currentTarget)?(b.currentTarget.focus(),!0):!1},blurOnHoverEnd(b){return typeof u=="function"?u(b):u??C}})),d}),cn=le($(function(n){const r=Be(n);return W(un,r)})),dn="div";function fn(t){return Array.isArray(t)?t.toString():t}function ae(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=fn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(a=>a!==e):r?e:t===e?!1:t}var mn=B(function(n){var r=n,{store:e,name:a,value:o,checked:s,defaultChecked:u,hideOnClick:d=!1}=r,c=j(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const l=_e();e=e||l,V(e,!1);const h=St(u);w.useEffect(()=>{e==null||e.setValue(a,(i=[])=>h?ae(i,o,!0):i)},[e,a,o,h]),w.useEffect(()=>{s!==void 0&&(e==null||e.setValue(a,i=>ae(i,o,s)))},[e,a,o,s]);const f=_t({value:e.useState(i=>i.values[a]),setValue(i){e==null||e.setValue(a,()=>{if(s===void 0)return i;const C=ae(i,o,s);return!Array.isArray(C)||!Array.isArray(i)?C:Ct(i,C)?i:C})}});return c=g({role:"menuitemcheckbox"},c),c=Tt(g({store:f,name:a,value:o,checked:s},c)),c=Be(g({store:e,hideOnClick:d},c)),c}),pn=le($(function(n){const r=mn(n);return W(dn,r)}));function Mn(t){const{children:n,placement:r,open:e,setOpen:a,defaultOpen:o}=t;return v.jsx(Zt,{placement:r,defaultOpen:o,open:e,setOpen:a,children:n})}const wn=J((t,n)=>{const r=wt(de());return v.jsx(Yt,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...r.style,...t.style},wrapperProps:r.wrapperProps,className:X("-dropdown-menu",t.className),ref:n})}),On=J((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...a}=t,o=_(de(),s=>s==null?void 0:s.open);return v.jsx(rn,{accessibleWhenDisabled:!0,render:v.jsxs(yt,{accessibleWhenDisabled:r,children:[e,v.jsx(Mt,{})]}),...a,className:X("-dropdown-menu-button",t.className),"data-has-popover-open":o||void 0,ref:n})}),Pn=J((t,n)=>{const{label:r,shortcuts:e,icon:a,...o}=t;return v.jsxs(cn,{accessibleWhenDisabled:!0,render:v.jsx(Fe,{render:v.jsx(He,{accessibleWhenDisabled:!0,...o,className:X("-dropdown-menu-item",t.className),ref:n})}),children:[a?v.jsx(Ve,{icon:a}):null,v.jsx(Te,{render:v.jsx("span",{}),children:r}),e?v.jsx(vn,{shortcuts:e}):null]})}),vn=J((t,n)=>{const{shortcuts:r,...e}=t,a=w.useMemo(()=>r.split("+").map(o=>({key:o.trim(),isSymbol:o in At})),[r]);return v.jsx(ce,{render:v.jsx("span",{}),...e,className:X("-dropdown-menu-item-shortcuts",t.className),ref:n,children:a.map(({key:o,isSymbol:s},u)=>s?v.jsx(he,{variant:"ghost",symbol:o},`${o+u}`):v.jsx(he,{variant:"ghost",children:o},`${o+u}`))})}),Ve=J((t,n)=>{const{icon:r,...e}=t;return v.jsx(ce,{render:v.jsx(Ot,{href:typeof r=="string"?r:void 0,render:w.isValidElement(r)?r:void 0,...e,ref:n})})}),En=J((t,n)=>{const{label:r,icon:e,defaultChecked:a,checked:o,onChange:s,name:u,value:d=a?"on":void 0,...c}=t;return v.jsxs(pn,{accessibleWhenDisabled:!0,defaultChecked:a,checked:o,name:u,value:d,onChange:s,render:v.jsx(Fe,{render:v.jsx(He,{accessibleWhenDisabled:!0,...c,className:X("-dropdown-menu-item",t.className),ref:n})}),children:[e?v.jsx(Ve,{icon:e}):null,v.jsx(Te,{render:v.jsx("span",{}),children:r}),v.jsx(ce,{render:v.jsx(Pt,{className:"-dropdown-menu-checkmark"})})]})});export{Mn as D,On as a,wn as b,Pn as c,En as d};
