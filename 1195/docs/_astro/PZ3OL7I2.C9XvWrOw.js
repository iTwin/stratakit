import{u as p}from"./U6HHPQDW.BYF87GAB.js";import{e as h,o as m,p as q,h as x,k as v,q as A,r as B,t as F,v as I,w as T,l as Y,f as H,m as L}from"./ExamplePreview.C7OSEycI.js";import{r as u}from"./index.DIfZGIpv.js";var j="button";function b(a){if(!a.isTrusted)return!1;const t=a.currentTarget;return a.key==="Enter"?m(t)||t.tagName==="SUMMARY"||t.tagName==="A":a.key===" "?m(t)||t.tagName==="SUMMARY"||t.tagName==="INPUT"||t.tagName==="SELECT":!1}var z=Symbol("command"),G=h(function({clickOnEnter:t=!0,clickOnSpace:n=!0,...r}){const i=u.useRef(null),[C,D]=u.useState(!1);u.useEffect(()=>{i.current&&D(m(i.current))},[]);const[M,d]=u.useState(!1),f=u.useRef(!1),y=q(r),[k,S]=x(r,z,!0),E=r.onKeyDown,w=v(e=>{E?.(e);const s=e.currentTarget;if(e.defaultPrevented||k||y||!A(e)||B(s)||s.isContentEditable)return;const o=t&&e.key==="Enter",c=n&&e.key===" ",l=e.key==="Enter"&&!t,R=e.key===" "&&!n;if(l||R){e.preventDefault();return}if(o||c){const P=b(e);if(o){if(!P){e.preventDefault();const{view:J,...U}=e,N=()=>T(s,U);F()?I(s,"keyup",N):queueMicrotask(N)}}else c&&(f.current=!0,P||(e.preventDefault(),d(!0)))}}),g=r.onKeyUp,K=v(e=>{if(g?.(e),e.defaultPrevented||k||y||e.metaKey)return;const s=n&&e.key===" ";if(f.current&&s&&(f.current=!1,!b(e))){e.preventDefault(),d(!1);const o=e.currentTarget,{view:c,...l}=e;queueMicrotask(()=>T(o,l))}});return r={"data-active":M||void 0,type:C?"button":void 0,...S,...r,ref:Y(i,r.ref),onKeyDown:w,onKeyUp:K},r=p(r),r});H(function(t){const n=G(t);return L(j,n)});export{G as u};
