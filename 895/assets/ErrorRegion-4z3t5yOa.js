import{a as n,p as e}from"./chunk-PVWAREVJ-BjpS8kwV.js";import{C as F}from"./collection-BMpiGOFX.js";import{C as N}from"./Y62RTBST-biqo4Tzm.js";import{a as y}from"./AMMIPFT4-DoIlF_od.js";import{l as C,V as w,s as k,B as L,m as _}from"./~utils-BBJ5iqIq.js";import{f as g,r as B,R as O,c as h,T as v}from"./sun-CBFCcCqB.js";import{D as P}from"./ZTXFEM5L-C6kzWXnc.js";import{D as A}from"./dialog-provider-TKGPluJR.js";import{S as H,C as T}from"./~utils.icons-OVmw0TEN.js";const U=g((s,i)=>{const{label:a,items:l,open:c,setOpen:d,...m}=s,u=n.useId(),R=s["aria-labelledby"]??(s["aria-label"]?void 0:u),[f,j]=B(!1,c,d),b=n.useRef(null),D=()=>{const t=b.current;if(!t)return;const o="--ErrorRegion-pulse";t.getAnimations({subtree:!0}).find(r=>r.id===o)||t.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:o,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},x=y({setItems:t=>{const o=new Set(I.map(r=>r.id));t.filter(r=>!o.has(r.id)).length!==0&&(D(),E(a))}}),I=C(x,"items"),[p,E]=n.useState(a);return e.jsxs(e.Fragment,{children:[e.jsx(w,{"aria-live":"polite","aria-atomic":!0,children:p===a?p:void 0}),e.jsx(A,{open:f,setOpen:j,children:e.jsx(O.section,{...m,"aria-labelledby":R,className:h("ErrorRegion",s.className),"data-_sk-visible":!!a,"data-_sk-expanded":f,ref:i,children:e.jsxs("div",{className:"ErrorRegionContainer",ref:b,children:[e.jsxs(P,{className:"ErrorRegionHeader",render:e.jsx(L,{variant:"ghost"}),children:[e.jsx(H,{tone:"attention",className:"ErrorRegionIcon"}),e.jsx(v,{render:e.jsx("span",{}),id:u,className:"ErrorRegionLabel",variant:"body-sm",children:a}),e.jsx(k,{inert:!0,variant:"ghost",children:e.jsx(T,{})})]}),e.jsx(_,{className:"ErrorRegionDialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(F,{store:x,className:"ErrorRegionItems",role:"list",children:l})})]})})})]})}),W=g((s,i)=>{const a=n.useId(),{message:l,messageId:c=`${a}-message`,actions:d,...m}=s;return e.jsxs(N,{...m,role:"listitem",className:h("ErrorRegionItem",s.className),ref:i,children:[e.jsx(v,{id:c,variant:"body-sm",children:l}),e.jsx("div",{className:"ErrorRegionItemActions",children:d})]})});export{U as E,W as a};
