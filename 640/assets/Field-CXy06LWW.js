import{b as r,q as a}from"./index-BoeBPSKS.js";import{u as D,b as I,C as x}from"./RZ4GPYOB-NX-_zzfw.js";import{N as p,l as u,d as b,o as y}from"./~utils-CtbVwnFv.js";import{T as k}from"./Text-D9uxIqQ1.js";import{C as N}from"./collection-DuAnNNn8.js";function M(e){const t=D({defaultItems:[]}),o=p(t,"renderedItems"),[s,l]=r.useMemo(()=>{var d;const n=o.findIndex(c=>c.elementType==="control");return[(d=o[n])==null?void 0:d.controlType,n]},[o]),i=r.useMemo(()=>{const n=o.findIndex(d=>d.elementType==="label");if(!(l===-1||n===-1))return n<l?"before":"after"},[o,l]);return a.jsx(N,{...e,store:t,"data-kiwi-label-placement":i,"data-kiwi-control-type":s})}const j=r.createContext(void 0);function P(e){const t=r.useContext(j);r.useEffect(()=>{t==null||t(e)},[e,t])}const T=u((e,t)=>{const{tone:o,...s}=e;return a.jsx(k,{...s,variant:"caption-md","data-kiwi-tone":o??"neutral",className:b("ðŸ¥-description",e.className),ref:t})}),R=u((e,t)=>a.jsx(y.label,{...e,className:b("ðŸ¥-label",e.className),ref:t})),q=u((e,t)=>{const{layout:o,...s}=e;return a.jsx(M,{render:a.jsx(y.div,{...s,className:b("ðŸ¥-field",e.className),"data-kiwi-layout":o,ref:t})})}),B=u((e,t)=>{const o=I(),s=p(o,"renderedItems"),l=r.useMemo(()=>{var n;return(n=s==null?void 0:s.find(d=>d.elementType==="control"))==null?void 0:n.id},[s]),i=r.useCallback(n=>({...n,elementType:"label"}),[]);return a.jsx(x,{getItem:i,render:a.jsx(R,{...e,htmlFor:l}),ref:t})}),z=u((e,t)=>{const o=r.useId(),{id:s=o,...l}=e,i=r.useCallback(n=>({...n,elementType:"description"}),[]);return a.jsx(x,{getItem:i,id:s,render:a.jsx(T,{...l}),ref:t})}),A=u((e,t)=>{const[o,s]=r.useState(),l=I(),i=r.useId(),{id:n=l?i:void 0,...d}=e,c=p(l,"renderedItems"),F=r.useMemo(()=>{var C;return((C=c==null?void 0:c.filter(f=>f.elementType==="description"||f.elementType==="error"))==null?void 0:C.map(f=>f.id).join(" "))||void 0},[c]),g=r.useCallback(m=>({...m,elementType:"control",controlType:o}),[o]),v=r.useMemo(()=>c==null?void 0:c.some(m=>m.elementType==="error"),[c]);return a.jsx(j.Provider,{value:s,children:a.jsx(x,{id:n,getItem:g,render:a.jsx(y,{...d,"aria-invalid":v?"true":void 0,"aria-describedby":F}),ref:t})})}),G=u((e,t)=>{const o=r.useId(),{id:s=o,...l}=e,i=r.useCallback(n=>({...n,elementType:"error"}),[]);return a.jsx(x,{id:s,getItem:i,render:a.jsx(T,{...l,tone:"critical"}),ref:t})});export{q as F,R as L,B as a,A as b,G as c,z as d,P as u};
