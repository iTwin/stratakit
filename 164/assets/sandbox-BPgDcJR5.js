import{w as K}from"./with-props-XFbs5UV3.js";import{l as e,r}from"./chunk-7R3XDUXW-DxTo8O6G.js";import{r as D}from"./index-CpodmKhz.js";import{D as U,a as X,b as H,c as f}from"./DropdownMenu-DWHcfSHd.js";import{D as V}from"./Divider-BrMdR3aZ.js";import{I as P}from"./Icon-Cp_r7ubW.js";import{I}from"./IconButton-bOZN5IxN.js";import{T as q,a as J,b as Q}from"./TextBox-D607fTC4.js";import{T as Y,a as Z}from"./Tree-CzG8__N9.js";import{V as T}from"./VisuallyHidden-DpR5ZIYl.js";import{L as ee}from"./ListItem-CKDRkIVj.js";import{p as w}from"./placeholder-CxjXGef7.js";import{p as te,c as ne,s as N,d as re,f as se}from"./chevron-down-DPNK3pLJ.js";import{F as oe}from"./LVA2YJMS-DJV8VtX8.js";import{R as ie}from"./XL7CSKGW-dh1dRh0h.js";import"./index-6yh6O1FZ.js";import"./ListItem-C_xdWPsu.js";import"./Button-Dr43B4ix.js";import"./KUU7WJ55-55_Apuy6.js";import"./LMDWO4NN-DZi_YyQu.js";import"./P2CTZE2T-aUTcGI4T.js";import"./YV4JVR4I-IQnN8q1u.js";import"./BYC7LY2E-BkUN-JnQ.js";import"./VGCJ63VH-DCGxV_XM.js";import"./XX67R432-CnBfjeG9.js";import"./MTZPJQMC-BlK_aww9.js";import"./ITI7HKP4-BNjRh7Y1.js";import"./P4IRICAX-Chgnv0ug.js";import"./Tooltip-B0Zg-bnd.js";import"./~hooks-CW6k0nNz.js";import"./Field-xeE_zSqj.js";const ae="_appLayout_1aein_5",ce="_platformBar_1aein_14",le="_logo_1aein_19",de="_tools_1aein_29",ue="_leftPanel_1aein_39",pe="_header_1aein_49",he="_panelTitle_1aein_57",me="_panelCaption_1aein_63",xe="_shiftIconRight_1aein_67",fe="_subheader_1aein_71",je="_subheaderTitle_1aein_81",ve="_searchInput_1aein_86",be="_subheaderActions_1aein_90",ge="_tree_1aein_94",_e="_canvasWrapper_1aein_102",Se="_canvas_1aein_102",ye="_splitter_1aein_124",o={appLayout:ae,platformBar:ce,logo:le,tools:de,leftPanel:ue,header:pe,panelTitle:he,panelCaption:me,shiftIconRight:xe,subheader:fe,subheaderTitle:je,searchInput:ve,subheaderActions:be,tree:ge,canvasWrapper:_e,canvas:Se,splitter:ye},L="Kiwi sandbox",ct=()=>[{title:L},{name:"color-scheme",content:"dark"}],A="left-panel",lt=K(function(){const{splitterProps:i,panelProps:s,panelMinSize:l,panelMaxSize:u}=Pe({minSize:{px:256,pct:20},maxSize:{pct:30},labelledby:A});return e.jsxs(e.Fragment,{children:[e.jsx(T,{render:a=>e.jsx("h1",{...a}),children:L}),e.jsxs("div",{className:o.appLayout,style:{"--_panel-min-size":l,"--_panel-max-size":u},children:[e.jsxs("div",{className:o.platformBar,children:[e.jsx("div",{className:o.logo,children:e.jsx(P,{href:w,size:"large"})}),e.jsxs("div",{className:o.tools,children:[e.jsx(P,{href:w,size:"large"}),e.jsx(P,{href:w,size:"large"}),e.jsx(P,{href:w,size:"large"})]})]}),e.jsxs("div",{...s,className:o.leftPanel,style:{position:"relative",...s.style},children:[e.jsxs("div",{className:o.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:o.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:o.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:o.actions,children:e.jsx(I,{className:o.shiftIconRight,icon:te,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Me,{}),e.jsx(Ie,{}),e.jsx(V,{presentational:!0,role:"slider",className:o.splitter,render:e.jsx(oe,{}),...i})]}),e.jsx("div",{className:o.canvasWrapper,children:e.jsx("div",{className:o.canvas})})]})]})});function Re(c,i,s){return Math.min(Math.max(c,i),s)}function Pe(c){const{minSize:i,maxSize:s,labelledby:l,onCollapse:u}=c??{},a=r.useId(),j=r.useRef(null),[_,C]=r.useState(void 0),[n,m]=r.useState(void 0),[x,v]=r.useState(void 0),[b,k]=r.useState(void 0),p=r.useMemo(()=>{if(i&&n)return Math.min(i.px,i.pct/100*n)},[i,n]),S=r.useMemo(()=>{if(p&&s&&n)return Math.max(p,s.pct/100*n)},[s,n,p]),y=r.useMemo(()=>{if(x==="smallest")return p??0;if(x==="largest")return S??0;if(_&&p&&S)return Re(_,p,S)},[_,p,S,x]);r.useEffect(()=>{const d=j.current;if(!d)return;const h=d.parentElement;if(!h)return;const g=new ResizeObserver(()=>{const M=h.getBoundingClientRect(),B=d.getBoundingClientRect();m(M.width),C(B.width)});return g.observe(h),g.observe(d),()=>{g.disconnect()}},[]);const z=r.useCallback(d=>{const h=j.current;if(!h)return;const g=h.getBoundingClientRect();k(g.width+d),v(void 0)},[]),E=r.useCallback(d=>{const h=j.current;if(!h)return;const g=h.parentElement;if(!g)return;const M=g.getBoundingClientRect(),B=d*(M.width*.005);z(B)},[z]),F=r.useCallback(()=>{j.current&&k(void 0)},[]),{moveableProps:R}=we({onMove:z,onMoveEnd:F,onKeyMove:E}),G=r.useMemo(()=>({...R,onKeyDown:d=>{var h;if((h=R.onKeyDown)==null||h.call(R,d),!d.defaultPrevented)switch(d.key){case"Enter":u==null||u(),d.preventDefault();break;case"Home":v("smallest"),d.preventDefault();break;case"End":v("largest"),d.preventDefault();break}},"aria-orientation":"vertical","aria-valuenow":y===void 0?void 0:Math.floor(y),"aria-valuemin":p===void 0?void 0:Math.floor(p),"aria-valuemax":S===void 0?void 0:Math.floor(S),"aria-controls":a,"aria-labelledby":l,"aria-label":l===void 0?"Resize panel":void 0,"data-resizing":b===void 0?void 0:"true"}),[R,y,p,S,a,l,u,b]),O=r.useMemo(()=>({style:{WebkitUserSelect:b===void 0?void 0:"none"},id:a,ref:j}),[a,b]),W=p===void 0?void 0:`${p}px`,$=r.useMemo(()=>{if(b!==void 0&&s!==void 0)return`min(${b}px, ${s.pct}%)`;if(y!==void 0)return`${y}px`},[s,b,y]);return{splitterProps:G,panelProps:O,panelMinSize:W,panelMaxSize:$}}function we(c){const{onMove:i,onMoveEnd:s,onKeyMove:l}=c??{},u=r.useRef(null),a=r.useRef(void 0),j=r.useRef(void 0),_=r.useCallback(()=>{j.current!==void 0&&(j.current=void 0,s==null||s())},[s]);return{moveableProps:r.useMemo(()=>({onPointerDown:n=>{if(n.button!==0||n.ctrlKey)return;const m=u.current;if(!m)return;const x=m.getBoundingClientRect(),v=n.clientX-x.left;j.current=v,m.setPointerCapture(n.pointerId)},onPointerMove:n=>{const m=j.current;if(m===void 0)return;const x=u.current;if(!x)return;const v=x.getBoundingClientRect(),b=n.clientX-m-v.left;i==null||i(b)},onPointerUp:_,onPointerCancel:_,onKeyDown:n=>{if(!n.defaultPrevented)switch(n.key){case"ArrowLeft":case"ArrowDown":l==null||l(-1),n.preventDefault();break;case"ArrowRight":case"ArrowUp":l==null||l(1),n.preventDefault();break}},onKeyUp:n=>{switch(n.key){case"ArrowLeft":case"ArrowRight":s==null||s();break}},ref:n=>{var x;if(u.current=n,(x=a.current)==null||x.call(a),a.current=void 0,!n)return;const m=v=>{v.preventDefault()};n.addEventListener("touchstart",m),a.current=()=>{n.removeEventListener("touchstart",m)}}}),[l,s,i,_])}}function Ie(){return e.jsxs(Y,{className:o.tree,children:[e.jsx(t,{content:"Guides",children:e.jsxs(t,{content:"Tree",children:[e.jsx(t,{content:"Guide 4"}),e.jsx(t,{content:"Guide 3"}),e.jsx(t,{content:"Guide 2"}),e.jsx(t,{content:"Guide 1"})]})}),e.jsxs(t,{content:"Other",children:[e.jsx(t,{content:"Object 2",children:e.jsx(t,{content:"Path 3"})}),e.jsx(t,{content:"Object 1"})]}),e.jsxs(t,{content:"Road",children:[e.jsx(t,{content:"Parking lot access"}),e.jsx(t,{content:"Site access"})]}),e.jsx(t,{content:"Parking lot",children:e.jsxs(t,{content:"Parking area",children:[e.jsx(t,{content:"Bay point 2"}),e.jsx(t,{content:"Bay point 1"}),e.jsx(t,{content:"Space point 1"}),e.jsx(t,{content:"Path 6"})]})}),e.jsx(t,{content:"Building",children:e.jsx(t,{content:"Building area",children:e.jsx(t,{content:"Path 5"})})}),e.jsx(t,{content:"Sewer",children:e.jsx(t,{content:"Run off pipe",children:e.jsx(t,{content:"Path 4"})})}),e.jsx(t,{content:"Project boundary",children:e.jsx(t,{content:"Property area",children:e.jsx(t,{content:"Path 1"})})}),e.jsx(t,{content:"Map",children:e.jsx(t,{content:"Location",children:e.jsx(t,{content:"Terrain"})})})]})}function ze(c){return e.jsx(I,{...c,style:{marginBlock:-6,...c.style},variant:"ghost"})}function t(c){const i=r.Children.count(c.children)>0;return e.jsx(Z,{content:e.jsxs(e.Fragment,{children:[i?e.jsx(ze,{icon:ne,label:"Collapse",variant:"ghost"}):e.jsx("span",{style:{inlineSize:"1.5rem"}}),e.jsx(P,{href:w,style:{display:"inline"}}),e.jsx(ee,{children:c.content})]}),expanded:i||void 0,children:c.children})}function Me(){const[c,i]=r.useState(!1),s=r.useRef(null),l=r.useRef(null),u=c?e.jsxs(e.Fragment,{children:[e.jsx(Be,{}),e.jsx(I,{className:o.shiftIconRight,icon:re,label:"Close",variant:"ghost",onClick:()=>{var a;D.flushSync(()=>i(!1)),(a=l.current)==null||a.focus()}})]}):e.jsx(I,{className:o.shiftIconRight,icon:N,label:"Search",variant:"ghost",onClick:()=>{var a;D.flushSync(()=>i(!0)),(a=s.current)==null||a.focus()}});return e.jsxs("div",{className:o.subheader,children:[e.jsx(ie.h3,{id:A,className:o.subheaderTitle,tabIndex:-1,ref:l,render:c?e.jsx(T,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),c?e.jsxs(q,{className:o.searchInput,children:[e.jsx(J,{href:N}),e.jsx(Q,{placeholder:"Search",ref:s})]}):null,e.jsx("div",{className:o.subheaderActions,children:u})]})}function Be(){return e.jsxs(U,{children:[e.jsx(X,{render:e.jsx(I,{icon:se,label:"Filter",variant:"ghost"})}),e.jsxs(H,{style:{minInlineSize:164},children:[e.jsx(f,{children:"Show all"}),e.jsx(f,{children:"Guides"}),e.jsx(f,{children:"Other"}),e.jsx(f,{children:"Roadway"}),e.jsx(f,{children:"Parking"}),e.jsx(f,{children:"Building"}),e.jsx(f,{children:"Dry utility"}),e.jsx(f,{children:"Stormwater"}),e.jsx(f,{children:"Sewer"}),e.jsx(f,{children:"Boundary"}),e.jsx(f,{children:"Map"})]})]})}export{lt as default,ct as meta};
