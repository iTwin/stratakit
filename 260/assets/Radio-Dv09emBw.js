import{a as m,n as k}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as N}from"./index-jyeBNHV5.js";import{a as j,b as U,c as A}from"./Field-tzhuihYW.js";import{D as T,c as w,_ as B,G as $,R as G,J as H,S as J,m as p,g as M,u as O,b as v,r as W,n as q,d as z,e as K,f as L}from"./~utils-CxpNXQT1.js";import{C as Q,a as V,b as X}from"./P2CTZE2T-Ca5b6hH7.js";import{d as Y}from"./YV4JVR4I-B6wCGKZo.js";var Z=T([V],[Q]),ee=Z.useContext,x="input";function ne(a,t){if(t!==void 0)return a!=null&&t!=null?t===a:!!t}function te(a,t){return a==="input"&&(!t||t==="radio")}var re=w(function(t){var u=t,{store:n,name:c,value:s,checked:C}=u,r=B(u,["store","name","value","checked"]);const g=ee();n=n||g;const i=$(r.id),f=m.useRef(null),d=Y(n,e=>C??ne(s,e==null?void 0:e.value));m.useEffect(()=>{!i||!d||(n==null?void 0:n.getState().activeId)===i||n==null||n.setActiveId(i)},[n,d,i]);const b=r.onChange,P=G(f,x),o=te(P,r.type),I=H(r),[F,y]=J();m.useEffect(()=>{const e=f.current;e&&(o||(d!==void 0&&(e.checked=d),c!==void 0&&(e.name=c),s!==void 0&&(e.value=`${s}`)))},[F,o,d,c,s]);const l=p(e=>{if(I){e.preventDefault(),e.stopPropagation();return}(n==null?void 0:n.getState().value)!==s&&(o||(e.currentTarget.checked=!0,y()),b==null||b(e),!e.defaultPrevented&&(n==null||n.setValue(s)))}),h=r.onClick,S=p(e=>{h==null||h(e),!e.defaultPrevented&&(o||l(e))}),R=r.onFocus,_=p(e=>{if(R==null||R(e),e.defaultPrevented||!o||!n)return;const{moves:E,activeId:D}=n.getState();E&&(i&&D!==i||l(e))});return r=M(v({id:i,role:o?void 0:"radio",type:o?"radio":void 0,"aria-checked":d},r),{ref:O(f,r.ref),onChange:l,onClick:S,onFocus:_}),r=X(v({store:n,clickOnEnter:!o},r)),W(v({name:o?c:void 0,value:o?s:void 0,checked:d},r))}),ae=q(z(function(t){const u=re(t);return K(x,u)}));const fe=L((a,t)=>{const u=j(),n=U(a["aria-describedby"]);return k.jsx(A,{type:"checkable",render:k.jsx(ae,{accessibleWhenDisabled:!0,id:u,...a,className:N("ğŸ¥-checkbox","ğŸ¥-radio",a.className),"aria-describedby":n,ref:t})})});export{fe as R};
