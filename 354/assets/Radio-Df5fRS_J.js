import{a as m,n as x}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as D}from"./index-jyeBNHV5.js";import{a as j,b as T}from"./Field-Bl6F_MZ3.js";import{H as U,c as A,_ as w,P as B,Q as H,a1 as $,T as M,a2 as O,m as p,g as Q,u as W,b as v,r as q,n as z,d as G,e as J,f as K,a0 as L}from"./~utils-c1sb-itL.js";import{C as V,a as X,b as Y}from"./P2CTZE2T-4fKeMvch.js";var Z=U([X],[V]),ee=Z.useContext,R="input";function ne(a,t){if(t!==void 0)return a!=null&&t!=null?t===a:!!t}function te(a,t){return a==="input"&&(!t||t==="radio")}var re=A(function(t){var u=t,{store:n,name:c,value:o,checked:C}=u,r=w(u,["store","name","value","checked"]);const g=ee();n=n||g;const i=B(r.id),f=m.useRef(null),d=H(n,e=>C??ne(o,e==null?void 0:e.value));m.useEffect(()=>{!i||!d||(n==null?void 0:n.getState().activeId)===i||n==null||n.setActiveId(i)},[n,d,i]);const b=r.onChange,P=$(f,R),s=te(P,r.type),F=M(r),[I,y]=O();m.useEffect(()=>{const e=f.current;e&&(s||(d!==void 0&&(e.checked=d),c!==void 0&&(e.name=c),o!==void 0&&(e.value=`${o}`)))},[I,s,d,c,o]);const l=p(e=>{if(F){e.preventDefault(),e.stopPropagation();return}(n==null?void 0:n.getState().value)!==o&&(s||(e.currentTarget.checked=!0,y()),b==null||b(e),!e.defaultPrevented&&(n==null||n.setValue(o)))}),h=r.onClick,_=p(e=>{h==null||h(e),!e.defaultPrevented&&(s||l(e))}),k=r.onFocus,E=p(e=>{if(k==null||k(e),e.defaultPrevented||!s||!n)return;const{moves:S,activeId:N}=n.getState();S&&(i&&N!==i||l(e))});return r=Q(v({id:i,role:s?void 0:"radio",type:s?"radio":void 0,"aria-checked":d},r),{ref:W(f,r.ref),onChange:l,onClick:_,onFocus:E}),r=Y(v({store:n,clickOnEnter:!s},r)),q(v({name:s?c:void 0,value:s?o:void 0,checked:d},r))}),ae=z(G(function(t){const u=re(t);return J(R,u)}));const ce=K((a,t)=>{const u=j(),n=T(a["aria-describedby"]);return x.jsx(L,{type:"checkable",render:x.jsx(ae,{accessibleWhenDisabled:!0,id:u,...a,className:D("ğŸ¥-checkbox","ğŸ¥-radio",a.className),"aria-describedby":n,ref:t})})});export{ce as R};
