var Me=e=>{throw TypeError(e)};var xe=(e,t,s)=>t.has(e)||Me("Cannot "+s);var o=(e,t,s)=>(xe(e,t,"read from private field"),s?s.call(e):t.get(e)),M=(e,t,s)=>t.has(e)?Me("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),S=(e,t,s,n)=>(xe(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),_=(e,t,s)=>(xe(e,t,"access private method"),s);import{w as it}from"./LMDWO4NN-DUubhdkr.js";import{a as i,n as r,t as at}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{a as Te}from"./index-ChOFKjs3.js";import{A as Ve}from"./Anchor-CKrbw5Qh.js";import{G as ot,u as lt,B as ct}from"./Button-5Q56t4LK.js";import{L as ut,a as ke,b as Ne,D as We,c as $e,d as Ge,e as L,f as dt}from"./DropdownMenu-NYhBrdyy.js";import{S as Xe,C as qe,D as ht,I as Z}from"./Icon-ulh4_gZP.js";import{I as J}from"./IconButton-ByRcrMri.js";import{F as ft,L as mt}from"./Label-Ct4enNFg.js";import{S as pt,H as xt}from"./Select-BRWpRSAN.js";import{S as vt}from"./Spinner-iRh0BvFb.js";import{T as bt,a as gt,b as jt,c as Ct}from"./Tabs-Ds9Vl2UL.js";import{T as Y}from"./Text-DtFiUK60.js";import{T as It,a as yt,b as St}from"./TextBox-YGVFVWb9.js";import{c as W,a as wt}from"./~utils-CXPSt6v1.js";import{R as ne}from"./XL7CSKGW-B1PhyPSn.js";import{u as Rt,C as _t}from"./ITI7HKP4-C5EJ2Ulc.js";import{f as $}from"./~utils-CDNTHryc.js";import{V as oe}from"./VisuallyHidden-D8ialg-Y.js";import{S as Ft,l as Pe,q as Q,t as ve,r as de,b as Dt,u as be,v as Ee,w as Mt,g as Tt,x as kt,y as ze,n as Je,z as Nt}from"./QueryClientProvider-CsjJmbma.js";import{p as ie}from"./placeholder-BDe-GzZ9.js";import{p as Pt,l as Et,h as zt,s as Le,m as Lt,d as Ot,f as Bt}from"./visibility-hide-Bo_qBL5Z.js";import{s as Ut}from"./visibility-show-CMY-I9kg.js";import{C as At}from"./P2CTZE2T-Je5rf-Zr.js";import{T as Qt}from"./toolbar-BMaXii5q.js";import{u as le}from"./~hooks-Dm4cS9mD.js";import{B as Ht}from"./X5NMLKT6-CowhHlDI.js";import{D as Kt}from"./Divider-jqmVoxrH.js";import"./LVA2YJMS-WngChXeY.js";import"./Kbd-B6nxomHA.js";import"./BYC7LY2E-Dg4btrFO.js";import"./YV4JVR4I-DzguEf2c.js";import"./VGCJ63VH-B5YFul0-.js";import"./XX67R432-Byue8kDV.js";import"./AOQQTIBO-B4HjLz2q.js";import"./MTZPJQMC-12L8Y8RX.js";import"./VEVQD5MH-Ba0P5p1F.js";import"./P4IRICAX-NK57lmKH.js";import"./ASMQKSDT-DxTnVcU8.js";import"./KUU7WJ55-EPzOWSv3.js";import"./BOLVLGVE-GnbH8_Cl.js";import"./Tooltip-BwLZgbBw.js";import"./tooltip-anchor-B0yqCqbD.js";import"./C3IKGW5T-BaLKfk0m.js";import"./RZ4GPYOB-DvprUfEa.js";import"./A3CZKICO-C8rxsG5V.js";const Fe=i.createContext(void 0),Vt=$((e,t)=>{const{label:s,expanded:n=!1,onExpandedChange:u,...a}=e;return r.jsx(ne.div,{"data-kiwi-expanded":n,...a,className:W("ðŸ¥-tree-error",e.className),ref:t,children:r.jsxs("div",{className:"ðŸ¥-tree-error-container",children:[r.jsxs("div",{className:"ðŸ¥-tree-error-header",children:[r.jsx(Xe,{className:"ðŸ¥-tree-error-icon"}),r.jsx(Y,{className:"ðŸ¥-tree-error-label",variant:"body-sm",children:s}),r.jsx(J,{label:n?"Collapse":"Expand",icon:r.jsx(qe,{}),variant:"ghost",onClick:()=>{u==null||u(!n)}})]}),n&&r.jsxs(r.Fragment,{children:[r.jsx(Kt,{className:"ðŸ¥-tree-error-divider",presentational:!0}),r.jsx("div",{className:"ðŸ¥-tree-error-items",children:e.children})]})]})})}),Wt=$((e,t)=>{const{treeItemId:s,message:n,actions:u,onDismiss:a,...l}=e,{setErrorId:c}=i.useContext(Fe)??{},d=i.useId();return i.useEffect(()=>{if(s)return c==null||c({itemId:s,errorId:d}),()=>{c==null||c({itemId:s,errorId:void 0})}},[s,d,c]),r.jsxs(ne.div,{...l,className:W("ðŸ¥-tree-error-item",e.className),ref:t,children:[r.jsx(Y,{id:d,variant:"body-sm",className:"ðŸ¥-tree-error-item-message",children:n}),a&&r.jsx(J,{className:"ðŸ¥-tree-error-item-dismiss",variant:"ghost",label:"Dismiss",icon:r.jsx(ht,{}),onClick:a}),r.jsx("div",{className:"ðŸ¥-tree-error-item-actions",children:u})]})}),$t=$((e,t)=>r.jsx(Ht,{render:r.jsx(Ve,{render:r.jsx("button",{})}),...e,className:W("ðŸ¥-tree-error-item-action",e.className),ref:t})),Gt=i.createContext(void 0),Xt=$((e,t)=>{const{id:s,"aria-level":n,selected:u,expanded:a,unstable_decorations:l,label:c,description:d,actions:f,error:p,onSelectedChange:h,onExpandedChange:x,onClick:j,onKeyDown:F,...k}=e;let{icon:b}=e;const{itemIdToErrorId:w}=i.useContext(Fe)??{},N=v=>{u!==void 0&&(v.stopPropagation(),h==null||h(!u))},H=v=>{v.altKey||v.ctrlKey||v.metaKey||v.shiftKey||a!==void 0&&(v.key==="ArrowRight"||v.key==="ArrowLeft")&&(v.preventDefault(),x==null||x(v.key==="ArrowRight"))},O=i.useId(),B=i.useId(),z=i.useId(),m=s&&w?w.get(s):void 0;b=p?r.jsx(Xe,{}):b;const D=i.useMemo(()=>{const v=[];return d&&v.push(B),(l||b)&&v.push(z),m&&v.push(m),v.length>0?v.join(" "):void 0},[l,b,z,d,B,m]);return r.jsx(Gt.Provider,{value:i.useMemo(()=>({level:n,expanded:a,selected:u}),[n,a,u]),children:r.jsx(At,{id:s,render:r.jsx(ne,{...k}),onClick:le(j,N),onKeyDown:le(F,H),role:"treeitem","aria-expanded":a,"aria-selected":u,"aria-labelledby":O,"aria-describedby":D,"aria-level":n,className:W("ðŸ¥-tree-item",e.className),ref:t,children:r.jsxs(ut,{"data-kiwi-expanded":a,"data-kiwi-selected":u,"data-kiwi-error":p?!0:void 0,className:"ðŸ¥-tree-item-node",style:{"--ðŸ¥tree-item-level":n},role:void 0,children:[r.jsxs(ke,{children:[r.jsx(ot,{align:d?"block":void 0,children:r.jsx(Jt,{onClick:()=>{a!==void 0&&(x==null||x(!a))}})}),b||l?r.jsx(ne,{className:"ðŸ¥-tree-item-decoration",id:z,render:i.isValidElement(b)?b:typeof b=="string"?r.jsx(Z,{href:b}):void 0,children:b?null:l}):null]}),r.jsx(Ne,{id:O,className:"ðŸ¥-tree-item-content",children:c}),d?r.jsx(Ne,{id:B,className:"ðŸ¥-tree-item-description",children:d}):void 0,r.jsx(ke,{render:r.jsx(qt,{children:f})})]})})})}),qt=$((e,t)=>r.jsx(Qt,{...e,onClick:le(e.onClick,s=>s.stopPropagation()),onKeyDown:le(e.onKeyDown,s=>s.stopPropagation()),className:W("ðŸ¥-tree-item-actions",e.className),ref:t,children:e.children})),ge=$((e,t)=>{const{visible:s,...n}=e;return r.jsx(J,{inert:s===!1?!0:void 0,...n,variant:"ghost",className:W("ðŸ¥-tree-item-action",e.className),"data-kiwi-visible":s,ref:t})}),Jt=$((e,t)=>r.jsx(ne.span,{"aria-hidden":"true",...e,onClick:le(e.onClick,s=>s.stopPropagation()),className:W("ðŸ¥-button","ðŸ¥-icon-button","ðŸ¥-ghost-aligner","ðŸ¥-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":lt(),ref:t,children:r.jsx(qe,{})})),Yt=$((e,t)=>{const{error:s,...n}=e,u=Rt({orientation:"vertical"}),[a,l]=i.useState(new Map),c=i.useCallback(d=>{const{errorId:f}=d;if(f===void 0){l(p=>{const h=new Map(p);return h.delete(d.itemId)?h:p});return}l(p=>new Map(p).set(d.itemId,f))},[]);return r.jsxs(Fe.Provider,{value:i.useMemo(()=>({itemIdToErrorId:a,setErrorId:c}),[a,c]),children:[s,r.jsx(ne.div,{role:"tree",...n,render:r.jsx(_t,{store:u}),className:W("ðŸ¥-tree",e.className),ref:t,children:e.children})]})});var E,g,ce,T,G,ee,K,A,ue,te,se,X,q,V,re,C,ae,je,Ce,Ie,ye,Se,we,Re,Ye,Ke,Zt=(Ke=class extends Ft{constructor(t,s){super();M(this,C);M(this,E);M(this,g);M(this,ce);M(this,T);M(this,G);M(this,ee);M(this,K);M(this,A);M(this,ue);M(this,te);M(this,se);M(this,X);M(this,q);M(this,V);M(this,re,new Set);this.options=s,S(this,E,t),S(this,A,null),S(this,K,Pe()),this.options.experimental_prefetchInRender||o(this,K).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(o(this,g).addObserver(this),Oe(o(this,g),this.options)?_(this,C,ae).call(this):this.updateResult(),_(this,C,ye).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _e(o(this,g),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _e(o(this,g),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_(this,C,Se).call(this),_(this,C,we).call(this),o(this,g).removeObserver(this)}setOptions(t,s){const n=this.options,u=o(this,g);if(this.options=o(this,E).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Q(this.options.enabled,o(this,g))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_(this,C,Re).call(this),o(this,g).setOptions(this.options),n._defaulted&&!ve(this.options,n)&&o(this,E).getQueryCache().notify({type:"observerOptionsUpdated",query:o(this,g),observer:this});const a=this.hasListeners();a&&Be(o(this,g),u,this.options,n)&&_(this,C,ae).call(this),this.updateResult(s),a&&(o(this,g)!==u||Q(this.options.enabled,o(this,g))!==Q(n.enabled,o(this,g))||de(this.options.staleTime,o(this,g))!==de(n.staleTime,o(this,g)))&&_(this,C,je).call(this);const l=_(this,C,Ce).call(this);a&&(o(this,g)!==u||Q(this.options.enabled,o(this,g))!==Q(n.enabled,o(this,g))||l!==o(this,V))&&_(this,C,Ie).call(this,l)}getOptimisticResult(t){const s=o(this,E).getQueryCache().build(o(this,E),t),n=this.createResult(s,t);return ts(this,n)&&(S(this,T,n),S(this,ee,this.options),S(this,G,o(this,g).state)),n}getCurrentResult(){return o(this,T)}trackResult(t,s){const n={};return Object.keys(t).forEach(u=>{Object.defineProperty(n,u,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(u),s==null||s(u),t[u])})}),n}trackProp(t){o(this,re).add(t)}getCurrentQuery(){return o(this,g)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=o(this,E).defaultQueryOptions(t),n=o(this,E).getQueryCache().build(o(this,E),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return _(this,C,ae).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),o(this,T)))}createResult(t,s){var D;const n=o(this,g),u=this.options,a=o(this,T),l=o(this,G),c=o(this,ee),f=t!==n?t.state:o(this,ce),{state:p}=t;let h={...p},x=!1,j;if(s._optimisticResults){const v=this.hasListeners(),P=!v&&Oe(t,s),I=v&&Be(t,n,s,u);(P||I)&&(h={...h,...kt(p.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:F,errorUpdatedAt:k,status:b}=h;if(s.select&&h.data!==void 0)if(a&&h.data===(l==null?void 0:l.data)&&s.select===o(this,ue))j=o(this,te);else try{S(this,ue,s.select),j=s.select(h.data),j=ze(a==null?void 0:a.data,j,s),S(this,te,j),S(this,A,null)}catch(v){S(this,A,v)}else j=h.data;if(s.placeholderData!==void 0&&j===void 0&&b==="pending"){let v;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))v=a.data;else if(v=typeof s.placeholderData=="function"?s.placeholderData((D=o(this,se))==null?void 0:D.state.data,o(this,se)):s.placeholderData,s.select&&v!==void 0)try{v=s.select(v),S(this,A,null)}catch(P){S(this,A,P)}v!==void 0&&(b="success",j=ze(a==null?void 0:a.data,v,s),x=!0)}o(this,A)&&(F=o(this,A),j=o(this,te),k=Date.now(),b="error");const w=h.fetchStatus==="fetching",N=b==="pending",H=b==="error",O=N&&w,B=j!==void 0,m={status:b,fetchStatus:h.fetchStatus,isPending:N,isSuccess:b==="success",isError:H,isInitialLoading:O,isLoading:O,data:j,dataUpdatedAt:h.dataUpdatedAt,error:F,errorUpdatedAt:k,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:H&&!B,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:H&&B,isStale:De(t,s),refetch:this.refetch,promise:o(this,K)};if(this.options.experimental_prefetchInRender){const v=R=>{m.status==="error"?R.reject(m.error):m.data!==void 0&&R.resolve(m.data)},P=()=>{const R=S(this,K,m.promise=Pe());v(R)},I=o(this,K);switch(I.status){case"pending":t.queryHash===n.queryHash&&v(I);break;case"fulfilled":(m.status==="error"||m.data!==I.value)&&P();break;case"rejected":(m.status!=="error"||m.error!==I.reason)&&P();break}}return m}updateResult(t){const s=o(this,T),n=this.createResult(o(this,g),this.options);if(S(this,G,o(this,g).state),S(this,ee,this.options),o(this,G).data!==void 0&&S(this,se,o(this,g)),ve(n,s))return;S(this,T,n);const u={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!o(this,re).size)return!0;const d=new Set(c??o(this,re));return this.options.throwOnError&&d.add("error"),Object.keys(o(this,T)).some(f=>{const p=f;return o(this,T)[p]!==s[p]&&d.has(p)})};(t==null?void 0:t.listeners)!==!1&&a()&&(u.listeners=!0),_(this,C,Ye).call(this,{...u,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_(this,C,ye).call(this)}},E=new WeakMap,g=new WeakMap,ce=new WeakMap,T=new WeakMap,G=new WeakMap,ee=new WeakMap,K=new WeakMap,A=new WeakMap,ue=new WeakMap,te=new WeakMap,se=new WeakMap,X=new WeakMap,q=new WeakMap,V=new WeakMap,re=new WeakMap,C=new WeakSet,ae=function(t){_(this,C,Re).call(this);let s=o(this,g).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Dt)),s},je=function(){_(this,C,Se).call(this);const t=de(this.options.staleTime,o(this,g));if(be||o(this,T).isStale||!Ee(t))return;const n=Mt(o(this,T).dataUpdatedAt,t)+1;S(this,X,setTimeout(()=>{o(this,T).isStale||this.updateResult()},n))},Ce=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(o(this,g)):this.options.refetchInterval)??!1},Ie=function(t){_(this,C,we).call(this),S(this,V,t),!(be||Q(this.options.enabled,o(this,g))===!1||!Ee(o(this,V))||o(this,V)===0)&&S(this,q,setInterval(()=>{(this.options.refetchIntervalInBackground||Tt.isFocused())&&_(this,C,ae).call(this)},o(this,V)))},ye=function(){_(this,C,je).call(this),_(this,C,Ie).call(this,_(this,C,Ce).call(this))},Se=function(){o(this,X)&&(clearTimeout(o(this,X)),S(this,X,void 0))},we=function(){o(this,q)&&(clearInterval(o(this,q)),S(this,q,void 0))},Re=function(){const t=o(this,E).getQueryCache().build(o(this,E),this.options);if(t===o(this,g))return;const s=o(this,g);S(this,g,t),S(this,ce,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Ye=function(t){Je.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(o(this,T))}),o(this,E).getQueryCache().notify({query:o(this,g),type:"observerResultsUpdated"})})},Ke);function es(e,t){return Q(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Oe(e,t){return es(e,t)||e.state.data!==void 0&&_e(e,t,t.refetchOnMount)}function _e(e,t,s){if(Q(t.enabled,e)!==!1){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&De(e,t)}return!1}function Be(e,t,s,n){return(e!==t||Q(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&De(e,s)}function De(e,t){return Q(t.enabled,e)!==!1&&e.isStaleByTime(de(t.staleTime,e))}function ts(e,t){return!ve(e.getCurrentResult(),t)}var Ze=i.createContext(!1),ss=()=>i.useContext(Ze);Ze.Provider;function rs(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ns=i.createContext(rs()),is=()=>i.useContext(ns);function as(e,t){return typeof e=="function"?e(...t):!!e}function Ue(){}var os=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ls=e=>{i.useEffect(()=>{e.clearReset()},[e])},cs=({result:e,errorResetBoundary:t,throwOnError:s,query:n,suspense:u})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(u&&e.data===void 0||as(s,[e.error,n])),us=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...s)=>Math.max(t(...s),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},ds=(e,t)=>e.isLoading&&e.isFetching&&!t,hs=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ae=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function fs(e,t,s){var h,x,j,F,k;const n=Nt(),u=ss(),a=is(),l=n.defaultQueryOptions(e);(x=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||x.call(h,l),l._optimisticResults=u?"isRestoring":"optimistic",us(l),os(l,a),ls(a);const c=!n.getQueryCache().get(l.queryHash),[d]=i.useState(()=>new t(n,l)),f=d.getOptimisticResult(l),p=!u&&e.subscribed!==!1;if(i.useSyncExternalStore(i.useCallback(b=>{const w=p?d.subscribe(Je.batchCalls(b)):Ue;return d.updateResult(),w},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),i.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),hs(l,f))throw Ae(l,d,a);if(cs({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;if((F=(j=n.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||F.call(j,l,f),l.experimental_prefetchInRender&&!be&&ds(f,u)){const b=c?Ae(l,d,a):(k=n.getQueryCache().get(l.queryHash))==null?void 0:k.promise;b==null||b.catch(Ue).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?f:d.trackResult(f)}function ms(e,t){return fs(e,Zt)}const ps="_appLayout_10hwn_5",xs="_header_10hwn_22",vs="_platformBar_10hwn_32",bs="_logo_10hwn_38",gs="_tools_10hwn_48",js="_leftPanel_10hwn_58",Cs="_panelHeader_10hwn_70",Is="_panelTitleWrapper_10hwn_78",ys="_panelCaption_10hwn_82",Ss="_shiftIconRight_10hwn_86",ws="_subheader_10hwn_90",Rs="_searchInput_10hwn_106",_s="_subheaderActions_10hwn_110",Fs="_tabList_10hwn_114",Ds="_emptyState_10hwn_119",Ms="_canvasWrapper_10hwn_128",Ts="_canvas_10hwn_128",ks="_splitter_10hwn_165",Ns="_tabPanel_10hwn_211",Ps="_tree_10hwn_216",Es="_action_10hwn_221",zs="_slider_10hwn_238",Ls="_colorSwatch_10hwn_247",y={appLayout:ps,header:xs,platformBar:vs,logo:bs,tools:gs,leftPanel:js,panelHeader:Cs,panelTitleWrapper:Is,panelCaption:ys,shiftIconRight:Ss,subheader:ws,searchInput:Rs,subheaderActions:_s,tabList:Fs,emptyState:Ds,canvasWrapper:Ms,canvas:Ts,splitter:ks,tabPanel:Ns,tree:Ps,action:Es,slider:zs,colorSwatch:Ls},Os="/454/assets/sandbox.model1-B8uu5h-t.json",Bs="/454/assets/sandbox.model2-Bi69Ub92.json",Us="data:application/json;base64,ewoJIm5hbWUiOiAiRXBvY2ggU3lzdGVtIGlNb2RlbCAzIiwKCSJ2ZXJzaW9uIjogIjIwMjQgUmVmcmVzaCIsCgkiZGF0YSI6IHsKCQkiZGVmYXVsdCI6IFtdCgl9Cn0K",he={model1:{name:"Epoch System iModel 1",url:Os},model2:{name:"Epoch System iModel 2",url:Bs},model3:{name:"Epoch System iModel 3",url:Us}};async function As(e){if(e in he){const t=await fetch(he[e].url).then(s=>s.json());return t.slow&&await new Promise(s=>setTimeout(s,Math.random()*2e3)),t}return{name:"Unknown",version:"Unknown",data:{default:[]}}}const et="Kiwi sandbox",Xr=()=>[{title:et}],qr=it(function(){var a,l;const[t,s]=at(),n=t.get("model")||"model1",u=ms({queryKey:["sandbox-data",n],queryFn:()=>As(n)});return r.jsxs(Qs,{panelContent:r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:y.panelHeader,children:[r.jsxs("div",{children:[r.jsxs(ft,{children:[r.jsx(oe,{render:r.jsx(mt,{}),children:"Choose Model"}),r.jsx(pt,{className:y.panelTitleWrapper,children:r.jsx(xt,{variant:"ghost",defaultValue:n,onChange:c=>s({model:c.currentTarget.value}),children:Object.entries(he).map(([c,{name:d}])=>r.jsx("option",{value:c,children:d},c))})})]}),r.jsxs("hgroup",{role:"group",children:[r.jsx(oe,{render:r.jsx("h2",{}),children:(a=he[n])==null?void 0:a.name}),r.jsx(Y,{className:y.panelCaption,variant:"body-sm",render:r.jsx("p",{}),children:((l=u.data)==null?void 0:l.version)||""})]})]}),r.jsx("div",{className:y.actions,children:r.jsx(J,{className:y.shiftIconRight,icon:Pt,label:"Dock panel",variant:"ghost",disabled:!0})})]}),r.jsx(i.Suspense,{fallback:r.jsx(Hs,{}),children:r.jsx(Ks,{query:u})},n)]}),children:[r.jsxs("header",{className:y.header,children:[r.jsx("div",{className:y.logo,children:r.jsx(Z,{href:ie,size:"large"})}),r.jsx(Y,{render:c=>r.jsx("h1",{...c}),variant:"body-md",children:et})]}),r.jsx("div",{className:y.platformBar,children:r.jsxs("div",{className:y.tools,children:[r.jsx(Z,{href:ie,size:"large"}),r.jsx(Z,{href:ie,size:"large"}),r.jsx(Z,{href:ie,size:"large"})]})}),r.jsx("div",{className:y.canvasWrapper,children:r.jsx("div",{className:y.canvas})})]})});function Qs(e){const{sliderProps:t,panelProps:s,panelMinSize:n,panelMaxSize:u,resizing:a}=$s({minSize:{px:256,pct:20},maxSize:{pct:30}}),l=i.useId();return r.jsxs("div",{className:y.appLayout,style:{"--_panel-min-size":n,"--_panel-max-size":u},children:[r.jsx("div",{...s,className:y.leftPanel,style:{position:"relative",...s.style},children:e.panelContent}),r.jsxs("div",{className:y.splitter,"data-resizing":a?"true":void 0,children:[r.jsx(oe,{render:c=>r.jsx("label",{...c,htmlFor:l,children:"Resize layers panel"}),children:"Resize layers panel"}),r.jsx("input",{id:l,type:"range",className:y.slider,...t})]}),e.children]})}function Hs(){return r.jsxs(tt,{children:[r.jsx(vt,{"aria-hidden":"true"}),r.jsx(Y,{variant:"body-sm",children:"Loadingâ€¦"})]})}function Ks(e){var l;const{data:t}=i.use(e.query.promise),s=i.useMemo(()=>Object.entries(t).map(([c,d])=>{const f=d.length<=1?[]:d.map(({label:p})=>p);return{name:c,filters:f,content:d.length>0?r.jsx(Ys,{data:d}):r.jsxs(tt,{children:[r.jsx(Y,{variant:"body-sm",children:"No layers"}),r.jsx(ct,{children:"Create a layer"})]})}}),[t]),[n,u]=i.useState((l=s[0])==null?void 0:l.name),a=i.useMemo(()=>{var c;return n?((c=s.find(d=>d.name===n))==null?void 0:c.filters)||[]:s[0].filters},[s,n]);return s.length===1?r.jsxs(He,{allFilters:a,children:[r.jsx(Qe,{}),s[0].content]}):r.jsx(He,{allFilters:a,children:r.jsxs(bt,{selectOnMove:!1,setSelectedId:u,children:[r.jsx(Qe,{tabs:s.map(c=>r.jsx(gt,{id:c.name,children:wt(c.name)},c.name))}),s.map(c=>r.jsx(jt,{className:y.tabPanel,tabId:c.name,unmountOnHide:!0,children:c.content},c.name))]})})}function tt({children:e}){return r.jsx("div",{className:y.emptyState,children:e})}function Vs(){return r.jsx("div",{style:{textAlign:"center"},children:r.jsx(Y,{variant:"body-sm",children:"No results found"})})}function Ws(e,t,s){return Math.min(Math.max(e,t),s)}function $s(e){const{minSize:t,maxSize:s,onCollapse:n}=e??{},u=i.useId(),a=i.useRef(null),[l,c]=i.useState(void 0),[d,f]=i.useState(void 0),[p,h]=i.useState(void 0),[x,j]=i.useState(!1),[F,k]=i.useState(void 0),b=i.useMemo(()=>{if(t&&d)return Math.min(t.px,t.pct/100*d)},[t,d]),w=i.useMemo(()=>{if(b&&s&&d)return Math.max(b,s.pct/100*d)},[s,d,b]),N=i.useMemo(()=>{if(p==="smallest")return b??0;if(p==="largest")return w??0;if(l&&b&&w)return Ws(l,b,w)},[l,b,w,p]);i.useEffect(()=>{const I=a.current;if(!I)return;const R=I.parentElement;if(!R)return;const U=new ResizeObserver(()=>{const me=R.getBoundingClientRect(),pe=I.getBoundingClientRect();f(me.width),c(pe.width)});return U.observe(R),U.observe(I),()=>{U.disconnect()}},[]);const H=i.useCallback(I=>{const R=a.current;if(!R)return;const U=R.getBoundingClientRect();k(U.width+I),h(void 0),j(!0)},[]),O=i.useCallback(I=>{const R=a.current;if(!R)return;const U=R.parentElement;if(!U)return;const me=U.getBoundingClientRect(),pe=I*(me.width*.005),nt=R.getBoundingClientRect();k(nt.width+pe),h(void 0)},[]),B=i.useCallback(()=>{a.current&&(k(void 0),j(!1))},[]),{moveableProps:z}=Gs({onMove:H,onMoveEnd:B,onKeyMove:O}),m=i.useMemo(()=>({...z,onKeyDown:I=>{var R;if((R=z.onKeyDown)==null||R.call(z,I),!I.defaultPrevented)switch(I.key){case"Enter":I.preventDefault(),n==null||n();break;case"Home":I.preventDefault(),h("smallest");break;case"End":I.preventDefault(),h("largest");break}},onChange:I=>{if(x)return;const R=Number(I.target.value);k(R)},value:N===void 0?0:Math.floor(N),min:b===void 0?void 0:Math.floor(b),max:w===void 0?void 0:Math.floor(w)}),[z,N,b,w,n,x]),D=i.useMemo(()=>({style:{WebkitUserSelect:F===void 0?void 0:"none"},id:u,ref:a}),[u,F]),v=b===void 0?void 0:`${Math.floor(b)}px`,P=i.useMemo(()=>{if(F!==void 0&&s!==void 0&&p===void 0)return`min(${Math.floor(F)}px, ${s.pct}%)`;if(N!==void 0)return`${Math.floor(N)}px`},[s,F,N,p]);return{sliderProps:m,panelProps:D,panelMinSize:v,panelMaxSize:P,resizing:x}}function Gs(e){const{onMove:t,onMoveEnd:s,onKeyMove:n}=e??{},u=i.useRef(null),a=i.useRef(void 0),l=i.useRef(void 0),c=i.useCallback(()=>{l.current!==void 0&&(l.current=void 0,s==null||s())},[s]);return{moveableProps:i.useMemo(()=>({onPointerDown:f=>{if(f.button!==0||f.ctrlKey)return;const p=u.current;if(!p)return;const h=p.getBoundingClientRect(),x=f.clientX-h.left;l.current=x,f.preventDefault(),p.setPointerCapture(f.pointerId)},onPointerMove:f=>{const p=l.current;if(p===void 0)return;const h=u.current;if(!h)return;const x=h.getBoundingClientRect(),j=f.clientX-p-x.left;f.preventDefault(),t==null||t(j)},onPointerUp:c,onPointerCancel:c,onKeyDown:f=>{if(!f.defaultPrevented)switch(f.key){case"ArrowLeft":f.preventDefault(),n==null||n(-1);break;case"ArrowRight":f.preventDefault(),n==null||n(1);break}},ref:f=>{var h;if(u.current=f,(h=a.current)==null||h.call(a),a.current=void 0,!f)return;const p=x=>{x.preventDefault()};f.addEventListener("touchstart",p),a.current=()=>{f.removeEventListener("touchstart",p)}}}),[n,t,c])}}const st=(()=>{let e=0;return t=>({id:`${e++}`,label:`Tree Item ${e}`,expanded:!0,...t,items:((t==null?void 0:t.items)??[]).map(st)})})();function Xs({items:e,filters:t,search:s,errorIds:n}){const u=i.useMemo(()=>t.length===0?e:e.reduce((c,d)=>(t.includes(d.label)&&c.push(d),c),[]),[e,t]),a=i.useMemo(()=>{function c(d){return d.reduce((f,p)=>{const x=n.includes(p.id)?[]:c(p.items??[]);return(p.label.toLowerCase().includes(s.toLowerCase())||x.length>0)&&f.push({...p,items:x}),f},[])}return s===""&&n.length===0?u:c(u)},[u,s,n]),l=i.useMemo(()=>{if(t.length===0&&s==="")return;function c(d){return d.reduce((f,p)=>{const h=p.items?c(p.items):0;return f+1+h},0)}return c(a)},[a,t,s]);return{filteredTree:a,itemCount:l}}function qs(e,t){return i.useMemo(()=>{function s(n){return n.reduce((u,a)=>(t.includes(a.id)&&u.push(a),a.items&&u.push(...s(a.items)),u),[])}return s(e)},[e,t])}function Js(e,t,s){return i.useMemo(()=>{function n(u,a,l,c,d){const f=[];let p=1;for(const h of u){const x=h.id===t||c,j=s.includes(h.id)||d;f.push({...h,level:l,parentItem:a,selected:x,hidden:j,parentHidden:d,position:p++,size:u.length}),h.expanded&&f.push(...n(h.items,h,l+1,x,j))}return f}return n(e,void 0,1,!1,!1)},[e,t,s])}function rt(e,t){for(const s of e){if(s.id===t)return s;const n=rt(s.items,t);if(n)return n}}function Ys({data:e}){const{appliedFilters:t,search:s,setItemCount:n}=i.useContext(fe),u=i.useId(),[a,l]=i.useState(),[c,d]=i.useState([]),f=i.useCallback(m=>{d(D=>D.includes(m)?D.filter(v=>v!==m):[...D,m])},[]),[p,h]=i.useState(!0),[x,j]=i.useState(()=>e.map(m=>st(m))),[F,k]=i.useState(["benstr","benroad"]),b=qs(x,F),w=i.useMemo(()=>b.filter(m=>m.expanded),[b]),N=i.useMemo(()=>w.map(m=>m.id),[w]),{filteredTree:H,itemCount:O}=Xs({items:x,filters:t,search:s,errorIds:N}),B=Js(H,a,c);i.useEffect(()=>{n(O)},[n,O]);const z=i.useDeferredValue(B);return z.length===0?r.jsx(Vs,{}):r.jsx(i.Suspense,{fallback:"Loading...",children:r.jsx(Yt,{className:y.tree,error:w.length>0?r.jsx(Vt,{expanded:p,onExpandedChange:h,label:w.length===1?"1 issue found":`${w.length} issues found`,children:w.map(m=>{const D=`${u}-${m.id}`;return r.jsx(Wt,{treeItemId:D,message:r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Failed to create hierarchy for "}),r.jsx(Ve,{render:r.jsx("button",{}),onClick:()=>{var v;(v=document.getElementById(D))==null||v.focus()},style:{textAlign:"start"},children:m.label})]}),actions:[r.jsx($t,{onClick:()=>{k(v=>v.filter(P=>P!==m.id))},children:"Retry"},"retry")]},m.id)})}):void 0,children:z.map(m=>{const D=w.find(P=>P.id===m.id),v=D?`${u}-${m.id}`:void 0;return r.jsx(Xt,{id:v,label:m.label,description:m.description,"aria-level":m.level,"aria-posinset":m.position,"aria-setsize":m.size,selected:m.selected,onSelectedChange:()=>{if(a===m.id){l(void 0);return}l(m.id)},expanded:m.items.length===0&&!D?void 0:m.expanded,onExpandedChange:P=>{j(I=>{const R=rt(I,m.id);if(!R)return I;const U=[...I];return R.expanded=P,U})},unstable_decorations:r.jsxs(r.Fragment,{children:[m.color?r.jsx(tr,{color:m.color,alt:m.color}):null,r.jsx(Z,{href:ie})]}),actions:[r.jsx(ge,{className:y.action,icon:Et,label:"Lock","aria-hidden":m.hidden},"lock"),r.jsx(ge,{className:y.action,icon:m.hidden?zt:Ut,label:m.hidden?"Show":"Hide",visible:m.hidden?!0:void 0,onClick:()=>{f(m.id)}},"visibility"),r.jsx(Zs,{hidden:m.hidden},"more")],error:D?!0:void 0},m.id)})})})}function Zs({hidden:e}){return r.jsxs(We,{children:[r.jsx($e,{className:y.action,"aria-hidden":e,render:r.jsx(ge,{icon:Lt,label:"More"})}),r.jsxs(Ge,{style:{minInlineSize:164},children:[r.jsx(L,{label:"Copy",shortcuts:"Command+C"}),r.jsx(L,{label:"Paste",shortcuts:"Command+P"}),r.jsx(L,{label:"Copy/Paste as",shortcuts:"Command+V"}),r.jsx(L,{label:"Move to",shortcuts:"Command+M"}),r.jsx(L,{label:"Bring to front",shortcuts:"]"}),r.jsx(L,{label:"Send to back",shortcuts:"["}),r.jsx(L,{label:"Group selection",shortcuts:"Command+G"}),r.jsx(L,{label:"Ungroup",shortcuts:"Command+U"}),r.jsx(L,{label:"Rename",shortcuts:"Command+R"}),r.jsx(L,{label:"Show/hide",shortcuts:"Shift+Command+V"}),r.jsx(L,{label:"Lock/unlock",shortcuts:"Shift+Command+L"}),r.jsx(L,{label:"Isolate object",shortcuts:"I"})]})]})}function Qe({tabs:e}){const{itemCount:t,isFiltered:s,search:n,setSearch:u}=i.useContext(fe),a=i.useRef(null),l=i.useRef(null),[c,d]=i.useState(!e),f=s||!!n,p=c?r.jsxs(r.Fragment,{children:[r.jsx(er,{}),e?r.jsx(J,{className:y.shiftIconRight,icon:Ot,label:"Close",variant:"ghost",onClick:()=>{var x;Te.flushSync(()=>d(!1)),(x=l.current)==null||x.focus()}}):null]}):r.jsx(J,{className:y.shiftIconRight,icon:Le,label:"Search",dot:f?"Some filters or search applied":void 0,variant:"ghost",onClick:()=>{var x;Te.flushSync(()=>d(!0)),(x=a.current)==null||x.focus()}}),h=i.useMemo(()=>{if(s)return t===void 0?"Showing all tree items":`Showing ${t} tree items`},[s,t]);return r.jsxs("div",{className:y.subheader,children:[r.jsx(oe,{"aria-live":"polite","aria-atomic":!0,children:h}),e&&!c?r.jsx(Ct,{className:y.tabList,tone:"accent",ref:l,children:e}):null,c?r.jsxs(It,{className:y.searchInput,children:[r.jsx(yt,{href:Le}),r.jsx(St,{placeholder:"Search",ref:a,onChange:x=>u(x.currentTarget.value)})]}):null,r.jsx("div",{className:y.subheaderActions,children:p})]})}function er(){const e=i.useContext(fe),t=e.appliedFilters.length>0;return r.jsxs(We,{children:[r.jsx($e,{render:r.jsx(J,{icon:Bt,label:"Filter",dot:t?"Some filters applied":void 0,variant:"ghost",disabled:e.allFilters.length===0})}),r.jsx(Ge,{children:e.allFilters.map(s=>{const n=e.appliedFilters.includes(s);return r.jsx(dt,{name:s,label:s,checked:n,onChange:()=>{e.toggleFilter(s)}},s)})})]})}function He(e){const[t,s]=i.useState(!1),[n,u]=i.useState([]),[a,l]=i.useState(""),[c,d]=i.useState(void 0),f=i.useCallback(x=>{const j=n.includes(x)?n.filter(F=>F!==x):[...n,x];u(j),s(j.length>0)},[n]),p=i.useCallback(()=>{u([]),s(!1)},[]),h=i.useCallback(x=>{l(x),s(!!x)},[]);return r.jsx(fe.Provider,{value:i.useMemo(()=>({allFilters:e.allFilters,appliedFilters:n,isFiltered:t,toggleFilter:f,clearFilters:p,search:a,setSearch:h,itemCount:c,setItemCount:d}),[e.allFilters,n,t,f,p,a,h,c]),children:e.children})}const fe=i.createContext({allFilters:[],appliedFilters:[],isFiltered:!1,toggleFilter:()=>{},clearFilters:()=>{},search:"",setSearch:()=>{},itemCount:void 0,setItemCount:()=>{}});function tr(e){return r.jsx("div",{className:y.colorSwatch,style:{"--_color":`var(--_color--${e.color})`},children:e.alt?r.jsx(oe,{children:e.alt}):null})}export{qr as default,Xr as meta};
