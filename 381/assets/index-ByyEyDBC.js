import{w as _}from"./LMDWO4NN-Dg-CmVu9.js";import{n as t,a as l}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{c as b,d as q}from"./~utils-BQehcx70.js";import{R as w}from"./XL7CSKGW-UlgSkSI6.js";import{u as J,C as Q}from"./ITI7HKP4-DbxAdGsH.js";import{f as h,s as B,L as X,b as K,a as $}from"./~utils.ListItem-B12tWSHz.js";import{p as D}from"./placeholder-DOVpwEQm.js";import{u as E}from"./lock-unlocked-DP2IL7-B.js";import{s as M}from"./visibility-show-ac5UQfBA.js";import{C as Y}from"./P2CTZE2T-CsknsjqQ.js";import{T as ee}from"./toolbar-BCmn58t3.js";import{u as te,T as re}from"./BOLVLGVE-BFPJ-NKS.js";import{B as ne}from"./X5NMLKT6-tbHUaCWI.js";import{V as oe}from"./XX67R432-tiBLlwDL.js";import{d as R}from"./YV4JVR4I-DPjYyIBF.js";import{u as se,T as ae,a as ie,b as le}from"./tooltip-anchor-DqtdyEiF.js";import"./C3IKGW5T-C3PuGI4F.js";import"./LVA2YJMS-Poy2N9Zq.js";import"./RZ4GPYOB-Do0ZeBdx.js";import"./KUU7WJ55-DGpHxwfQ.js";import"./BYC7LY2E-DEfXd4q1.js";import"./VGCJ63VH-B_HxEu7q.js";import"./index-ChOFKjs3.js";import"./AOQQTIBO-B4HjLz2q.js";import"./MTZPJQMC-DyHagAf_.js";const O=l.createContext(void 0);function ce(e){return t.jsx(O.Provider,{value:e.align,children:e.children})}function V(){return l.useContext(O)}const z=h((e,n)=>{const{variant:r="solid",tone:o="neutral",...s}=e,i=V();return t.jsx(ne,{accessibleWhenDisabled:!0,...s,"data-kiwi-variant":r,"data-kiwi-tone":o,"data-kiwi-ghost-align":r==="ghost"?i:void 0,className:b("-button",{"-ghost-aligner":r==="ghost"},e.className),ref:n})});z.displayName="Button";const S=h((e,n)=>t.jsx(oe,{...e,ref:n}));S.displayName="VisuallyHidden";const j=h((e,n)=>{const{href:r,size:o,alt:s,...i}=e,a=de(o),f=!s;return t.jsx(w.svg,{"aria-hidden":f?"true":void 0,role:f?void 0:"img","aria-label":f?void 0:s,...i,"data-kiwi-size":o,className:b("-icon",e.className),ref:n,children:t.jsx("use",{href:`${e.href}#${a}`})})});j.displayName="Icon";function de(e){return e==="large"?"icon-large":"icon"}const me=h((e,n)=>{const{direction:r="down",...o}=e,s=l.useMemo(()=>{switch(r){case"down":return t.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return t.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[r]);return t.jsx(j,{...o,render:t.jsx(w.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:s}),className:b("-disclosure-arrow",e.className),ref:n})});me.displayName="DisclosureArrow";const ue=h((e,n)=>t.jsx(j,{...e,render:t.jsx(w.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:t.jsx("path",{fillRule:"evenodd",d:"M13.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L6.5 10.793l6.646-6.647a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"})}),ref:n}));ue.displayName="Checkmark";const he=h((e,n)=>t.jsx(j,{...e,render:t.jsx(w.svg,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",render:e.render,children:t.jsx("path",{d:"M4.853 4.146a.5.5 0 1 0-.707.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .707.708L8 8.707l3.146 3.147a.5.5 0 0 0 .707-.708L8.707 8l3.146-3.146a.5.5 0 1 0-.707-.708L8 7.293 4.853 4.146Z"})}),ref:n}));he.displayName="Dismiss";function fe(e){const n=l.useRef(e);return l.useInsertionEffect(()=>{n.current=e}),n}function C(...e){const n=fe(e);return l.useCallback(r=>{for(const o of n.current)if(o==null||o(r),r.defaultPrevented)return},[n])}function pe(e){const n=R(e,o=>o==null?void 0:o.open),r=R(e,o=>o==null?void 0:o.popoverElement);return l.useEffect(function(){var s;r!=null&&r.isConnected&&((s=r==null?void 0:r.togglePopover)==null||s.call(r,n))},[n,r]),l.useMemo(()=>({portal:!B,style:{zIndex:B?void 0:9999},wrapperProps:{popover:"manual"}}),[])}const H=h((e,n)=>{const r=l.useId(),{content:o,children:s,type:i="description",id:a=r,defaultOpen:f,open:c,setOpen:m,unmountOnHide:v=i==="none",...x}=e,g=se(),I=R(g,u=>u.open),p=pe(g);return t.jsx(t.Fragment,{children:t.jsxs(ae,{store:g,defaultOpen:f,open:c,setOpen:m,children:[t.jsx(ie,{render:s,"data-has-popover-open":I||void 0,...i==="description"&&{"aria-describedby":a},...i==="label"&&{"aria-labelledby":a}}),t.jsx(le,{"aria-hidden":"true",portal:!0,...x,unmountOnHide:v,className:b("-tooltip",e.className),ref:n,id:a,style:{...p.style,...e.style},wrapperProps:p.wrapperProps,children:o})]})})});H.displayName="Tooltip";const Z=h((e,n)=>{const{label:r,icon:o,isActive:s,labelVariant:i,dot:a,...f}=e,c=l.useId(),m=`${c}-label`,v=`${c}-dot`,x=te(),g=t.jsxs(z,{"aria-pressed":s,"aria-labelledby":m,"aria-describedby":a?v:void 0,...f,"data-kiwi-dot":a?"true":void 0,render:x?t.jsx(re,{render:e.render}):e.render,className:b("-icon-button",e.className),ref:n,children:[t.jsx(S,{id:m,children:r}),typeof o=="string"?t.jsx(j,{href:o}):o,a?t.jsx(S,{id:v,"aria-hidden":"true",children:a}):null]});return i==="visually-hidden"?g:t.jsx(H,{content:r,type:"none",children:g})});Z.displayName="IconButton";const xe=l.createContext(void 0),L=h((e,n)=>{const{"aria-level":r,selected:o,expanded:s,icon:i,unstable_decorations:a,label:f,description:c,actions:m,onSelectedChange:v,onExpandedChange:x,onClick:g,onKeyDown:I,...p}=e,u=d=>{o!==void 0&&(d.stopPropagation(),v==null||v(!o))},A=d=>{d.altKey||d.ctrlKey||d.metaKey||d.shiftKey||s!==void 0&&(d.key==="ArrowRight"||d.key==="ArrowLeft")&&(d.preventDefault(),x==null||x(d.key==="ArrowRight"))},T=l.useId(),N=l.useId(),y=l.useId(),P=l.useMemo(()=>{const d=[];return c&&d.push(N),(a||i)&&d.push(y),d.length>0?d.join(" "):void 0},[a,i,y,c,N]);return t.jsx(xe.Provider,{value:l.useMemo(()=>({level:r,expanded:s,selected:o}),[r,s,o]),children:t.jsx(Y,{render:t.jsx(w,{...p}),onClick:C(g,u),onKeyDown:C(I,A),role:"treeitem","aria-expanded":s,"aria-selected":o,"aria-labelledby":T,"aria-describedby":P,"aria-level":r,className:b("-tree-item",e.className),ref:n,children:t.jsxs(X,{"data-kiwi-expanded":s,"data-kiwi-selected":o,className:"-tree-item-node",style:{"--tree-item-level":r},role:void 0,children:[t.jsxs(K,{children:[t.jsx(ce,{align:c?"block":void 0,children:t.jsx(G,{onClick:()=>{s!==void 0&&(x==null||x(!s))}})}),i||a?t.jsx(w,{className:"-tree-item-decoration",id:y,render:l.isValidElement(i)?i:typeof i=="string"?t.jsx(j,{href:i}):void 0,children:i?null:a}):null]}),t.jsx($,{id:T,className:"-tree-item-content",children:f}),c?t.jsx($,{id:N,className:"-tree-item-description",children:c}):void 0,t.jsx(K,{render:t.jsx(F,{children:m})})]})})})});L.displayName="TreeItem.Root";const F=h((e,n)=>t.jsx(ee,{...e,onClick:C(e.onClick,r=>r.stopPropagation()),onKeyDown:C(e.onKeyDown,r=>r.stopPropagation()),className:b("-tree-item-actions",e.className),ref:n,children:e.children}));F.displayName="TreeItemActions";const k=h((e,n)=>{const{visible:r,...o}=e;return t.jsx(Z,{inert:r===!1?!0:void 0,...o,variant:"ghost",className:b("-tree-item-action",e.className),"data-kiwi-visible":r,ref:n})});k.displayName="TreeItem.Action";const G=h((e,n)=>t.jsx(w.span,{"aria-hidden":"true",...e,onClick:C(e.onClick,r=>r.stopPropagation()),className:b("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":V(),ref:n,children:t.jsx(U,{})}));G.displayName="TreeItemExpander";const U=h((e,n)=>t.jsx(j,{...e,render:t.jsx(w.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:t.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:b("-tree-chevron",e.className),ref:n}));U.displayName="TreeChevron";const W=h((e,n)=>{const r=J({orientation:"vertical"});return t.jsx(w.div,{role:"tree",...e,render:t.jsx(Q,{store:r}),className:b("-tree",e.className),ref:n,children:e.children})});W.displayName="Tree.Root";const He={title:"Tree"},Ze=_(q(function({overflow:n=!1,selected:r=!1,description:o}){const s=n?" with a super long label that is overflown":"",i=o?"Additional description":void 0,[a,f]=l.useState(()=>[{label:`Item 1${s}`,selected:!!r,expanded:!0,children:[{label:"Item 1.1",selected:!!r},{label:"Item 1.2",selected:!!r},{label:`Item 1.3${s}`,selected:!!r}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${s}`,selected:!1}]},{label:"Item 3",selected:!1}]);return t.jsx(W,{style:{maxInlineSize:n?300:void 0},children:a.map((c,m,v)=>{var I;const x=()=>{const p=a[m].selected,u=[...a];u[m].selected=!p,f(u)},g=()=>{const p=a[m].expanded;if(p===void 0)return;const u=[...a];u[m].expanded=!p,f(u)};return t.jsxs(l.Fragment,{children:[t.jsx(L,{"aria-level":1,"aria-posinset":m+1,"aria-setsize":v.length,label:c.label,description:m===0?i:void 0,expanded:c.expanded,onExpandedChange:g,selected:c.selected,onSelectedChange:x,icon:t.jsx(j,{href:D,alt:"decoration"}),actions:[t.jsx(k,{icon:E,label:"Unlock"},"unlock"),t.jsx(k,{icon:M,label:"Show"},"show")]},c.label),(I=c.children)==null?void 0:I.map((p,u,A)=>{if(!c.expanded)return null;const T=()=>{var P;const N=[...a],y=(P=N[m].children)==null?void 0:P[u];y&&(y.selected=!y.selected),f(N)};return t.jsx(L,{"aria-level":2,"aria-posinset":u+1,"aria-setsize":A.length,label:p.label,description:u===0?i:void 0,selected:p.selected,onSelectedChange:T,unstable_decorations:u===0?t.jsxs(t.Fragment,{children:[t.jsx(j,{href:D}),t.jsx(j,{href:D})]}):t.jsx(j,{href:D}),actions:[t.jsx(k,{icon:E,label:"Unlock"},"unlock"),t.jsx(k,{icon:M,label:"Show"},"show")]},p.label)})]},c.label)})})}));export{Ze as default,He as handle};
