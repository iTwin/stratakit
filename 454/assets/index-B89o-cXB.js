import{w as me}from"./LMDWO4NN-DUubhdkr.js";import{n as e,a as l}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{c as f,d as ue}from"./~utils-CXPSt6v1.js";import{R as v}from"./XL7CSKGW-B1PhyPSn.js";import{u as he,C as xe}from"./ITI7HKP4-C5EJ2Ulc.js";import{f as u}from"./~utils-DwzaeBQS.js";import{p as R}from"./placeholder-BDe-GzZ9.js";import{u as G,r as fe}from"./refresh-CVIscMDV.js";import{s as _}from"./visibility-show-CMY-I9kg.js";import{A as je}from"./Anchor-CKrbw5Qh.js";import{C as pe}from"./P2CTZE2T-Je5rf-Zr.js";import{T as ve}from"./toolbar-BMaXii5q.js";import{T as J,L as be,b as U,a as q}from"./~utils.ListItem-D7c8JxiY.js";import{u as Ie,T as Ne}from"./BOLVLGVE-GnbH8_Cl.js";import{B as Q}from"./X5NMLKT6-CowhHlDI.js";import{V as ge}from"./XX67R432-Byue8kDV.js";import{d as ye}from"./YV4JVR4I-DzguEf2c.js";import{a as we,b as A}from"./~hooks-C9bdlL4A.js";import{u as Ce,T as ke,a as Te,b as De}from"./tooltip-anchor-B0yqCqbD.js";import{F as Ae}from"./LVA2YJMS-WngChXeY.js";import{S as Ee}from"./A3CZKICO-C8rxsG5V.js";import"./C3IKGW5T-BaLKfk0m.js";import"./~utils-CDNTHryc.js";import"./RZ4GPYOB-DvprUfEa.js";import"./KUU7WJ55-EPzOWSv3.js";import"./BYC7LY2E-Dg4btrFO.js";import"./VGCJ63VH-B5YFul0-.js";import"./index-ChOFKjs3.js";import"./AOQQTIBO-B4HjLz2q.js";import"./MTZPJQMC-12L8Y8RX.js";const y=u((r,s)=>{const{href:t,size:a,alt:o,...n}=r,d=Pe(a),i=!o;return e.jsx(v.svg,{"aria-hidden":i?"true":void 0,role:i?void 0:"img","aria-label":i?void 0:o,...n,"data-kiwi-size":a,className:f("-icon",r.className),ref:s,children:e.jsx("use",{href:`${r.href}#${d}`})})});y.displayName="Icon";function Pe(r){return r==="large"?"icon-large":"icon"}const Re=u((r,s)=>{const{direction:t="down",...a}=r,o=l.useMemo(()=>{switch(t){case"down":return e.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return e.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[t]);return e.jsx(y,{...a,render:e.jsx(v.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:r.render,children:o}),className:f("-disclosure-arrow",r.className),ref:s})});Re.displayName="DisclosureArrow";const Se=u((r,s)=>e.jsx(y,{...r,render:e.jsx(v.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:r.render,children:e.jsx("path",{fillRule:"evenodd",d:"M13.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L6.5 10.793l6.646-6.647a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"})}),ref:s}));Se.displayName="Checkmark";const X=u((r,s)=>e.jsx(y,{...r,render:e.jsx(v.svg,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",render:r.render,children:e.jsx("path",{d:"M4.853 4.146a.5.5 0 1 0-.707.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .707.708L8 8.707l3.146 3.147a.5.5 0 0 0 .707-.708L8.707 8l3.146-3.146a.5.5 0 1 0-.707-.708L8 7.293 4.853 4.146Z"})}),ref:s}));X.displayName="Dismiss";const Z=u((r,s)=>e.jsx(y,{...r,render:e.jsx(v.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:r.render,children:e.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.354 2.06a.5.5 0 0 0-.708 0L2.061 7.647a.5.5 0 0 0 0 .707l5.585 5.586a.5.5 0 0 0 .708 0l5.585-5.586a.5.5 0 0 0 0-.707L8.354 2.061Zm-1.415-.707a1.5 1.5 0 0 1 2.122 0l5.585 5.586a1.5 1.5 0 0 1 0 2.122l-5.585 5.585a1.5 1.5 0 0 1-2.122 0L1.354 9.061a1.5 1.5 0 0 1 0-2.122l5.585-5.586ZM8.75 10.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM8.5 8.5v-3a.5.5 0 0 0-1 0v3a.5.5 0 0 0 1 0Z",clipRule:"evenodd"})}),ref:s}));Z.displayName="StatusWarning";const O=u((r,s)=>e.jsx(y,{...r,render:e.jsx(v.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:r.render,children:e.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:f("-chevron-down",r.className),ref:s}));O.displayName="ChevronDown";const Y=l.createContext(void 0);function Me(r){return e.jsx(Y.Provider,{value:r.align,children:r.children})}function ee(){return l.useContext(Y)}const re=u((r,s)=>{const{variant:t="solid",tone:a="neutral",...o}=r,n=ee();return e.jsx(Q,{accessibleWhenDisabled:!0,...o,"data-kiwi-variant":t,"data-kiwi-tone":a,"data-kiwi-ghost-align":t==="ghost"?n:void 0,className:f("-button",{"-ghost-aligner":t==="ghost"},r.className),ref:s})});re.displayName="Button";const K=u((r,s)=>e.jsx(ge,{...r,ref:s}));K.displayName="VisuallyHidden";const te=u((r,s)=>{const t=l.useId(),{content:a,children:o,type:n="description",id:d=t,defaultOpen:i,open:c,setOpen:b,unmountOnHide:j=n==="none",...I}=r,x=Ce(),C=ye(x,D=>D.open),w=we(x);return e.jsx(e.Fragment,{children:e.jsxs(ke,{store:x,defaultOpen:i,open:c,setOpen:b,children:[e.jsx(Te,{render:o,"data-has-popover-open":C||void 0,...n==="description"&&{"aria-describedby":d},...n==="label"&&{"aria-labelledby":d}}),e.jsx(De,{"aria-hidden":"true",...I,unmountOnHide:j,className:f("-tooltip",r.className),ref:s,id:d,style:{...w.style,...r.style},wrapperProps:w.wrapperProps,portal:w.portal,children:a})]})})});te.displayName="Tooltip";const S=u((r,s)=>{const{label:t,icon:a,isActive:o,labelVariant:n,dot:d,...i}=r,c=l.useId(),b=`${c}-label`,j=`${c}-dot`,I=Ie(),x=e.jsxs(re,{"aria-pressed":o,"aria-labelledby":b,"aria-describedby":d?j:void 0,...i,"data-kiwi-dot":d?"true":void 0,render:I?e.jsx(Ne,{render:r.render}):r.render,className:f("-icon-button",r.className),ref:s,children:[e.jsx(K,{id:b,children:t}),typeof a=="string"?e.jsx(y,{href:a}):a,d?e.jsx(K,{id:j,"aria-hidden":"true",children:d}):null]});return n==="visually-hidden"?x:e.jsx(te,{content:t,type:"none",children:x})});S.displayName="IconButton";const se=u((r,s)=>{const{tone:t="neutral",...a}=r;return e.jsx(v.a,{...a,"data-kiwi-tone":t,className:f("-anchor",r.className),render:e.jsx(Ae,{accessibleWhenDisabled:!0,render:r.render||e.jsx("a",{})}),ref:s})});se.displayName="Anchor";const V=l.createContext(void 0),ae=u((r,s)=>{const{presentational:t,...a}=r,o=t?v:Ee;return e.jsx(o,{...a,className:f("-divider",r.className),"data-kiwi-orientation":r.orientation,ref:s})});ae.displayName="Divider";const oe=u((r,s)=>{const{label:t,expanded:a=!1,onExpandedChange:o,...n}=r;return e.jsx(v.div,{"data-kiwi-expanded":a,...n,className:f("-tree-error",r.className),ref:s,children:e.jsxs("div",{className:"-tree-error-container",children:[e.jsxs("div",{className:"-tree-error-header",children:[e.jsx(Z,{className:"-tree-error-icon"}),e.jsx(J,{className:"-tree-error-label",variant:"body-sm",children:t}),e.jsx(S,{label:a?"Collapse":"Expand",icon:e.jsx(O,{}),variant:"ghost",onClick:()=>{o==null||o(!a)}})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"-tree-error-divider",presentational:!0}),e.jsx("div",{className:"-tree-error-items",children:r.children})]})]})})});oe.displayName="Tree.Error";const ne=u((r,s)=>{const{treeItemId:t,message:a,actions:o,onDismiss:n,...d}=r,{setErrorId:i}=l.useContext(V)??{},c=l.useId();return l.useEffect(()=>{if(t)return i==null||i({itemId:t,errorId:c}),()=>{i==null||i({itemId:t,errorId:void 0})}},[t,c,i]),e.jsxs(v.div,{...d,className:f("-tree-error-item",r.className),ref:s,children:[e.jsx(J,{id:c,variant:"body-sm",className:"-tree-error-item-message",children:a}),n&&e.jsx(S,{className:"-tree-error-item-dismiss",variant:"ghost",label:"Dismiss",icon:e.jsx(X,{}),onClick:n}),e.jsx("div",{className:"-tree-error-item-actions",children:o})]})});ne.displayName="Tree.ErrorItem";const ie=u((r,s)=>e.jsx(Q,{render:e.jsx(se,{render:e.jsx("button",{})}),...r,className:f("-tree-error-item-action",r.className),ref:s}));ie.displayName="Tree.ErrorItemAction";const $e=l.createContext(void 0),F=u((r,s)=>{const{id:t,"aria-level":a,selected:o,expanded:n,unstable_decorations:d,label:i,description:c,actions:b,error:j,onSelectedChange:I,onExpandedChange:x,onClick:C,onKeyDown:w,...D}=r;let{icon:m}=r;const{itemIdToErrorId:N}=l.useContext(V)??{},M=h=>{o!==void 0&&(h.stopPropagation(),I==null||I(!o))},$=h=>{h.altKey||h.ctrlKey||h.metaKey||h.shiftKey||n!==void 0&&(h.key==="ArrowRight"||h.key==="ArrowLeft")&&(h.preventDefault(),x==null||x(h.key==="ArrowRight"))},E=l.useId(),k=l.useId(),g=l.useId(),p=t&&N?N.get(t):void 0;m=j?e.jsx(Z,{}):m;const L=l.useMemo(()=>{const h=[];return c&&h.push(k),(d||m)&&h.push(g),p&&h.push(p),h.length>0?h.join(" "):void 0},[d,m,g,c,k,p]);return e.jsx($e.Provider,{value:l.useMemo(()=>({level:a,expanded:n,selected:o}),[a,n,o]),children:e.jsx(pe,{id:t,render:e.jsx(v,{...D}),onClick:A(C,M),onKeyDown:A(w,$),role:"treeitem","aria-expanded":n,"aria-selected":o,"aria-labelledby":E,"aria-describedby":L,"aria-level":a,className:f("-tree-item",r.className),ref:s,children:e.jsxs(be,{"data-kiwi-expanded":n,"data-kiwi-selected":o,"data-kiwi-error":j?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":a},role:void 0,children:[e.jsxs(U,{children:[e.jsx(Me,{align:c?"block":void 0,children:e.jsx(de,{onClick:()=>{n!==void 0&&(x==null||x(!n))}})}),m||d?e.jsx(v,{className:"-tree-item-decoration",id:g,render:l.isValidElement(m)?m:typeof m=="string"?e.jsx(y,{href:m}):void 0,children:m?null:d}):null]}),e.jsx(q,{id:E,className:"-tree-item-content",children:i}),c?e.jsx(q,{id:k,className:"-tree-item-description",children:c}):void 0,e.jsx(U,{render:e.jsx(le,{children:b})})]})})})});F.displayName="TreeItem.Root";const le=u((r,s)=>e.jsx(ve,{...r,onClick:A(r.onClick,t=>t.stopPropagation()),onKeyDown:A(r.onKeyDown,t=>t.stopPropagation()),className:f("-tree-item-actions",r.className),ref:s,children:r.children}));le.displayName="TreeItemActions";const T=u((r,s)=>{const{visible:t,...a}=r;return e.jsx(S,{inert:t===!1?!0:void 0,...a,variant:"ghost",className:f("-tree-item-action",r.className),"data-kiwi-visible":t,ref:s})});T.displayName="TreeItem.Action";const de=u((r,s)=>e.jsx(v.span,{"aria-hidden":"true",...r,onClick:A(r.onClick,t=>t.stopPropagation()),className:f("-button","-icon-button","-ghost-aligner","-tree-item-expander",r.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":ee(),ref:s,children:e.jsx(O,{})}));de.displayName="TreeItemExpander";const ce=u((r,s)=>{const{error:t,...a}=r,o=he({orientation:"vertical"}),[n,d]=l.useState(new Map),i=l.useCallback(c=>{const{errorId:b}=c;if(b===void 0){d(j=>{const I=new Map(j);return I.delete(c.itemId)?I:j});return}d(j=>new Map(j).set(c.itemId,b))},[]);return e.jsxs(V.Provider,{value:l.useMemo(()=>({itemIdToErrorId:n,setErrorId:i}),[n,i]),children:[t,e.jsx(v.div,{role:"tree",...a,render:e.jsx(xe,{store:o}),className:f("-tree",r.className),ref:s,children:r.children})]})});ce.displayName="Tree.Root";const ur={title:"Tree"},hr=me(ue(function({overflow:s=!1,selected:t=!1,description:a,error:o}){const n=s?" with a super long label that is overflown":"",d=a?"Additional description":void 0,[i,c]=l.useState(()=>[{label:`Item 1${n}`,selected:!!t,expanded:!0,children:[{label:"Item 1.1",selected:!!t},{label:"Item 1.2",selected:!!t},{label:`Item 1.3${n}`,selected:!!t}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${n}`,selected:!1}]},{label:"Item 3",selected:!1},...o?Array.from({length:50}).map((m,N)=>({label:`Item ${N+4}`,selected:!1})):[]]),b=l.useId(),j=l.useRef(null),[I,x]=l.useState(!!o),C=l.useMemo(()=>[`${b}-0-1`],[b]),[w,D]=l.useState(!0);return e.jsx(e.Fragment,{children:e.jsx(ce,{style:{maxInlineSize:s?300:void 0},error:I?e.jsx(oe,{label:"1 issue found",expanded:w,onExpandedChange:D,children:e.jsx(ne,{treeItemId:C[0],message:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Failed to create hierarchy for "}),e.jsx(je,{render:e.jsx("button",{}),onClick:()=>{var m;(m=j.current)==null||m.focus()},children:"Item 1.2"})]}),onDismiss:()=>x(!1),actions:[e.jsx(ie,{onClick:()=>x(!1),children:"Retry"},"retry")]})}):void 0,children:i.map((m,N,M)=>{var k;const $=()=>{const g=i[N].selected,p=[...i];p[N].selected=!g,c(p)},E=()=>{const g=i[N].expanded;if(g===void 0)return;const p=[...i];p[N].expanded=!g,c(p)};return e.jsxs(l.Fragment,{children:[e.jsx(F,{"aria-level":1,"aria-posinset":N+1,"aria-setsize":M.length,label:m.label,description:N===0?d:void 0,expanded:m.expanded,onExpandedChange:E,selected:m.selected,onSelectedChange:$,icon:e.jsx(y,{href:R,alt:"decoration"}),actions:[e.jsx(T,{icon:G,label:"Unlock"},"unlock"),e.jsx(T,{icon:_,label:"Show"},"show")]},m.label),(k=m.children)==null?void 0:k.map((g,p,L)=>{if(!m.expanded)return null;const h=()=>{var W;const H=[...i],B=(W=H[N].children)==null?void 0:W[p];B&&(B.selected=!B.selected),c(H)},z=`${b}-${N}-${p}`,P=I&&C.includes(z);return e.jsx(F,{id:P?z:void 0,"aria-level":2,"aria-posinset":p+1,"aria-setsize":L.length,label:g.label,description:p===0?d:void 0,selected:g.selected,onSelectedChange:h,unstable_decorations:p===0?e.jsxs(e.Fragment,{children:[e.jsx(y,{href:R}),e.jsx(y,{href:R})]}):e.jsx(y,{href:R}),actions:P?[e.jsx(T,{icon:fe,label:"Retry",visible:!0,onClick:()=>x(!1)},"retry")]:[e.jsx(T,{icon:G,label:"Unlock"},"unlock"),e.jsx(T,{icon:_,label:"Show"},"show")],error:P?!0:void 0,ref:P?j:void 0},g.label)})]},m.label)})})})}));export{hr as default,ur as handle};
