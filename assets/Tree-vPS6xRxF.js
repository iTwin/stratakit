import{p as t,b as u}from"./index-DDCMeoDP.js";import{q as R,p as C,r as A,l as E,m as V,n as B,_ as G,L as M,o as I,f,c as h,h as x}from"./~utils-DYQCoGfn.js";import{c as H}from"./P2CTZE2T-CA_0Hh34.js";import{c as W,u as q,a as z,b as Z,C as $}from"./ITI7HKP4-MNbA6T74.js";import{u as J}from"./YV4JVR4I-ORJcpCqA.js";import{u as O,T as Q,I as U}from"./IconButton-BW36-kKw.js";import{a as X,b as T,L as g}from"./~utils.ListItem-CLZZQsZn.js";import{I as N,S as Y}from"./Icon-BcgsgPxl.js";import{f as p}from"./~hooks-CDaIIiZC.js";import{G as ee,a as oe}from"./Button-F0SK79E2.js";function te(e={}){var r;const o=(r=e.store)==null?void 0:r.getState();return W(R(A({},e),{orientation:C(e.orientation,o==null?void 0:o.orientation,"horizontal"),focusLoop:C(e.focusLoop,o==null?void 0:o.focusLoop,!0)}))}function re(e,r,o){return q(e,r,o)}function se(e={}){const[r,o]=J(te,e);return re(r,o,e)}var ae="div",ie=V(function(r){var o=r,{store:i,orientation:l,virtualFocus:b,focusLoop:m,rtl:j}=o,a=G(o,["store","orientation","virtualFocus","focusLoop","rtl"]);const D=O();i=i||D;const d=se({store:i,orientation:l,virtualFocus:b,focusLoop:m,rtl:j}),v=d.useState(n=>n.orientation==="both"?void 0:n.orientation);return a=M(a,n=>t.jsx(Q,{value:d,children:n}),[d]),a=I({role:"toolbar","aria-orientation":v},a),a=z(I({store:d},a)),a}),ne=E(function(r){const o=ie(r);return B(ae,o)});const le=u.createContext(void 0),we=f((e,r)=>{const{"aria-level":o,selected:i,expanded:l,icon:b,unstable_decorations:m,label:j,description:a,actions:D,error:d,onSelectedChange:v,onExpandedChange:n,onClick:F,onKeyDown:P,...L}=e,S=s=>{i!==void 0&&(s.stopPropagation(),v==null||v(!i))},_=s=>{s.altKey||s.ctrlKey||s.metaKey||s.shiftKey||l!==void 0&&(s.key==="ArrowRight"||s.key==="ArrowLeft")&&(s.preventDefault(),n==null||n(s.key==="ArrowRight"))},y=u.useId(),k=u.useId(),w=u.useId(),c=d?t.jsx(Y,{}):b,K=u.useMemo(()=>{const s=[];return a&&s.push(k),(m||c)&&s.push(w),s.length>0?s.join(" "):void 0},[m,c,w,a,k]);return t.jsx(le.Provider,{value:u.useMemo(()=>({level:o,expanded:l,selected:i}),[o,l,i]),children:t.jsx(H,{render:t.jsx(x,{...L}),onClick:p(F,S),onKeyDown:p(P,_),role:"treeitem","aria-expanded":l,"aria-selected":i,"aria-labelledby":y,"aria-describedby":K,"aria-level":o,className:h("-tree-item",e.className),ref:r,children:t.jsxs(X,{"data-kiwi-expanded":l,"data-kiwi-selected":i,"data-kiwi-error":d?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":o},role:void 0,children:[t.jsxs(T,{children:[t.jsx(ee,{align:a?"block":void 0,children:t.jsx(de,{onClick:()=>{l!==void 0&&(n==null||n(!l))}})}),c||m?t.jsx(x,{className:"-tree-item-decoration",id:w,render:u.isValidElement(c)?c:typeof c=="string"?t.jsx(N,{href:c}):void 0,children:c?null:m}):null]}),t.jsx(g,{id:y,className:"-tree-item-content",children:j}),a?t.jsx(g,{id:k,className:"-tree-item-description",children:a}):void 0,t.jsx(T,{render:t.jsx(ce,{children:D})})]})})})}),ce=f((e,r)=>t.jsx(ne,{...e,onClick:p(e.onClick,o=>o.stopPropagation()),onKeyDown:p(e.onKeyDown,o=>o.stopPropagation()),className:h("-tree-item-actions-container",e.className),ref:r,children:e.children})),ye=f((e,r)=>{const{visible:o,...i}=e;return t.jsx(U,{inert:o===!1?!0:void 0,...i,variant:"ghost",className:h("-tree-item-action",e.className),"data-kiwi-visible":o,ref:r})}),de=f((e,r)=>t.jsx(x.span,{"aria-hidden":"true",...e,onClick:p(e.onClick,o=>o.stopPropagation()),className:h("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":oe(),ref:r,children:t.jsx(ue,{})})),ue=f((e,r)=>t.jsx(N,{...e,render:t.jsx(x.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:t.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:h("-tree-chevron",e.className),ref:r})),Ce=f((e,r)=>{const o=Z({orientation:"vertical"});return t.jsx(x.div,{role:"tree",...e,render:t.jsx($,{store:o}),className:h("-tree",e.className),ref:r,children:e.children})});export{Ce as T,we as a,ye as b};
