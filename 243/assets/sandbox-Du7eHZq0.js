import{w as ee}from"./LMDWO4NN-B9FpyNgE.js";import{t as ne,a as t,n as e}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{a as D}from"./index-Dr3kRIaJ.js";import{B as te}from"./Button-B8QDI01S.js";import{D as X,a as G,b as O,c as u}from"./DropdownMenu-DNE2ov4h.js";import{I as P}from"./Icon-z8prGkgK.js";import{I as A}from"./IconButton-B1mjji8b.js";import{S as se,H as le}from"./Select-C4IDUnlB.js";import{T as ae,a as w,b as re,c as k}from"./Tabs-D5ov0iSy.js";import{T as H}from"./Text-B7oFCzHO.js";import{T as ie,a as oe,b as ce}from"./TextBox-D-wXuayc.js";import{V as z}from"./VisuallyHidden-vIB6Hcqy.js";import{T as de,a as ue}from"./Tree-XxfcY2dn.js";import{p as y}from"./placeholder-CzJNBb3X.js";import{p as he,l as xe,d as pe,h as fe,m as me,s as E,a as je,f as be}from"./state-inherited-dot-CJlTXsH0.js";import{s as Ce}from"./visibility-show-B_0QHPAT.js";import"./index-jyeBNHV5.js";import"./~utils-CHxZPh8f.js";import"./KUU7WJ55-CusvxyRC.js";import"./LVA2YJMS-DYM0-9Sh.js";import"./XL7CSKGW-ZlAh6nmo.js";import"./Kbd-DHAvxWyb.js";import"./P2CTZE2T-UTfrU9UE.js";import"./BYC7LY2E-fkMCnSAW.js";import"./VGCJ63VH-Dt5jV1Nc.js";import"./MTZPJQMC-BiRnue5t.js";import"./VEVQD5MH-TXAX_sd0.js";import"./ITI7HKP4-z1O4Mld3.js";import"./P4IRICAX-u93M9wsh.js";import"./ASMQKSDT-Da7BFu7e.js";import"./Tooltip-B8xfWOcn.js";import"./Field-Cc5KoMfH.js";import"./~hooks-Wdjhtx2E.js";import"./ListItem-B5DnIq4x.js";import"./~utils-KZaJJO_T.js";const ge="_appLayout_9dbi5_5",_e="_header_9dbi5_22",Se="_platformBar_9dbi5_32",Ae="_logo_9dbi5_38",ve="_tools_9dbi5_48",Pe="_leftPanel_9dbi5_58",Ie="_panelHeader_9dbi5_70",Me="_panelTitleWrapper_9dbi5_78",ye="_panelCaption_9dbi5_82",Re="_shiftIconRight_9dbi5_86",Ne="_subheader_9dbi5_90",Be="_subheaderTitle_9dbi5_101",Te="_searchInput_9dbi5_106",ze="_subheaderActions_9dbi5_110",De="_tabList_9dbi5_114",we="_emptyState_9dbi5_119",ke="_canvasWrapper_9dbi5_128",Ee="_canvas_9dbi5_128",Ke="_splitter_9dbi5_165",Le="_tabPanel_9dbi5_207",Xe="_tree_9dbi5_213",Ge="_action_9dbi5_217",Oe="_actionIcon_9dbi5_223",He="_slider_9dbi5_234",i={appLayout:ge,header:_e,platformBar:Se,logo:Ae,tools:ve,leftPanel:Pe,panelHeader:Ie,panelTitleWrapper:Me,panelCaption:ye,shiftIconRight:Re,subheader:Ne,subheaderTitle:Be,searchInput:Te,subheaderActions:ze,tabList:De,emptyState:we,canvasWrapper:ke,canvas:Ee,splitter:Ke,tabPanel:Le,tree:Xe,action:Ge,actionIcon:Oe,slider:He},F="Kiwi sandbox",En=()=>[{title:F}],Kn=ee(function(){const[o,r]=ne(),s=o.get("tree")==="empty"?"epoch-2":"epoch-1",f=t.useCallback(l=>{r(h=>(l==="epoch-2"?h.set("tree","empty"):h.delete("tree"),h))},[r]),c=t.useMemo(()=>({"epoch-1":"Epoch System iModel 1","epoch-2":"Epoch System iModel 2"}),[]),x=t.useId();return e.jsxs(Fe,{panelContent:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:i.panelHeader,children:[e.jsxs("div",{children:[e.jsx(z,{render:l=>e.jsx("label",{...l,htmlFor:x}),children:"Choose Model"}),e.jsx(se,{className:i.panelTitleWrapper,children:e.jsx(le,{id:x,variant:"ghost",defaultValue:s,onChange:l=>f(l.target.value),children:Object.entries(c).map(([l,h])=>e.jsx("option",{value:l,children:h},l))})}),e.jsxs("hgroup",{role:"group",children:[e.jsx(z,{render:l=>e.jsx("h2",{...l}),children:c[s]}),e.jsx("p",{className:i.panelCaption,children:"2024 Refresh"})]})]}),e.jsx("div",{className:i.actions,children:e.jsx(A,{className:i.shiftIconRight,icon:he,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsxs(ae,{children:[e.jsx(Ze,{}),e.jsx(w,{tabId:"simple",className:i.tabPanel,focusable:!1,children:e.jsx(K,{tree:s==="epoch-2"?"empty":"simple"})}),e.jsx(w,{tabId:"complex",className:i.tabPanel,focusable:!1,children:e.jsx(K,{tree:s==="epoch-2"?"empty":"complex"})})]})]}),children:[e.jsxs("header",{className:i.header,children:[e.jsx("div",{className:i.logo,children:e.jsx(P,{href:y,size:"large"})}),e.jsx(H,{render:l=>e.jsx("h1",{...l}),variant:"body-md",children:F})]}),e.jsx("div",{className:i.platformBar,children:e.jsxs("div",{className:i.tools,children:[e.jsx(P,{href:y,size:"large"}),e.jsx(P,{href:y,size:"large"}),e.jsx(P,{href:y,size:"large"})]})}),e.jsx("div",{className:i.canvasWrapper,children:e.jsx("div",{className:i.canvas})})]})});function Fe(a){const{sliderProps:o,panelProps:r,panelMinSize:s,panelMaxSize:f,resizing:c}=$e({minSize:{px:256,pct:20},maxSize:{pct:30}}),x=t.useId();return e.jsxs("div",{className:i.appLayout,style:{"--_panel-min-size":s,"--_panel-max-size":f},children:[e.jsx("div",{...r,className:i.leftPanel,style:{position:"relative",...r.style},children:a.panelContent}),e.jsxs("div",{className:i.splitter,"data-resizing":c?"true":void 0,children:[e.jsx(z,{render:l=>e.jsx("label",{...l,htmlFor:x,children:"Resize layers panel"}),children:"Resize layers panel"}),e.jsx("input",{id:x,type:"range",className:i.slider,...o})]}),a.children]})}function We({children:a}){return e.jsx("div",{className:i.emptyState,children:a})}function Ve(a,o,r){return Math.min(Math.max(a,o),r)}function $e(a){const{minSize:o,maxSize:r,onCollapse:s}=a,f=t.useId(),c=t.useRef(null),[x,l]=t.useState(void 0),[h,d]=t.useState(void 0),[m,b]=t.useState(void 0),[g,R]=t.useState(!1),[I,N]=t.useState(void 0),C=t.useMemo(()=>{if(o&&h)return Math.min(o.px,o.pct/100*h)},[o,h]),S=t.useMemo(()=>{if(C&&r&&h)return Math.max(C,r.pct/100*h)},[r,h,C]),v=t.useMemo(()=>{if(m==="smallest")return C??0;if(m==="largest")return S??0;if(x&&C&&S)return Ve(x,C,S)},[x,C,S,m]);t.useEffect(()=>{const p=c.current;if(!p)return;const j=p.parentElement;if(!j)return;const _=new ResizeObserver(()=>{const B=j.getBoundingClientRect(),T=p.getBoundingClientRect();d(B.width),l(T.width)});return _.observe(j),_.observe(p),()=>{_.disconnect()}},[]);const V=t.useCallback(p=>{const j=c.current;if(!j)return;const _=j.getBoundingClientRect();N(_.width+p),b(void 0),R(!0)},[]),$=t.useCallback(p=>{const j=c.current;if(!j)return;const _=j.parentElement;if(!_)return;const B=_.getBoundingClientRect(),T=p*(B.width*.005),Z=j.getBoundingClientRect();N(Z.width+T),b(void 0)},[]),U=t.useCallback(()=>{c.current&&(N(void 0),R(!1))},[]),{moveableProps:M}=Ue({onMove:V,onMoveEnd:U,onKeyMove:$}),q=t.useMemo(()=>({...M,onKeyDown:p=>{var j;if((j=M.onKeyDown)==null||j.call(M,p),!p.defaultPrevented)switch(p.key){case"Enter":p.preventDefault(),s==null||s();break;case"Home":p.preventDefault(),b("smallest");break;case"End":p.preventDefault(),b("largest");break}},onChange:p=>{if(g)return;const j=Number(p.target.value);N(j)},value:v===void 0?0:Math.floor(v),min:C===void 0?void 0:Math.floor(C),max:S===void 0?void 0:Math.floor(S)}),[M,v,C,S,s,g]),J=t.useMemo(()=>({style:{WebkitUserSelect:I===void 0?void 0:"none"},id:f,ref:c}),[f,I]),Q=C===void 0?void 0:`${Math.floor(C)}px`,Y=t.useMemo(()=>{if(I!==void 0&&r!==void 0&&m===void 0)return`min(${Math.floor(I)}px, ${r.pct}%)`;if(v!==void 0)return`${Math.floor(v)}px`},[r,I,v,m]);return{sliderProps:q,panelProps:J,panelMinSize:Q,panelMaxSize:Y,resizing:g}}function Ue(a){const{onMove:o,onMoveEnd:r,onKeyMove:s}=a,f=t.useRef(null),c=t.useRef(void 0),x=t.useRef(void 0),l=t.useCallback(()=>{x.current!==void 0&&(x.current=void 0,r==null||r())},[r]);return{moveableProps:t.useMemo(()=>({onPointerDown:d=>{if(d.button!==0||d.ctrlKey)return;const m=f.current;if(!m)return;const b=m.getBoundingClientRect(),g=d.clientX-b.left;x.current=g,d.preventDefault(),m.setPointerCapture(d.pointerId)},onPointerMove:d=>{const m=x.current;if(m===void 0)return;const b=f.current;if(!b)return;const g=b.getBoundingClientRect(),R=d.clientX-m-g.left;d.preventDefault(),o==null||o(R)},onPointerUp:l,onPointerCancel:l,onKeyDown:d=>{if(!d.defaultPrevented)switch(d.key){case"ArrowLeft":d.preventDefault(),s==null||s(-1);break;case"ArrowRight":d.preventDefault(),s==null||s(1);break}},ref:d=>{var b;if(f.current=d,(b=c.current)==null||b.call(c),c.current=void 0,!d)return;const m=g=>{g.preventDefault()};d.addEventListener("touchstart",m),c.current=()=>{d.removeEventListener("touchstart",m)}}}),[s,o,l])}}const W=t.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function K({tree:a}){const[o,r]=t.useState(),[s,f]=t.useState([]),c=t.useCallback(l=>{f(h=>h.includes(l)?h.filter(d=>d!==l):[...h,l])},[]),x=t.useMemo(()=>({selected:o,setSelected:r,hidden:s,toggleHidden:c}),[s,o,c]);return a==="empty"?e.jsxs(We,{children:[e.jsx(H,{children:"No layers"}),e.jsx(te,{children:"Create a layer"})]}):e.jsx(W.Provider,{value:x,children:e.jsx(de,{className:i.tree,children:e.jsx(qe,{tree:a})})})}function qe({tree:a}){return a==="complex"?e.jsx(Qe,{}):a==="simple"?e.jsx(Je,{}):null}function Je(){return e.jsxs(e.Fragment,{children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1"})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1"})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access"})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})}function Qe(){return e.jsxs(e.Fragment,{children:[e.jsxs(n,{label:"ITC_Master",children:[e.jsx(n,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(n,{label:"002_Substation_A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(n,{label:"007-aa_master.dgn",children:[e.jsx(n,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(n,{label:"A-CLNG-LITE-A"})}),e.jsx(n,{label:"A-CLNG-TILE",children:e.jsxs(n,{label:"A-DOOR-2D-PLAN",children:[e.jsx(n,{label:"P00003 [2-KA62]",children:e.jsx(n,{label:"Cell [2-KA63]",children:e.jsxs(n,{label:"Cell [2-KA64]",children:[e.jsx(n,{label:"Complex Chain [2-KA6A]"}),e.jsx(n,{label:"Complex Chain [2-KA6B]"}),e.jsx(n,{label:"Complex Chain [2-KA6C]"}),e.jsx(n,{label:"Complex Chain [2-KA6D]"}),e.jsx(n,{label:"Complex Chain [2-KA6E]"}),e.jsx(n,{label:"Complex Chain [2-KA6F]"}),e.jsx(n,{label:"Complex Chain [2-KA6G]"}),e.jsx(n,{label:"Complex Chain [2-KA6H]"}),e.jsx(n,{label:"Complex Chain [2-KA61]"}),e.jsx(n,{label:"Complex Chain [2-KA65]"}),e.jsx(n,{label:"Complex Chain [2-KA66]"}),e.jsx(n,{label:"Complex Chain [2-KA67]"}),e.jsx(n,{label:"Complex Chain [2-KA68]"}),e.jsx(n,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(n,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA98-A]"})}),e.jsx(n,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(n,{label:"ITC_Main"})]})}const L=t.createContext({selected:!1,hidden:!1});function n(a){const o=t.useContext(W),r=t.useContext(L),s=t.useId(),[f,c]=t.useState(a.defaultCollapsed===void 0?!0:!a.defaultCollapsed),x=t.Children.count(a.children)>0,l=t.useMemo(()=>r.hidden?!0:o.hidden.includes(s),[s,o.hidden,r.hidden]),h=r.selected||s===o.selected,d=t.useCallback(m=>{o.setSelected(m?s:void 0)},[s,o]);return e.jsx(L.Provider,{value:t.useMemo(()=>({selected:h,hidden:l}),[l,h]),children:e.jsx(ue,{expanded:x?f:void 0,onExpandedChange:c,selected:h,onSelectedChange:d,icon:e.jsx(P,{href:y,style:{display:"inline"}}),label:a.label,actions:e.jsxs(e.Fragment,{children:[e.jsx(A,{className:i.action,icon:xe,label:"Lock",variant:"ghost","aria-hidden":l}),r.hidden?e.jsx("span",{className:i.actionIcon,children:e.jsx(P,{href:pe})}):e.jsx(A,{className:i.action,icon:l?fe:Ce,label:l?"Show":"Hide",variant:"ghost",onClick:()=>{o.toggleHidden(s)}}),e.jsx(Ye,{hidden:l})]}),children:f?a.children:void 0})})}function Ye({hidden:a}){return e.jsxs(X,{children:[e.jsx(G,{className:i.action,"aria-hidden":a,render:e.jsx(A,{icon:me,label:"More",variant:"ghost"})}),e.jsxs(O,{style:{minInlineSize:164},children:[e.jsx(u,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(u,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(u,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(u,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(u,{shortcuts:"]",children:"Bring to front"}),e.jsx(u,{shortcuts:"[",children:"Send to back"}),e.jsx(u,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(u,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(u,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(u,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(u,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(u,{shortcuts:"I",children:"Isolate object"})]})]})}function Ze(){const[a,o]=t.useState(!1),r=t.useRef(null),s=t.useRef(null),f=a?e.jsxs(e.Fragment,{children:[e.jsx(en,{}),e.jsx(A,{className:i.shiftIconRight,icon:je,label:"Close",variant:"ghost",onClick:()=>{var c;D.flushSync(()=>o(!1)),(c=s.current)==null||c.focus()}})]}):e.jsx(A,{className:i.shiftIconRight,icon:E,label:"Search",variant:"ghost",onClick:()=>{var c;D.flushSync(()=>o(!0)),(c=r.current)==null||c.focus()}});return e.jsxs("div",{className:i.subheader,children:[a?void 0:e.jsxs(re,{className:i.tabList,tone:"accent",ref:s,children:[e.jsx(k,{id:"simple",children:"Simple"}),e.jsx(k,{id:"complex",children:"Complex"})]}),a?e.jsxs(ie,{className:i.searchInput,children:[e.jsx(oe,{href:E}),e.jsx(ce,{placeholder:"Search",ref:r})]}):null,e.jsx("div",{className:i.subheaderActions,children:f})]})}function en(){return e.jsxs(X,{children:[e.jsx(G,{render:e.jsx(A,{icon:be,label:"Filter",variant:"ghost"})}),e.jsxs(O,{style:{minInlineSize:164},children:[e.jsx(u,{children:"Show all"}),e.jsx(u,{children:"Guides"}),e.jsx(u,{children:"Other"}),e.jsx(u,{children:"Roadway"}),e.jsx(u,{children:"Parking"}),e.jsx(u,{children:"Building"}),e.jsx(u,{children:"Dry utility"}),e.jsx(u,{children:"Stormwater"}),e.jsx(u,{children:"Sewer"}),e.jsx(u,{children:"Boundary"}),e.jsx(u,{children:"Map"})]})]})}export{Kn as default,En as meta};
