import{y as U,X as ne,f as O,e as B,g as W,i as $,z as q,p as se,l as N,j as y,C as G,m as ae,S as k,T as _,W as K,d as oe,a0 as ce,c as A}from"./ExamplePreview.BjECbAiB.js";import{u as w,m as ie,o as X,c as re,s as D,f as L,b as le,a as J,d as H}from"./Q5W46E73.p6ZWJH4K.js";import{u as de}from"./~utils.useInit.DypSClI0.js";import{f as V,i as Q}from"./styles.internal.oMsq5KxP.js";import{P as ue,a as me}from"./JMU4N4M5.Bxw-sfFs.js";import{C as Y,a as Z,b as z,d as fe}from"./WZWDIE3S.8hp0xbEp.js";import{r as g}from"./index.CtNveh2g.js";import{b as be,c as ve,a as Ie}from"./IQYAUKXT.eu5VllCf.js";import{u as Se}from"./CVCFNOHX.B5mDnmlJ.js";import{d as xe}from"./GVAFFF2B.Ck9UDIF7.js";import{c as he,i as Ce}from"./WLZ6H5FH.CSmGY0Ro.js";import{u as Te}from"./Z2O3VLAQ.DxpMOY9c.js";import{g as ge,u as Pe}from"./U6HHPQDW.CFvXNGk0.js";var F=U([Z],[Y]),Ee=F.useScopedContext,p=F.useProviderContext,ye=F.ContextProvider,ee=F.ScopedContextProvider,Re="button",Le=B(function({store:e,getItem:t,...s}){var d;const r=Ee();e=e||r,$(e,!1);const m=q(),a=s.id||m,h=se(s),o=g.useCallback(l=>{const E={...l,dimmed:h};return t?t(E):E},[h,t]),S=s.onClick,v=N(l=>{S?.(l),!l.defaultPrevented&&e?.setSelectedId(a)}),i=e.panels.useState(l=>{var E;return(E=l.items.find(c=>c.tabId===a))==null?void 0:E.id}),u=m?s.shouldRegisterItem:!1,f=e.useState(l=>!!a&&l.activeId===a),b=e.useState(l=>!!a&&l.selectedId===a),x=e.useState(l=>!!e.item(l.activeId)),I=f||b&&!x,C=b||((d=s.accessibleWhenDisabled)!=null?d:!0);if(w(e.combobox||e.composite,"virtualFocus")&&(s={...s,tabIndex:-1}),s={id:a,role:"tab","aria-selected":b,"aria-controls":i||void 0,...s,onClick:v},e.composite){const l={id:a,accessibleWhenDisabled:C,store:e.composite,shouldRegisterItem:I&&u,rowId:s.rowId,render:s.render};s={...s,render:y.jsx(z,{...l,render:e.combobox&&e.composite!==e.combobox?y.jsx(z,{...l,store:e.combobox}):l.render})}}return s=fe({store:e,...s,accessibleWhenDisabled:C,getItem:o,shouldRegisterItem:u}),s}),Me=ne(O(function(e){const t=Le(e);return W(Re,t)})),we="div",je=B(function({store:e,...t}){const s=p();e=e||s,$(e,!1);const d=e.useState(r=>r.orientation==="both"?void 0:r.orientation);return t=G(t,r=>y.jsx(ee,{value:e,children:r}),[e]),e.composite&&(t={focusable:!1,...t}),t={role:"tablist","aria-orientation":d,...t},t=be({store:e,...t}),t}),ke=O(function(e){const t=je(e);return W(we,t)}),De="div",Fe=B(function({store:e,unmountOnHide:t,tabId:s,getItem:d,scrollRestoration:r,scrollElement:m,...a}){const h=p();e=e||h,$(e,!1);const o=g.useRef(null),S=q(a.id),v=w(e.panels,()=>{var c;return s||((c=e?.panels.item(S))==null?void 0:c.tabId)}),i=w(e,c=>!!v&&c.selectedId===v),u=he({open:i}),f=w(u,"mounted"),b=g.useRef(new Map),x=N(()=>{const c=o.current;return c?m?typeof m=="function"?m(c):"current"in m?m.current:m:c:null});g.useEffect(()=>{var c,R;if(!r||!f)return;const T=x();if(!T)return;if(r==="reset"){T.scroll(0,0);return}if(!v)return;const M=b.current.get(v);T.scroll((c=M?.x)!=null?c:0,(R=M?.y)!=null?R:0);const j=()=>{b.current.set(v,{x:T.scrollLeft,y:T.scrollTop})};return T.addEventListener("scroll",j),()=>{T.removeEventListener("scroll",j)}},[r,f,v,x,e]);const[I,C]=g.useState(!1);g.useEffect(()=>{const c=o.current;if(!c)return;const R=ge(c);C(!!R.length)},[]);const P=g.useCallback(c=>{const R={...c,id:S||c.id,tabId:s};return d?d(R):R},[S,s,d]),l=a.onKeyDown,E=N(c=>{if(l?.(c),c.defaultPrevented||!e?.composite)return;const T={ArrowLeft:e.previous,ArrowRight:e.next,Home:e.first,End:e.last}[c.key];if(!T)return;const{selectedId:M}=e.getState(),j=T({activeId:M});j&&(c.preventDefault(),e.move(j))});return a=G(a,c=>y.jsx(ee,{value:e,children:c}),[e]),a={id:S,role:"tabpanel","aria-labelledby":v||void 0,...a,children:t&&!f?null:a.children,ref:ae(o,a.ref),onKeyDown:E},a=Pe({focusable:!e.composite&&!I,...a}),a=Ce({store:u,...a}),a=Te({store:e.panels,...a,getItem:P}),a}),Ne=O(function(e){const t=Fe(e);return W(De,t)}),Oe=U([me,Z],[ue,Y]),Be=Oe.useContext;g.createContext(!1);g.createContext(null);function We({composite:n,combobox:e,...t}={}){const s=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],d=ie(t.store,X(n,s),X(e,s)),r=d?.getState(),m=ve({...t,store:d,includesBaseElement:k(t.includesBaseElement,r?.includesBaseElement,!1),orientation:k(t.orientation,r?.orientation,"horizontal"),focusLoop:k(t.focusLoop,r?.focusLoop,!0)}),a=xe(),h={...m.getState(),selectedId:k(t.selectedId,r?.selectedId,t.defaultSelectedId),selectOnMove:k(t.selectOnMove,r?.selectOnMove,!0)},o=re(h,m,d);D(o,()=>L(o,["moves"],()=>{const{activeId:i,selectOnMove:u}=o.getState();if(!u||!i)return;const f=m.item(i);f&&(f.dimmed||f.disabled||o.setState("selectedId",f.id))}));let S=!0;D(o,()=>le(o,["selectedId"],(i,u)=>{if(!S){S=!0;return}n&&i.selectedId===u.selectedId||o.setState("activeId",i.selectedId)})),D(o,()=>L(o,["selectedId","renderedItems"],i=>{if(i.selectedId!==void 0)return;const{activeId:u,renderedItems:f}=o.getState(),b=m.item(u);if(b&&!b.disabled&&!b.dimmed)o.setState("selectedId",b.id);else{const x=f.find(I=>!I.disabled&&!I.dimmed);o.setState("selectedId",x?.id)}})),D(o,()=>L(o,["renderedItems"],i=>{const u=i.renderedItems;if(u.length)return L(a,["renderedItems"],f=>{const b=f.renderedItems;b.some(I=>!I.tabId)&&b.forEach((I,C)=>{if(I.tabId)return;const P=u[C];P&&a.renderItem({...I,tabId:P.id})})})}));let v=null;return D(o,()=>{const i=()=>{v=o.getState().selectedId},u=()=>{S=!1,o.setState("selectedId",v)};if(n&&"setSelectElement"in n)return _(L(n,["value"],i),L(n,["mounted"],u));if(e)return _(L(e,["selectedValue"],i),L(e,["mounted"],u))}),{...m,...o,panels:a,setSelectedId:i=>o.setState("selectedId",i),select:i=>{o.setState("selectedId",i),m.move(i)}}}function $e(n,e,t){K(e,[t.composite,t.combobox]),n=Ie(n,e,t),H(n,t,"selectedId","setSelectedId"),H(n,t,"selectOnMove");const[s,d]=J(()=>n.panels,{});return K(d,[n,d]),Object.assign(g.useMemo(()=>({...n,panels:s}),[n,s]),{composite:t.composite,combobox:t.combobox})}function te(n={}){const e=Se(),t=Be()||e;n={...n,composite:n.composite!==void 0?n.composite:t,combobox:n.combobox!==void 0?n.combobox:e};const[s,d]=J(We,n);return $e(s,d,n)}function Ae(n={}){const e=te(n);return y.jsx(ye,{value:e,children:n.children})}const Ve=Q&&CSS?.supports?.("anchor-name: --foo"),_e=()=>Q&&window.matchMedia("(prefers-reduced-motion)").matches;function tt(n){const e=oe.c(14);de();const{defaultSelectedId:t,selectedId:s,setSelectedId:d,selectOnMove:r,children:m}=n,a=r===void 0?!1:r;let h;e[0]!==t?(h={defaultSelectedId:t},e[0]=t,e[1]=h):h=e[1];const o=te(h),S=w(o,"baseElement"),v=w(o,"selectedId");let i;e[2]!==v||e[3]!==S?(i=I=>{if(!Ve)return;const C=S?.getRootNode();if(!C||!v||!I)return;const P=C.getElementById?.(v)?.getBoundingClientRect(),l=C.getElementById?.(I)?.getBoundingClientRect();if(!P||!l)return;const E=P.left-l.left,c=P.width/l.width;S?.animate([{transform:`translateX(${E}px) scaleX(${c})`},{transform:"none"}],{pseudoElement:"::after",duration:150,easing:"ease-in-out"})},e[2]=v,e[3]=S,e[4]=i):i=e[4];const u=i;let f;e[5]!==u||e[6]!==d?(f=I=>{_e()||u(I),d?.(I)},e[5]=u,e[6]=d,e[7]=f):f=e[7];const b=ce(f);let x;return e[8]!==m||e[9]!==a||e[10]!==s||e[11]!==o||e[12]!==b?(x=y.jsx(Ae,{store:o,selectedId:s,setSelectedId:b,selectOnMove:a,children:m}),e[8]=m,e[9]=a,e[10]=s,e[11]=o,e[12]=b,e[13]=x):x=e[13],x}const nt=V((n,e)=>{const{tone:t="neutral",...s}=n;return y.jsx(ke,{...s,"data-_sk-tone":t,className:A("ğŸ¥TabList",n.className),ref:e})}),st=V((n,e)=>y.jsx(Me,{accessibleWhenDisabled:!0,...n,className:A("ğŸ¥Tab",n.className),ref:e})),at=V((n,e)=>y.jsx(Ne,{...n,className:A("ğŸ¥TabPanel",n.className),ref:e}));export{tt as T,nt as a,st as b,at as c};
