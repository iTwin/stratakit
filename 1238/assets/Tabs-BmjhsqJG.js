import{w as U,x as ne,y as B,z as O,A as $,aa as A,B as G,E as se,G as N,W as Z,I as ae,ac as D,Z as _,as as K,o as W,a as V,c as oe,d as ce,M as ie,l as q}from"./~utils-BjBNFxuB.js";import{a as E,p as y}from"./chunk-JZWAC4HX-ROAaBwzV.js";import{u as L,m as le,o as H,c as re,d as j,s as M,f as de,a as J,b as X}from"./Q5W46E73-heT90VUL.js";import{u as ue}from"./~utils.useInit-B2kviJcB.js";import{C as Q,a as Y,b as z,u as me}from"./WZWDIE3S-BoHbKIWp.js";import{c as fe,d as be}from"./WLZ6H5FH-DjrGKeu5.js";import{u as ve}from"./Z2O3VLAQ-DA1CsP0O.js";import{b as Ie,u as xe}from"./U6HHPQDW-EYcyU9XP.js";import{P as Se,a as he}from"./JMU4N4M5-D6LqQq9F.js";import{a as Ce,c as Te,b as Pe,d as ge}from"./CVCFNOHX-C1-5iKPJ.js";import{c as Ee}from"./GVAFFF2B-BLprAWiU.js";var F=U([Y],[Q]),ye=F.useScopedContext,p=F.useProviderContext,Re=F.ContextProvider,ee=F.ScopedContextProvider,Me="button",we=$(function({store:e,getItem:t,...s}){var r;const l=ye();e=e||l,A(e,!1);const f=G(),a=s.id||f,C=se(s),o=E.useCallback(u=>{const P={...u,dimmed:C};return t?t(P):P},[C,t]),b=s.onClick,v=N(u=>{b?.(u),!u.defaultPrevented&&e?.setSelectedId(a)}),i=e.panels.useState(u=>{var P;return(P=u.items.find(c=>c.tabId===a))==null?void 0:P.id}),m=f?s.shouldRegisterItem:!1,x=e.useState(u=>!!a&&u.activeId===a),I=e.useState(u=>!!a&&u.selectedId===a),h=e.useState(u=>!!e.item(u.activeId)),S=x||I&&!h,d=I||((r=s.accessibleWhenDisabled)!=null?r:!0);if(L(e.combobox||e.composite,"virtualFocus")&&(s={...s,tabIndex:-1}),s={id:a,role:"tab","aria-selected":I,"aria-controls":i||void 0,...s,onClick:v},e.composite){const u={id:a,accessibleWhenDisabled:d,store:e.composite,shouldRegisterItem:S&&m,rowId:s.rowId,render:s.render};s={...s,render:y.jsx(z,{...u,render:e.combobox&&e.composite!==e.combobox?y.jsx(z,{...u,store:e.combobox}):u.render})}}return s=me({store:e,...s,accessibleWhenDisabled:d,getItem:o,shouldRegisterItem:m}),s}),Le=ne(B(function(e){const t=we(e);return O(Me,t)})),ke="div",De=$(function({store:e,...t}){const s=p();e=e||s,A(e,!1);const r=e.useState(l=>l.orientation==="both"?void 0:l.orientation);return t=Z(t,l=>y.jsx(ee,{value:e,children:l}),[e]),e.composite&&(t={focusable:!1,...t}),t={role:"tablist","aria-orientation":r,...t},t=Ce({store:e,...t}),t}),je=B(function(e){const t=De(e);return O(ke,t)}),Fe="div",Ne=$(function({store:e,unmountOnHide:t,tabId:s,getItem:r,scrollRestoration:l,scrollElement:f,...a}){const C=p();e=e||C,A(e,!1);const o=E.useRef(null),b=G(a.id),v=L(e.panels,()=>{var c;return s||((c=e?.panels.item(b))==null?void 0:c.tabId)}),i=L(e,c=>!!v&&c.selectedId===v),m=fe({open:i}),x=L(m,"mounted"),I=E.useRef(new Map),h=N(()=>{const c=o.current;return c?f?typeof f=="function"?f(c):"current"in f?f.current:f:c:null});E.useEffect(()=>{var c,g;if(!l||!x)return;const T=h();if(!T)return;if(l==="reset"){T.scroll(0,0);return}if(!v)return;const w=I.current.get(v);T.scroll((c=w?.x)!=null?c:0,(g=w?.y)!=null?g:0);const k=()=>{I.current.set(v,{x:T.scrollLeft,y:T.scrollTop})};return T.addEventListener("scroll",k),()=>{T.removeEventListener("scroll",k)}},[l,x,v,h,e]);const[S,d]=E.useState(!1);E.useEffect(()=>{const c=o.current;if(!c)return;const g=Ie(c);d(!!g.length)},[]);const R=E.useCallback(c=>{const g={...c,id:b||c.id,tabId:s};return r?r(g):g},[b,s,r]),u=a.onKeyDown,P=N(c=>{if(u?.(c),c.defaultPrevented||!e?.composite)return;const T={ArrowLeft:e.previous,ArrowRight:e.next,Home:e.first,End:e.last}[c.key];if(!T)return;const{selectedId:w}=e.getState(),k=T({activeId:w});k&&(c.preventDefault(),e.move(k))});return a=Z(a,c=>y.jsx(ee,{value:e,children:c}),[e]),a={id:b,role:"tabpanel","aria-labelledby":v||void 0,...a,children:t&&!x?null:a.children,ref:ae(o,a.ref),onKeyDown:P},a=xe({focusable:!e.composite&&!S,...a}),a=be({store:m,...a}),a=ve({store:e.panels,...a,getItem:R}),a}),Be=B(function(e){const t=Ne(e);return O(Fe,t)}),Oe=U([he,Y],[Se,Q]),$e=Oe.useContext;E.createContext(!1);E.createContext(null);function Ae({composite:n,combobox:e,...t}={}){const s=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],r=le(t.store,H(n,s),H(e,s)),l=r?.getState(),f=Te({...t,store:r,includesBaseElement:D(t.includesBaseElement,l?.includesBaseElement,!1),orientation:D(t.orientation,l?.orientation,"horizontal"),focusLoop:D(t.focusLoop,l?.focusLoop,!0)}),a=Ee(),C={...f.getState(),selectedId:D(t.selectedId,l?.selectedId,t.defaultSelectedId),selectOnMove:D(t.selectOnMove,l?.selectOnMove,!0)},o=re(C,f,r);j(o,()=>M(o,["moves"],()=>{const{activeId:i,selectOnMove:m}=o.getState();if(!m||!i)return;const x=f.item(i);x&&(x.dimmed||x.disabled||o.setState("selectedId",x.id))}));let b=!0;j(o,()=>de(o,["selectedId"],(i,m)=>{if(!b){b=!0;return}n&&i.selectedId===m.selectedId||o.setState("activeId",i.selectedId)})),j(o,()=>M(o,["selectedId","renderedItems"],i=>{if(i.selectedId!==void 0)return;const{activeId:m,renderedItems:x}=o.getState(),I=f.item(m);if(I&&!I.disabled&&!I.dimmed)o.setState("selectedId",I.id);else{const h=x.find(S=>!S.disabled&&!S.dimmed);o.setState("selectedId",h?.id)}})),j(o,()=>M(o,["renderedItems"],i=>{const m=i.renderedItems;if(m.length)return M(a,["renderedItems"],x=>{const I=x.renderedItems;I.some(S=>!S.tabId)&&I.forEach((S,d)=>{if(S.tabId)return;const R=m[d];R&&a.renderItem({...S,tabId:R.id})})})}));let v=null;return j(o,()=>{const i=()=>{v=o.getState().selectedId},m=()=>{b=!1,o.setState("selectedId",v)};if(n&&"setSelectElement"in n)return _(M(n,["value"],i),M(n,["mounted"],m));if(e)return _(M(e,["selectedValue"],i),M(e,["mounted"],m))}),{...f,...o,panels:a,setSelectedId:i=>o.setState("selectedId",i),select:i=>{o.setState("selectedId",i),f.move(i)}}}function We(n,e,t){K(e,[t.composite,t.combobox]),n=ge(n,e,t),X(n,t,"selectedId","setSelectedId"),X(n,t,"selectOnMove");const[s,r]=J(()=>n.panels,{});return K(r,[n,r]),Object.assign(E.useMemo(()=>({...n,panels:s}),[n,s]),{composite:t.composite,combobox:t.combobox})}function te(n={}){const e=Pe(),t=$e()||e;n={...n,composite:n.composite!==void 0?n.composite:t,combobox:n.combobox!==void 0?n.combobox:e};const[s,r]=J(Ae,n);return We(s,r,n)}function Ve(n={}){const e=te(n);return y.jsx(Re,{value:e,children:n.children})}const _e=q&&CSS?.supports?.("anchor-name: --foo"),Ke=()=>q&&window.matchMedia("(prefers-reduced-motion)").matches;function et(n){const e=oe.c(11),t=ce.c(14);ue();const{defaultSelectedId:s,selectedId:r,setSelectedId:l,selectOnMove:f,children:a}=n,C=f===void 0?!1:f;let o;if(t[0]!==s){let d;e[0]!==s?(d={defaultSelectedId:s},e[0]=s,e[1]=d):d=e[1],o=d,t[0]=s,t[1]=o}else o=t[1];const b=te(o),v=L(b,"baseElement"),i=L(b,"selectedId");let m;if(t[2]!==i||t[3]!==v){let d;e[2]!==i||e[3]!==v?(d=R=>{if(!_e)return;const u=v?.getRootNode();if(!u||!i||!R)return;const P=u.getElementById?.(i)?.getBoundingClientRect(),c=u.getElementById?.(R)?.getBoundingClientRect();if(!P||!c)return;const g=P.left-c.left,T=P.width/c.width;v?.animate([{transform:`translateX(${g}px) scaleX(${T})`},{transform:"none"}],{pseudoElement:"::after",duration:150,easing:"ease-in-out"})},e[2]=i,e[3]=v,e[4]=d):d=e[4],m=d,t[2]=i,t[3]=v,t[4]=m}else m=t[4];const x=m;let I;t[5]!==x||t[6]!==l?(I=d=>{Ke()||x(d),l?.(d)},t[5]=x,t[6]=l,t[7]=I):I=t[7];const h=ie(I);let S;if(t[8]!==a||t[9]!==C||t[10]!==r||t[11]!==b||t[12]!==h){let d;e[5]!==a||e[6]!==C||e[7]!==r||e[8]!==b||e[9]!==h?(d=y.jsx(Ve,{store:b,selectedId:r,setSelectedId:h,selectOnMove:C,children:a}),e[5]=a,e[6]=C,e[7]=r,e[8]=b,e[9]=h,e[10]=d):d=e[10],S=d,t[8]=a,t[9]=C,t[10]=r,t[11]=b,t[12]=h,t[13]=S}else S=t[13];return S}const tt=W((n,e)=>{const{tone:t="neutral",...s}=n;return y.jsx(je,{...s,"data-_sk-tone":t,className:V("ğŸ¥TabList",n.className),ref:e})}),nt=W((n,e)=>y.jsx(Le,{accessibleWhenDisabled:!0,...n,className:V("ğŸ¥Tab",n.className),ref:e})),st=W((n,e)=>y.jsx(Be,{...n,className:V("ğŸ¥TabPanel",n.className),ref:e}));export{st as T,nt as a,et as b,tt as c};
