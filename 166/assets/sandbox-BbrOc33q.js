import{w as U}from"./with-props-XFbs5UV3.js";import{l as e,r}from"./chunk-7R3XDUXW-DxTo8O6G.js";import{r as D}from"./index-CpodmKhz.js";import{D as X,a as H,b as q,c as x}from"./DropdownMenu-vXG9Zirc.js";import{D as J}from"./Divider-BrMdR3aZ.js";import{I as P}from"./Icon-Cp_r7ubW.js";import{I as w}from"./IconButton-C-x87ETF.js";import{T as Q,a as Y,b as Z}from"./TextBox-D607fTC4.js";import{T as ee,a as ne}from"./Tree-CzG8__N9.js";import{V as E}from"./VisuallyHidden-DpR5ZIYl.js";import{L as te}from"./ListItem-CKDRkIVj.js";import{p as I}from"./placeholder-Dsswv5ED.js";import{p as re,c as se,s as L,d as oe,f as ie}from"./chevron-down-BZno-KQr.js";import{F as ae}from"./LVA2YJMS-DJV8VtX8.js";import{R as ce}from"./XL7CSKGW-dh1dRh0h.js";import"./index-6yh6O1FZ.js";import"./ListItem-C_xdWPsu.js";import"./Button-Dr43B4ix.js";import"./KUU7WJ55-55_Apuy6.js";import"./LMDWO4NN-DZi_YyQu.js";import"./P2CTZE2T-D3bU2ZSB.js";import"./YV4JVR4I-IQnN8q1u.js";import"./BYC7LY2E-BkUN-JnQ.js";import"./VGCJ63VH-DCGxV_XM.js";import"./XX67R432-CnBfjeG9.js";import"./MTZPJQMC-BlK_aww9.js";import"./ITI7HKP4-DXjMEB6-.js";import"./P4IRICAX-Chgnv0ug.js";import"./Tooltip-BaW8HJOX.js";import"./~hooks-CW6k0nNz.js";import"./Field-xeE_zSqj.js";const le="_appLayout_1aein_5",de="_platformBar_1aein_14",ue="_logo_1aein_19",pe="_tools_1aein_29",he="_leftPanel_1aein_39",me="_header_1aein_49",xe="_panelTitle_1aein_57",fe="_panelCaption_1aein_63",je="_shiftIconRight_1aein_67",ve="_subheader_1aein_71",be="_subheaderTitle_1aein_81",ge="_searchInput_1aein_86",_e="_subheaderActions_1aein_90",Se="_tree_1aein_94",ye="_canvasWrapper_1aein_102",Re="_canvas_1aein_102",Pe="_splitter_1aein_124",i={appLayout:le,platformBar:de,logo:ue,tools:pe,leftPanel:he,header:me,panelTitle:xe,panelCaption:fe,shiftIconRight:je,subheader:ve,subheaderTitle:be,searchInput:ge,subheaderActions:_e,tree:Se,canvasWrapper:ye,canvas:Re,splitter:Pe},A="Kiwi sandbox",dn=()=>[{title:A},{name:"color-scheme",content:"dark"}],F="left-panel",un=U(function(){const{splitterProps:o,panelProps:s,panelMinSize:l,panelMaxSize:d}=Ie({minSize:{px:256,pct:20},maxSize:{pct:30},labelledby:F});return e.jsxs(e.Fragment,{children:[e.jsx(E,{render:a=>e.jsx("h1",{...a}),children:A}),e.jsxs("div",{className:i.appLayout,style:{"--_panel-min-size":l,"--_panel-max-size":d},children:[e.jsxs("div",{className:i.platformBar,children:[e.jsx("div",{className:i.logo,children:e.jsx(P,{href:I,size:"large"})}),e.jsxs("div",{className:i.tools,children:[e.jsx(P,{href:I,size:"large"}),e.jsx(P,{href:I,size:"large"}),e.jsx(P,{href:I,size:"large"})]})]}),e.jsxs("div",{...s,className:i.leftPanel,style:{position:"relative",...s.style},children:[e.jsxs("div",{className:i.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:i.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:i.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:i.actions,children:e.jsx(w,{className:i.shiftIconRight,icon:re,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Ce,{}),e.jsx(ze,{}),e.jsx(J,{className:i.splitter,render:e.jsx(ae,{}),...o})]}),e.jsx("div",{className:i.canvasWrapper,children:e.jsx("div",{className:i.canvas})})]})]})});function M(c,o,s){return Math.min(Math.max(c,o),s)}function Ie(c){const{minSize:o,maxSize:s,labelledby:l,onCollapse:d}=c??{},a=r.useId(),f=r.useRef(null),[g,N]=r.useState(void 0),[t,h]=r.useState(void 0),[m,j]=r.useState(void 0),[v,T]=r.useState(void 0),z=r.useMemo(()=>{if(o&&t)return Math.min(o.px,o.pct/100*t)},[o,t]),_=r.useMemo(()=>{if(z!==void 0&&t)return M(z/t*100,0,100)},[z,t]),S=r.useMemo(()=>{if(s&&t)return M(s.pct,0,100)},[s,t]),y=r.useMemo(()=>{if(m==="smallest")return _??0;if(m==="largest")return S??0;if(g&&t)return M(g/t*100,_??0,S??0)},[g,t,_,S,m]);r.useEffect(()=>{const u=f.current;if(!u)return;const p=u.parentElement;if(!p)return;const b=new ResizeObserver(()=>{const C=p.getBoundingClientRect(),k=u.getBoundingClientRect();h(C.width),N(k.width)});return b.observe(p),b.observe(u),()=>{b.disconnect()}},[]);const B=r.useCallback(u=>{const p=f.current;if(!p)return;const b=p.getBoundingClientRect();T(b.width+u),j(void 0)},[]),G=r.useCallback(u=>{const p=f.current;if(!p)return;const b=p.parentElement;if(!b)return;const C=b.getBoundingClientRect(),k=u*(C.width*.005);B(k)},[B]),O=r.useCallback(()=>{f.current&&T(void 0)},[]),{moveableProps:R}=we({onMove:B,onMoveEnd:O,onKeyMove:G}),W=r.useMemo(()=>({...R,onKeyDown:u=>{var p;switch((p=R.onKeyDown)==null||p.call(R,u),u.key){case"Enter":d==null||d();break;case"Home":j("smallest");break;case"End":j("largest");break}},"aria-orientation":"vertical","aria-valuenow":y,"aria-valuemin":_,"aria-valuemax":S,"aria-controls":a,"aria-labelledby":l,"aria-label":l===void 0?"Resize panel":void 0,"data-resizing":v===void 0?void 0:"true"}),[R,y,_,S,a,l,d,v]),$=r.useMemo(()=>({style:{WebkitUserSelect:v===void 0?void 0:"none"},id:a,ref:f}),[a,v]),K=o===void 0?void 0:`${z}px`,V=r.useMemo(()=>v!==void 0&&s!==void 0?`min(${v}px, ${s.pct}%)`:y===void 0?void 0:`${y}%`,[s,v,y]);return{splitterProps:W,panelProps:$,panelMinSize:K,panelMaxSize:V}}function we(c){const{onMove:o,onMoveEnd:s,onKeyMove:l}=c??{},d=r.useRef(null),a=r.useRef(void 0),f=r.useRef(void 0),g=r.useCallback(()=>{f.current!==void 0&&(f.current=void 0,s==null||s())},[s]);return{moveableProps:r.useMemo(()=>({onPointerDown:t=>{if(t.button!==0||t.ctrlKey)return;const h=d.current;if(!h)return;const m=h.getBoundingClientRect(),j=t.clientX-m.left;f.current=j,h.setPointerCapture(t.pointerId)},onPointerMove:t=>{const h=f.current;if(h===void 0)return;const m=d.current;if(!m)return;const j=m.getBoundingClientRect(),v=t.clientX-h-j.left;o==null||o(v)},onPointerUp:g,onPointerCancel:g,onKeyDown:t=>{switch(t.key){case"ArrowLeft":l==null||l(-1);break;case"ArrowRight":l==null||l(1);break}},onKeyUp:t=>{switch(t.key){case"ArrowLeft":case"ArrowRight":s==null||s();break}},ref:t=>{var m;if(d.current=t,(m=a.current)==null||m.call(a),a.current=void 0,!t)return;const h=j=>{j.preventDefault()};t.addEventListener("touchstart",h),a.current=()=>{t.removeEventListener("touchstart",h)}}}),[l,s,o,g])}}function ze(){return e.jsxs(ee,{className:i.tree,children:[e.jsx(n,{content:"Guides",children:e.jsxs(n,{content:"Tree",children:[e.jsx(n,{content:"Guide 4"}),e.jsx(n,{content:"Guide 3"}),e.jsx(n,{content:"Guide 2"}),e.jsx(n,{content:"Guide 1"})]})}),e.jsxs(n,{content:"Other",children:[e.jsx(n,{content:"Object 2",children:e.jsx(n,{content:"Path 3"})}),e.jsx(n,{content:"Object 1"})]}),e.jsxs(n,{content:"Road",children:[e.jsx(n,{content:"Parking lot access"}),e.jsx(n,{content:"Site access"})]}),e.jsx(n,{content:"Parking lot",children:e.jsxs(n,{content:"Parking area",children:[e.jsx(n,{content:"Bay point 2"}),e.jsx(n,{content:"Bay point 1"}),e.jsx(n,{content:"Space point 1"}),e.jsx(n,{content:"Path 6"})]})}),e.jsx(n,{content:"Building",children:e.jsx(n,{content:"Building area",children:e.jsx(n,{content:"Path 5"})})}),e.jsx(n,{content:"Sewer",children:e.jsx(n,{content:"Run off pipe",children:e.jsx(n,{content:"Path 4"})})}),e.jsx(n,{content:"Project boundary",children:e.jsx(n,{content:"Property area",children:e.jsx(n,{content:"Path 1"})})}),e.jsx(n,{content:"Map",children:e.jsx(n,{content:"Location",children:e.jsx(n,{content:"Terrain"})})})]})}function Be(c){return e.jsx(w,{...c,style:{marginBlock:-6,...c.style},variant:"ghost"})}function n(c){const o=r.Children.count(c.children)>0;return e.jsx(ne,{content:e.jsxs(e.Fragment,{children:[o?e.jsx(Be,{icon:se,label:"Collapse",variant:"ghost"}):e.jsx("span",{style:{inlineSize:"1.5rem"}}),e.jsx(P,{href:I,style:{display:"inline"}}),e.jsx(te,{children:c.content})]}),expanded:o||void 0,children:c.children})}function Ce(){const[c,o]=r.useState(!1),s=r.useRef(null),l=r.useRef(null),d=c?e.jsxs(e.Fragment,{children:[e.jsx(ke,{}),e.jsx(w,{className:i.shiftIconRight,icon:oe,label:"Close",variant:"ghost",onClick:()=>{var a;D.flushSync(()=>o(!1)),(a=l.current)==null||a.focus()}})]}):e.jsx(w,{className:i.shiftIconRight,icon:L,label:"Search",variant:"ghost",onClick:()=>{var a;D.flushSync(()=>o(!0)),(a=s.current)==null||a.focus()}});return e.jsxs("div",{className:i.subheader,children:[e.jsx(ce.h3,{id:F,className:i.subheaderTitle,tabIndex:-1,ref:l,render:c?e.jsx(E,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),c?e.jsxs(Q,{className:i.searchInput,children:[e.jsx(Y,{href:L}),e.jsx(Z,{placeholder:"Search",ref:s})]}):null,e.jsx("div",{className:i.subheaderActions,children:d})]})}function ke(){return e.jsxs(X,{children:[e.jsx(H,{render:e.jsx(w,{icon:ie,label:"Filter",variant:"ghost"})}),e.jsxs(q,{style:{minInlineSize:164},children:[e.jsx(x,{children:"Show all"}),e.jsx(x,{children:"Guides"}),e.jsx(x,{children:"Other"}),e.jsx(x,{children:"Roadway"}),e.jsx(x,{children:"Parking"}),e.jsx(x,{children:"Building"}),e.jsx(x,{children:"Dry utility"}),e.jsx(x,{children:"Stormwater"}),e.jsx(x,{children:"Sewer"}),e.jsx(x,{children:"Boundary"}),e.jsx(x,{children:"Map"})]})]})}export{un as default,dn as meta};
