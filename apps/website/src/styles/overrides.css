/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
:root {
	--sl-color-accent: var(--stratakit-color-text-accent-base);
	--sl-color-accent-high: var(--stratakit-color-text-accent-strong);
	--sl-color-accent-low: var(--stratakit-color-bg-page-base); /* must contrast with text-accent */
	--sl-color-text-accent: var(--stratakit-color-text-neutral-primary);

	--sl-color-white: var(--stratakit-color-text-neutral-primary);
	--sl-color-gray-1: var(--stratakit-color-text-neutral-primary);
	--sl-color-gray-2: var(--stratakit-color-text-neutral-secondary);
	--sl-color-gray-3: var(--stratakit-color-text-neutral-tertiary);
	--sl-color-gray-4: var(--stratakit-color-border-neutral-base);
	--sl-color-gray-5: var(--stratakit-color-border-neutral-base);
	--sl-color-gray-6: var(--stratakit-color-bg-page-depth);
	--sl-color-black: var(--stratakit-color-bg-page-depth);

	--sl-color-hairline: var(--stratakit-color-border-neutral-muted);
	--sl-color-hairline-shade: var(--stratakit-color-border-neutral-muted);

	--sl-shadow-sm: var(--stratakit-shadow-surface-xs);
	--sl-shadow-md: var(--stratakit-shadow-surface-sm);
	--sl-shadow-lg: var(--stratakit-shadow-surface-md);

	--sl-main-pad: var(--stratakit-space-x4);

	--sl-font: "InterVariable", system-ui, sans-serif;
}

#starlight__sidebar {
	border-right: 1px solid var(--stratakit-color-border-neutral-muted);
	scrollbar-gutter: stable;
}

#starlight__sidebar sl-sidebar-state-persist a {
	text-box: cap alphabetic;
	padding: 8px;
}

.sl-markdown-content {
	color: var(--stratakit-color-text-neutral-secondary);
}

.sl-markdown-content code:not(:where(.not-content *)) {
	background-color: var(--stratakit-color-bg-neutral-base);
	border: 1px solid var(--stratakit-color-border-neutral-muted);
	border-radius: 4px;
}

.right-sidebar-panel {
	margin-block-start: var(--sl-main-pad);
}

starlight-toc ul {
	position: relative;

	&::before {
		content: "";
		position: absolute;
		left: 0;
		height: 100%;
		border: 0.5px solid var(--stratakit-color-border-neutral-muted);
	}
}

starlight-toc :any-link {
	--pad-inline: var(--stratakit-space-x3);

	&[aria-current="true"] {
		font-weight: 500;
		color: var(--stratakit-color-text-neutral-primary);
		position: relative;

		&::before {
			content: "";
			position: absolute;
			left: 0;
			height: 1lh;
			border: 1px solid;
		}
	}
}

header > .header {
	gap: var(--stratakit-space-x2);

	html[data-has-hero] & {
		display: flex;

		> * {
			flex: 1;
		}
	}
}

.site-title {
	gap: var(--stratakit-space-x2);
	line-height: 1;
}

site-search button[data-open-modal] {
	@media (min-width: 50rem) {
		background-color: var(--stratakit-color-bg-page-base);
	}

	&:hover {
		border-color: color-mix(
			in oklch,
			var(--stratakit-color-border-neutral-base) 100%,
			var(--stratakit-color-glow-hue) var(--stratakit-color-border-glow-base-hover-\%)
		);
	}

	html[data-has-hero] & {
		margin-inline-start: auto;

		@media (min-width: 50rem) {
			margin-inline: auto;
		}
	}
}

site-search dialog {
	inset: 0;
}

site-search kbd:not(kbd kbd) {
	background-color: var(--stratakit-color-bg-neutral-base);
	border: 1px solid var(--stratakit-color-border-neutral-muted);
}

.right-group {
	gap: var(--stratakit-space-x2);
}

aside .right-sidebar {
	border: none;
}

.sl-markdown-content td:first-of-type {
	min-inline-size: min(60cqi, 20ch);

	@container (max-inline-size: 600px) {
		overflow-wrap: anywhere;
		hyphens: auto;
	}
}

.sl-markdown-content :is(ul, ol):where(:not(.not-content)) {
	margin-inline-start: var(--stratakit-space-x4);

	ul,
	ol {
		margin-block-start: var(--stratakit-space-x1);
		margin-inline-start: var(--stratakit-space-x4);
	}

	li {
		line-height: 1.5;
		text-indent: calc(-1 * var(--stratakit-space-x05));
	}
}

aside.starlight-aside {
	margin-block: var(--stratakit-space-x6);
	background-color: var(--stratakit-color-bg-elevation-base);
	border: 1px solid var(--_aside-border, var(--stratakit-color-border-neutral-base));
	border-radius: 8px;

	.starlight-aside__title {
		font-size: var(--stratakit-font-size-16);
		font-weight: 500;
		color: unset;
	}

	.starlight-aside__icon {
		color: var(--_aside-icon);
	}

	&.starlight-aside--caution {
		--_aside-border: var(--stratakit-color-border-attention-base);
		--_aside-icon: var(--stratakit-color-icon-attention-base);
	}

	&.starlight-aside--danger {
		--_aside-border: var(--stratakit-color-border-critical-base);
		--_aside-icon: var(--stratakit-color-icon-critical-base);
	}
}

.expressive-code figure {
	box-shadow: none;
}

.expressive-code pre {
	border-color: var(--stratakit-color-border-neutral-base);
	background-color: transparent;
	border-radius: 4px;
}

starlight-menu-button button {
	justify-content: center;
	align-items: center;
}
