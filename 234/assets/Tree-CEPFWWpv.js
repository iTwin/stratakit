import{a as v,n}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as h}from"./index-DeGJKKUv.js";import{f as p,s as E,L as q,a as G}from"./ListItem-BO7Ree_f.js";import{a as J}from"./Button-BhFrsEvL.js";import{a as Q}from"./VisuallyHidden--wMbwkoK.js";import{R as k}from"./XL7CSKGW-ljzOK7sQ.js";import{u as X,T as Y,a as ee,b as te}from"./Tooltip-Bz3i3WYK.js";import{m as oe,p as ae,s as y,a as j,e as re,c as se,u as $,b as L,d as H}from"./YV4JVR4I-B6YhGKv6.js";import{u as ne,T as ie,a as le,b as ce}from"./IconButton-BTvBnhP6.js";import{C as ue,a as de,c as me}from"./P2CTZE2T-7dxqU1Px.js";import{z as fe,A as ve,C as f,B as I,D as T,S as xe,T as pe,R as be,g as he,b as R,F as Se,c as ge,d as Ve,_ as Ce,y as Te,e as ye}from"./~utils-QeuuISRZ.js";import{c as D,d as je,u as W,a as Ne,C as Pe}from"./ITI7HKP4-9pOuItup.js";import{f as Ie,g as we}from"./BYC7LY2E-D0CFC92x.js";v.createContext(null);v.createContext(null);var ke=fe([de],[ue]),_e=ke.useContext,Le=xe()&&pe();function Ae(e={}){var o=e,{tag:t}=o,a=ve(o,["tag"]);const l=oe(a.store,ae(t,["value","rtl"])),u=t==null?void 0:t.getState(),s=l==null?void 0:l.getState(),S=f(a.activeId,s==null?void 0:s.activeId,a.defaultActiveId,null),c=D(I(T({},a),{activeId:S,includesBaseElement:f(a.includesBaseElement,s==null?void 0:s.includesBaseElement,!0),orientation:f(a.orientation,s==null?void 0:s.orientation,"vertical"),focusLoop:f(a.focusLoop,s==null?void 0:s.focusLoop,!0),focusWrap:f(a.focusWrap,s==null?void 0:s.focusWrap,!0),virtualFocus:f(a.virtualFocus,s==null?void 0:s.virtualFocus,!0)})),V=Ie(I(T({},a),{placement:f(a.placement,s==null?void 0:s.placement,"bottom-start")})),b=f(a.value,s==null?void 0:s.value,a.defaultValue,""),x=f(a.selectedValue,s==null?void 0:s.selectedValue,u==null?void 0:u.values,a.defaultSelectedValue,""),d=Array.isArray(x),g=I(T(T({},c.getState()),V.getState()),{value:b,selectedValue:x,resetValueOnSelect:f(a.resetValueOnSelect,s==null?void 0:s.resetValueOnSelect,d),resetValueOnHide:f(a.resetValueOnHide,s==null?void 0:s.resetValueOnHide,d&&!t),activeValue:s==null?void 0:s.activeValue}),r=se(g,c,V,l);return Le&&y(r,()=>j(r,["virtualFocus"],()=>{r.setState("virtualFocus",!1)})),y(r,()=>{if(t)return be(j(r,["selectedValue"],i=>{Array.isArray(i.selectedValue)&&t.setValues(i.selectedValue)}),j(t,["values"],i=>{r.setState("selectedValue",i.values)}))}),y(r,()=>j(r,["resetValueOnHide","mounted"],i=>{i.resetValueOnHide&&(i.mounted||r.setState("value",b))})),y(r,()=>j(r,["open"],i=>{i.open||(r.setState("activeId",S),r.setState("moves",0))})),y(r,()=>j(r,["moves","activeId"],(i,m)=>{i.moves===m.moves&&r.setState("activeValue",void 0)})),y(r,()=>re(r,["moves","renderedItems"],(i,m)=>{if(i.moves===m.moves)return;const{activeId:O}=r.getState(),_=c.item(O);r.setState("activeValue",_==null?void 0:_.value)})),I(T(T(T({},V),c),r),{tag:t,setValue:i=>r.setState("value",i),resetValue:()=>r.setState("value",g.value),setSelectedValue:i=>r.setState("selectedValue",i)})}function Oe(e){const o=_e();return e=he(R({},e),{tag:e.tag!==void 0?e.tag:o}),je(e)}function Re(e,o,t){return Se(o,[t.tag]),L(e,t,"value","setValue"),L(e,t,"selectedValue","setSelectedValue"),L(e,t,"resetValueOnHide"),L(e,t,"resetValueOnSelect"),Object.assign(W(we(e,o,t),o,t),{tag:t.tag})}function Be(e={}){e=Oe(e);const[o,t]=$(Ae,e);return Re(o,t,e)}function Ee(e={}){var o;const t=(o=e.store)==null?void 0:o.getState();return D(I(T({},e),{orientation:f(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:f(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function He(e,o,t){return W(e,o,t)}function Fe(e={}){const[o,t]=$(Ee,e);return He(o,t,e)}var $e="div",De=ge(function(o){var t=o,{store:a,orientation:l,virtualFocus:u,focusLoop:s,rtl:S}=t,c=Ce(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const V=ne();a=a||V;const b=Fe({store:a,orientation:l,virtualFocus:u,focusLoop:s,rtl:S}),x=b.useState(d=>d.orientation==="both"?void 0:d.orientation);return c=Te(c,d=>n.jsx(ie,{value:b,children:d}),[b]),c=R({role:"toolbar","aria-orientation":x},c),c=Ne(R({store:b},c)),c}),We=Ve(function(o){const t=De(o);return ye($e,t)});const z=p((e,o)=>{const{variant:t="solid",tone:a="neutral",...l}=e;return n.jsx(J,{accessibleWhenDisabled:!0,"data-kiwi-variant":t,"data-kiwi-tone":a,...l,className:h("-button",e.className),ref:o})});z.displayName="Button";const M=p((e,o)=>n.jsx(Q,{...e,ref:o}));M.displayName="VisuallyHidden";const A=p((e,o)=>{const{href:t,size:a="regular",...l}=e,u=ze(a);return n.jsx(k.svg,{"data-kiwi-size":a,"aria-hidden":!0,...l,className:h("-icon",e.className),ref:o,children:n.jsx("use",{href:`${e.href}#${u}`})})});A.displayName="Icon";function ze(e){return e==="large"?"icon-large":"icon"}const Me=p((e,o)=>{const{direction:t="down",...a}=e,l=v.useMemo(()=>{switch(t){case"down":return n.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return n.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[t]);return n.jsx(A,{...a,render:n.jsx(k.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:l}),className:h("-disclosure-arrow",e.className),ref:o})});Me.displayName="DisclosureArrow";const Z=p((e,o)=>{const{content:t,children:a,className:l,type:u="description",id:s=v.useId(),defaultOpen:S,open:c,setOpen:V,unmountOnHide:b=u==="none",...x}=e,d=X(),g=H(d,i=>i.open),r=H(d,i=>i.popoverElement);return v.useEffect(function(){var m;r!=null&&r.isConnected&&((m=r==null?void 0:r.togglePopover)==null||m.call(r,g))},[g,r]),n.jsx(n.Fragment,{children:n.jsxs(Y,{store:d,defaultOpen:S,open:c,setOpen:V,children:[n.jsx(ee,{render:a,...u==="description"&&{"aria-describedby":s},...u==="label"&&{"aria-labelledby":s}}),n.jsx(te,{"aria-hidden":"true",...x,unmountOnHide:b,className:h("-tooltip",l),ref:o,id:s,style:{zIndex:E?void 0:9999,...e.style},wrapperProps:{popover:"manual"},portal:!E,children:t})]})})});Z.displayName="Tooltip";const K=p((e,o)=>{const{label:t,icon:a,isActive:l,labelVariant:u,...s}=e,S=le(),c=n.jsxs(z,{"aria-pressed":l,...s,render:S?n.jsx(ce,{render:e.render}):e.render,className:h("-icon-button",e.className),ref:o,children:[n.jsx(M,{children:t}),typeof a=="string"?n.jsx(A,{href:a}):a]});return u==="visually-hidden"?c:n.jsx(Z,{content:t,type:"none",children:c})});K.displayName="IconButton";function w(e){const o=v.useRef(e);return v.useEffect(()=>{o.current=e},[e]),o}const Ze=p((e,o)=>{const t=Be({orientation:"vertical",virtualFocus:!1,focusLoop:!1});return n.jsx(k.div,{role:"tree",...e,render:n.jsx(Pe,{store:t}),className:h("-tree",e.className),ref:o,children:e.children})});Ze.displayName="Tree.Root";const Ke=p((e,o)=>{const{selected:t,content:a,children:l,expanded:u,onSelectedChange:s,onExpandedChange:S,onClick:c,onKeyDown:V,...b}=e,x=v.useContext(F),d=x?x.level+1:1,g=w(c),r=w(V),i=w(s),m=w(S),O=v.useCallback(C=>{var N,P;(N=g.current)==null||N.call(g,C),!C.defaultPrevented&&(C.stopPropagation(),(P=i.current)==null||P.call(i,!t))},[g,i,t]),_=v.useCallback(C=>{var N,P,B;(N=r.current)==null||N.call(r,C),!C.defaultPrevented&&(C.stopPropagation(),C.key==="ArrowRight"&&((P=m.current)==null||P.call(m,!0)),C.key==="ArrowLeft"&&((B=m.current)==null||B.call(m,!1)))},[r,m]);return n.jsx(F.Provider,{value:v.useMemo(()=>({level:d,expanded:u,selected:t}),[d,u,t]),children:n.jsxs(me,{render:n.jsx(k,{...b}),onClick:O,onKeyDown:_,role:"treeitem","aria-expanded":u,"aria-selected":t,className:h("-tree-item",e.className),ref:o,children:[n.jsx(q,{"data-kiwi-expanded":u,"data-kiwi-selected":t,"data-kiwi-parent-selected":x==null?void 0:x.selected,className:"-tree-item-node",style:{"--tree-item-level":d},role:void 0,children:a}),l&&n.jsx("div",{role:"group",children:l})]})})});Ke.displayName="Tree.Item";const Ue=p((e,o)=>{const{children:t,...a}=e;return n.jsx(G,{...a,className:h("-tree-item-content",e.className),ref:o,children:t})});Ue.displayName="Tree.Content";const qe=p((e,o)=>n.jsx(We,{...e,className:h("-tree-item-actions",e.className),ref:o,children:e.children}));qe.displayName="Tree.Actions";const Ge=p((e,o)=>{const t=w(e.onClick);return n.jsx(K,{tabIndex:-1,"aria-hidden":"true",icon:n.jsx(U,{}),label:"Toggle",...e,onClick:v.useCallback(a=>{var l;(l=t.current)==null||l.call(t,a),!a.defaultPrevented&&a.stopPropagation()},[t]),className:h("-tree-item-expander",e.className),variant:"ghost",labelVariant:"visually-hidden",ref:o})});Ge.displayName="Tree.Expander";const U=p((e,o)=>n.jsx(A,{...e,render:n.jsx(k.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:n.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:h("-tree-chevron",e.className),ref:o}));U.displayName="TreeChevron";const F=v.createContext(void 0);export{Ze as T,Ke as a,Ge as b,Ue as c,qe as d};
