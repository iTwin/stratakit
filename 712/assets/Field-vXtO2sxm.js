import{a as r,o as a}from"./chunk-DQRVZFIR-DEPAh8lq.js";import{u as k,a as C,C as p}from"./RZ4GPYOB-B5b-l-Oi.js";import{k as x,f as m,c as I,R as b}from"./sun-27BZRV3Y.js";import{T as D}from"./~utils-C-_Xa5uy.js";import{C as R}from"./collection-CT1EpUgf.js";import{L as M}from"./Label-B23hJLom.js";function w(t){const e=k({defaultItems:[]}),o=x(e,"renderedItems"),[n,l]=r.useMemo(()=>{var d;const s=o.findIndex(c=>c.elementType==="control");return[(d=o[s])==null?void 0:d.controlType,s]},[o]),i=r.useMemo(()=>{const s=o.findIndex(d=>d.elementType==="label");if(!(l===-1||s===-1))return s<l?"before":"after"},[o,l]);return a.jsx(R,{...t,store:e,"data-kiwi-label-placement":i,"data-kiwi-control-type":n})}const T=r.createContext(void 0);function B(t){const e=r.useContext(T);r.useEffect(()=>{e==null||e(t)},[t,e])}const j=m((t,e)=>{const{tone:o,...n}=t;return a.jsx(D,{...n,variant:"caption-lg","data-kiwi-tone":o??"neutral",className:I("ðŸ¥-description",t.className),ref:e})}),q=m((t,e)=>{const{layout:o,...n}=t;return a.jsx(w,{render:a.jsx(b.div,{...n,className:I("ðŸ¥-field",t.className),"data-kiwi-layout":o,ref:e})})}),z=m((t,e)=>{const o=C(),n=x(o,"renderedItems"),l=r.useMemo(()=>{var s;return(s=n==null?void 0:n.find(d=>d.elementType==="control"))==null?void 0:s.id},[n]),i=r.useCallback(s=>({...s,elementType:"label"}),[]);return a.jsx(p,{getItem:i,render:a.jsx(M,{...t,htmlFor:l}),ref:e})}),A=m((t,e)=>{const o=r.useId(),{id:n=o,...l}=t,i=r.useCallback(s=>({...s,elementType:"description"}),[]);return a.jsx(p,{getItem:i,id:n,render:a.jsx(j,{...l}),ref:e})}),G=m((t,e)=>{const[o,n]=r.useState(),l=C(),i=r.useId(),{id:s=l?i:void 0,...d}=t,c=x(l,"renderedItems"),g=r.useMemo(()=>{var y;return((y=c==null?void 0:c.filter(f=>f.elementType==="description"||f.elementType==="error"))==null?void 0:y.map(f=>f.id).join(" "))||void 0},[c]),F=r.useCallback(u=>({...u,elementType:"control",controlType:o}),[o]),v=r.useMemo(()=>c==null?void 0:c.some(u=>u.elementType==="error"),[c]);return a.jsx(T.Provider,{value:n,children:a.jsx(p,{id:s,getItem:F,render:a.jsx(b,{...d,"aria-invalid":v?"true":void 0,"aria-describedby":g}),ref:e})})}),H=m((t,e)=>{const o=r.useId(),{id:n=o,...l}=t,i=r.useCallback(s=>({...s,elementType:"error"}),[]);return a.jsx(p,{id:n,getItem:i,render:a.jsx(j,{...l,tone:"critical"}),ref:e})});export{q as F,z as a,G as b,H as c,A as d,B as u};
