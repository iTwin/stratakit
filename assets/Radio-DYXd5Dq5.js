import{a as m,n as x}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as D}from"./index-jyeBNHV5.js";import{a as j,b as U}from"./Field-DQuwljSf.js";import{f as A}from"./~utils-Cznddkjz.js";import{C as B,a as T,b as w}from"./P2CTZE2T-CumnqgF6.js";import{B as H,c as O,_ as $,E as M,O as W,H as q,P as z,k as p,e as G,u as J,b as v,r as K,m as L,f as Q,d as V}from"./LMDWO4NN-Byj-nXYS.js";import{d as X}from"./YV4JVR4I-BlNXHGle.js";var Y=H([T],[B]),Z=Y.useContext,R="input";function ee(o,r){if(r!==void 0)return o!=null&&r!=null?r===o:!!r}function ne(o,r){return o==="input"&&(!r||r==="radio")}var re=O(function(r){var u=r,{store:n,name:c,value:s,checked:C}=u,t=$(u,["store","name","value","checked"]);const P=Z();n=n||P;const i=M(t.id),f=m.useRef(null),d=X(n,e=>C??ee(s,e==null?void 0:e.value));m.useEffect(()=>{!i||!d||(n==null?void 0:n.getState().activeId)===i||n==null||n.setActiveId(i)},[n,d,i]);const b=t.onChange,g=W(f,R),a=ne(g,t.type),F=q(t),[y,E]=z();m.useEffect(()=>{const e=f.current;e&&(a||(d!==void 0&&(e.checked=d),c!==void 0&&(e.name=c),s!==void 0&&(e.value=`${s}`)))},[y,a,d,c,s]);const l=p(e=>{if(F){e.preventDefault(),e.stopPropagation();return}(n==null?void 0:n.getState().value)!==s&&(a||(e.currentTarget.checked=!0,E()),b==null||b(e),!e.defaultPrevented&&(n==null||n.setValue(s)))}),h=t.onClick,I=p(e=>{h==null||h(e),!e.defaultPrevented&&(a||l(e))}),k=t.onFocus,_=p(e=>{if(k==null||k(e),e.defaultPrevented||!a||!n)return;const{moves:S,activeId:N}=n.getState();S&&(i&&N!==i||l(e))});return t=G(v({id:i,role:a?void 0:"radio",type:a?"radio":void 0,"aria-checked":d},t),{ref:J(f,t.ref),onChange:l,onClick:I,onFocus:_}),t=w(v({store:n,clickOnEnter:!a},t)),K(v({name:a?c:void 0,value:a?s:void 0,checked:d},t))}),te=L(Q(function(r){const u=re(r);return V(R,u)}));const fe=A((o,r)=>{const{id:u,...n}=o,c=j(o["aria-describedby"]);return x.jsx(U,{type:"checkable",id:u,render:x.jsx(te,{accessibleWhenDisabled:!0,...n,className:D("ğŸ¥-checkbox","ğŸ¥-radio",o.className),"aria-describedby":c,ref:r})})});export{fe as R};
