import{R as o}from"./chunk-PVWAREVJ-BjpS8kwV.js";const S=e=>{let t;const n=new Set,a=(s,r)=>{const c=typeof s=="function"?s(t):s;if(!Object.is(c,t)){const l=t;t=r??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(f=>f(t,l))}},u=()=>t,i={setState:a,getState:u,getInitialState:()=>b,subscribe:s=>(n.add(s),()=>n.delete(s))},b=t=e(a,u,i);return i},j=(e=>e?S(e):S),g=e=>e;function m(e,t=g){const n=o.useSyncExternalStore(e.subscribe,o.useCallback(()=>t(e.getState()),[e,t]),o.useCallback(()=>t(e.getInitialState()),[e,t]));return o.useDebugValue(n),n}export{j as c,m as u};
