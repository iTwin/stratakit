import{u as Hn,m as $n,o as kn,c as on,a as ee,d as ht,b as sn}from"./YV4JVR4I-CZOpLJ6L.js";import{l as bt,m as Rt,n as Ct,z as B,o as k,_ as Tt,M as se,am as U,aE as Ve,E as z,L as ft,aF as Wt,aG as fe,aH as Be,aI as _n,aJ as Nn,x as jn,q as $t,r as gt,p as at,s as Vn,v as Bn,ac as ot,Z as q,h as Ie,ak as de,ad as In,aa as Wn,aK as cn,aL as zn,aM as qn,aN as lt,aO as Yn,D as St,aP as Xn,aQ as Un,aR as Se,K as Kn,at as un,ao as Gn,X as kt,aS as Jn,aT as zt,ae as an,aC as Zn,aU as Qn,ax as tr,B as ie,W as ln,an as er,P as nr,O as rr,S as or}from"./~utils-B3UZudrK.js";import{e as sr,f as ir,u as cr,d as fn,b as Ae,i as ur,g as ar,h as lr,j as fr}from"./VGCJ63VH-DDqlZKG7.js";import{b as w,p as D,n as xe}from"./index-DDCMeoDP.js";import{u as dr}from"./VisuallyHidden-DLSekbt3.js";import{P as We}from"./AOQQTIBO-B8Hiwoj-.js";import{P as dn,a as pr,u as pn}from"./MTZPJQMC-BctAgGFI.js";var mr="span",hr=Rt(function(e){return e=B(k({"data-focus-trap":"",tabIndex:0,"aria-hidden":!0},e),{style:k({position:"fixed",top:0,left:0},e.style)}),e=dr(e),e}),Qt=bt(function(e){const r=hr(e);return Ct(mr,r)}),gr="div";function vr(t){return z(t).body}function xr(t,e){return e?typeof e=="function"?e(t):e:z(t).createElement("div")}function wr(t="id"){return`${t?`${t}-`:""}${Math.random().toString(36).slice(2,8)}`}function mt(t){queueMicrotask(()=>{t==null||t.focus()})}var mn=Rt(function(e){var r=e,{preserveTabOrder:n,preserveTabOrderAnchor:o,portalElement:s,portalRef:i,portal:c=!0}=r,u=Tt(r,["preserveTabOrder","preserveTabOrderAnchor","portalElement","portalRef","portal"]);const a=w.useRef(null),l=se(a,u.ref),d=w.useContext(We),[f,m]=w.useState(null),[h,y]=w.useState(null),x=w.useRef(null),v=w.useRef(null),P=w.useRef(null),S=w.useRef(null);return U(()=>{const p=a.current;if(!p||!c){m(null);return}const g=xr(p,s);if(!g){m(null);return}const A=g.isConnected;if(A||(d||vr(p)).appendChild(g),g.id||(g.id=p.id?`portal/${p.id}`:wr()),m(g),Ve(i,g),!A)return()=>{g.remove(),Ve(i,null)}},[c,s,d,i]),U(()=>{if(!c||!n||!o)return;const g=z(o).createElement("span");return g.style.position="fixed",o.insertAdjacentElement("afterend",g),y(g),()=>{g.remove(),y(null)}},[c,n,o]),w.useEffect(()=>{if(!f||!n)return;let p=0;const g=A=>{if(!Wt(A))return;const b=A.type==="focusin";if(cancelAnimationFrame(p),b)return _n(f);p=requestAnimationFrame(()=>{Nn(f,!0)})};return f.addEventListener("focusin",g,!0),f.addEventListener("focusout",g,!0),()=>{cancelAnimationFrame(p),f.removeEventListener("focusin",g,!0),f.removeEventListener("focusout",g,!0)}},[f,n]),u=ft(u,p=>{if(p=D.jsx(We.Provider,{value:f||d,children:p}),!c)return p;if(!f)return D.jsx("span",{ref:l,id:u.id,style:{position:"fixed"},hidden:!0});p=D.jsxs(D.Fragment,{children:[n&&f&&D.jsx(Qt,{ref:v,"data-focus-trap":u.id,className:"__focus-trap-inner-before",onFocus:A=>{Wt(A,f)?mt(fe()):mt(x.current)}}),p,n&&f&&D.jsx(Qt,{ref:P,"data-focus-trap":u.id,className:"__focus-trap-inner-after",onFocus:A=>{Wt(A,f)?mt(Be()):mt(S.current)}})]}),f&&(p=xe.createPortal(p,f));let g=D.jsxs(D.Fragment,{children:[n&&f&&D.jsx(Qt,{ref:x,"data-focus-trap":u.id,className:"__focus-trap-outer-before",onFocus:A=>{!(A.relatedTarget===S.current)&&Wt(A,f)?mt(v.current):mt(Be())}}),n&&D.jsx("span",{"aria-owns":f==null?void 0:f.id,style:{position:"fixed"}}),n&&f&&D.jsx(Qt,{ref:S,"data-focus-trap":u.id,className:"__focus-trap-outer-after",onFocus:A=>{if(Wt(A,f))mt(P.current);else{const b=fe();if(b===v.current){requestAnimationFrame(()=>{var $;return($=fe())==null?void 0:$.focus()});return}mt(b)}}})]});return h&&n&&(g=xe.createPortal(g,h)),D.jsxs(D.Fragment,{children:[g,p]})},[f,d,c,u.id,n,h]),u=B(k({},u),{ref:l}),u});bt(function(e){const r=mn(e);return Ct(gr,r)});function hn(t={}){return sr(t)}function gn(t,e,r){return ir(t,e,r)}function yr(t={}){const[e,r]=Hn(hn,t);return gn(e,r,t)}function br(t={}){var e=t,{popover:r}=e,n=jn(e,["popover"]);const o=$n(n.store,kn(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),s=o==null?void 0:o.getState(),i=hn($t(gt({},n),{store:o})),c=at(n.placement,s==null?void 0:s.placement,"bottom"),u=$t(gt({},i.getState()),{placement:c,currentPlacement:c,anchorElement:at(s==null?void 0:s.anchorElement,null),popoverElement:at(s==null?void 0:s.popoverElement,null),arrowElement:at(s==null?void 0:s.arrowElement,null),rendered:Symbol("rendered")}),a=on(u,i,o);return $t(gt(gt({},i),a),{setAnchorElement:l=>a.setState("anchorElement",l),setPopoverElement:l=>a.setState("popoverElement",l),setArrowElement:l=>a.setState("arrowElement",l),render:()=>a.setState("rendered",Symbol("rendered"))})}function Er(t,e,r){return Vn(e,[r.popover]),ee(t,r,"placement"),gn(t,e,r)}function rs(t={}){var e;const r=(e=t.store)==null?void 0:e.getState(),n=br($t(gt({},t),{placement:at(t.placement,r==null?void 0:r.placement,"bottom")})),o=at(t.timeout,r==null?void 0:r.timeout,500),s=$t(gt({},n.getState()),{timeout:o,showTimeout:at(t.showTimeout,r==null?void 0:r.showTimeout),hideTimeout:at(t.hideTimeout,r==null?void 0:r.hideTimeout),autoFocusOnShow:at(r==null?void 0:r.autoFocusOnShow,!1)}),i=on(s,n,t.store);return $t(gt(gt({},n),i),{setAutoFocusOnShow:c=>i.setState("autoFocusOnShow",c)})}function os(t,e,r){return ee(t,r,"timeout"),ee(t,r,"showTimeout"),ee(t,r,"hideTimeout"),Er(t,e,r)}var Yt=Bn([pr],[dn]);Yt.useContext;Yt.useScopedContext;var Oe=Yt.useProviderContext,ss=Yt.ContextProvider,Pr=Yt.ScopedContextProvider;function pe(t){return[t.clientX,t.clientY]}function ze(t,e){const[r,n]=t;let o=!1;const s=e.length;for(let i=s,c=0,u=i-1;c<i;u=c++){const[a,l]=e[c],[d,f]=e[u],[,m]=e[u===0?i-1:u-1]||[0,0],h=(l-f)*(r-a)-(a-d)*(n-l);if(f<l){if(n>=f&&n<l){if(h===0)return!0;h>0&&(n===f?n>m&&(o=!o):o=!o)}}else if(l<f){if(n>l&&n<=f){if(h===0)return!0;h<0&&(n===f?n<m&&(o=!o):o=!o)}}else if(n===l&&(r>=d&&r<=a||r>=a&&r<=d))return!0}return o}function Sr(t,e){const{top:r,right:n,bottom:o,left:s}=e,[i,c]=t,u=i<s?"left":i>n?"right":null,a=c<r?"top":c>o?"bottom":null;return[u,a]}function qe(t,e){const r=t.getBoundingClientRect(),{top:n,right:o,bottom:s,left:i}=r,[c,u]=Sr(e,r),a=[e];return c?(u!=="top"&&a.push([c==="left"?i:o,n]),a.push([c==="left"?o:i,n]),a.push([c==="left"?o:i,s]),u!=="bottom"&&a.push([c==="left"?i:o,s])):u==="top"?(a.push([i,n]),a.push([i,s]),a.push([o,s]),a.push([o,n])):(a.push([i,s]),a.push([i,n]),a.push([o,n]),a.push([o,s])),a}function vn(t,...e){if(!t)return!1;const r=t.getAttribute("data-backdrop");return r==null?!1:r===""||r==="true"||!e.length?!0:e.some(n=>r===n)}var me=new WeakMap;function Xt(t,e,r){me.has(t)||me.set(t,new Map);const n=me.get(t),o=n.get(e);if(!o)return n.set(e,r()),()=>{var c;(c=n.get(e))==null||c(),n.delete(e)};const s=r(),i=()=>{s(),o(),n.delete(e)};return n.set(e,i),()=>{n.get(e)===i&&(s(),n.set(e,o))}}function Re(t,e,r){return Xt(t,e,()=>{const o=t.getAttribute(e);return t.setAttribute(e,r),()=>{o==null?t.removeAttribute(e):t.setAttribute(e,o)}})}function At(t,e,r){return Xt(t,e,()=>{const o=e in t,s=t[e];return t[e]=r,()=>{o?t[e]=s:delete t[e]}})}function we(t,e){return t?Xt(t,"style",()=>{const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}):()=>{}}function Ar(t,e,r){return t?Xt(t,e,()=>{const o=t.style.getPropertyValue(e);return t.style.setProperty(e,r),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}):()=>{}}var Or=["SCRIPT","STYLE"];function ye(t){return`__ariakit-dialog-snapshot-${t}`}function Rr(t,e){const r=z(e),n=ye(t);if(!r.body[n])return!0;do{if(e===r.body)return!1;if(e[n])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function Cr(t,e,r){return Or.includes(e.tagName)||!Rr(t,e)?!1:!r.some(n=>n&&q(e,n))}function Ce(t,e,r,n){for(let o of e){if(!(o!=null&&o.isConnected))continue;const s=e.some(u=>!u||u===o?!1:u.contains(o)),i=z(o),c=o;for(;o.parentElement&&o!==i.body;){if(n==null||n(o.parentElement,c),!s)for(const u of o.parentElement.children)Cr(t,u,e)&&r(u,c);o=o.parentElement}}}function Tr(t,e){const{body:r}=z(e[0]),n=[];return Ce(t,e,s=>{n.push(At(s,ye(t),!0))}),ot(At(r,ye(t),!0),()=>{for(const s of n)s()})}function Nt(t="",e=!1){return`__ariakit-dialog-${e?"ancestor":"outside"}${t?`-${t}`:""}`}function Fr(t,e=""){return ot(At(t,Nt(),!0),At(t,Nt(e),!0))}function xn(t,e=""){return ot(At(t,Nt("",!0),!0),At(t,Nt(e,!0),!0))}function Te(t,e){const r=Nt(e,!0);if(t[r])return!0;const n=Nt(e);do{if(t[n])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function Ye(t,e){const r=[],n=e.map(s=>s==null?void 0:s.id);return Ce(t,e,s=>{vn(s,...n)||r.unshift(Fr(s,t))},(s,i)=>{i.hasAttribute("data-dialog")&&i.id!==t||r.unshift(xn(s,t))}),()=>{for(const s of r)s()}}function Dr({store:t,backdrop:e,alwaysVisible:r,hidden:n}){const o=w.useRef(null),s=cr({disclosure:t}),i=ht(t,"contentElement");w.useEffect(()=>{const a=o.current,l=i;a&&l&&(a.style.zIndex=getComputedStyle(l).zIndex)},[i]),U(()=>{const a=i==null?void 0:i.id;if(!a)return;const l=o.current;if(l)return xn(l,a)},[i]);const c=fn({ref:o,store:s,role:"presentation","data-backdrop":(i==null?void 0:i.id)||"",alwaysVisible:r,hidden:n??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!e)return null;if(w.isValidElement(e))return D.jsx(Ie,B(k({},c),{render:e}));const u=typeof e!="boolean"?e:"div";return D.jsx(Ie,B(k({},c),{render:D.jsx(u,{})}))}function Mr(t,...e){if(!t)return!1;const r=t.getAttribute("data-focus-trap");return r==null?!1:e.length?r===""?!1:e.some(n=>r===n):!0}function Lr(t){return Re(t,"aria-hidden","true")}function wn(){return"inert"in HTMLElement.prototype}function yn(t,e){if(!("style"in t))return de;if(wn())return At(t,"inert",!0);const n=In(t,!0).map(o=>{if(e!=null&&e.some(i=>i&&q(i,o)))return de;const s=Xt(o,"focus",()=>(o.focus=de,()=>{delete o.focus}));return ot(Re(o,"tabindex","-1"),s)});return ot(...n,Lr(t),we(t,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function Hr(t,e){const r=[],n=e.map(s=>s==null?void 0:s.id);return Ce(t,e,s=>{vn(s,...n)||Mr(s,...n)||r.unshift(yn(s,e))},s=>{s.hasAttribute("role")&&(e.some(i=>i&&q(i,s))||r.unshift(Re(s,"role","none")))}),()=>{for(const s of r)s()}}function $r({attribute:t,contentId:e,contentElement:r,enabled:n}){const[o,s]=Wn(),i=w.useCallback(()=>{if(!n||!r)return!1;const{body:c}=z(r),u=c.getAttribute(t);return!u||u===e},[o,n,r,t,e]);return w.useEffect(()=>{if(!n||!e||!r)return;const{body:c}=z(r);if(i())return c.setAttribute(t,e),()=>c.removeAttribute(t);const u=new MutationObserver(()=>xe.flushSync(s));return u.observe(c,{attributeFilter:[t]}),()=>u.disconnect()},[o,n,e,r,i,t]),i}function kr(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function _r(t,e,r){const n=$r({attribute:"data-dialog-prevent-body-scroll",contentElement:t,contentId:e,enabled:r});w.useEffect(()=>{if(!n()||!t)return;const o=z(t),s=cn(t),{documentElement:i,body:c}=o,u=i.style.getPropertyValue("--scrollbar-width"),a=u?Number.parseInt(u):s.innerWidth-i.clientWidth,l=()=>Ar(i,"--scrollbar-width",`${a}px`),d=kr(i),f=()=>we(c,{overflow:"hidden",[d]:`${a}px`}),m=()=>{var y,x;const{scrollX:v,scrollY:P,visualViewport:S}=s,p=(y=S==null?void 0:S.offsetLeft)!=null?y:0,g=(x=S==null?void 0:S.offsetTop)!=null?x:0,A=we(c,{position:"fixed",overflow:"hidden",top:`${-(P-Math.floor(g))}px`,left:`${-(v-Math.floor(p))}px`,right:"0",[d]:`${a}px`});return()=>{A(),s.scrollTo({left:v,top:P,behavior:"instant"})}},h=zn()&&!qn();return ot(l(),h?m():f())},[n,t])}var Xe=w.createContext({});function Nr(t){const e=w.useContext(Xe),[r,n]=w.useState([]),o=w.useCallback(c=>{var u;return n(a=>[...a,c]),ot((u=e.add)==null?void 0:u.call(e,c),()=>{n(a=>a.filter(l=>l!==c))})},[e]);U(()=>sn(t,["open","contentElement"],c=>{var u;if(c.open&&c.contentElement)return(u=e.add)==null?void 0:u.call(e,t)}),[t,e]);const s=w.useMemo(()=>({store:t,add:o}),[t,o]);return{wrapElement:w.useCallback(c=>D.jsx(Xe.Provider,{value:s,children:c}),[s]),nestedDialogs:r}}function jr(t){const e=w.useRef();return w.useEffect(()=>{if(!t){e.current=null;return}return lt("mousedown",n=>{e.current=n.target},!0)},[t]),e}function Vr(t){return t.tagName==="HTML"?!0:q(z(t).body,t)}function Br(t,e){if(!t)return!1;if(q(t,e))return!0;const r=e.getAttribute("aria-activedescendant");if(r){const n=z(t).getElementById(r);if(n)return q(t,n)}return!1}function Ir(t,e){if(!("clientY"in t))return!1;const r=e.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=t.clientY&&t.clientY<=r.top+r.height&&r.left<=t.clientX&&t.clientX<=r.left+r.width}function he({store:t,type:e,listener:r,capture:n,domReady:o}){const s=St(r),i=ht(t,"open"),c=w.useRef(!1);U(()=>{if(!i||!o)return;const{contentElement:u}=t.getState();if(!u)return;const a=()=>{c.current=!0};return u.addEventListener("focusin",a,!0),()=>u.removeEventListener("focusin",a,!0)},[t,i,o]),w.useEffect(()=>i?lt(e,a=>{const{contentElement:l,disclosureElement:d}=t.getState(),f=a.target;!l||!f||!Vr(f)||q(l,f)||Br(d,f)||f.hasAttribute("data-focus-trap")||Ir(a,l)||c.current&&!Te(f,l.id)||Xn(f)||s(a)},n):void 0,[i,n])}function ge(t,e){return typeof t=="function"?t(e):!!t}function Wr(t,e,r){const n=ht(t,"open"),o=jr(n),s={store:t,domReady:r,capture:!0};he(B(k({},s),{type:"click",listener:i=>{const{contentElement:c}=t.getState(),u=o.current;u&&Yn(u)&&Te(u,c==null?void 0:c.id)&&ge(e,i)&&t.hide()}})),he(B(k({},s),{type:"focusin",listener:i=>{const{contentElement:c}=t.getState();c&&i.target!==z(c)&&ge(e,i)&&t.hide()}})),he(B(k({},s),{type:"contextmenu",listener:i=>{ge(e,i)&&t.hide()}}))}function zr(t,e){const n=z(t).createElement("button");return n.type="button",n.tabIndex=-1,n.textContent="Dismiss popup",Object.assign(n.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),n.addEventListener("click",e),t.prepend(n),()=>{n.removeEventListener("click",e),n.remove()}}var qr="div",bn=Rt(function(e){var r=e,{autoFocusOnShow:n=!0}=r,o=Tt(r,["autoFocusOnShow"]);return o=ft(o,s=>D.jsx(Un.Provider,{value:n,children:s}),[n]),o});bt(function(e){const r=bn(e);return Ct(qr,r)});var Ue=w.createContext(0);function Yr({level:t,children:e}){const r=w.useContext(Ue),n=Math.max(Math.min(t||r+1,6),1);return D.jsx(Ue.Provider,{value:n,children:e})}var Xr="div",Ke=tr();function Ur(t){const e=un();return!e||t&&q(t,e)?!1:!!zt(e)}function Ge(t,e=!1){if(!t)return null;const r="current"in t?t.current:t;return r?e?zt(r)?r:null:r:null}var En=Rt(function(e){var r=e,{store:n,open:o,onClose:s,focusable:i=!0,modal:c=!0,portal:u=!!c,backdrop:a=!!c,hideOnEscape:l=!0,hideOnInteractOutside:d=!0,getPersistentElements:f,preventBodyScroll:m=!!c,autoFocusOnShow:h=!0,autoFocusOnHide:y=!0,initialFocus:x,finalFocus:v,unmountOnHide:P,unstable_treeSnapshotKey:S}=r,p=Tt(r,["store","open","onClose","focusable","modal","portal","backdrop","hideOnEscape","hideOnInteractOutside","getPersistentElements","preventBodyScroll","autoFocusOnShow","autoFocusOnHide","initialFocus","finalFocus","unmountOnHide","unstable_treeSnapshotKey"]);const g=Ae(),A=w.useRef(null),b=yr({store:n||g,open:o,setOpen(E){if(E)return;const F=A.current;if(!F)return;const I=new Event("close",{bubbles:!1,cancelable:!0});s&&F.addEventListener("close",s,{once:!0}),F.dispatchEvent(I),I.defaultPrevented&&b.setOpen(!0)}}),{portalRef:$,domReady:L}=Se(u,p.portalRef),C=p.preserveTabOrder,j=ht(b,E=>C&&!c&&E.mounted),H=Kn(p.id),O=ht(b,"open"),R=ht(b,"mounted"),T=ht(b,"contentElement"),N=ur(R,p.hidden,p.alwaysVisible);_r(T,H,m&&!N),Wr(b,d,L);const{wrapElement:_,nestedDialogs:W}=Nr(b);p=ft(p,_,[_]),U(()=>{if(!O)return;const E=A.current,F=un(E,!0);F&&F.tagName!=="BODY"&&(E&&q(E,F)||b.setDisclosureElement(F))},[b,O]),Ke&&w.useEffect(()=>{if(!R)return;const{disclosureElement:E}=b.getState();if(!E||!Gn(E))return;const F=()=>{let I=!1;const M=()=>{I=!0},Y={capture:!0,once:!0};E.addEventListener("focusin",M,Y),Zn(E,"mouseup",()=>{E.removeEventListener("focusin",M,!0),!I&&Qn(E)})};return E.addEventListener("mousedown",F),()=>{E.removeEventListener("mousedown",F)}},[b,R]),w.useEffect(()=>{if(!R||!L)return;const E=A.current;if(!E)return;const F=cn(E),I=F.visualViewport||F,M=()=>{var Y,nt;const It=(nt=(Y=F.visualViewport)==null?void 0:Y.height)!=null?nt:F.innerHeight;E.style.setProperty("--dialog-viewport-height",`${It}px`)};return M(),I.addEventListener("resize",M),()=>{I.removeEventListener("resize",M)}},[R,L]),w.useEffect(()=>{if(!c||!R||!L)return;const E=A.current;if(!(!E||E.querySelector("[data-dialog-dismiss]")))return zr(E,b.hide)},[b,c,R,L]),U(()=>{if(!wn()||O||!R||!L)return;const E=A.current;if(E)return yn(E)},[O,R,L]);const V=O&&L;U(()=>{if(!H||!V)return;const E=A.current;return Tr(H,[E])},[H,V,S]);const G=St(f);U(()=>{if(!H||!V)return;const{disclosureElement:E}=b.getState(),F=A.current,I=G()||[],M=[F,...I,...W.map(Y=>Y.getState().contentElement)];return c?ot(Ye(H,M),Hr(H,M)):Ye(H,[E,...M])},[H,b,V,G,W,c,S]);const ct=!!h,pt=kt(h),[Ft,J]=w.useState(!1);w.useEffect(()=>{if(!O||!ct||!L||!(T!=null&&T.isConnected))return;const E=Ge(x,!0)||T.querySelector("[data-autofocus=true],[autofocus]")||Jn(T,!0,u&&j)||T,F=zt(E);pt(F?E:null)&&(J(!0),queueMicrotask(()=>{E.focus(),Ke&&E.scrollIntoView({block:"nearest",inline:"nearest"})}))},[O,ct,L,T,x,u,j,pt]);const tt=!!y,le=kt(y),[Dt,ut]=w.useState(!1);w.useEffect(()=>{if(O)return ut(!0),()=>ut(!1)},[O]);const Et=w.useCallback((E,F=!0)=>{const{disclosureElement:I}=b.getState();if(Ur(E))return;let M=Ge(v)||I;if(M!=null&&M.id){const nt=z(M),It=`[aria-activedescendant="${M.id}"]`,Zt=nt.querySelector(It);Zt&&(M=Zt)}if(M&&!zt(M)){const nt=M.closest("[data-dialog]");if(nt!=null&&nt.id){const It=z(nt),Zt=`[aria-controls~="${nt.id}"]`,je=It.querySelector(Zt);je&&(M=je)}}const Y=M&&zt(M);if(!Y&&F){requestAnimationFrame(()=>Et(E,!1));return}le(Y?M:null)&&Y&&(M==null||M.focus())},[b,v,le]),et=w.useRef(!1);U(()=>{if(O||!Dt||!tt)return;const E=A.current;et.current=!0,Et(E)},[O,Dt,L,tt,Et]),w.useEffect(()=>{if(!Dt||!tt)return;const E=A.current;return()=>{if(et.current){et.current=!1;return}Et(E)}},[Dt,tt,Et]);const Kt=kt(l);w.useEffect(()=>!L||!R?void 0:lt("keydown",F=>{if(F.key!=="Escape"||F.defaultPrevented)return;const I=A.current;if(!I||Te(I))return;const M=F.target;if(!M)return;const{disclosureElement:Y}=b.getState();!!(M.tagName==="BODY"||q(I,M)||!Y||q(Y,M))&&Kt(F)&&b.hide()},!0),[b,L,R,Kt]),p=ft(p,E=>D.jsx(Yr,{level:c?1:void 0,children:E}),[c]);const Gt=p.hidden,Pt=p.alwaysVisible;p=ft(p,E=>a?D.jsxs(D.Fragment,{children:[D.jsx(Dr,{store:b,backdrop:a,hidden:Gt,alwaysVisible:Pt}),E]}):E,[b,a,Gt,Pt]);const[Mt,Jt]=w.useState(),[Lt,Ht]=w.useState();return p=ft(p,E=>D.jsx(ar,{value:b,children:D.jsx(lr.Provider,{value:Jt,children:D.jsx(fr.Provider,{value:Ht,children:E})})}),[b]),p=B(k({id:H,"data-dialog":"",role:"dialog",tabIndex:i?-1:void 0,"aria-labelledby":Mt,"aria-describedby":Lt},p),{ref:se(A,p.ref)}),p=bn(B(k({},p),{autoFocusOnShow:Ft})),p=fn(k({store:b},p)),p=an(B(k({},p),{focusable:i})),p=mn(B(k({portal:u},p),{portalRef:$,preserveTabOrder:j})),p});function Fe(t,e=Ae){return bt(function(n){const o=e(),s=n.store||o;return ht(s,c=>!n.unmountOnHide||(c==null?void 0:c.mounted)||!!n.open)?D.jsx(t,k({},n)):null})}Fe(bt(function(e){const r=En(e);return Ct(Xr,r)}),Ae);const vt=Math.min,X=Math.max,ne=Math.round,te=Math.floor,rt=t=>({x:t,y:t}),Kr={left:"right",right:"left",bottom:"top",top:"bottom"},Gr={start:"end",end:"start"};function be(t,e,r){return X(t,vt(e,r))}function xt(t,e){return typeof t=="function"?t(e):t}function dt(t){return t.split("-")[0]}function Vt(t){return t.split("-")[1]}function De(t){return t==="x"?"y":"x"}function Me(t){return t==="y"?"height":"width"}function wt(t){return["top","bottom"].includes(dt(t))?"y":"x"}function Le(t){return De(wt(t))}function Jr(t,e,r){r===void 0&&(r=!1);const n=Vt(t),o=Le(t),s=Me(o);let i=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=re(i)),[i,re(i)]}function Zr(t){const e=re(t);return[Ee(t),e,Ee(e)]}function Ee(t){return t.replace(/start|end/g,e=>Gr[e])}function Qr(t,e,r){const n=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:n:e?n:o;case"left":case"right":return e?s:i;default:return[]}}function to(t,e,r,n){const o=Vt(t);let s=Qr(dt(t),r==="start",n);return o&&(s=s.map(i=>i+"-"+o),e&&(s=s.concat(s.map(Ee)))),s}function re(t){return t.replace(/left|right|bottom|top/g,e=>Kr[e])}function eo(t){return{top:0,right:0,bottom:0,left:0,...t}}function Pn(t){return typeof t!="number"?eo(t):{top:t,right:t,bottom:t,left:t}}function oe(t){const{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}function Je(t,e,r){let{reference:n,floating:o}=t;const s=wt(e),i=Le(e),c=Me(i),u=dt(e),a=s==="y",l=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,f=n[c]/2-o[c]/2;let m;switch(u){case"top":m={x:l,y:n.y-o.height};break;case"bottom":m={x:l,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-o.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Vt(e)){case"start":m[i]-=f*(r&&a?-1:1);break;case"end":m[i]+=f*(r&&a?-1:1);break}return m}const no=async(t,e,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:s=[],platform:i}=r,c=s.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(e));let a=await i.getElementRects({reference:t,floating:e,strategy:o}),{x:l,y:d}=Je(a,n,u),f=n,m={},h=0;for(let y=0;y<c.length;y++){const{name:x,fn:v}=c[y],{x:P,y:S,data:p,reset:g}=await v({x:l,y:d,initialPlacement:n,placement:f,strategy:o,middlewareData:m,rects:a,platform:i,elements:{reference:t,floating:e}});l=P??l,d=S??d,m={...m,[x]:{...m[x],...p}},g&&h<=50&&(h++,typeof g=="object"&&(g.placement&&(f=g.placement),g.rects&&(a=g.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:o}):g.rects),{x:l,y:d}=Je(a,f,u)),y=-1)}return{x:l,y:d,placement:f,strategy:o,middlewareData:m}};async function He(t,e){var r;e===void 0&&(e={});const{x:n,y:o,platform:s,rects:i,elements:c,strategy:u}=t,{boundary:a="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=xt(e,t),h=Pn(m),x=c[f?d==="floating"?"reference":"floating":d],v=oe(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:a,rootBoundary:l,strategy:u})),P=d==="floating"?{x:n,y:o,width:i.floating.width,height:i.floating.height}:i.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),p=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},g=oe(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:S,strategy:u}):P);return{top:(v.top-g.top+h.top)/p.y,bottom:(g.bottom-v.bottom+h.bottom)/p.y,left:(v.left-g.left+h.left)/p.x,right:(g.right-v.right+h.right)/p.x}}const ro=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:o,rects:s,platform:i,elements:c,middlewareData:u}=e,{element:a,padding:l=0}=xt(t,e)||{};if(a==null)return{};const d=Pn(l),f={x:r,y:n},m=Le(o),h=Me(m),y=await i.getDimensions(a),x=m==="y",v=x?"top":"left",P=x?"bottom":"right",S=x?"clientHeight":"clientWidth",p=s.reference[h]+s.reference[m]-f[m]-s.floating[h],g=f[m]-s.reference[m],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a));let b=A?A[S]:0;(!b||!await(i.isElement==null?void 0:i.isElement(A)))&&(b=c.floating[S]||s.floating[h]);const $=p/2-g/2,L=b/2-y[h]/2-1,C=vt(d[v],L),j=vt(d[P],L),H=C,O=b-y[h]-j,R=b/2-y[h]/2+$,T=be(H,R,O),N=!u.arrow&&Vt(o)!=null&&R!==T&&s.reference[h]/2-(R<H?C:j)-y[h]/2<0,_=N?R<H?R-H:R-O:0;return{[m]:f[m]+_,data:{[m]:T,centerOffset:R-T-_,...N&&{alignmentOffset:_}},reset:N}}}),oo=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:o,middlewareData:s,rects:i,initialPlacement:c,platform:u,elements:a}=e,{mainAxis:l=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:y=!0,...x}=xt(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const v=dt(o),P=wt(c),S=dt(c)===c,p=await(u.isRTL==null?void 0:u.isRTL(a.floating)),g=f||(S||!y?[re(c)]:Zr(c)),A=h!=="none";!f&&A&&g.push(...to(c,y,h,p));const b=[c,...g],$=await He(e,x),L=[];let C=((n=s.flip)==null?void 0:n.overflows)||[];if(l&&L.push($[v]),d){const R=Jr(o,i,p);L.push($[R[0]],$[R[1]])}if(C=[...C,{placement:o,overflows:L}],!L.every(R=>R<=0)){var j,H;const R=(((j=s.flip)==null?void 0:j.index)||0)+1,T=b[R];if(T)return{data:{index:R,overflows:C},reset:{placement:T}};let N=(H=C.filter(_=>_.overflows[0]<=0).sort((_,W)=>_.overflows[1]-W.overflows[1])[0])==null?void 0:H.placement;if(!N)switch(m){case"bestFit":{var O;const _=(O=C.filter(W=>{if(A){const V=wt(W.placement);return V===P||V==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(V=>V>0).reduce((V,G)=>V+G,0)]).sort((W,V)=>W[1]-V[1])[0])==null?void 0:O[0];_&&(N=_);break}case"initialPlacement":N=c;break}if(o!==N)return{reset:{placement:N}}}return{}}}};async function so(t,e){const{placement:r,platform:n,elements:o}=t,s=await(n.isRTL==null?void 0:n.isRTL(o.floating)),i=dt(r),c=Vt(r),u=wt(r)==="y",a=["left","top"].includes(i)?-1:1,l=s&&u?-1:1,d=xt(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof h=="number"&&(m=c==="end"?h*-1:h),u?{x:m*l,y:f*a}:{x:f*a,y:m*l}}const io=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:o,y:s,placement:i,middlewareData:c}=e,u=await so(e,t);return i===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:o+u.x,y:s+u.y,data:{...u,placement:i}}}}},co=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:o}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:c={fn:x=>{let{x:v,y:P}=x;return{x:v,y:P}}},...u}=xt(t,e),a={x:r,y:n},l=await He(e,u),d=wt(dt(o)),f=De(d);let m=a[f],h=a[d];if(s){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",P=m+l[x],S=m-l[v];m=be(P,m,S)}if(i){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",P=h+l[x],S=h-l[v];h=be(P,h,S)}const y=c.fn({...e,[f]:m,[d]:h});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:s,[d]:i}}}}}},uo=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:o,rects:s,middlewareData:i}=e,{offset:c=0,mainAxis:u=!0,crossAxis:a=!0}=xt(t,e),l={x:r,y:n},d=wt(o),f=De(d);let m=l[f],h=l[d];const y=xt(c,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const S=f==="y"?"height":"width",p=s.reference[f]-s.floating[S]+x.mainAxis,g=s.reference[f]+s.reference[S]-x.mainAxis;m<p?m=p:m>g&&(m=g)}if(a){var v,P;const S=f==="y"?"width":"height",p=["top","left"].includes(dt(o)),g=s.reference[d]-s.floating[S]+(p&&((v=i.offset)==null?void 0:v[d])||0)+(p?0:x.crossAxis),A=s.reference[d]+s.reference[S]+(p?0:((P=i.offset)==null?void 0:P[d])||0)-(p?x.crossAxis:0);h<g?h=g:h>A&&(h=A)}return{[f]:m,[d]:h}}}},ao=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:o,rects:s,platform:i,elements:c}=e,{apply:u=()=>{},...a}=xt(t,e),l=await He(e,a),d=dt(o),f=Vt(o),m=wt(o)==="y",{width:h,height:y}=s.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=f===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(v=d,x=f==="end"?"top":"bottom");const P=y-l.top-l.bottom,S=h-l.left-l.right,p=vt(y-l[x],P),g=vt(h-l[v],S),A=!e.middlewareData.shift;let b=p,$=g;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&($=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(b=P),A&&!f){const C=X(l.left,0),j=X(l.right,0),H=X(l.top,0),O=X(l.bottom,0);m?$=h-2*(C!==0||j!==0?C+j:X(l.left,l.right)):b=y-2*(H!==0||O!==0?H+O:X(l.top,l.bottom))}await u({...e,availableWidth:$,availableHeight:b});const L=await i.getDimensions(c.floating);return h!==L.width||y!==L.height?{reset:{rects:!0}}:{}}}};function ce(){return typeof window<"u"}function Bt(t){return Sn(t)?(t.nodeName||"").toLowerCase():"#document"}function K(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function it(t){var e;return(e=(Sn(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Sn(t){return ce()?t instanceof Node||t instanceof K(t).Node:!1}function Z(t){return ce()?t instanceof Element||t instanceof K(t).Element:!1}function st(t){return ce()?t instanceof HTMLElement||t instanceof K(t).HTMLElement:!1}function Ze(t){return!ce()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof K(t).ShadowRoot}function Ut(t){const{overflow:e,overflowX:r,overflowY:n,display:o}=Q(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(o)}function lo(t){return["table","td","th"].includes(Bt(t))}function ue(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $e(t){const e=ke(),r=Z(t)?Q(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function fo(t){let e=yt(t);for(;st(e)&&!jt(e);){if($e(e))return e;if(ue(e))return null;e=yt(e)}return null}function ke(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jt(t){return["html","body","#document"].includes(Bt(t))}function Q(t){return K(t).getComputedStyle(t)}function ae(t){return Z(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yt(t){if(Bt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ze(t)&&t.host||it(t);return Ze(e)?e.host:e}function An(t){const e=yt(t);return jt(e)?t.ownerDocument?t.ownerDocument.body:t.body:st(e)&&Ut(e)?e:An(e)}function qt(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=An(t),s=o===((n=t.ownerDocument)==null?void 0:n.body),i=K(o);if(s){const c=Pe(i);return e.concat(i,i.visualViewport||[],Ut(o)?o:[],c&&r?qt(c):[])}return e.concat(o,qt(o,[],r))}function Pe(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function On(t){const e=Q(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=st(t),s=o?t.offsetWidth:r,i=o?t.offsetHeight:n,c=ne(r)!==s||ne(n)!==i;return c&&(r=s,n=i),{width:r,height:n,$:c}}function _e(t){return Z(t)?t:t.contextElement}function _t(t){const e=_e(t);if(!st(e))return rt(1);const r=e.getBoundingClientRect(),{width:n,height:o,$:s}=On(e);let i=(s?ne(r.width):r.width)/n,c=(s?ne(r.height):r.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const po=rt(0);function Rn(t){const e=K(t);return!ke()||!e.visualViewport?po:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mo(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==K(t)?!1:e}function Ot(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),s=_e(t);let i=rt(1);e&&(n?Z(n)&&(i=_t(n)):i=_t(t));const c=mo(s,r,n)?Rn(s):rt(0);let u=(o.left+c.x)/i.x,a=(o.top+c.y)/i.y,l=o.width/i.x,d=o.height/i.y;if(s){const f=K(s),m=n&&Z(n)?K(n):n;let h=f,y=Pe(h);for(;y&&n&&m!==h;){const x=_t(y),v=y.getBoundingClientRect(),P=Q(y),S=v.left+(y.clientLeft+parseFloat(P.paddingLeft))*x.x,p=v.top+(y.clientTop+parseFloat(P.paddingTop))*x.y;u*=x.x,a*=x.y,l*=x.x,d*=x.y,u+=S,a+=p,h=K(y),y=Pe(h)}}return oe({width:l,height:d,x:u,y:a})}function Ne(t,e){const r=ae(t).scrollLeft;return e?e.left+r:Ot(it(t)).left+r}function Cn(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:Ne(t,n)),s=n.top+e.scrollTop;return{x:o,y:s}}function ho(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t;const s=o==="fixed",i=it(n),c=e?ue(e.floating):!1;if(n===i||c&&s)return r;let u={scrollLeft:0,scrollTop:0},a=rt(1);const l=rt(0),d=st(n);if((d||!d&&!s)&&((Bt(n)!=="body"||Ut(i))&&(u=ae(n)),st(n))){const m=Ot(n);a=_t(n),l.x=m.x+n.clientLeft,l.y=m.y+n.clientTop}const f=i&&!d&&!s?Cn(i,u,!0):rt(0);return{width:r.width*a.x,height:r.height*a.y,x:r.x*a.x-u.scrollLeft*a.x+l.x+f.x,y:r.y*a.y-u.scrollTop*a.y+l.y+f.y}}function go(t){return Array.from(t.getClientRects())}function vo(t){const e=it(t),r=ae(t),n=t.ownerDocument.body,o=X(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=X(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Ne(t);const c=-r.scrollTop;return Q(n).direction==="rtl"&&(i+=X(e.clientWidth,n.clientWidth)-o),{width:o,height:s,x:i,y:c}}function xo(t,e){const r=K(t),n=it(t),o=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,c=0,u=0;if(o){s=o.width,i=o.height;const a=ke();(!a||a&&e==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:s,height:i,x:c,y:u}}function wo(t,e){const r=Ot(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,s=st(t)?_t(t):rt(1),i=t.clientWidth*s.x,c=t.clientHeight*s.y,u=o*s.x,a=n*s.y;return{width:i,height:c,x:u,y:a}}function Qe(t,e,r){let n;if(e==="viewport")n=xo(t,r);else if(e==="document")n=vo(it(t));else if(Z(e))n=wo(e,r);else{const o=Rn(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return oe(n)}function Tn(t,e){const r=yt(t);return r===e||!Z(r)||jt(r)?!1:Q(r).position==="fixed"||Tn(r,e)}function yo(t,e){const r=e.get(t);if(r)return r;let n=qt(t,[],!1).filter(c=>Z(c)&&Bt(c)!=="body"),o=null;const s=Q(t).position==="fixed";let i=s?yt(t):t;for(;Z(i)&&!jt(i);){const c=Q(i),u=$e(i);!u&&c.position==="fixed"&&(o=null),(s?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ut(i)&&!u&&Tn(t,i))?n=n.filter(l=>l!==i):o=c,i=yt(i)}return e.set(t,n),n}function bo(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t;const i=[...r==="clippingAncestors"?ue(e)?[]:yo(e,this._c):[].concat(r),n],c=i[0],u=i.reduce((a,l)=>{const d=Qe(e,l,o);return a.top=X(d.top,a.top),a.right=vt(d.right,a.right),a.bottom=vt(d.bottom,a.bottom),a.left=X(d.left,a.left),a},Qe(e,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Eo(t){const{width:e,height:r}=On(t);return{width:e,height:r}}function Po(t,e,r){const n=st(e),o=it(e),s=r==="fixed",i=Ot(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=rt(0);if(n||!n&&!s)if((Bt(e)!=="body"||Ut(o))&&(c=ae(e)),n){const f=Ot(e,!0,s,e);u.x=f.x+e.clientLeft,u.y=f.y+e.clientTop}else o&&(u.x=Ne(o));const a=o&&!n&&!s?Cn(o,c):rt(0),l=i.left+c.scrollLeft-u.x-a.x,d=i.top+c.scrollTop-u.y-a.y;return{x:l,y:d,width:i.width,height:i.height}}function ve(t){return Q(t).position==="static"}function tn(t,e){if(!st(t)||Q(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return it(t)===r&&(r=r.ownerDocument.body),r}function Fn(t,e){const r=K(t);if(ue(t))return r;if(!st(t)){let o=yt(t);for(;o&&!jt(o);){if(Z(o)&&!ve(o))return o;o=yt(o)}return r}let n=tn(t,e);for(;n&&lo(n)&&ve(n);)n=tn(n,e);return n&&jt(n)&&ve(n)&&!$e(n)?r:n||fo(t)||r}const So=async function(t){const e=this.getOffsetParent||Fn,r=this.getDimensions,n=await r(t.floating);return{reference:Po(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ao(t){return Q(t).direction==="rtl"}const Oo={convertOffsetParentRelativeRectToViewportRelativeRect:ho,getDocumentElement:it,getClippingRect:bo,getOffsetParent:Fn,getElementRects:So,getClientRects:go,getDimensions:Eo,getScale:_t,isElement:Z,isRTL:Ao};function Dn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ro(t,e){let r=null,n;const o=it(t);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const a=t.getBoundingClientRect(),{left:l,top:d,width:f,height:m}=a;if(c||e(),!f||!m)return;const h=te(d),y=te(o.clientWidth-(l+f)),x=te(o.clientHeight-(d+m)),v=te(l),S={rootMargin:-h+"px "+-y+"px "+-x+"px "+-v+"px",threshold:X(0,vt(1,u))||1};let p=!0;function g(A){const b=A[0].intersectionRatio;if(b!==u){if(!p)return i();b?i(!1,b):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b===1&&!Dn(a,t.getBoundingClientRect())&&i(),p=!1}try{r=new IntersectionObserver(g,{...S,root:o.ownerDocument})}catch{r=new IntersectionObserver(g,S)}r.observe(t)}return i(!0),s}function Co(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,a=_e(t),l=o||s?[...a?qt(a):[],...qt(e)]:[];l.forEach(v=>{o&&v.addEventListener("scroll",r,{passive:!0}),s&&v.addEventListener("resize",r)});const d=a&&c?Ro(a,r):null;let f=-1,m=null;i&&(m=new ResizeObserver(v=>{let[P]=v;P&&P.target===a&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),r()}),a&&!u&&m.observe(a),m.observe(e));let h,y=u?Ot(t):null;u&&x();function x(){const v=Ot(t);y&&!Dn(y,v)&&r(),y=v,h=requestAnimationFrame(x)}return r(),()=>{var v;l.forEach(P=>{o&&P.removeEventListener("scroll",r),s&&P.removeEventListener("resize",r)}),d==null||d(),(v=m)==null||v.disconnect(),m=null,u&&cancelAnimationFrame(h)}}const To=io,Fo=co,Do=oo,Mo=ao,Lo=ro,Ho=uo,$o=(t,e,r)=>{const n=new Map,o={platform:Oo,...r},s={...o.platform,_c:n};return no(t,e,{...o,platform:s})};var ko="div";function en(t=0,e=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(t,e,r,n);const o={x:t,y:e,width:r,height:n,top:e,right:t+r,bottom:e+n,left:t};return B(k({},o),{toJSON:()=>o})}function _o(t){if(!t)return en();const{x:e,y:r,width:n,height:o}=t;return en(e,r,n,o)}function No(t,e){return{contextElement:t||void 0,getBoundingClientRect:()=>{const n=t,o=e==null?void 0:e(n);return o||!n?_o(o):n.getBoundingClientRect()}}}function jo(t){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(t)}function nn(t){const e=window.devicePixelRatio||1;return Math.round(t*e)/e}function Vo(t,e){return To(({placement:r})=>{var n;const o=((t==null?void 0:t.clientHeight)||0)/2,s=typeof e.gutter=="number"?e.gutter+o:(n=e.gutter)!=null?n:o;return{crossAxis:!!r.split("-")[1]?void 0:e.shift,mainAxis:s,alignmentAxis:e.shift}})}function Bo(t){if(t.flip===!1)return;const e=typeof t.flip=="string"?t.flip.split(" "):void 0;return ie(!e||e.every(jo),!1),Do({padding:t.overflowPadding,fallbackPlacements:e})}function Io(t){if(!(!t.slide&&!t.overlap))return Fo({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:Ho()})}function Wo(t){return Mo({padding:t.overflowPadding,apply({elements:e,availableWidth:r,availableHeight:n,rects:o}){const s=e.floating,i=Math.round(o.reference.width);r=Math.floor(r),n=Math.floor(n),s.style.setProperty("--popover-anchor-width",`${i}px`),s.style.setProperty("--popover-available-width",`${r}px`),s.style.setProperty("--popover-available-height",`${n}px`),t.sameWidth&&(s.style.width=`${i}px`),t.fitViewport&&(s.style.maxWidth=`${r}px`,s.style.maxHeight=`${n}px`)}})}function zo(t,e){if(t)return Lo({element:t,padding:e.arrowPadding})}var Mn=Rt(function(e){var r=e,{store:n,modal:o=!1,portal:s=!!o,preserveTabOrder:i=!0,autoFocusOnShow:c=!0,wrapperProps:u,fixed:a=!1,flip:l=!0,shift:d=0,slide:f=!0,overlap:m=!1,sameWidth:h=!1,fitViewport:y=!1,gutter:x,arrowPadding:v=4,overflowPadding:P=8,getAnchorRect:S,updatePosition:p}=r,g=Tt(r,["store","modal","portal","preserveTabOrder","autoFocusOnShow","wrapperProps","fixed","flip","shift","slide","overlap","sameWidth","fitViewport","gutter","arrowPadding","overflowPadding","getAnchorRect","updatePosition"]);const A=pn();n=n||A,ie(n,!1);const b=n.useState("arrowElement"),$=n.useState("anchorElement"),L=n.useState("disclosureElement"),C=n.useState("popoverElement"),j=n.useState("contentElement"),H=n.useState("placement"),O=n.useState("mounted"),R=n.useState("rendered"),T=w.useRef(null),[N,_]=w.useState(!1),{portalRef:W,domReady:V}=Se(s,g.portalRef),G=St(S),ct=St(p),pt=!!p;U(()=>{if(!(C!=null&&C.isConnected))return;C.style.setProperty("--popover-overflow-padding",`${P}px`);const J=No($,G),tt=async()=>{if(!O)return;b||(T.current=T.current||document.createElement("div"));const ut=b||T.current,Et=[Vo(ut,{gutter:x,shift:d}),Bo({flip:l,overflowPadding:P}),Io({slide:f,overlap:m,overflowPadding:P}),zo(ut,{arrowPadding:v}),Wo({sameWidth:h,fitViewport:y,overflowPadding:P})],et=await $o(J,C,{placement:H,strategy:a?"fixed":"absolute",middleware:Et});n==null||n.setState("currentPlacement",et.placement),_(!0);const Kt=nn(et.x),Gt=nn(et.y);if(Object.assign(C.style,{top:"0",left:"0",transform:`translate3d(${Kt}px,${Gt}px,0)`}),ut&&et.middlewareData.arrow){const{x:Pt,y:Mt}=et.middlewareData.arrow,Jt=et.placement.split("-")[0],Lt=ut.clientWidth/2,Ht=ut.clientHeight/2,E=Pt!=null?Pt+Lt:-Lt,F=Mt!=null?Mt+Ht:-Ht;C.style.setProperty("--popover-transform-origin",{top:`${E}px calc(100% + ${Ht}px)`,bottom:`${E}px ${-Ht}px`,left:`calc(100% + ${Lt}px) ${F}px`,right:`${-Lt}px ${F}px`}[Jt]),Object.assign(ut.style,{left:Pt!=null?`${Pt}px`:"",top:Mt!=null?`${Mt}px`:"",[Jt]:"100%"})}},Dt=Co(J,C,async()=>{pt?(await ct({updatePosition:tt}),_(!0)):await tt()},{elementResize:typeof ResizeObserver=="function"});return()=>{_(!1),Dt()}},[n,R,C,b,$,C,H,O,V,a,l,d,f,m,h,y,x,v,P,G,pt,ct]),U(()=>{if(!O||!V||!(C!=null&&C.isConnected)||!(j!=null&&j.isConnected))return;const J=()=>{C.style.zIndex=getComputedStyle(j).zIndex};J();let tt=requestAnimationFrame(()=>{tt=requestAnimationFrame(J)});return()=>cancelAnimationFrame(tt)},[O,V,C,j]);const Ft=a?"fixed":"absolute";return g=ft(g,J=>D.jsx("div",B(k({},u),{style:k({position:Ft,top:0,left:0,width:"max-content"},u==null?void 0:u.style),ref:n==null?void 0:n.setPopoverElement,children:J})),[n,Ft,u]),g=ft(g,J=>D.jsx(dn,{value:n,children:J}),[n]),g=B(k({"data-placing":!N||void 0},g),{style:k({position:"relative"},g.style)}),g=En(B(k({store:n,modal:o,portal:s,preserveTabOrder:i,preserveTabOrderAnchor:L||$,autoFocusOnShow:N&&c},g),{portalRef:W})),g});Fe(bt(function(e){const r=Mn(e);return Ct(ko,r)}),pn);var qo="div";function Ln(t,e,r,n){return rr(e)?!0:t?!!(q(e,t)||r&&q(r,t)||n!=null&&n.some(o=>Ln(t,o,r))):!1}function Yo(t){var e=t,{store:r}=e,n=Tt(e,["store"]);const[o,s]=w.useState(!1),i=r.useState("mounted");w.useEffect(()=>{i||s(!1)},[i]);const c=n.onFocus,u=St(l=>{c==null||c(l),!l.defaultPrevented&&s(!0)}),a=w.useRef(null);return w.useEffect(()=>sn(r,["anchorElement"],l=>{a.current=l.anchorElement}),[]),n=B(k({autoFocusOnHide:o,finalFocus:a},n),{onFocus:u}),n}var rn=w.createContext(null),Xo=Rt(function(e){var r=e,{store:n,modal:o=!1,portal:s=!!o,hideOnEscape:i=!0,hideOnHoverOutside:c=!0,disablePointerEventsOnApproach:u=!!c}=r,a=Tt(r,["store","modal","portal","hideOnEscape","hideOnHoverOutside","disablePointerEventsOnApproach"]);const l=Oe();n=n||l,ie(n,!1);const d=w.useRef(null),[f,m]=w.useState([]),h=w.useRef(0),y=w.useRef(null),{portalRef:x,domReady:v}=Se(s,a.portalRef),P=ln(),S=!!c,p=kt(c),g=!!u,A=kt(u),b=n.useState("open"),$=n.useState("mounted");w.useEffect(()=>{if(!v||!$||!S&&!g)return;const O=d.current;return O?ot(lt("mousemove",T=>{if(!n||!P())return;const{anchorElement:N,hideTimeout:_,timeout:W}=n.getState(),V=y.current,[G]=T.composedPath(),ct=N;if(Ln(G,O,ct,f)){y.current=G&&ct&&q(ct,G)?pe(T):null,window.clearTimeout(h.current),h.current=0;return}if(!h.current){if(V){const pt=pe(T),Ft=qe(O,V);if(ze(pt,Ft)){if(y.current=pt,!A(T))return;T.preventDefault(),T.stopPropagation();return}}p(T)&&(h.current=window.setTimeout(()=>{h.current=0,n==null||n.hide()},_??W))}},!0),()=>clearTimeout(h.current)):void 0},[n,P,v,$,S,g,f,A,p]),w.useEffect(()=>{if(!v||!$||!g)return;const O=R=>{const T=d.current;if(!T)return;const N=y.current;if(!N)return;const _=qe(T,N);if(ze(pe(R),_)){if(!A(R))return;R.preventDefault(),R.stopPropagation()}};return ot(lt("mouseenter",O,!0),lt("mouseover",O,!0),lt("mouseout",O,!0),lt("mouseleave",O,!0))},[v,$,g,A]),w.useEffect(()=>{v&&(b||n==null||n.setAutoFocusOnShow(!1))},[n,v,b]);const L=er(b);w.useEffect(()=>{if(v)return()=>{L.current||n==null||n.setAutoFocusOnShow(!1)}},[n,v]);const C=w.useContext(rn);U(()=>{if(o||!s||!$||!v)return;const O=d.current;if(O)return C==null?void 0:C(O)},[o,s,$,v]);const j=w.useCallback(O=>{m(T=>[...T,O]);const R=C==null?void 0:C(O);return()=>{m(T=>T.filter(N=>N!==O)),R==null||R()}},[C]);a=ft(a,O=>D.jsx(Pr,{value:n,children:D.jsx(rn.Provider,{value:j,children:O})}),[n,j]),a=B(k({},a),{ref:se(d,a.ref)}),a=Yo(k({store:n},a));const H=n.useState(O=>o||O.autoFocusOnShow);return a=Mn(B(k({store:n,modal:o,portal:s,autoFocusOnShow:H},a),{portalRef:x,hideOnEscape(O){return nr(i,O)?!1:(requestAnimationFrame(()=>{requestAnimationFrame(()=>{n==null||n.hide()})}),!0)}})),a});Fe(bt(function(e){const r=Xo(e);return Ct(qo,r)}),Oe);var Uo="a",Ko=Rt(function(e){var r=e,{store:n,showOnHover:o=!0}=r,s=Tt(r,["store","showOnHover"]);const i=Oe();n=n||i,ie(n,!1);const c=or(s),u=w.useRef(0);w.useEffect(()=>()=>window.clearTimeout(u.current),[]),w.useEffect(()=>lt("mouseleave",v=>{if(!n)return;const{anchorElement:P}=n.getState();P&&v.target===P&&(window.clearTimeout(u.current),u.current=0)},!0),[n]);const a=s.onMouseMove,l=kt(o),d=ln(),f=St(x=>{if(a==null||a(x),c||!n||x.defaultPrevented||u.current||!d()||!l(x))return;const v=x.currentTarget;n.setAnchorElement(v),n.setDisclosureElement(v);const{showTimeout:P,timeout:S}=n.getState(),p=()=>{u.current=0,d()&&(n==null||n.setAnchorElement(v),n==null||n.show(),queueMicrotask(()=>{n==null||n.setDisclosureElement(v)}))},g=P??S;g===0?p():u.current=window.setTimeout(p,g)}),m=s.onClick,h=St(x=>{m==null||m(x),n&&(window.clearTimeout(u.current),u.current=0)}),y=w.useCallback(x=>{if(!n)return;const{anchorElement:v}=n.getState();v!=null&&v.isConnected||n.setAnchorElement(x)},[n]);return s=B(k({},s),{ref:se(y,s.ref),onMouseMove:f,onClick:h}),s=an(s),s});bt(function(e){const r=Ko(e);return Ct(Uo,r)});export{Pr as H,ss as a,Fe as b,rs as c,Xo as d,Ko as e,os as u};
