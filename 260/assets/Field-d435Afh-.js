import{n as s,a as n}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as C}from"./index-jyeBNHV5.js";import{f as b}from"./~utils-CxpNXQT1.js";import{C as S,a as y}from"./RZ4GPYOB-DDLWVkXa.js";import{u as I}from"./C3IKGW5T-vrqjKoNQ.js";import{d as T}from"./YV4JVR4I-B6wCGKZo.js";import{R as h}from"./XL7CSKGW-DWygVppE.js";function k(t={}){const e=I(t);return s.jsx(S,{value:e,children:t.children})}function z(t){const{type:e,...r}=t,o=n.useCallback(i=>({...i,elementType:"control",controlType:e}),[e]);return s.jsx(y,{...r,getItem:o})}function w(t){const e=n.useCallback(r=>({...r,elementType:"label"}),[]);return s.jsx(y,{...t,getItem:e})}const q=b((t,e)=>{const r=n.useId(),{layout:o,...i}=t,[c,a]=n.useState([]),l=I({items:c,setItems:a}),u=T(l,"renderedItems"),[F,f]=n.useMemo(()=>{var m;let d;return[(m=u.find((g,v)=>{if(g.elementType==="control")return d=v,!0}))==null?void 0:m.controlType,d]},[u]),j=n.useMemo(()=>{if(f==null)return;const d=u.findIndex(m=>m.elementType==="label");return d===-1?void 0:d<f?"before":"after"},[u,f]);return s.jsx(p.Provider,{value:r,children:s.jsx(B,{children:s.jsx(k,{store:l,children:s.jsx(h.div,{...i,className:C("ðŸ¥-field",t.className),"data-kiwi-layout":o,"data-kiwi-label-placement":j,"data-kiwi-control-type":F,ref:e})})})})}),A=b((t,e)=>s.jsx(w,{render:s.jsx("span",{...t,className:C("ðŸ¥-field-label-text",t.className),ref:e})})),x=n.createContext(void 0);function B(t){const[e,r]=n.useState(new Set),o=n.useCallback(c=>{r(a=>{const l=new Set(a);return l.add(c),l})},[]),i=n.useCallback(c=>{r(a=>{const l=new Set(a);return l.delete(c),l})},[]);return s.jsx(x.Provider,{value:n.useMemo(()=>({describedBy:e,register:o,unregister:i}),[e,o,i]),children:t.children})}function G(t){var r;const e=(r=n.useContext(x))==null?void 0:r.describedBy;return n.useMemo(()=>!e||e.size===0?t:[...e,t].filter(Boolean).join(" "),[e,t])}function H(t){const e=n.useContext(x),r=e==null?void 0:e.register,o=e==null?void 0:e.unregister;n.useEffect(()=>{if(!(!r||!o))return r(t),()=>o(t)},[t,r,o])}const p=n.createContext(void 0);function J(){return n.useContext(p)}export{q as F,A as a,J as b,G as c,z as d,w as e,H as u};
