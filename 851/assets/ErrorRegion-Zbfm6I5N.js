import{a as i,p as e}from"./chunk-C37GKA54-CQGMo0Pk.js";import{a as y}from"./VDHZ5F7K-DV84Nr5T.js";import{l as w,V as R,q as C,B as E,m as k}from"./~utils-CUmfAjn8.js";import{C as B}from"./collection-rqKH1wKl.js";import{C as L}from"./RZ4GPYOB-zeN1JgKb.js";import{f as g,q as O,R as P,c as h,T as v}from"./sun-CQEqRlaS.js";import{D as _}from"./dialog-provider-CGntSILS.js";import{D as q}from"./NTITENHD-JSPHTnnt.js";import{S as T,C as V}from"./~utils.icons-MVgPnB5x.js";const U=g((r,n)=>{const{label:a,items:l,open:c,setOpen:d,...m}=r,u=i.useId(),j=r["aria-labelledby"]??(r["aria-label"]?void 0:u),[f,D]=O(!1,c,d),b=i.useRef(null),I=()=>{const s=b.current;if(!s)return;const o="--error-region-pulse";s.getAnimations({subtree:!0}).find(t=>t.id===o)||s.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:o,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},x=y({setItems:s=>{const o=new Set(S.map(t=>t.id));s.filter(t=>!o.has(t.id)).length!==0&&(I(),F(a))}}),S=w(x,"items"),[p,F]=i.useState(a);return e.jsxs(e.Fragment,{children:[e.jsx(R,{"aria-live":"polite","aria-atomic":!0,children:p===a?p:void 0}),e.jsx(_,{open:f,setOpen:D,children:e.jsx(P.section,{...m,"aria-labelledby":j,className:h("-error-region",r.className),"data-kiwi-visible":!!a,"data-kiwi-expanded":f,ref:n,children:e.jsxs("div",{className:"-error-region-container",ref:b,children:[e.jsxs(q,{className:"-error-region-header",render:e.jsx(E,{variant:"ghost"}),children:[e.jsx(T,{tone:"attention",className:"-error-region-icon"}),e.jsx(v,{render:e.jsx("span",{}),id:u,className:"-error-region-label",variant:"body-sm",children:a}),e.jsx(C,{inert:!0,variant:"ghost",children:e.jsx(V,{})})]}),e.jsx(k,{className:"-error-region-dialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(B,{store:x,className:"-error-region-items",role:"list",children:l})})]})})})]})}),W=g((r,n)=>{const a=i.useId(),{message:l,messageId:c=`${a}-message`,actions:d,...m}=r;return e.jsxs(L,{...m,role:"listitem",className:h("-error-region-item",r.className),ref:n,children:[e.jsx(v,{id:c,variant:"body-sm",children:l}),e.jsx("div",{className:"-error-region-item-actions",children:d})]})});export{U as E,W as a};
