import{w as H}from"./LMDWO4NN-SGO35Sn1.js";import{t as U,n as e,a as t}from"./chunk-D52XG6IA-Bjtbe6aB.js";import{a as B}from"./index-h2OwknZM.js";import{D as q,a as J,b as Q,c as j}from"./DropdownMenu-CrqDj8yb.js";import{D as Y}from"./Divider-x5fmTwpd.js";import{I}from"./Icon-sUEPuGiX.js";import{I as R}from"./IconButton-DvhWvt27.js";import{T as Z,a as ee,b as te}from"./TextBox-DW3Vrkxp.js";import{V as E}from"./VisuallyHidden-wPE1jjpq.js";import{T as ne,a as se,b as re,c as ae,d as ie}from"./Tree-C_nYnOlt.js";import{p as z}from"./placeholder-CbcLCjNn.js";import{p as oe,l as le,s as ce,a as T,d as de,f as ue}from"./visibility-show-Dh9_uhkT.js";import{R as pe}from"./XL7CSKGW-Bj6N_gdg.js";import"./index-BCMTPUG2.js";import"./~utils-bgFDR2pr.js";import"./Button-BoV_bj8s.js";import"./KUU7WJ55-CxesKT3y.js";import"./LVA2YJMS-_GQ0__BM.js";import"./Kbd-CO7injhN.js";import"./P2CTZE2T-BN4mKOuc.js";import"./YV4JVR4I-D_VatxNX.js";import"./BYC7LY2E-CQ8Lds9I.js";import"./VGCJ63VH-DQ4411sn.js";import"./XX67R432-UkYfFkYB.js";import"./MTZPJQMC-BSNGTYDZ.js";import"./ITI7HKP4-CZZkUcIS.js";import"./P4IRICAX-BXdW1VUB.js";import"./Tooltip-edzaN2iN.js";import"./Field-BUXxuFsc.js";import"./~hooks-uds3lZtK.js";import"./Icon-BWW-Fjy3.js";const he="_appLayout_pavyn_5",xe="_platformBar_pavyn_14",me="_logo_pavyn_19",fe="_tools_pavyn_29",ve="_leftPanel_pavyn_39",je="_header_pavyn_50",be="_panelTitle_pavyn_58",ge="_panelCaption_pavyn_64",ye="_shiftIconRight_pavyn_68",_e="_subheader_pavyn_72",Se="_subheaderTitle_pavyn_82",Re="_searchInput_pavyn_87",Pe="_subheaderActions_pavyn_91",Ce="_tree_pavyn_95",Ie="_canvasWrapper_pavyn_99",ze="_canvas_pavyn_99",we="_splitter_pavyn_121",Me="_action_pavyn_152",ke="_slider_pavyn_160",i={appLayout:he,platformBar:xe,logo:me,tools:fe,leftPanel:ve,header:je,panelTitle:be,panelCaption:ge,shiftIconRight:ye,subheader:_e,subheaderTitle:Se,searchInput:Re,subheaderActions:Pe,tree:Ce,canvasWrapper:Ie,canvas:ze,splitter:we,action:Me,slider:ke},A="Kiwi sandbox",mt=()=>[{title:A}],ft=H(function(){const[r]=U(),o=r.get("empty")==="true",{sliderProps:l,panelProps:h,panelMinSize:a,panelMaxSize:f,resizing:b}=Be({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(E,{render:v=>e.jsx("h1",{...v}),children:A}),e.jsxs("div",{className:i.appLayout,style:{"--_panel-min-size":a,"--_panel-max-size":f},children:[e.jsxs("div",{className:i.platformBar,children:[e.jsx("div",{className:i.logo,children:e.jsx(I,{href:z,size:"large"})}),e.jsxs("div",{className:i.tools,children:[e.jsx(I,{href:z,size:"large"}),e.jsx(I,{href:z,size:"large"}),e.jsx(I,{href:z,size:"large"})]})]}),e.jsxs("div",{...h,className:i.leftPanel,style:{position:"relative",...h.style},children:[e.jsxs("div",{className:i.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:i.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:i.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:i.actions,children:e.jsx(R,{className:i.shiftIconRight,icon:oe,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Ee,{}),o?e.jsx(ne,{}):e.jsx(De,{}),e.jsx(Y,{presentational:!0,className:i.splitter,"data-resizing":b?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:i.slider,...l})})]}),e.jsx("div",{className:i.canvasWrapper,children:e.jsx("div",{className:i.canvas})})]})]})});function Ne(c,r,o){return Math.min(Math.max(c,r),o)}function Be(c){const{minSize:r,maxSize:o,onCollapse:l}=c??{},h=t.useId(),a=t.useRef(null),[f,b]=t.useState(void 0),[v,s]=t.useState(void 0),[u,x]=t.useState(void 0),[g,w]=t.useState(!1),[P,M]=t.useState(void 0),m=t.useMemo(()=>{if(r&&v)return Math.min(r.px,r.pct/100*v)},[r,v]),_=t.useMemo(()=>{if(m&&o&&v)return Math.max(m,o.pct/100*v)},[o,v,m]),S=t.useMemo(()=>{if(u==="smallest")return m??0;if(u==="largest")return _??0;if(f&&m&&_)return Ne(f,m,_)},[f,m,_,u]);t.useEffect(()=>{const d=a.current;if(!d)return;const p=d.parentElement;if(!p)return;const y=new ResizeObserver(()=>{const k=p.getBoundingClientRect(),N=d.getBoundingClientRect();s(k.width),b(N.width)});return y.observe(p),y.observe(d),()=>{y.disconnect()}},[]);const G=t.useCallback(d=>{const p=a.current;if(!p)return;const y=p.getBoundingClientRect();M(y.width+d),x(void 0),w(!0)},[]),O=t.useCallback(d=>{const p=a.current;if(!p)return;const y=p.parentElement;if(!y)return;const k=y.getBoundingClientRect(),N=d*(k.width*.005),X=p.getBoundingClientRect();M(X.width+N),x(void 0)},[]),W=t.useCallback(()=>{a.current&&(M(void 0),w(!1))},[]),{moveableProps:C}=Te({onMove:G,onMoveEnd:W,onKeyMove:O}),$=t.useMemo(()=>({...C,onKeyDown:d=>{var p;if((p=C.onKeyDown)==null||p.call(C,d),!d.defaultPrevented)switch(d.key){case"Enter":d.preventDefault(),l==null||l();break;case"Home":d.preventDefault(),x("smallest");break;case"End":d.preventDefault(),x("largest");break}},onChange:d=>{if(g)return;const p=Number(d.target.value);M(p)},value:S===void 0?0:Math.floor(S),min:m===void 0?void 0:Math.floor(m),max:_===void 0?void 0:Math.floor(_)}),[C,S,m,_,l,g]),F=t.useMemo(()=>({style:{WebkitUserSelect:P===void 0?void 0:"none"},id:h,ref:a}),[h,P]),K=m===void 0?void 0:`${m}px`,V=t.useMemo(()=>{if(P!==void 0&&o!==void 0&&u===void 0)return`min(${P}px, ${o.pct}%)`;if(S!==void 0)return`${S}px`},[o,P,S,u]);return{sliderProps:$,panelProps:F,panelMinSize:K,panelMaxSize:V,resizing:g}}function Te(c){const{onMove:r,onMoveEnd:o,onKeyMove:l}=c??{},h=t.useRef(null),a=t.useRef(void 0),f=t.useRef(void 0),b=t.useCallback(()=>{f.current!==void 0&&(f.current=void 0,o==null||o())},[o]);return{moveableProps:t.useMemo(()=>({onPointerDown:s=>{if(s.button!==0||s.ctrlKey)return;const u=h.current;if(!u)return;const x=u.getBoundingClientRect(),g=s.clientX-x.left;f.current=g,s.preventDefault(),u.setPointerCapture(s.pointerId)},onPointerMove:s=>{const u=f.current;if(u===void 0)return;const x=h.current;if(!x)return;const g=x.getBoundingClientRect(),w=s.clientX-u-g.left;s.preventDefault(),r==null||r(w)},onPointerUp:b,onPointerCancel:b,onKeyDown:s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowLeft":s.preventDefault(),l==null||l(-1);break;case"ArrowRight":s.preventDefault(),l==null||l(1);break}},ref:s=>{var x;if(h.current=s,(x=a.current)==null||x.call(a),a.current=void 0,!s)return;const u=g=>{g.preventDefault()};s.addEventListener("touchstart",u),a.current=()=>{s.removeEventListener("touchstart",u)}}}),[l,r,b])}}const L=t.createContext({selected:void 0,setSelected:()=>{}});function De(){const[c,r]=t.useState();return e.jsx(L.Provider,{value:{selected:c,setSelected:r},children:e.jsxs(se,{className:i.tree,children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1",lockAction:!0})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1",visibilityAction:!0})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access",lockAction:!0,visibilityAction:!0})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})})}const D=t.createContext({selected:!1});function n(c){const r=t.useId(),o=t.Children.count(c.children)>0,[l,h]=t.useState(!0),a=t.useContext(L),b=t.useContext(D).selected||r===a.selected,v=t.useCallback(()=>{a.setSelected(s=>{if(s!==r)return r})},[r,a]);return e.jsx(D.Provider,{value:{selected:b},children:e.jsx(re,{content:e.jsxs(e.Fragment,{children:[e.jsx(ae,{onClick:()=>{h(s=>!s)}}),e.jsx(I,{href:z,style:{display:"inline"}}),e.jsx(ie,{onClick:()=>{v()},children:c.label}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(R,{className:i.action,icon:le,label:"Lock",variant:"ghost","aria-hidden":!c.lockAction}),e.jsx(R,{className:i.action,icon:ce,label:"Show",variant:"ghost","aria-hidden":!c.visibilityAction})]})]}),expanded:o?l:void 0,selected:b,children:l?c.children:void 0})})}function Ee(){const[c,r]=t.useState(!1),o=t.useRef(null),l=t.useRef(null),h=c?e.jsxs(e.Fragment,{children:[e.jsx(Ae,{}),e.jsx(R,{className:i.shiftIconRight,icon:de,label:"Close",variant:"ghost",onClick:()=>{var a;B.flushSync(()=>r(!1)),(a=l.current)==null||a.focus()}})]}):e.jsx(R,{className:i.shiftIconRight,icon:T,label:"Search",variant:"ghost",onClick:()=>{var a;B.flushSync(()=>r(!0)),(a=o.current)==null||a.focus()}});return e.jsxs("div",{className:i.subheader,children:[e.jsx(pe.h3,{className:i.subheaderTitle,tabIndex:-1,ref:l,render:c?e.jsx(E,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),c?e.jsxs(Z,{className:i.searchInput,children:[e.jsx(ee,{href:T}),e.jsx(te,{placeholder:"Search",ref:o})]}):null,e.jsx("div",{className:i.subheaderActions,children:h})]})}function Ae(){return e.jsxs(q,{children:[e.jsx(J,{render:e.jsx(R,{icon:ue,label:"Filter",variant:"ghost"})}),e.jsxs(Q,{style:{minInlineSize:164},children:[e.jsx(j,{children:"Show all"}),e.jsx(j,{children:"Guides"}),e.jsx(j,{children:"Other"}),e.jsx(j,{children:"Roadway"}),e.jsx(j,{children:"Parking"}),e.jsx(j,{children:"Building"}),e.jsx(j,{children:"Dry utility"}),e.jsx(j,{children:"Stormwater"}),e.jsx(j,{children:"Sewer"}),e.jsx(j,{children:"Boundary"}),e.jsx(j,{children:"Map"})]})]})}export{ft as default,mt as meta};
