import{w as D,a as i,o as e}from"./chunk-QMGIS6GS-BaJhsRKI.js";import{I as m}from"./sun-83y1fq-W.js";import{T as S,a as y,b as f,p as w}from"./immer-B2GGVw5j.js";import{d as U}from"./~utils-BdcImVsW.js";import{r as F,u as M}from"./refresh-BaS3GIdi.js";import{p as d}from"./placeholder-BTw4_VfZ.js";import{s as N}from"./visibility-show-DtggED4O.js";import"./LMDWO4NN-CcJUQKmw.js";import"./6VRAQV3D-ClLbcO8J.js";import"./RZ4GPYOB-CDNbLvps.js";import"./IWEFDH56-BUWgmakt.js";import"./5JTVDSTH-BQTrVMHT.js";import"./~utils.icons-371AYB4n.js";import"./~utils.icons-GDDGfMxt.js";import"./DropdownMenu-BJsC0KIF.js";import"./S43UC3DV-C1D3TcS-.js";import"./NTITENHD-afUFwiFJ.js";import"./F5MUBM3I-BwiEVh5t.js";import"./IAEAQUOT-DRRHFSyI.js";import"./Kbd-BNIai02a.js";import"./~utils.icons-CWq9PnaG.js";import"./index-DlVK9hNA.js";import"./XX67R432-C0JnyUGJ.js";const ce={title:"Tree"},pe=D(U(function({overflow:c=!1,selected:n=!1,description:b,error:p,items:v,visible:I}){const[P,z]=i.useTransition(),h=c?" with a super long label that is overflown":"",j=I?!!I:void 0,A=b?"Additional description":void 0,[C,$]=i.useState(!!p),k=v?Number(v):0,[g,T]=i.useState(()=>[{label:`Item 1${h}`,selected:!!n,expanded:!0,children:[{label:"Item 1.1",selected:!!n},{label:"Item 1.2",selected:!!n},{label:`Item 1.3${h}`,selected:!!n}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${h}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:k}).map((t,o)=>({label:`Item ${o+4}`,selected:!1}))]),E=i.useMemo(()=>g.flatMap((t,o,r)=>{const l={...t,level:1,index:o,setSize:r.length,childIndex:void 0};if(!t.expanded)return l;const x=t.children?t.children.map((a,s,R)=>({...a,level:2,index:o,childIndex:s,setSize:R.length,expanded:void 0})):[];return[l,...x]}),[g]),_=i.useCallback(()=>{$(!1)},[]);return e.jsx(S,{style:{maxInlineSize:c?300:void 0},children:E.map(t=>{const{index:o,childIndex:r}=t,l=C&&o===0&&r===void 0,x=o===0&&r===void 0||r===0;return e.jsx(y,{"aria-level":t.level,"aria-posinset":o+1,"aria-setsize":t.setSize,label:t.label,description:x?A:void 0,expanded:t.expanded,selected:t.selected,error:l,onSelectedChange:()=>{T(w(a=>{const s=r===void 0?a[o]:a[o].children?.[r];s&&(s.selected=!s.selected)}))},onExpandedChange:()=>{z(()=>{T(w(a=>{const s=a[o];s.expanded!==void 0&&(s.expanded=!s.expanded)}))})},icon:r===void 0?e.jsx(m,{href:d,alt:"decoration"}):void 0,unstable_decorations:r===0?e.jsxs(e.Fragment,{children:[e.jsx(m,{href:d}),e.jsx(m,{href:d})]}):e.jsx(m,{href:d}),actions:[l&&e.jsx(f,{icon:F,label:"Retry",onClick:_},"retry"),e.jsx(f,{icon:M,label:"Unlock",visible:j},"unlock"),e.jsx(f,{icon:N,label:"Show",visible:j},"show")]},t.label)})})},{_actionsOverflow:O}));function O({count:u=5,dot:c=!1}){const n=Array.from({length:Number(u)}).map((b,p)=>e.jsx(f,{label:`Action ${p+1}`,icon:d,dot:c?"Something's going on":void 0},`${p+1}`));return e.jsx(S,{children:e.jsx(y,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,actions:n})})}export{pe as default,ce as handle};
