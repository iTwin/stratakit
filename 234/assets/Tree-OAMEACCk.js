import{a as v,n}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as S}from"./index-DeGJKKUv.js";import{f as p,s as E,L as U,a as q}from"./ListItem-BO7Ree_f.js";import{a as G}from"./Button-BhFrsEvL.js";import{a as J}from"./VisuallyHidden--wMbwkoK.js";import{R as k}from"./XL7CSKGW-ljzOK7sQ.js";import{u as Q,T as X,a as Y,b as ee}from"./Tooltip-Bz3i3WYK.js";import{m as te,p as oe,s as T,a as j,e as ae,c as re,u as F,b as _,d as B}from"./YV4JVR4I-B6YhGKv6.js";import{u as se,T as ne,a as ie,b as le}from"./IconButton-BTvBnhP6.js";import{C as ce,a as ue,c as de}from"./P2CTZE2T-7dxqU1Px.js";import{z as me,A as fe,C as f,B as I,D as V,S as ve,T as xe,R as pe,g as he,b as R,F as be,c as Se,d as ge,_ as ye,y as Ce,e as Ve}from"./~utils-QeuuISRZ.js";import{c as D,d as Te,u as $,a as je,C as Ne}from"./ITI7HKP4-9pOuItup.js";import{f as Pe,g as Ie}from"./BYC7LY2E-D0CFC92x.js";v.createContext(null);v.createContext(null);var we=me([ue],[ce]),ke=we.useContext,Oe=ve()&&xe();function _e(e={}){var o=e,{tag:t}=o,a=fe(o,["tag"]);const l=te(a.store,oe(t,["value","rtl"])),u=t==null?void 0:t.getState(),s=l==null?void 0:l.getState(),g=f(a.activeId,s==null?void 0:s.activeId,a.defaultActiveId,null),c=D(I(V({},a),{activeId:g,includesBaseElement:f(a.includesBaseElement,s==null?void 0:s.includesBaseElement,!0),orientation:f(a.orientation,s==null?void 0:s.orientation,"vertical"),focusLoop:f(a.focusLoop,s==null?void 0:s.focusLoop,!0),focusWrap:f(a.focusWrap,s==null?void 0:s.focusWrap,!0),virtualFocus:f(a.virtualFocus,s==null?void 0:s.virtualFocus,!0)})),C=Pe(I(V({},a),{placement:f(a.placement,s==null?void 0:s.placement,"bottom-start")})),h=f(a.value,s==null?void 0:s.value,a.defaultValue,""),x=f(a.selectedValue,s==null?void 0:s.selectedValue,u==null?void 0:u.values,a.defaultSelectedValue,""),d=Array.isArray(x),y=I(V(V({},c.getState()),C.getState()),{value:h,selectedValue:x,resetValueOnSelect:f(a.resetValueOnSelect,s==null?void 0:s.resetValueOnSelect,d),resetValueOnHide:f(a.resetValueOnHide,s==null?void 0:s.resetValueOnHide,d&&!t),activeValue:s==null?void 0:s.activeValue}),r=re(y,c,C,l);return Oe&&T(r,()=>j(r,["virtualFocus"],()=>{r.setState("virtualFocus",!1)})),T(r,()=>{if(t)return pe(j(r,["selectedValue"],i=>{Array.isArray(i.selectedValue)&&t.setValues(i.selectedValue)}),j(t,["values"],i=>{r.setState("selectedValue",i.values)}))}),T(r,()=>j(r,["resetValueOnHide","mounted"],i=>{i.resetValueOnHide&&(i.mounted||r.setState("value",h))})),T(r,()=>j(r,["open"],i=>{i.open||(r.setState("activeId",g),r.setState("moves",0))})),T(r,()=>j(r,["moves","activeId"],(i,b)=>{i.moves===b.moves&&r.setState("activeValue",void 0)})),T(r,()=>ae(r,["moves","renderedItems"],(i,b)=>{if(i.moves===b.moves)return;const{activeId:L}=r.getState(),O=c.item(L);r.setState("activeValue",O==null?void 0:O.value)})),I(V(V(V({},C),c),r),{tag:t,setValue:i=>r.setState("value",i),resetValue:()=>r.setState("value",y.value),setSelectedValue:i=>r.setState("selectedValue",i)})}function Ae(e){const o=ke();return e=he(R({},e),{tag:e.tag!==void 0?e.tag:o}),Te(e)}function Le(e,o,t){return be(o,[t.tag]),_(e,t,"value","setValue"),_(e,t,"selectedValue","setSelectedValue"),_(e,t,"resetValueOnHide"),_(e,t,"resetValueOnSelect"),Object.assign($(Ie(e,o,t),o,t),{tag:t.tag})}function Re(e={}){e=Ae(e);const[o,t]=F(_e,e);return Le(o,t,e)}function Ee(e={}){var o;const t=(o=e.store)==null?void 0:o.getState();return D(I(V({},e),{orientation:f(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:f(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function Be(e,o,t){return $(e,o,t)}function He(e={}){const[o,t]=F(Ee,e);return Be(o,t,e)}var Fe="div",De=Se(function(o){var t=o,{store:a,orientation:l,virtualFocus:u,focusLoop:s,rtl:g}=t,c=ye(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const C=se();a=a||C;const h=He({store:a,orientation:l,virtualFocus:u,focusLoop:s,rtl:g}),x=h.useState(d=>d.orientation==="both"?void 0:d.orientation);return c=Ce(c,d=>n.jsx(ne,{value:h,children:d}),[h]),c=R({role:"toolbar","aria-orientation":x},c),c=je(R({store:h},c)),c}),$e=ge(function(o){const t=De(o);return Ve(Fe,t)});const K=p((e,o)=>{const{variant:t="solid",tone:a="neutral",...l}=e;return n.jsx(G,{accessibleWhenDisabled:!0,"data-kiwi-variant":t,"data-kiwi-tone":a,...l,className:S("-button",e.className),ref:o})});K.displayName="Button";const W=p((e,o)=>n.jsx(J,{...e,ref:o}));W.displayName="VisuallyHidden";const A=p((e,o)=>{const{href:t,size:a="regular",...l}=e,u=Ke(a);return n.jsx(k.svg,{"data-kiwi-size":a,"aria-hidden":!0,...l,className:S("-icon",e.className),ref:o,children:n.jsx("use",{href:`${e.href}#${u}`})})});A.displayName="Icon";function Ke(e){return e==="large"?"icon-large":"icon"}const We=p((e,o)=>{const{direction:t="down",...a}=e,l=v.useMemo(()=>{switch(t){case"down":return n.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return n.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[t]);return n.jsx(A,{...a,render:n.jsx(k.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:l}),className:S("-disclosure-arrow",e.className),ref:o})});We.displayName="DisclosureArrow";const z=p((e,o)=>{const{content:t,children:a,className:l,type:u="description",id:s=v.useId(),defaultOpen:g,open:c,setOpen:C,unmountOnHide:h=u==="none",...x}=e,d=Q(),y=B(d,i=>i.open),r=B(d,i=>i.popoverElement);return v.useEffect(function(){var b;r!=null&&r.isConnected&&((b=r==null?void 0:r.togglePopover)==null||b.call(r,y))},[y,r]),n.jsx(n.Fragment,{children:n.jsxs(X,{store:d,defaultOpen:g,open:c,setOpen:C,children:[n.jsx(Y,{render:a,...u==="description"&&{"aria-describedby":s},...u==="label"&&{"aria-labelledby":s}}),n.jsx(ee,{"aria-hidden":"true",...x,unmountOnHide:h,className:S("-tooltip",l),ref:o,id:s,style:{zIndex:E?void 0:9999,...e.style},wrapperProps:{popover:"manual"},portal:!E,children:t})]})})});z.displayName="Tooltip";const M=p((e,o)=>{const{label:t,icon:a,isActive:l,labelVariant:u,...s}=e,g=ie(),c=n.jsxs(K,{"aria-pressed":l,...s,render:g?n.jsx(le,{render:e.render}):e.render,className:S("-icon-button",e.className),ref:o,children:[n.jsx(W,{children:t}),typeof a=="string"?n.jsx(A,{href:a}):a]});return u==="visually-hidden"?c:n.jsx(z,{content:t,type:"none",children:c})});M.displayName="IconButton";function w(e){const o=v.useRef(e);return v.useEffect(()=>{o.current=e},[e]),o}const ze=p((e,o)=>{const t=Re({orientation:"vertical",virtualFocus:!1,focusLoop:!1});return n.jsx(k.div,{role:"tree",...e,render:n.jsx(Ne,{store:t}),className:S("-tree",e.className),ref:o,children:e.children})});ze.displayName="Tree.Root";const Me=p((e,o)=>{const{selected:t,content:a,children:l,expanded:u,onSelectedChange:s,onExpandedChange:g,onClick:c,onKeyDown:C,...h}=e,x=v.useContext(H),d=x?x.level+1:1,y=w(c),r=w(C),i=w(s),b=w(g),L=v.useCallback(m=>{var N,P;(N=y.current)==null||N.call(y,m),!m.defaultPrevented&&(m.stopPropagation(),(P=i.current)==null||P.call(i,!t))},[y,i,t]),O=v.useCallback(m=>{var N,P;(N=r.current)==null||N.call(r,m),!m.defaultPrevented&&(m.altKey||m.ctrlKey||m.metaKey||m.shiftKey||(m.key==="ArrowRight"||m.key==="ArrowLeft")&&(m.stopPropagation(),m.preventDefault(),(P=b.current)==null||P.call(b,m.key==="ArrowRight")))},[r,b]);return n.jsx(H.Provider,{value:v.useMemo(()=>({level:d,expanded:u,selected:t}),[d,u,t]),children:n.jsxs(de,{render:n.jsx(k,{...h}),onClick:L,onKeyDown:O,role:"treeitem","aria-expanded":u,"aria-selected":t,className:S("-tree-item",e.className),ref:o,children:[n.jsx(U,{"data-kiwi-expanded":u,"data-kiwi-selected":t,"data-kiwi-parent-selected":x==null?void 0:x.selected,className:"-tree-item-node",style:{"--tree-item-level":d},role:void 0,children:a}),l&&n.jsx("div",{role:"group",children:l})]})})});Me.displayName="Tree.Item";const Ze=p((e,o)=>{const{children:t,...a}=e;return n.jsx(q,{...a,className:S("-tree-item-content",e.className),ref:o,children:t})});Ze.displayName="Tree.Content";const Ue=p((e,o)=>n.jsx($e,{...e,className:S("-tree-item-actions",e.className),ref:o,children:e.children}));Ue.displayName="Tree.Actions";const qe=p((e,o)=>{const t=w(e.onClick);return n.jsx(M,{tabIndex:-1,"aria-hidden":"true",icon:n.jsx(Z,{}),label:"Toggle",...e,onClick:v.useCallback(a=>{var l;(l=t.current)==null||l.call(t,a),!a.defaultPrevented&&a.stopPropagation()},[t]),className:S("-tree-item-expander",e.className),variant:"ghost",labelVariant:"visually-hidden",ref:o})});qe.displayName="Tree.Expander";const Z=p((e,o)=>n.jsx(A,{...e,render:n.jsx(k.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:n.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:S("-tree-chevron",e.className),ref:o}));Z.displayName="TreeChevron";const H=v.createContext(void 0);export{ze as T,Me as a,qe as b,Ze as c,Ue as d};
