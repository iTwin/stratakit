var Dt=e=>{throw TypeError(e)};var ut=(e,t,n)=>t.has(e)||Dt("Cannot "+n);var h=(e,t,n)=>(ut(e,t,"read from private field"),n?n.call(e):t.get(e)),q=(e,t,n)=>t.has(e)?Dt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$=(e,t,n,s)=>(ut(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),G=(e,t,n)=>(ut(e,t,"access private method"),n);import{a as u,v as Tn,w as An,o as a,x as Nn}from"./chunk-NL6KNZEE-Bu0nOl7T.js";import{a as Ft}from"./index-CXtfrvRK.js";import{V as Ue,I as me,B as Dn,a as Fn,A as Ht}from"./~utils-c3XI7vkm.js";import{F as Hn,a as $n,b as On}from"./Field-BGQBOowN.js";import{S as Bn,H as Un}from"./Select-Cpqlj3BU.js";import{S as et}from"./Skeleton-BdKmbidU.js";import{I as De,T as rt,c as Vn}from"./sun-Dr4GfT1g.js";import{T as Gn,a as Qn,b as Wn}from"./TextBox-WqJbnCeZ.js";import{S as Kn,l as $t,q as le,t as xt,r as Be,b as gt,u as bt,v as Ot,w as qn,g as Xn,x as Jn,y as Bt,n as on,z as Yn,A as Zn}from"./QueryClientProvider-DrNqFb-S.js";import{T as es,a as ts,b as Z,c as Ut,p as ns}from"./immer-5IgHPmja.js";import{p as ss,c as rs,a as is,d as os,m as as,r as ls,s as Vt,l as cs,b as us,h as ds,f as fs}from"./visibility-hide-YzqQWXV4.js";import{p as Fe}from"./placeholder-C1sDuE8J.js";import{s as hs}from"./visibility-show-CNe-NYDo.js";import{T as ps,a as Je}from"./Toolbar-BQWFUwdw.js";import{T as ms,a as xs,b as gs,c as bs}from"./Tabs-sT-wkxkl.js";import{E as vs,a as ys}from"./ErrorRegion-CpHZFGjX.js";import{D as Ss,a as Is,b as zs,c as Cs}from"./DropdownMenu-B2-p7vPT.js";import"./LMDWO4NN-DLS_M8sR.js";import"./XX67R432-BB75zn2j.js";import"./RZ4GPYOB-NreZw2i_.js";import"./collection-CygnB7Kz.js";import"./~utils.icons-Cp3HlIfX.js";import"./~utils.icons-DltzDLtH.js";import"./6VRAQV3D-BpJxgReD.js";import"./IWEFDH56-BtCxzDaJ.js";import"./5JTVDSTH-DLxmpGoN.js";import"./~utils.icons-Csy_S9QG.js";import"./S43UC3DV-DRjjUzqa.js";import"./NTITENHD-puQddhVT.js";import"./F5MUBM3I-D9cZY49P.js";import"./IAEAQUOT-7Gd_DE_B.js";import"./Kbd-DS30G1Dn.js";var ne,E,Qe,ee,ge,je,fe,he,We,we,Ee,be,ve,pe,_e,A,He,vt,yt,St,It,zt,Ct,Rt,an,rn,Rs=(rn=class extends Kn{constructor(t,n){super();q(this,A);q(this,ne);q(this,E);q(this,Qe);q(this,ee);q(this,ge);q(this,je);q(this,fe);q(this,he);q(this,We);q(this,we);q(this,Ee);q(this,be);q(this,ve);q(this,pe);q(this,_e,new Set);this.options=n,$(this,ne,t),$(this,he,null),$(this,fe,$t()),this.options.experimental_prefetchInRender||h(this,fe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(h(this,E).addObserver(this),Gt(h(this,E),this.options)?G(this,A,He).call(this):this.updateResult(),G(this,A,It).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pt(h(this,E),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pt(h(this,E),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,A,zt).call(this),G(this,A,Ct).call(this),h(this,E).removeObserver(this)}setOptions(t){const n=this.options,s=h(this,E);if(this.options=h(this,ne).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof le(this.options.enabled,h(this,E))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,A,Rt).call(this),h(this,E).setOptions(this.options),n._defaulted&&!xt(this.options,n)&&h(this,ne).getQueryCache().notify({type:"observerOptionsUpdated",query:h(this,E),observer:this});const i=this.hasListeners();i&&Qt(h(this,E),s,this.options,n)&&G(this,A,He).call(this),this.updateResult(),i&&(h(this,E)!==s||le(this.options.enabled,h(this,E))!==le(n.enabled,h(this,E))||Be(this.options.staleTime,h(this,E))!==Be(n.staleTime,h(this,E)))&&G(this,A,vt).call(this);const r=G(this,A,yt).call(this);i&&(h(this,E)!==s||le(this.options.enabled,h(this,E))!==le(n.enabled,h(this,E))||r!==h(this,pe))&&G(this,A,St).call(this,r)}getOptimisticResult(t){const n=h(this,ne).getQueryCache().build(h(this,ne),t),s=this.createResult(n,t);return js(this,s)&&($(this,ee,s),$(this,je,this.options),$(this,ge,h(this,E).state)),s}getCurrentResult(){return h(this,ee)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(s,i))})}trackProp(t){h(this,_e).add(t)}getCurrentQuery(){return h(this,E)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=h(this,ne).defaultQueryOptions(t),s=h(this,ne).getQueryCache().build(h(this,ne),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return G(this,A,He).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),h(this,ee)))}createResult(t,n){var Q;const s=h(this,E),i=this.options,r=h(this,ee),o=h(this,ge),l=h(this,je),p=t!==s?t.state:h(this,Qe),{state:b}=t;let f={...b},d=!1,x;if(n._optimisticResults){const L=this.hasListeners(),O=!L&&Gt(t,n),k=L&&Qt(t,s,n,i);(O||k)&&(f={...f,...Jn(b.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:R,status:S}=f;x=f.data;let z=!1;if(n.placeholderData!==void 0&&x===void 0&&S==="pending"){let L;r!=null&&r.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(L=r.data,z=!0):L=typeof n.placeholderData=="function"?n.placeholderData((Q=h(this,Ee))==null?void 0:Q.state.data,h(this,Ee)):n.placeholderData,L!==void 0&&(S="success",x=Bt(r==null?void 0:r.data,L,n),d=!0)}if(n.select&&x!==void 0&&!z)if(r&&x===(o==null?void 0:o.data)&&n.select===h(this,We))x=h(this,we);else try{$(this,We,n.select),x=n.select(x),x=Bt(r==null?void 0:r.data,x,n),$(this,we,x),$(this,he,null)}catch(L){$(this,he,L)}h(this,he)&&(y=h(this,he),x=h(this,we),R=Date.now(),S="error");const M=f.fetchStatus==="fetching",H=S==="pending",N=S==="error",J=H&&M,T=x!==void 0,_={status:S,fetchStatus:f.fetchStatus,isPending:H,isSuccess:S==="success",isError:N,isInitialLoading:J,isLoading:J,data:x,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:R,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>p.dataUpdateCount||f.errorUpdateCount>p.errorUpdateCount,isFetching:M,isRefetching:M&&!H,isLoadingError:N&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:N&&T,isStale:Et(t,n),refetch:this.refetch,promise:h(this,fe)};if(this.options.experimental_prefetchInRender){const L=X=>{_.status==="error"?X.reject(_.error):_.data!==void 0&&X.resolve(_.data)},O=()=>{const X=$(this,fe,_.promise=$t());L(X)},k=h(this,fe);switch(k.status){case"pending":t.queryHash===s.queryHash&&L(k);break;case"fulfilled":(_.status==="error"||_.data!==k.value)&&O();break;case"rejected":(_.status!=="error"||_.error!==k.reason)&&O();break}}return _}updateResult(){const t=h(this,ee),n=this.createResult(h(this,E),this.options);if($(this,ge,h(this,E).state),$(this,je,this.options),h(this,ge).data!==void 0&&$(this,Ee,h(this,E)),xt(n,t))return;$(this,ee,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!h(this,_e).size)return!0;const o=new Set(r??h(this,_e));return this.options.throwOnError&&o.add("error"),Object.keys(h(this,ee)).some(l=>{const c=l;return h(this,ee)[c]!==t[c]&&o.has(c)})};G(this,A,an).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,A,It).call(this)}},ne=new WeakMap,E=new WeakMap,Qe=new WeakMap,ee=new WeakMap,ge=new WeakMap,je=new WeakMap,fe=new WeakMap,he=new WeakMap,We=new WeakMap,we=new WeakMap,Ee=new WeakMap,be=new WeakMap,ve=new WeakMap,pe=new WeakMap,_e=new WeakMap,A=new WeakSet,He=function(t){G(this,A,Rt).call(this);let n=h(this,E).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(gt)),n},vt=function(){G(this,A,zt).call(this);const t=Be(this.options.staleTime,h(this,E));if(bt||h(this,ee).isStale||!Ot(t))return;const s=qn(h(this,ee).dataUpdatedAt,t)+1;$(this,be,setTimeout(()=>{h(this,ee).isStale||this.updateResult()},s))},yt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(h(this,E)):this.options.refetchInterval)??!1},St=function(t){G(this,A,Ct).call(this),$(this,pe,t),!(bt||le(this.options.enabled,h(this,E))===!1||!Ot(h(this,pe))||h(this,pe)===0)&&$(this,ve,setInterval(()=>{(this.options.refetchIntervalInBackground||Xn.isFocused())&&G(this,A,He).call(this)},h(this,pe)))},It=function(){G(this,A,vt).call(this),G(this,A,St).call(this,G(this,A,yt).call(this))},zt=function(){h(this,be)&&(clearTimeout(h(this,be)),$(this,be,void 0))},Ct=function(){h(this,ve)&&(clearInterval(h(this,ve)),$(this,ve,void 0))},Rt=function(){const t=h(this,ne).getQueryCache().build(h(this,ne),this.options);if(t===h(this,E))return;const n=h(this,E);$(this,E,t),$(this,Qe,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},an=function(t){on.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(h(this,ee))}),h(this,ne).getQueryCache().notify({query:h(this,E),type:"observerResultsUpdated"})})},rn);function Ps(e,t){return le(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Gt(e,t){return Ps(e,t)||e.state.data!==void 0&&Pt(e,t,t.refetchOnMount)}function Pt(e,t,n){if(le(t.enabled,e)!==!1&&Be(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Et(e,t)}return!1}function Qt(e,t,n,s){return(e!==t||le(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Et(e,n)}function Et(e,t){return le(t.enabled,e)!==!1&&e.isStaleByTime(Be(t.staleTime,e))}function js(e,t){return!xt(e.getCurrentResult(),t)}var ln=u.createContext(!1),ws=()=>u.useContext(ln);ln.Provider;function Es(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _s=u.createContext(Es()),ks=()=>u.useContext(_s),Ls=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ms=e=>{u.useEffect(()=>{e.clearReset()},[e])},Ts=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||Yn(n,[e.error,s])),As=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>t(n(...s)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Ns=(e,t)=>e.isLoading&&e.isFetching&&!t,Ds=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Wt=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Fs(e,t,n){var f,d,x,y,R;const s=ws(),i=ks(),r=Zn(),o=r.defaultQueryOptions(e);(d=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",As(o),Ls(o,i),Ms(i);const l=!r.getQueryCache().get(o.queryHash),[c]=u.useState(()=>new t(r,o)),p=c.getOptimisticResult(o),b=!s&&e.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(S=>{const z=b?c.subscribe(on.batchCalls(S)):gt;return c.updateResult(),z},[c,b]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),u.useEffect(()=>{c.setOptions(o)},[o,c]),Ds(o,p))throw Wt(o,c,i);if(Ts({result:p,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw p.error;if((y=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||y.call(x,o,p),o.experimental_prefetchInRender&&!bt&&Ns(p,s)){const S=l?Wt(o,c,i):(R=r.getQueryCache().get(o.queryHash))==null?void 0:R.promise;S==null||S.catch(gt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?p:c.trackResult(p)}function Hs(e,t){return Fs(e,Rs)}const it=u.createContext(null);it.displayName="PanelGroupContext";const U={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},_t=10,ye=u.useLayoutEffect,Kt=Tn.useId,$s=typeof Kt=="function"?Kt:()=>null;let Os=0;function kt(e=null){const t=$s(),n=u.useRef(e||t||null);return n.current===null&&(n.current=""+Os++),e??n.current}function cn({children:e,className:t="",collapsedSize:n,collapsible:s,defaultSize:i,forwardedRef:r,id:o,maxSize:l,minSize:c,onCollapse:p,onExpand:b,onResize:f,order:d,style:x,tagName:y="div",...R}){const S=u.useContext(it);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:z,expandPanel:M,getPanelSize:H,getPanelStyle:N,groupId:J,isPanelCollapsed:T,reevaluatePanelConstraints:m,registerPanel:_,resizePanel:Q,unregisterPanel:L}=S,O=kt(o),k=u.useRef({callbacks:{onCollapse:p,onExpand:b,onResize:f},constraints:{collapsedSize:n,collapsible:s,defaultSize:i,maxSize:l,minSize:c},id:O,idIsFromProps:o!==void 0,order:d});u.useRef({didLogMissingDefaultSizeWarning:!1}),ye(()=>{const{callbacks:W,constraints:K}=k.current,Y={...K};k.current.id=O,k.current.idIsFromProps=o!==void 0,k.current.order=d,W.onCollapse=p,W.onExpand=b,W.onResize=f,K.collapsedSize=n,K.collapsible=s,K.defaultSize=i,K.maxSize=l,K.minSize=c,(Y.collapsedSize!==K.collapsedSize||Y.collapsible!==K.collapsible||Y.maxSize!==K.maxSize||Y.minSize!==K.minSize)&&m(k.current,Y)}),ye(()=>{const W=k.current;return _(W),()=>{L(W)}},[d,O,_,L]),u.useImperativeHandle(r,()=>({collapse:()=>{z(k.current)},expand:W=>{M(k.current,W)},getId(){return O},getSize(){return H(k.current)},isCollapsed(){return T(k.current)},isExpanded(){return!T(k.current)},resize:W=>{Q(k.current,W)}}),[z,M,H,T,O,Q]);const X=N(k.current,i);return u.createElement(y,{...R,children:e,className:t,id:O,style:{...X,...x},[U.groupId]:J,[U.panel]:"",[U.panelCollapsible]:s||void 0,[U.panelId]:O,[U.panelSize]:parseFloat(""+X.flexGrow).toFixed(1)})}const jt=u.forwardRef((e,t)=>u.createElement(cn,{...e,forwardedRef:t}));cn.displayName="Panel";jt.displayName="forwardRef(Panel)";let wt=null,Ze=-1,ue=null;function Bs(e,t){if(t){const n=(t&pn)!==0,s=(t&mn)!==0,i=(t&xn)!==0,r=(t&gn)!==0;if(n)return i?"se-resize":r?"ne-resize":"e-resize";if(s)return i?"sw-resize":r?"nw-resize":"w-resize";if(i)return"s-resize";if(r)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Us(){ue!==null&&(document.head.removeChild(ue),wt=null,ue=null,Ze=-1)}function dt(e,t){var n,s;const i=Bs(e,t);if(wt!==i){if(wt=i,ue===null&&(ue=document.createElement("style"),document.head.appendChild(ue)),Ze>=0){var r;(r=ue.sheet)===null||r===void 0||r.removeRule(Ze)}Ze=(n=(s=ue.sheet)===null||s===void 0?void 0:s.insertRule(`*{cursor: ${i} !important;}`))!==null&&n!==void 0?n:-1}}function un(e){return e.type==="keydown"}function dn(e){return e.type.startsWith("pointer")}function fn(e){return e.type.startsWith("mouse")}function ot(e){if(dn(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(fn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Vs(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Gs(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Qs(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Jt(e),b:Jt(t)};let s;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),s=e;j(s,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Xt(qt(n.a)),b:Xt(qt(n.b))};if(i.a===i.b){const r=s.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let l=r.length;for(;l--;){const c=r[l];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(i.a-i.b)}const Ws=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Ks(e){var t;const n=getComputedStyle((t=hn(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function qs(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Ks(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Ws.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function qt(e){let t=e.length;for(;t--;){const n=e[t];if(j(n,"Missing node"),qs(n))return n}return null}function Xt(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Jt(e){const t=[];for(;e;)t.push(e),e=hn(e);return t}function hn(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const pn=1,mn=2,xn=4,gn=8,Xs=Vs()==="coarse";let ie=[],Pe=!1,de=new Map,at=new Map;const Ve=new Set;function Js(e,t,n,s,i){var r;const{ownerDocument:o}=t,l={direction:n,element:t,hitAreaMargins:s,setResizeHandlerState:i},c=(r=de.get(o))!==null&&r!==void 0?r:0;return de.set(o,c+1),Ve.add(l),tt(),function(){var b;at.delete(e),Ve.delete(l);const f=(b=de.get(o))!==null&&b!==void 0?b:1;if(de.set(o,f-1),tt(),f===1&&de.delete(o),ie.includes(l)){const d=ie.indexOf(l);d>=0&&ie.splice(d,1),Mt(),i("up",!0,null)}}}function Ys(e){const{target:t}=e,{x:n,y:s}=ot(e);Pe=!0,Lt({target:t,x:n,y:s}),tt(),ie.length>0&&(nt("down",e),e.preventDefault(),bn(t)||e.stopImmediatePropagation())}function ft(e){const{x:t,y:n}=ot(e);if(Pe&&e.buttons===0&&(Pe=!1,nt("up",e)),!Pe){const{target:s}=e;Lt({target:s,x:t,y:n})}nt("move",e),Mt(),ie.length>0&&e.preventDefault()}function ht(e){const{target:t}=e,{x:n,y:s}=ot(e);at.clear(),Pe=!1,ie.length>0&&(e.preventDefault(),bn(t)||e.stopImmediatePropagation()),nt("up",e),Lt({target:t,x:n,y:s}),Mt(),tt()}function bn(e){let t=e;for(;t;){if(t.hasAttribute(U.resizeHandle))return!0;t=t.parentElement}return!1}function Lt({target:e,x:t,y:n}){ie.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),Ve.forEach(i=>{const{element:r,hitAreaMargins:o}=i,l=r.getBoundingClientRect(),{bottom:c,left:p,right:b,top:f}=l,d=Xs?o.coarse:o.fine;if(t>=p-d&&t<=b+d&&n>=f-d&&n<=c+d){if(s!==null&&document.contains(s)&&r!==s&&!r.contains(s)&&!s.contains(r)&&Qs(s,r)>0){let y=s,R=!1;for(;y&&!y.contains(r);){if(Gs(y.getBoundingClientRect(),l)){R=!0;break}y=y.parentElement}if(R)return}ie.push(i)}})}function pt(e,t){at.set(e,t)}function Mt(){let e=!1,t=!1;ie.forEach(s=>{const{direction:i}=s;i==="horizontal"?e=!0:t=!0});let n=0;at.forEach(s=>{n|=s}),e&&t?dt("intersection",n):e?dt("horizontal",n):t?dt("vertical",n):Us()}let mt;function tt(){var e;(e=mt)===null||e===void 0||e.abort(),mt=new AbortController;const t={capture:!0,signal:mt.signal};Ve.size&&(Pe?(ie.length>0&&de.forEach((n,s)=>{const{body:i}=s;n>0&&(i.addEventListener("contextmenu",ht,t),i.addEventListener("pointerleave",ft,t),i.addEventListener("pointermove",ft,t))}),de.forEach((n,s)=>{const{body:i}=s;i.addEventListener("pointerup",ht,t),i.addEventListener("pointercancel",ht,t)})):de.forEach((n,s)=>{const{body:i}=s;n>0&&(i.addEventListener("pointerdown",Ys,t),i.addEventListener("pointermove",ft,t))}))}function nt(e,t){Ve.forEach(n=>{const{setResizeHandlerState:s}=n,i=ie.includes(n);s(e,i,t)})}function Zs(){const[e,t]=u.useState(0);return u.useCallback(()=>t(n=>n+1),[])}function j(e,t){if(!e)throw console.error(t),Error(t)}function Se(e,t,n=_t){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function ce(e,t,n=_t){return Se(e,t,n)===0}function se(e,t,n){return Se(e,t,n)===0}function er(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){const i=e[s],r=t[s];if(!se(i,r,n))return!1}return!0}function Re({panelConstraints:e,panelIndex:t,size:n}){const s=e[t];j(s!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:r,maxSize:o=100,minSize:l=0}=s;if(Se(n,l)<0)if(r){const c=(i+l)/2;Se(n,c)<0?n=i:n=l}else n=l;return n=Math.min(o,n),n=parseFloat(n.toFixed(_t)),n}function $e({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:s,prevLayout:i,trigger:r}){if(se(e,0))return t;const o=[...t],[l,c]=s;j(l!=null,"Invalid first pivot index"),j(c!=null,"Invalid second pivot index");let p=0;if(r==="keyboard"){{const f=e<0?c:l,d=n[f];j(d,`Panel constraints not found for index ${f}`);const{collapsedSize:x=0,collapsible:y,minSize:R=0}=d;if(y){const S=t[f];if(j(S!=null,`Previous layout not found for panel index ${f}`),se(S,x)){const z=R-S;Se(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}{const f=e<0?l:c,d=n[f];j(d,`No panel constraints found for index ${f}`);const{collapsedSize:x=0,collapsible:y,minSize:R=0}=d;if(y){const S=t[f];if(j(S!=null,`Previous layout not found for panel index ${f}`),se(S,R)){const z=S-x;Se(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}}{const f=e<0?1:-1;let d=e<0?c:l,x=0;for(;;){const R=t[d];j(R!=null,`Previous layout not found for panel index ${d}`);const z=Re({panelConstraints:n,panelIndex:d,size:100})-R;if(x+=z,d+=f,d<0||d>=n.length)break}const y=Math.min(Math.abs(e),Math.abs(x));e=e<0?0-y:y}{let d=e<0?l:c;for(;d>=0&&d<n.length;){const x=Math.abs(e)-Math.abs(p),y=t[d];j(y!=null,`Previous layout not found for panel index ${d}`);const R=y-x,S=Re({panelConstraints:n,panelIndex:d,size:R});if(!se(y,S)&&(p+=y-S,o[d]=S,p.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?d--:d++}}if(er(i,o))return i;{const f=e<0?c:l,d=t[f];j(d!=null,`Previous layout not found for panel index ${f}`);const x=d+p,y=Re({panelConstraints:n,panelIndex:f,size:x});if(o[f]=y,!se(y,x)){let R=x-y,z=e<0?c:l;for(;z>=0&&z<n.length;){const M=o[z];j(M!=null,`Previous layout not found for panel index ${z}`);const H=M+R,N=Re({panelConstraints:n,panelIndex:z,size:H});if(se(M,N)||(R-=N-M,o[z]=N),se(R,0))break;e>0?z--:z++}}}const b=o.reduce((f,d)=>d+f,0);return se(b,100)?o:i}function tr({layout:e,panelsArray:t,pivotIndices:n}){let s=0,i=100,r=0,o=0;const l=n[0];j(l!=null,"No pivot index found"),t.forEach((f,d)=>{const{constraints:x}=f,{maxSize:y=100,minSize:R=0}=x;d===l?(s=R,i=y):(r+=R,o+=y)});const c=Math.min(i,100-r),p=Math.max(s,100-o),b=e[l];return{valueMax:c,valueMin:p,valueNow:b}}function Ge(e,t=document){return Array.from(t.querySelectorAll(`[${U.resizeHandleId}][data-panel-group-id="${e}"]`))}function vn(e,t,n=document){const i=Ge(e,n).findIndex(r=>r.getAttribute(U.resizeHandleId)===t);return i??null}function yn(e,t,n){const s=vn(e,t,n);return s!=null?[s,s+1]:[-1,-1]}function nr(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function Sn(e,t=document){if(nr(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function Ke(e,t=document){const n=t.querySelector(`[${U.resizeHandleId}="${e}"]`);return n||null}function sr(e,t,n,s=document){var i,r,o,l;const c=Ke(t,s),p=Ge(e,s),b=c?p.indexOf(c):-1,f=(i=(r=n[b])===null||r===void 0?void 0:r.id)!==null&&i!==void 0?i:null,d=(o=(l=n[b+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[f,d]}function rr({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:s,panelDataArray:i,panelGroupElement:r,setLayout:o}){u.useRef({didWarnAboutMissingResizeHandle:!1}),ye(()=>{if(!r)return;const l=Ge(n,r);for(let c=0;c<i.length-1;c++){const{valueMax:p,valueMin:b,valueNow:f}=tr({layout:s,panelsArray:i,pivotIndices:[c,c+1]}),d=l[c];if(d!=null){const x=i[c];j(x,`No panel data found for index "${c}"`),d.setAttribute("aria-controls",x.id),d.setAttribute("aria-valuemax",""+Math.round(p)),d.setAttribute("aria-valuemin",""+Math.round(b)),d.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{l.forEach((c,p)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,s,i,r]),u.useEffect(()=>{if(!r)return;const l=t.current;j(l,"Eager values not found");const{panelDataArray:c}=l,p=Sn(n,r);j(p!=null,`No group found for id "${n}"`);const b=Ge(n,r);j(b,`No resize handles found for group id "${n}"`);const f=b.map(d=>{const x=d.getAttribute(U.resizeHandleId);j(x,"Resize handle element has no handle id attribute");const[y,R]=sr(n,x,c,r);if(y==null||R==null)return()=>{};const S=z=>{if(!z.defaultPrevented)switch(z.key){case"Enter":{z.preventDefault();const M=c.findIndex(H=>H.id===y);if(M>=0){const H=c[M];j(H,`No panel data found for index ${M}`);const N=s[M],{collapsedSize:J=0,collapsible:T,minSize:m=0}=H.constraints;if(N!=null&&T){const _=$e({delta:se(N,J)?m-J:J-N,initialLayout:s,panelConstraints:c.map(Q=>Q.constraints),pivotIndices:yn(n,x,r),prevLayout:s,trigger:"keyboard"});s!==_&&o(_)}}break}}};return d.addEventListener("keydown",S),()=>{d.removeEventListener("keydown",S)}});return()=>{f.forEach(d=>d())}},[r,e,t,n,s,i,o])}function Yt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function In(e,t){const n=e==="horizontal",{x:s,y:i}=ot(t);return n?s:i}function ir(e,t,n,s,i){const r=n==="horizontal",o=Ke(t,i);j(o,`No resize handle element found for id "${t}"`);const l=o.getAttribute(U.groupId);j(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=s;const p=In(n,e),b=Sn(l,i);j(b,`No group element found for id "${l}"`);const f=b.getBoundingClientRect(),d=r?f.width:f.height;return(p-c)/d*100}function or(e,t,n,s,i,r){if(un(e)){const o=n==="horizontal";let l=0;e.shiftKey?l=100:i!=null?l=i:l=10;let c=0;switch(e.key){case"ArrowDown":c=o?0:l;break;case"ArrowLeft":c=o?-l:0;break;case"ArrowRight":c=o?l:0;break;case"ArrowUp":c=o?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return s==null?0:ir(e,t,n,s,r)}function ar({panelDataArray:e}){const t=Array(e.length),n=e.map(r=>r.constraints);let s=0,i=100;for(let r=0;r<e.length;r++){const o=n[r];j(o,`Panel constraints not found for index ${r}`);const{defaultSize:l}=o;l!=null&&(s++,t[r]=l,i-=l)}for(let r=0;r<e.length;r++){const o=n[r];j(o,`Panel constraints not found for index ${r}`);const{defaultSize:l}=o;if(l!=null)continue;const c=e.length-s,p=i/c;s++,t[r]=p,i-=p}return t}function ze(e,t,n){t.forEach((s,i)=>{const r=e[i];j(r,`Panel data not found for index ${i}`);const{callbacks:o,constraints:l,id:c}=r,{collapsedSize:p=0,collapsible:b}=l,f=n[c];if(f==null||s!==f){n[c]=s;const{onCollapse:d,onExpand:x,onResize:y}=o;y&&y(s,f),b&&(d||x)&&(x&&(f==null||ce(f,p))&&!ce(s,p)&&x(),d&&(f==null||!ce(f,p))&&ce(s,p)&&d())}})}function Ye(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function lr({defaultSize:e,dragState:t,layout:n,panelData:s,panelIndex:i,precision:r=3}){const o=n[i];let l;return o==null?l=e!=null?e.toPrecision(r):"1":s.length===1?l="1":l=o.toPrecision(r),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function cr(e,t=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}function Zt(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function zn(e){return`react-resizable-panels:${e}`}function Cn(e){return e.map(t=>{const{constraints:n,id:s,idIsFromProps:i,order:r}=t;return i?s:r?`${r}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Rn(e,t){try{const n=zn(e),s=t.getItem(n);if(s){const i=JSON.parse(s);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function ur(e,t,n){var s,i;const r=(s=Rn(e,n))!==null&&s!==void 0?s:{},o=Cn(t);return(i=r[o])!==null&&i!==void 0?i:null}function dr(e,t,n,s,i){var r;const o=zn(e),l=Cn(t),c=(r=Rn(e,i))!==null&&r!==void 0?r:{};c[l]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{i.setItem(o,JSON.stringify(c))}catch(p){console.error(p)}}function en({layout:e,panelConstraints:t}){const n=[...e],s=n.reduce((r,o)=>r+o,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(r=>`${r}%`).join(", ")}`);if(!se(s,100)&&n.length>0)for(let r=0;r<t.length;r++){const o=n[r];j(o!=null,`No layout data found for index ${r}`);const l=100/s*o;n[r]=l}let i=0;for(let r=0;r<t.length;r++){const o=n[r];j(o!=null,`No layout data found for index ${r}`);const l=Re({panelConstraints:t,panelIndex:r,size:o});o!=l&&(i+=o-l,n[r]=l)}if(!se(i,0))for(let r=0;r<t.length;r++){const o=n[r];j(o!=null,`No layout data found for index ${r}`);const l=o+i,c=Re({panelConstraints:t,panelIndex:r,size:l});if(o!==c&&(i-=c-o,n[r]=c,se(i,0)))break}return n}const fr=100,Oe={getItem:e=>(Zt(Oe),Oe.getItem(e)),setItem:(e,t)=>{Zt(Oe),Oe.setItem(e,t)}},tn={};function Pn({autoSaveId:e=null,children:t,className:n="",direction:s,forwardedRef:i,id:r=null,onLayout:o=null,keyboardResizeBy:l=null,storage:c=Oe,style:p,tagName:b="div",...f}){const d=kt(r),x=u.useRef(null),[y,R]=u.useState(null),[S,z]=u.useState([]),M=Zs(),H=u.useRef({}),N=u.useRef(new Map),J=u.useRef(0),T=u.useRef({autoSaveId:e,direction:s,dragState:y,id:d,keyboardResizeBy:l,onLayout:o,storage:c}),m=u.useRef({layout:S,panelDataArray:[],panelDataArrayChanged:!1});u.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),u.useImperativeHandle(i,()=>({getId:()=>T.current.id,getLayout:()=>{const{layout:g}=m.current;return g},setLayout:g=>{const{onLayout:C}=T.current,{layout:w,panelDataArray:I}=m.current,v=en({layout:g,panelConstraints:I.map(P=>P.constraints)});Yt(w,v)||(z(v),m.current.layout=v,C&&C(v),ze(I,v,H.current))}}),[]),ye(()=>{T.current.autoSaveId=e,T.current.direction=s,T.current.dragState=y,T.current.id=d,T.current.onLayout=o,T.current.storage=c}),rr({committedValuesRef:T,eagerValuesRef:m,groupId:d,layout:S,panelDataArray:m.current.panelDataArray,setLayout:z,panelGroupElement:x.current}),u.useEffect(()=>{const{panelDataArray:g}=m.current;if(e){if(S.length===0||S.length!==g.length)return;let C=tn[e];C==null&&(C=cr(dr,fr),tn[e]=C);const w=[...g],I=new Map(N.current);C(e,w,I,S,c)}},[e,S,c]),u.useEffect(()=>{});const _=u.useCallback(g=>{const{onLayout:C}=T.current,{layout:w,panelDataArray:I}=m.current;if(g.constraints.collapsible){const v=I.map(oe=>oe.constraints),{collapsedSize:P=0,panelSize:D,pivotIndices:V}=xe(I,g,w);if(j(D!=null,`Panel size not found for panel "${g.id}"`),!ce(D,P)){N.current.set(g.id,D);const ae=Ce(I,g)===I.length-1?D-P:P-D,B=$e({delta:ae,initialLayout:w,panelConstraints:v,pivotIndices:V,prevLayout:w,trigger:"imperative-api"});Ye(w,B)||(z(B),m.current.layout=B,C&&C(B),ze(I,B,H.current))}}},[]),Q=u.useCallback((g,C)=>{const{onLayout:w}=T.current,{layout:I,panelDataArray:v}=m.current;if(g.constraints.collapsible){const P=v.map(re=>re.constraints),{collapsedSize:D=0,panelSize:V=0,minSize:oe=0,pivotIndices:ae}=xe(v,g,I),B=C??oe;if(ce(V,D)){const re=N.current.get(g.id),Ae=re!=null&&re>=B?re:B,ct=Ce(v,g)===v.length-1?V-Ae:Ae-V,te=$e({delta:ct,initialLayout:I,panelConstraints:P,pivotIndices:ae,prevLayout:I,trigger:"imperative-api"});Ye(I,te)||(z(te),m.current.layout=te,w&&w(te),ze(v,te,H.current))}}},[]),L=u.useCallback(g=>{const{layout:C,panelDataArray:w}=m.current,{panelSize:I}=xe(w,g,C);return j(I!=null,`Panel size not found for panel "${g.id}"`),I},[]),O=u.useCallback((g,C)=>{const{panelDataArray:w}=m.current,I=Ce(w,g);return lr({defaultSize:C,dragState:y,layout:S,panelData:w,panelIndex:I})},[y,S]),k=u.useCallback(g=>{const{layout:C,panelDataArray:w}=m.current,{collapsedSize:I=0,collapsible:v,panelSize:P}=xe(w,g,C);return j(P!=null,`Panel size not found for panel "${g.id}"`),v===!0&&ce(P,I)},[]),X=u.useCallback(g=>{const{layout:C,panelDataArray:w}=m.current,{collapsedSize:I=0,collapsible:v,panelSize:P}=xe(w,g,C);return j(P!=null,`Panel size not found for panel "${g.id}"`),!v||Se(P,I)>0},[]),W=u.useCallback(g=>{const{panelDataArray:C}=m.current;C.push(g),C.sort((w,I)=>{const v=w.order,P=I.order;return v==null&&P==null?0:v==null?-1:P==null?1:v-P}),m.current.panelDataArrayChanged=!0,M()},[M]);ye(()=>{if(m.current.panelDataArrayChanged){m.current.panelDataArrayChanged=!1;const{autoSaveId:g,onLayout:C,storage:w}=T.current,{layout:I,panelDataArray:v}=m.current;let P=null;if(g){const V=ur(g,v,w);V&&(N.current=new Map(Object.entries(V.expandToSizes)),P=V.layout)}P==null&&(P=ar({panelDataArray:v}));const D=en({layout:P,panelConstraints:v.map(V=>V.constraints)});Yt(I,D)||(z(D),m.current.layout=D,C&&C(D),ze(v,D,H.current))}}),ye(()=>{const g=m.current;return()=>{g.layout=[]}},[]);const K=u.useCallback(g=>{let C=!1;const w=x.current;return w&&window.getComputedStyle(w,null).getPropertyValue("direction")==="rtl"&&(C=!0),function(v){v.preventDefault();const P=x.current;if(!P)return()=>null;const{direction:D,dragState:V,id:oe,keyboardResizeBy:ae,onLayout:B}=T.current,{layout:re,panelDataArray:Ae}=m.current,{initialLayout:Xe}=V??{},ct=yn(oe,g,P);let te=or(v,g,D,V,ae,P);const At=D==="horizontal";At&&C&&(te=-te);const Ln=Ae.map(Mn=>Mn.constraints),Ne=$e({delta:te,initialLayout:Xe??re,panelConstraints:Ln,pivotIndices:ct,prevLayout:re,trigger:un(v)?"keyboard":"mouse-or-touch"}),Nt=!Ye(re,Ne);(dn(v)||fn(v))&&J.current!=te&&(J.current=te,!Nt&&te!==0?At?pt(g,te<0?pn:mn):pt(g,te<0?xn:gn):pt(g,0)),Nt&&(z(Ne),m.current.layout=Ne,B&&B(Ne),ze(Ae,Ne,H.current))}},[]),Y=u.useCallback((g,C)=>{const{onLayout:w}=T.current,{layout:I,panelDataArray:v}=m.current,P=v.map(re=>re.constraints),{panelSize:D,pivotIndices:V}=xe(v,g,I);j(D!=null,`Panel size not found for panel "${g.id}"`);const ae=Ce(v,g)===v.length-1?D-C:C-D,B=$e({delta:ae,initialLayout:I,panelConstraints:P,pivotIndices:V,prevLayout:I,trigger:"imperative-api"});Ye(I,B)||(z(B),m.current.layout=B,w&&w(B),ze(v,B,H.current))},[]),ke=u.useCallback((g,C)=>{const{layout:w,panelDataArray:I}=m.current,{collapsedSize:v=0,collapsible:P}=C,{collapsedSize:D=0,collapsible:V,maxSize:oe=100,minSize:ae=0}=g.constraints,{panelSize:B}=xe(I,g,w);B!=null&&(P&&V&&ce(B,v)?ce(v,D)||Y(g,D):B<ae?Y(g,ae):B>oe&&Y(g,oe))},[Y]),Le=u.useCallback((g,C)=>{const{direction:w}=T.current,{layout:I}=m.current;if(!x.current)return;const v=Ke(g,x.current);j(v,`Drag handle element not found for id "${g}"`);const P=In(w,C);R({dragHandleId:g,dragHandleRect:v.getBoundingClientRect(),initialCursorPosition:P,initialLayout:I})},[]),Me=u.useCallback(()=>{R(null)},[]),qe=u.useCallback(g=>{const{panelDataArray:C}=m.current,w=Ce(C,g);w>=0&&(C.splice(w,1),delete H.current[g.id],m.current.panelDataArrayChanged=!0,M())},[M]),Ie=u.useMemo(()=>({collapsePanel:_,direction:s,dragState:y,expandPanel:Q,getPanelSize:L,getPanelStyle:O,groupId:d,isPanelCollapsed:k,isPanelExpanded:X,reevaluatePanelConstraints:ke,registerPanel:W,registerResizeHandle:K,resizePanel:Y,startDragging:Le,stopDragging:Me,unregisterPanel:qe,panelGroupElement:x.current}),[_,y,s,Q,L,O,d,k,X,ke,W,K,Y,Le,Me,qe]),Te={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return u.createElement(it.Provider,{value:Ie},u.createElement(b,{...f,children:t,className:n,id:r,ref:x,style:{...Te,...p},[U.group]:"",[U.groupDirection]:s,[U.groupId]:d}))}const jn=u.forwardRef((e,t)=>u.createElement(Pn,{...e,forwardedRef:t}));Pn.displayName="PanelGroup";jn.displayName="forwardRef(PanelGroup)";function Ce(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function xe(e,t,n){const s=Ce(e,t),r=s===e.length-1?[s-1,s]:[s,s+1],o=n[s];return{...t.constraints,panelSize:o,pivotIndices:r}}function hr({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:s}){u.useEffect(()=>{if(e||n==null||s==null)return;const i=Ke(t,s);if(i==null)return;const r=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const l=i.getAttribute(U.groupId);j(l,`No group element found for id "${l}"`);const c=Ge(l,s),p=vn(l,t,s);j(p!==null,`No resize element found for id "${t}"`);const b=o.shiftKey?p>0?p-1:c.length-1:p+1<c.length?p+1:0;c[b].focus();break}}};return i.addEventListener("keydown",r),()=>{i.removeEventListener("keydown",r)}},[s,e,t,n])}function wn({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:s,id:i,onBlur:r,onClick:o,onDragging:l,onFocus:c,onPointerDown:p,onPointerUp:b,style:f={},tabIndex:d=0,tagName:x="div",...y}){var R,S;const z=u.useRef(null),M=u.useRef({onClick:o,onDragging:l,onPointerDown:p,onPointerUp:b});u.useEffect(()=>{M.current.onClick=o,M.current.onDragging=l,M.current.onPointerDown=p,M.current.onPointerUp=b});const H=u.useContext(it);if(H===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:N,groupId:J,registerResizeHandle:T,startDragging:m,stopDragging:_,panelGroupElement:Q}=H,L=kt(i),[O,k]=u.useState("inactive"),[X,W]=u.useState(!1),[K,Y]=u.useState(null),ke=u.useRef({state:O});ye(()=>{ke.current.state=O}),u.useEffect(()=>{if(n)Y(null);else{const Ie=T(L);Y(()=>Ie)}},[n,L,T]);const Le=(R=s==null?void 0:s.coarse)!==null&&R!==void 0?R:15,Me=(S=s==null?void 0:s.fine)!==null&&S!==void 0?S:5;u.useEffect(()=>{if(n||K==null)return;const Ie=z.current;j(Ie,"Element ref not attached");let Te=!1;return Js(L,Ie,N,{coarse:Le,fine:Me},(C,w,I)=>{if(!w){k("inactive");return}switch(C){case"down":{k("drag"),Te=!1,j(I,'Expected event to be defined for "down" action'),m(L,I);const{onDragging:v,onPointerDown:P}=M.current;v==null||v(!0),P==null||P();break}case"move":{const{state:v}=ke.current;Te=!0,v!=="drag"&&k("hover"),j(I,'Expected event to be defined for "move" action'),K(I);break}case"up":{k("hover"),_();const{onClick:v,onDragging:P,onPointerUp:D}=M.current;P==null||P(!1),D==null||D(),Te||v==null||v();break}}})},[Le,N,n,Me,T,L,K,m,_]),hr({disabled:n,handleId:L,resizeHandler:K,panelGroupElement:Q});const qe={touchAction:"none",userSelect:"none"};return u.createElement(x,{...y,children:e,className:t,id:i,onBlur:()=>{W(!1),r==null||r()},onFocus:()=>{W(!0),c==null||c()},ref:z,role:"separator",style:{...qe,...f},tabIndex:d,[U.groupDirection]:N,[U.groupId]:J,[U.resizeHandle]:"",[U.resizeHandleActive]:O==="drag"?"pointer":X?"keyboard":void 0,[U.resizeHandleEnabled]:!n,[U.resizeHandleId]:L,[U.resizeHandleState]:O})}wn.displayName="PanelResizeHandle";const pr="/805/assets/sandbox.model1-B8uu5h-t.json",mr="/805/assets/sandbox.model2-Bi69Ub92.json",xr="data:application/json;base64,ewoJIm5hbWUiOiAiRXBvY2ggU3lzdGVtIGlNb2RlbCAzIiwKCSJ2ZXJzaW9uIjogIjIwMjQgUmVmcmVzaCIsCgkiZGF0YSI6IHsKCQkiZGVmYXVsdCI6IFtdCgl9Cn0K",gr="_appLayout_1f5ib_5",br="_header_1f5ib_18",vr="_platformBar_1f5ib_31",yr="_logo_1f5ib_38",Sr="_tools_1f5ib_48",Ir="_content_1f5ib_58",zr="_leftPanel_1f5ib_62",Cr="_panelHeader_1f5ib_73",Rr="_panelTitleWrapper_1f5ib_81",Pr="_panelCaption_1f5ib_85",jr="_shiftIconRight_1f5ib_89",wr="_subheader_1f5ib_93",Er="_searchInput_1f5ib_109",_r="_subheaderActions_1f5ib_113",kr="_tabList_1f5ib_117",Lr="_emptyState_1f5ib_122",Mr="_skeletonTree_1f5ib_131",Tr="_skeletonTreeItem_1f5ib_138",Ar="_canvasWrapper_1f5ib_147",Nr="_canvas_1f5ib_147",Dr="_splitter_1f5ib_184",Fr="_tabPanel_1f5ib_210",Hr="_tree_1f5ib_219",$r="_colorSwatch_1f5ib_224",F={appLayout:gr,header:br,platformBar:vr,logo:yr,tools:Sr,content:Ir,leftPanel:zr,panelHeader:Cr,panelTitleWrapper:Rr,panelCaption:Pr,shiftIconRight:jr,subheader:wr,searchInput:Er,subheaderActions:_r,tabList:kr,emptyState:Lr,skeletonTree:Mr,skeletonTreeItem:Tr,canvasWrapper:Ar,canvas:Nr,splitter:Dr,tabPanel:Fr,tree:Hr,colorSwatch:$r},st={model1:{name:"Epoch System iModel 1",url:pr},model2:{name:"Epoch System iModel 2",url:mr},model3:{name:"Epoch System iModel 3",url:xr}};async function Or(e){if(e in st){const t=await fetch(st[e].url).then(n=>n.json());return t.slow&&await new Promise(n=>setTimeout(n,Math.random()*2e3)),t}return{name:"Unknown",version:"Unknown",data:{default:[]}}}const En="StrataKit sandbox",Oi=()=>[{title:En}],Bi=An(function(){return a.jsxs("div",{className:F.appLayout,children:[a.jsx(Ur,{}),a.jsx(Br,{}),a.jsxs(jn,{direction:"horizontal",className:F.content,keyboardResizeBy:2.5,children:[a.jsxs("nav",{"aria-label":"Left panel",style:{display:"contents"},children:[a.jsx(jt,{defaultSize:20,minSize:15,maxSize:35,className:F.leftPanel,children:a.jsx(Gr,{})}),a.jsx(Wr,{})]}),a.jsx(jt,{className:F.canvasWrapper,tagName:"main",children:a.jsx(Vr,{})})]})]})});function Br(){return a.jsx("header",{className:F.header,children:a.jsx(rt,{render:a.jsx("h1",{}),variant:"body-md",children:En})})}function Ur(){return a.jsxs("nav",{className:F.platformBar,children:[a.jsx("div",{className:F.logo,children:a.jsx(De,{href:Fe,size:"large"})}),a.jsxs("div",{className:F.tools,children:[a.jsx(De,{href:Fe,size:"large"}),a.jsx(De,{href:Fe,size:"large"}),a.jsx(De,{href:Fe,size:"large"})]})]})}function Vr(){return a.jsx("div",{className:F.canvas,children:a.jsxs(ps,{variant:"solid",children:[a.jsx(Je,{render:a.jsx(me,{label:"Select",icon:rs,variant:"ghost"})}),a.jsx(Je,{render:a.jsx(me,{label:"Move",icon:is,variant:"ghost"})}),a.jsx(Je,{render:a.jsx(me,{label:"Draw",icon:os,variant:"ghost"})}),a.jsx(Je,{render:a.jsx(me,{label:"Measure",icon:as,variant:"ghost"})})]})})}function Gr(){var i;const[e,t]=Nn(),n=e.get("model")||"model1",s=Hs({queryKey:["sandbox-data",n],queryFn:()=>Or(n),staleTime:Number.POSITIVE_INFINITY});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:F.panelHeader,children:[a.jsxs("div",{children:[a.jsxs(Hn,{children:[a.jsx(Ue,{render:a.jsx($n,{}),children:"Choose Model"}),a.jsx(On,{render:r=>a.jsx(Bn,{className:F.panelTitleWrapper,children:a.jsx(Un,{...r,variant:"ghost",defaultValue:n,onChange:o=>t({model:o.currentTarget.value}),children:Object.entries(st).map(([o,{name:l}])=>a.jsx("option",{value:o,children:l},o))})})})]}),a.jsxs("hgroup",{role:"group",children:[a.jsx(Ue,{render:a.jsx("h2",{}),children:(i=st[n])==null?void 0:i.name}),a.jsx(u.Suspense,{fallback:a.jsx(et,{variant:"text"}),children:a.jsx(Xr,{query:s})},n)]})]}),a.jsx("div",{children:a.jsx(me,{className:F.shiftIconRight,icon:ss,label:"Dock panel",variant:"ghost",disabled:!0})})]}),a.jsx(u.Suspense,{fallback:a.jsx(Kr,{}),children:a.jsx(Qr,{query:s})},n)]})}function Qr(e){const{data:t}=u.use(e.query.promise);return a.jsx(oi,{defaultVisible:Object.keys(t).length!==1,children:a.jsx(Jr,{data:t})})}function Wr(){const e=u.useId();return u.useEffect(()=>{const t=Ke(e);t==null||t.setAttribute("role","slider")},[e]),a.jsx(wn,{id:e,hitAreaMargins:{fine:2,coarse:12},className:F.splitter,"aria-label":"Resize left panel"})}function Kr(){const e=[1,1,2,2,3,2,3,2,1,1,2,3,4,5,2,3,4,5];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:F.subheader,children:a.jsx(et,{variant:"text"})}),a.jsxs("div",{className:F.skeletonTree,children:[e.map((t,n)=>a.jsx(qr,{style:{"--level":t}},`${n}-${t}`)),a.jsx(Ue,{children:"Loadingâ€¦"})]})]})}function qr(e){return a.jsxs("div",{...e,className:Vn(F.skeletonTreeItem,e.className),children:[a.jsx(et,{variant:"object",size:"small"}),a.jsx(et,{variant:"text"})]})}function Xr(e){const{version:t=""}=u.use(e.query.promise);return a.jsx(rt,{className:F.panelCaption,variant:"body-sm",render:a.jsx("p",{}),children:t})}function Jr(e){var o;const{isSearchboxVisible:t}=u.useContext(Tt),n=u.useMemo(()=>Object.entries(e.data).map(([l,c])=>{const p=c.length<=1?[]:c.map(({label:b})=>b);return{name:l,filters:p,content:c.length>0?a.jsx(si,{data:c}):a.jsxs(Yr,{children:[a.jsx(rt,{variant:"body-sm",children:"No layers"}),a.jsx(Dn,{children:"Create a layer"})]})}}),[e.data]),[s,i]=u.useState((o=n[0])==null?void 0:o.name),r=u.useMemo(()=>{var l;return s?((l=n.find(c=>c.name===s))==null?void 0:l.filters)||[]:n[0].filters},[n,s]);return n.length===1?a.jsxs(sn,{allFilters:r,children:[a.jsx(nn,{}),n[0].content]}):a.jsx(sn,{allFilters:r,children:a.jsxs(ms,{selectOnMove:!1,setSelectedId:i,children:[a.jsx(nn,{tabs:n.map(l=>a.jsx(xs,{id:l.name,children:Fn(l.name)},l.name))}),n.map(l=>a.jsx(gs,{role:t?"group":"tabpanel","aria-label":t?l.name:void 0,tabId:l.name,className:F.tabPanel,focusable:!1,unmountOnHide:!0,children:l.content},l.name))]})})}function Yr({children:e}){return a.jsx("div",{className:F.emptyState,children:e})}function Zr(){return a.jsx("div",{style:{textAlign:"center"},children:a.jsx(rt,{variant:"body-sm",children:"No results found"})})}const _n=(()=>{let e=0;return t=>({id:`${e++}`,label:`Tree Item ${e}`,expanded:!0,...t,items:((t==null?void 0:t.items)??[]).map(_n)})})();function ei({items:e,filters:t,search:n,errorIds:s}){const i=u.useMemo(()=>t.length===0?e:e.reduce((l,c)=>(t.includes(c.label)&&l.push(c),l),[]),[e,t]),r=u.useMemo(()=>{function l(c){return c.reduce((p,b)=>{const d=s.includes(b.id)?[]:l(b.items??[]);return(b.label.toLowerCase().includes(n.toLowerCase())||d.length>0)&&p.push({...b,items:d}),p},[])}return n===""&&s.length===0?i:l(i)},[i,n,s]),o=u.useMemo(()=>{if(t.length===0&&n==="")return;function l(c){return c.reduce((p,b)=>{const f=b.items?l(b.items):0;return p+1+f},0)}return l(r)},[r,t,n]);return{filteredTree:r,itemCount:o}}function ti(e,t){return u.useMemo(()=>{function n(s){return s.reduce((i,r)=>(t.includes(r.id)&&i.push(r),r.items&&i.push(...n(r.items)),i),[])}return n(e)},[e,t])}function ni(e,t,n){return u.useMemo(()=>{function s(i,r,o,l,c){const p=[];let b=1;for(const f of i){const d=f.id===t||l,x=n.includes(f.id)||c;p.push({...f,level:o,parentItem:r,selected:d,hidden:x,parentHidden:c,position:b++,size:i.length}),f.expanded&&p.push(...s(f.items,f,o+1,d,x))}return p}return s(e,void 0,1,!1,!1)},[e,t,n])}function kn(e,t){for(const n of e){if(n.id===t)return n;const s=kn(n.items,t);if(s)return s}}function si({data:e}){const{appliedFilters:t,search:n,setItemCount:s}=u.useContext(lt),i=u.useId(),[r,o]=u.useState(),[l,c]=u.useState([]),p=u.useCallback(m=>{c(_=>_.includes(m)?_.filter(Q=>Q!==m):[..._,m])},[]),[b,f]=u.useState(()=>e.map(m=>_n(m))),[d,x]=u.useState(["benstr","benroad"]),y=ti(b,d),R=u.useMemo(()=>y.filter(m=>m.expanded),[y]),S=u.useMemo(()=>R.map(m=>m.id),[R]),{filteredTree:z,itemCount:M}=ei({items:b,filters:t,search:n,errorIds:S}),H=ni(z,r,l);u.useEffect(()=>{s(M)},[s,M]);const N=R.length,J=u.useMemo(()=>{if(N!==0)return N===1?"1 issue found":`${N} issues found`},[N]),T=u.useDeferredValue(H);return T.length===0?a.jsx(Zr,{}):a.jsxs(u.Suspense,{fallback:"Loading...",children:[a.jsx(vs,{"aria-label":"Tree errors",label:J,items:R.map(m=>{const _=`${i}-${m.id}`;return a.jsx(ys,{message:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Failed to create hierarchy for "}),a.jsx(Ht,{href:`#${_}`,children:m.label})]}),messageId:`${_}-message`,actions:a.jsx(Ht,{render:a.jsx("button",{}),onClick:()=>{x(Q=>Q.filter(L=>L!==m.id))},children:"Retry"},"retry")},m.id)})}),a.jsx(es,{className:F.tree,children:T.map(m=>{const _=R.find(k=>k.id===m.id),Q=_?`${i}-${m.id}`:void 0,L=[a.jsx(Z,{icon:cs,label:"Lock"},"lock"),a.jsx(ri,{item:m,onClick:p},"visibility"),a.jsx(Z,{label:"Copy"},"copy"),a.jsx(Z,{label:"Paste"},"paste"),a.jsx(Z,{label:"Copy/Paste as"},"copy-paste"),a.jsx(Z,{label:"Move to"},"move"),a.jsx(Z,{label:"Bring to front"},"bring-to-front"),a.jsx(Z,{label:"Send to back"},"send-to-back"),a.jsx(Z,{label:"Group selection"},"group"),a.jsx(Z,{label:"Ungroup"},"ungroup"),a.jsx(Z,{label:"Rename"},"rename"),a.jsx(Z,{label:"Show/hide"},"show-hide"),a.jsx(Z,{label:"Lock/unlock"},"lock-unlock"),a.jsx(Z,{label:"Isolate object"},"isolate")],O=L.splice(0,2);return a.jsx(ts,{id:Q,label:m.label,description:m.description,"aria-level":m.level,"aria-posinset":m.position,"aria-setsize":m.size,selected:m.selected,onSelectedChange:()=>{if(r===m.id){o(void 0);return}o(m.id)},expanded:m.items.length===0&&!_?void 0:m.expanded,onExpandedChange:k=>{f(ns(X=>{const W=kn(X,m.id);W&&(W.expanded=k)}))},unstable_decorations:a.jsxs(a.Fragment,{children:[m.color?a.jsx(ai,{color:m.color,alt:m.color}):null,a.jsx(De,{href:Fe})]}),actions:_?[a.jsx(Z,{icon:ls,label:"Retry",onClick:()=>{x(k=>k.filter(X=>X!==m.id))}},"retry"),a.jsx(Ut,{actions:L},"overflow")]:[...O,a.jsx(Ut,{actions:L},"overflow")],error:_?`${Q}-message`:void 0},m.id)})})]})}function ri({item:e,onClick:t}){return a.jsx(Z,{icon:e.hidden?ds:hs,label:e.hidden?"Show":"Hide",visible:e.hidden?!0:void 0,onClick:u.useCallback(()=>{t(e.id)},[t,e.id]),dot:e.hidden?"Hidden":void 0},"visibility")}function nn({tabs:e}){const{itemCount:t,isFiltered:n,search:s,setSearch:i}=u.useContext(lt),{isSearchboxVisible:r,setIsSearchboxVisible:o}=u.useContext(Tt),l=u.useRef(null),c=u.useRef(null),p=n||!!s,b=r?a.jsxs(a.Fragment,{children:[a.jsx(ii,{}),e?a.jsx(me,{className:F.shiftIconRight,icon:us,label:"Close",variant:"ghost",onClick:()=>{var d;Ft.flushSync(()=>o(!1)),(d=c.current)==null||d.focus()}}):null]}):a.jsx(me,{className:F.shiftIconRight,icon:Vt,label:"Search",dot:p?"Some filters or search applied":void 0,variant:"ghost",onClick:()=>{var d;Ft.flushSync(()=>o(!0)),(d=l.current)==null||d.focus()}}),f=u.useMemo(()=>{if(n)return t===void 0?"Showing all tree items":`Showing ${t} tree items`},[n,t]);return a.jsxs("div",{className:F.subheader,children:[a.jsx(Ue,{"aria-live":"polite","aria-atomic":!0,children:f}),e&&!r?a.jsx(bs,{className:F.tabList,tone:"accent",ref:c,children:e}):null,r?a.jsxs(Gn,{className:F.searchInput,children:[a.jsx(Qn,{href:Vt}),a.jsx(Wn,{placeholder:"Search",ref:l,onChange:d=>i(d.currentTarget.value)})]}):null,a.jsx("div",{className:F.subheaderActions,children:b})]})}function ii(){const e=u.useContext(lt),t=e.appliedFilters.length>0;return a.jsxs(Ss,{children:[a.jsx(Is,{render:a.jsx(me,{icon:fs,label:"Filter",dot:t?"Some filters applied":void 0,variant:"ghost",disabled:e.allFilters.length===0})}),a.jsx(zs,{children:e.allFilters.map(n=>{const s=e.appliedFilters.includes(n);return a.jsx(Cs,{name:n,label:n,checked:s,onChange:()=>{e.toggleFilter(n)}},n)})})]})}function sn(e){const[t,n]=u.useState(!1),[s,i]=u.useState([]),[r,o]=u.useState(""),[l,c]=u.useState(void 0),p=u.useCallback(d=>{const x=s.includes(d)?s.filter(y=>y!==d):[...s,d];i(x),n(x.length>0)},[s]),b=u.useCallback(()=>{i([]),n(!1)},[]),f=u.useCallback(d=>{o(d),n(!!d)},[]);return a.jsx(lt.Provider,{value:u.useMemo(()=>({allFilters:e.allFilters,appliedFilters:s,isFiltered:t,toggleFilter:p,clearFilters:b,search:r,setSearch:f,itemCount:l,setItemCount:c}),[e.allFilters,s,t,p,b,r,f,l]),children:e.children})}const lt=u.createContext({allFilters:[],appliedFilters:[],isFiltered:!1,toggleFilter:()=>{},clearFilters:()=>{},search:"",setSearch:()=>{},itemCount:void 0,setItemCount:()=>{}});function oi(e){const[t,n]=u.useState(!e.defaultVisible);return a.jsx(Tt.Provider,{value:u.useMemo(()=>({isSearchboxVisible:t,setIsSearchboxVisible:n}),[t]),children:e.children})}const Tt=u.createContext({isSearchboxVisible:!1,setIsSearchboxVisible:()=>{}});function ai(e){return a.jsx("div",{className:F.colorSwatch,style:{"--_color":`var(--_color--${e.color})`},children:e.alt?a.jsx(Ue,{children:e.alt}):null})}export{Bi as default,Oi as meta};
