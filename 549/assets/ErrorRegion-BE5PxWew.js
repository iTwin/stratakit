import{q as e,b as n}from"./index-BoeBPSKS.js";import{u as y,C}from"./RZ4GPYOB-BuR7pUML.js";import{L as w,M as R,l as h,N as E,O as L,V as B,o as O,d as v,Q as P,B as k,S as T}from"./~utils-C34rL-X6.js";import{C as V}from"./collection-BRHKurmM.js";import{D as q}from"./NTITENHD-NBQJfppS.js";import{T as j}from"./Text-DLnM3bLi.js";import{S as z,C as A}from"./~utils.icons-CbprtqIg.js";function H(r={}){const a=w(r);return e.jsx(R,{value:a,children:r.children})}const W=h((r,a)=>{const{label:s,items:l,expanded:d,onExpandedChange:c,...m}=r,u=n.useId(),p=r["aria-labelledby"]??(r["aria-label"]?void 0:u),[x,D]=E(!1,d,c),b=n.useRef(null),S=()=>{const o=b.current;if(!o)return;const i="--error-region-pulse";o.getAnimations({subtree:!0}).find(t=>t.id===i)||o.animate([{boxShadow:"0 0 0 0 var(--ids-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--ids-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--ids-color-border-attention-base)",opacity:1}],{id:i,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},g=y({setItems:o=>{const i=new Set(I.map(t=>t.id));o.filter(t=>!i.has(t.id)).length!==0&&(S(),F(s))}}),I=L(g,"items"),[f,F]=n.useState(s);return e.jsxs(e.Fragment,{children:[e.jsx(B,{"aria-live":"polite","aria-atomic":!0,children:f===s?f:void 0}),e.jsx(H,{open:x,setOpen:D,children:e.jsx(O.section,{...m,"aria-labelledby":p,className:v("-error-region",r.className),"data-kiwi-visible":!!s,"data-kiwi-expanded":x,ref:a,children:e.jsxs("div",{className:"-error-region-container",ref:b,children:[e.jsxs(q,{className:"-error-region-header",render:e.jsx(k,{variant:"ghost"}),children:[e.jsx(z,{tone:"attention",className:"-error-region-icon"}),e.jsx(j,{render:e.jsx("span",{}),id:u,className:"-error-region-label",variant:"body-sm",children:s}),e.jsx(P,{inert:!0,variant:"ghost",children:e.jsx(A,{})})]}),e.jsx(T,{className:"-error-region-dialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(V,{store:g,className:"-error-region-items",role:"list",children:l})})]})})})]})}),X=h((r,a)=>{const s=n.useId(),{message:l,messageId:d=`${s}-message`,actions:c,...m}=r;return e.jsxs(C,{...m,role:"listitem",className:v("-error-region-item",r.className),ref:a,children:[e.jsx(j,{id:d,variant:"body-sm",children:l}),e.jsx("div",{className:"-error-region-item-actions",children:c})]})});export{W as E,X as a};
