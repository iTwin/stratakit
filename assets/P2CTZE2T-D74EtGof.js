import{x as Y,p as $,o as be,c as q,_ as G,E as X,b as P,u as Z,d as w,r as J,f as Q,e as ee,U as Ce,H as xe,k as F,V as Se,W as O,q as _,X as Pe,j,Y as we,Z as he,v as Ee,m as ye,$ as Te,a0 as Re}from"./LMDWO4NN-BRsz5zsA.js";import{r as I,l as De}from"./chunk-D52XG6IA-jQzNN5l_.js";import{u as Fe}from"./KUU7WJ55-Cjou6eSi.js";import{f as Oe}from"./YV4JVR4I-kBT4CmdM.js";var h=Y(),_e=h.useContext;h.useScopedContext;h.useProviderContext;var Ae=h.ContextProvider,ke=h.ScopedContextProvider,y=Y([Ae],[ke]),ze=y.useContext,tt=y.useProviderContext,rt=y.ContextProvider,nt=y.ScopedContextProvider,Ke=I.createContext(void 0),Le=I.createContext(void 0),Ne={id:null};function ot(r,n,o=!1){const t=r.findIndex(a=>a.id===n);return[...r.slice(t+1),...o?[Ne]:[],...r.slice(0,t)]}function it(r,n){return r.find(o=>!o.disabled)}function Be(r,n){return n&&r.item(n)||null}function st(r){const n=[];for(const o of r){const t=n.find(a=>{var d;return((d=a[0])==null?void 0:d.rowId)===o.rowId});t?t.push(o):n.push([o])}return n}function He(r,n=!1){if($(r))r.setSelectionRange(n?r.value.length:0,r.value.length);else if(r.isContentEditable){const o=be(r).getSelection();o==null||o.selectAllChildren(r),n&&(o==null||o.collapseToEnd())}}var A=Symbol("FOCUS_SILENTLY");function Me(r){r[A]=!0,r.focus({preventScroll:!0})}function ut(r){const n=r[A];return delete r[A],n}function te(r,n,o){return!(!n||n===o||!r.item(n.id))}var Ue="div",re=q(function(n){var o=n,{store:t,shouldRegisterItem:a=!0,getItem:d=Ce,element:b}=o,v=G(o,["store","shouldRegisterItem","getItem","element"]);const c=_e();t=t||c;const m=X(v.id),p=I.useRef(b);return I.useEffect(()=>{const i=p.current;if(!m||!i||!a)return;const C=d({id:m,element:i});return t==null?void 0:t.renderItem(C)},[m,a,d,t]),v=P(w({},v),{ref:Z(p,v.ref)}),J(v)});Q(function(n){const o=re(n);return ee(Ue,o)});var Ve="button";function je(r){return O(r)?!0:r.tagName==="INPUT"&&!Te(r)}function We(r,n=!1){const o=r.clientHeight,{top:t}=r.getBoundingClientRect(),a=Math.max(o*.875,o-40)*1.5,d=n?o-a+t:a+t;return r.tagName==="HTML"?d+r.scrollTop:d}function Ye(r,n=!1){const{top:o}=r.getBoundingClientRect();return n?o+r.clientHeight:o}function W(r,n,o,t=!1){var a;if(!n||!o)return;const{renderedItems:d}=n.getState(),b=Re(r);if(!b)return;const v=We(b,t);let c,m;for(let p=0;p<d.length;p+=1){const i=c;if(c=o(p),!c)break;if(c===i)continue;const C=(a=Be(n,c))==null?void 0:a.element;if(!C)continue;const x=Ye(C,t)-v,l=Math.abs(x);if(t&&x<=0||!t&&x>=0){m!==void 0&&m<l&&(c=i);break}m=l}return c}function $e(r,n){return _(r)?!1:te(n,r.target)}var qe=q(function(n){var o=n,{store:t,rowId:a,preventScrollOnKeyDown:d=!1,moveOnKeyPress:b=!0,tabbable:v=!1,getItem:c,"aria-setsize":m,"aria-posinset":p}=o,i=G(o,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const C=ze();t=t||C;const f=X(i.id),x=I.useRef(null),l=I.useContext(Le),k=xe(i)&&!i.accessibleWhenDisabled,{rowId:T,baseElement:z,isActiveItem:ne,ariaSetSize:oe,ariaPosInSet:ie,isTabbable:se}=Oe(t,{rowId(e){if(a)return a;if(e&&l!=null&&l.baseElement&&l.baseElement===e.baseElement)return l.id},baseElement(e){return(e==null?void 0:e.baseElement)||void 0},isActiveItem(e){return!!e&&e.activeId===f},ariaSetSize(e){if(m!=null)return m;if(e&&l!=null&&l.ariaSetSize&&l.baseElement===e.baseElement)return l.ariaSetSize},ariaPosInSet(e){if(p!=null)return p;if(!e||!(l!=null&&l.ariaPosInSet)||l.baseElement!==e.baseElement)return;const s=e.renderedItems.filter(u=>u.rowId===T);return l.ariaPosInSet+s.findIndex(u=>u.id===f)},isTabbable(e){if(!(e!=null&&e.renderedItems.length))return!0;if(e.virtualFocus)return!1;if(v)return!0;if(e.activeId===null)return!1;const s=t==null?void 0:t.item(e.activeId);return s!=null&&s.disabled||!(s!=null&&s.element)?!0:e.activeId===f}}),ue=I.useCallback(e=>{var s;const u=P(w({},e),{id:f||e.id,rowId:T,disabled:!!k,children:(s=e.element)==null?void 0:s.textContent});return c?c(u):u},[f,T,k,c]),K=i.onFocus,R=I.useRef(!1),ae=F(e=>{if(K==null||K(e),e.defaultPrevented||Se(e)||!f||!t||$e(e,t))return;const{virtualFocus:s,baseElement:u}=t.getState();if(t.setActiveId(f),O(e.currentTarget)&&He(e.currentTarget),!s||!_(e)||je(e.currentTarget)||!(u!=null&&u.isConnected))return;Pe()&&e.currentTarget.hasAttribute("data-autofocus")&&e.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),R.current=!0,e.relatedTarget===u||te(t,e.relatedTarget)?Me(u):u.focus()}),L=i.onBlurCapture,le=F(e=>{if(L==null||L(e),e.defaultPrevented)return;const s=t==null?void 0:t.getState();s!=null&&s.virtualFocus&&R.current&&(R.current=!1,e.preventDefault(),e.stopPropagation())}),N=i.onKeyDown,ce=j(d),fe=j(b),de=F(e=>{if(N==null||N(e),e.defaultPrevented||!_(e)||!t)return;const{currentTarget:s}=e,u=t.getState(),D=t.item(f),g=!!(D!=null&&D.rowId),E=u.orientation!=="horizontal",S=u.orientation!=="vertical",H=()=>!!(g||S||!u.baseElement||!$(u.baseElement)),M={ArrowUp:(g||E)&&t.up,ArrowRight:(g||S)&&t.next,ArrowDown:(g||E)&&t.down,ArrowLeft:(g||S)&&t.previous,Home:()=>{if(H())return!g||e.ctrlKey?t==null?void 0:t.first():t==null?void 0:t.previous(-1)},End:()=>{if(H())return!g||e.ctrlKey?t==null?void 0:t.last():t==null?void 0:t.next(-1)},PageUp:()=>W(s,t,t==null?void 0:t.up,!0),PageDown:()=>W(s,t,t==null?void 0:t.down)}[e.key];if(M){if(O(s)){const V=we(s),me=S&&e.key==="ArrowLeft",ve=S&&e.key==="ArrowRight",pe=E&&e.key==="ArrowUp",Ie=E&&e.key==="ArrowDown";if(ve||Ie){const{length:ge}=he(s);if(V.end!==ge)return}else if((me||pe)&&V.start!==0)return}const U=M();if(ce(e)||U!==void 0){if(!fe(e))return;e.preventDefault(),t.move(U)}}}),B=I.useMemo(()=>({id:f,baseElement:z}),[f,z]);return i=Ee(i,e=>De.jsx(Ke.Provider,{value:B,children:e}),[B]),i=P(w({id:f,"data-active-item":ne||void 0},i),{ref:Z(x,i.ref),tabIndex:se?i.tabIndex:-1,onFocus:ae,onBlurCapture:le,onKeyDown:de}),i=Fe(i),i=re(P(w({store:t},i),{getItem:ue,shouldRegisterItem:f?i.shouldRegisterItem:!1})),J(P(w({},i),{"aria-setsize":oe,"aria-posinset":ie}))}),at=ye(Q(function(n){const o=qe(n);return ee(Ve,o)}));export{nt as C,rt as a,qe as b,at as c,re as d,tt as e,ot as f,Be as g,it as h,te as i,st as j,ut as s,ze as u};
