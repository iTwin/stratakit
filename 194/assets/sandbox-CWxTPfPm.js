import{w as V}from"./LMDWO4NN-D2tGCHOW.js";import{n as e,a as t}from"./chunk-D52XG6IA-BVrB1ZJk.js";import{a as B}from"./index-CjcLnf_P.js";import{D as X,a as H,b as U,c as f}from"./DropdownMenu-BfWw3r2x.js";import{D as q}from"./Divider-BEyhD6Jc.js";import{I}from"./Icon-CYq9CM3O.js";import{I as S}from"./IconButton-B9nR9Gej.js";import{T as J,a as Q,b as Y}from"./TextBox-CJkv0cMg.js";import{V as T}from"./VisuallyHidden-DVehDxSO.js";import{T as Z,a as ee,b as ne,c as te}from"./Tree-Cgr93WY8.js";import{p as P}from"./placeholder-DzHt3utr.js";import{p as re,l as se,s as oe,a as D,d as ie,f as ae}from"./visibility-show-Bifwr9yd.js";import{R as ce}from"./XL7CSKGW-DwpzriSa.js";import"./index-DqRL1yTy.js";import"./Button-DoSwyaVn.js";import"./KUU7WJ55-v6o4n_ix.js";import"./LVA2YJMS-trQ7wYTJ.js";import"./~utils-YFcEjjdk.js";import"./P2CTZE2T-MOavXfM0.js";import"./YV4JVR4I-ChYLWpk4.js";import"./BYC7LY2E-BLdF89BK.js";import"./VGCJ63VH-Chl81mnh.js";import"./XX67R432-BQdwKzsT.js";import"./MTZPJQMC-DdrM79bI.js";import"./ITI7HKP4-DnQj1amr.js";import"./P4IRICAX-O6OmG1Ro.js";import"./Tooltip-D2_c1zdD.js";import"./Field-D3f1xkiB.js";import"./~hooks-BWipIhtp.js";import"./Icon-D0i4osc3.js";const le="_appLayout_wnuku_5",ue="_platformBar_wnuku_14",de="_logo_wnuku_19",pe="_tools_wnuku_29",he="_leftPanel_wnuku_39",xe="_header_wnuku_49",me="_panelTitle_wnuku_57",fe="_panelCaption_wnuku_63",je="_shiftIconRight_wnuku_67",ve="_subheader_wnuku_71",ge="_subheaderTitle_wnuku_81",_e="_searchInput_wnuku_86",be="_subheaderActions_wnuku_90",we="_tree_wnuku_94",Se="_canvasWrapper_wnuku_102",ke="_canvas_wnuku_102",Re="_splitter_wnuku_124",ye="_action_wnuku_155",Ie="_slider_wnuku_161",r={appLayout:le,platformBar:ue,logo:de,tools:pe,leftPanel:he,header:xe,panelTitle:me,panelCaption:fe,shiftIconRight:je,subheader:ve,subheaderTitle:ge,searchInput:_e,subheaderActions:be,tree:we,canvasWrapper:Se,canvas:ke,splitter:Re,action:ye,slider:Ie},E="Kiwi sandbox",dn=()=>[{title:E},{name:"color-scheme",content:"dark"}],pn=V(function(){const{sliderProps:c,panelProps:s,panelMinSize:i,panelMaxSize:h,resizing:a}=ze({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(T,{render:j=>e.jsx("h1",{...j}),children:E}),e.jsxs("div",{className:r.appLayout,style:{"--_panel-min-size":i,"--_panel-max-size":h},children:[e.jsxs("div",{className:r.platformBar,children:[e.jsx("div",{className:r.logo,children:e.jsx(I,{href:P,size:"large"})}),e.jsxs("div",{className:r.tools,children:[e.jsx(I,{href:P,size:"large"}),e.jsx(I,{href:P,size:"large"}),e.jsx(I,{href:P,size:"large"})]})]}),e.jsxs("div",{...s,className:r.leftPanel,style:{position:"relative",...s.style},children:[e.jsxs("div",{className:r.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:r.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:r.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:r.actions,children:e.jsx(S,{className:r.shiftIconRight,icon:re,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Ne,{}),e.jsx(Ce,{}),e.jsx(q,{presentational:!0,className:r.splitter,"data-resizing":a?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:r.slider,...c})})]}),e.jsx("div",{className:r.canvasWrapper,children:e.jsx("div",{className:r.canvas})})]})]})});function Pe(u,c,s){return Math.min(Math.max(u,c),s)}function ze(u){const{minSize:c,maxSize:s,onCollapse:i}=u??{},h=t.useId(),a=t.useRef(null),[j,k]=t.useState(void 0),[_,o]=t.useState(void 0),[d,x]=t.useState(void 0),[v,z]=t.useState(!1),[R,M]=t.useState(void 0),m=t.useMemo(()=>{if(c&&_)return Math.min(c.px,c.pct/100*_)},[c,_]),b=t.useMemo(()=>{if(m&&s&&_)return Math.max(m,s.pct/100*_)},[s,_,m]),w=t.useMemo(()=>{if(d==="smallest")return m??0;if(d==="largest")return b??0;if(j&&m&&b)return Pe(j,m,b)},[j,m,b,d]);t.useEffect(()=>{const l=a.current;if(!l)return;const p=l.parentElement;if(!p)return;const g=new ResizeObserver(()=>{const C=p.getBoundingClientRect(),N=l.getBoundingClientRect();o(C.width),k(N.width)});return g.observe(p),g.observe(l),()=>{g.disconnect()}},[]);const A=t.useCallback(l=>{const p=a.current;if(!p)return;const g=p.getBoundingClientRect();M(g.width+l),x(void 0),z(!0)},[]),L=t.useCallback(l=>{const p=a.current;if(!p)return;const g=p.parentElement;if(!g)return;const C=g.getBoundingClientRect(),N=l*(C.width*.005),K=p.getBoundingClientRect();M(K.width+N),x(void 0)},[]),G=t.useCallback(()=>{a.current&&(M(void 0),z(!1))},[]),{moveableProps:y}=Me({onMove:A,onMoveEnd:G,onKeyMove:L}),O=t.useMemo(()=>({...y,onKeyDown:l=>{var p;if((p=y.onKeyDown)==null||p.call(y,l),!l.defaultPrevented)switch(l.key){case"Enter":l.preventDefault(),i==null||i();break;case"Home":l.preventDefault(),x("smallest");break;case"End":l.preventDefault(),x("largest");break}},onChange:l=>{if(v)return;const p=Number(l.target.value);M(p)},value:w===void 0?0:Math.floor(w),min:m===void 0?void 0:Math.floor(m),max:b===void 0?void 0:Math.floor(b)}),[y,w,m,b,i,v]),W=t.useMemo(()=>({style:{WebkitUserSelect:R===void 0?void 0:"none"},id:h,ref:a}),[h,R]),$=m===void 0?void 0:`${m}px`,F=t.useMemo(()=>{if(R!==void 0&&s!==void 0&&d===void 0)return`min(${R}px, ${s.pct}%)`;if(w!==void 0)return`${w}px`},[s,R,w,d]);return{sliderProps:O,panelProps:W,panelMinSize:$,panelMaxSize:F,resizing:v}}function Me(u){const{onMove:c,onMoveEnd:s,onKeyMove:i}=u??{},h=t.useRef(null),a=t.useRef(void 0),j=t.useRef(void 0),k=t.useCallback(()=>{j.current!==void 0&&(j.current=void 0,s==null||s())},[s]);return{moveableProps:t.useMemo(()=>({onPointerDown:o=>{if(o.button!==0||o.ctrlKey)return;const d=h.current;if(!d)return;const x=d.getBoundingClientRect(),v=o.clientX-x.left;j.current=v,o.preventDefault(),d.setPointerCapture(o.pointerId)},onPointerMove:o=>{const d=j.current;if(d===void 0)return;const x=h.current;if(!x)return;const v=x.getBoundingClientRect(),z=o.clientX-d-v.left;o.preventDefault(),c==null||c(z)},onPointerUp:k,onPointerCancel:k,onKeyDown:o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowLeft":o.preventDefault(),i==null||i(-1);break;case"ArrowRight":o.preventDefault(),i==null||i(1);break}},ref:o=>{var x;if(h.current=o,(x=a.current)==null||x.call(a),a.current=void 0,!o)return;const d=v=>{v.preventDefault()};o.addEventListener("touchstart",d),a.current=()=>{o.removeEventListener("touchstart",d)}}}),[i,c,k])}}function Ce(){return e.jsxs(Z,{className:r.tree,children:[e.jsx(n,{content:"Guides",children:e.jsxs(n,{content:"Tree",children:[e.jsx(n,{content:"Guide 4"}),e.jsx(n,{content:"Guide 3"}),e.jsx(n,{content:"Guide 2"}),e.jsx(n,{content:"Guide 1",lockAction:!0})]})}),e.jsxs(n,{content:"Other",children:[e.jsx(n,{content:"Object 2",children:e.jsx(n,{content:"Path 3"})}),e.jsx(n,{content:"Object 1",visibilityAction:!0})]}),e.jsxs(n,{content:"Road",children:[e.jsx(n,{content:"Parking lot access"}),e.jsx(n,{content:"Site access",lockAction:!0,visibilityAction:!0})]}),e.jsx(n,{content:"Parking lot",children:e.jsxs(n,{content:"Parking area",children:[e.jsx(n,{content:"Bay point 2"}),e.jsx(n,{content:"Bay point 1"}),e.jsx(n,{content:"Space point 1"}),e.jsx(n,{content:"Path 6"})]})}),e.jsx(n,{content:"Building",children:e.jsx(n,{content:"Building area",children:e.jsx(n,{content:"Path 5"})})}),e.jsx(n,{content:"Sewer",children:e.jsx(n,{content:"Run off pipe",children:e.jsx(n,{content:"Path 4"})})}),e.jsx(n,{content:"Project boundary",children:e.jsx(n,{content:"Property area",children:e.jsx(n,{content:"Path 1"})})}),e.jsx(n,{content:"Map",children:e.jsx(n,{content:"Location",children:e.jsx(n,{content:"Terrain"})})})]})}function n(u){const c=t.Children.count(u.children)>0,[s,i]=t.useState(!0);return e.jsx(ee,{content:e.jsxs(e.Fragment,{children:[e.jsx(ne,{onClick:()=>i(h=>!h)}),e.jsx(I,{href:P,style:{display:"inline"}}),e.jsx(te,{children:u.content}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(S,{className:r.action,icon:se,label:"Lock",variant:"ghost","aria-hidden":!u.lockAction}),e.jsx(S,{className:r.action,icon:oe,label:"Show",variant:"ghost","aria-hidden":!u.visibilityAction})]})]}),expanded:c?s:void 0,children:s?u.children:void 0})}function Ne(){const[u,c]=t.useState(!1),s=t.useRef(null),i=t.useRef(null),h=u?e.jsxs(e.Fragment,{children:[e.jsx(Be,{}),e.jsx(S,{className:r.shiftIconRight,icon:ie,label:"Close",variant:"ghost",onClick:()=>{var a;B.flushSync(()=>c(!1)),(a=i.current)==null||a.focus()}})]}):e.jsx(S,{className:r.shiftIconRight,icon:D,label:"Search",variant:"ghost",onClick:()=>{var a;B.flushSync(()=>c(!0)),(a=s.current)==null||a.focus()}});return e.jsxs("div",{className:r.subheader,children:[e.jsx(ce.h3,{className:r.subheaderTitle,tabIndex:-1,ref:i,render:u?e.jsx(T,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),u?e.jsxs(J,{className:r.searchInput,children:[e.jsx(Q,{href:D}),e.jsx(Y,{placeholder:"Search",ref:s})]}):null,e.jsx("div",{className:r.subheaderActions,children:h})]})}function Be(){return e.jsxs(X,{children:[e.jsx(H,{render:e.jsx(S,{icon:ae,label:"Filter",variant:"ghost"})}),e.jsxs(U,{style:{minInlineSize:164},children:[e.jsx(f,{children:"Show all"}),e.jsx(f,{children:"Guides"}),e.jsx(f,{children:"Other"}),e.jsx(f,{children:"Roadway"}),e.jsx(f,{children:"Parking"}),e.jsx(f,{children:"Building"}),e.jsx(f,{children:"Dry utility"}),e.jsx(f,{children:"Stormwater"}),e.jsx(f,{children:"Sewer"}),e.jsx(f,{children:"Boundary"}),e.jsx(f,{children:"Map"})]})]})}export{pn as default,dn as meta};
