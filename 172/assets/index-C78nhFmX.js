import{w as de}from"./with-props-XFbs5UV3.js";import{r as p,l as a}from"./chunk-7R3XDUXW-DxTo8O6G.js";import{d as ue}from"./~utils-DfsDCrNN.js";import{r as me}from"./index-CpodmKhz.js";import{c as H}from"./index-6yh6O1FZ.js";import{a as be}from"./~hooks-CW6k0nNz.js";import{c as fe,d as ve,e as Ie,a as pe,b as xe}from"./ITI7HKP4-DXjMEB6-.js";import{C as se,a as oe,c as X,b as Se,d as he}from"./P2CTZE2T-D3bU2ZSB.js";import{P as Te,a as Pe}from"./MTZPJQMC-BlK_aww9.js";import{v as ne,w as Ce,x as $,y as M,z as O,M as Y,a as T,b as v,B as Z,c as K,_ as z,i as U,C as re,F as ge,j as B,m as je,f as q,d as G,t as ae,u as ye}from"./LMDWO4NN-DZi_YyQu.js";import{m as Ee,o as ee,s as V,a as E,e as _e,c as we,u as ce,b as te,d as A}from"./YV4JVR4I-IQnN8q1u.js";import{u as Re,d as De}from"./VGCJ63VH-DCGxV_XM.js";import{g as Fe,u as Le}from"./LVA2YJMS-DJV8VtX8.js";import"./KUU7WJ55-55_Apuy6.js";var Ne=ne([Pe,oe],[Te,se]),ke=Ne.useContext;p.createContext(!1);p.createContext(null);function Me(t={}){var o=t,{composite:s,combobox:e}=o,n=Ce(o,["composite","combobox"]);const c=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],I=Ee(n.store,ee(s,c),ee(e,c)),d=I==null?void 0:I.getState(),m=fe($(O({},n),{store:I,includesBaseElement:M(n.includesBaseElement,d==null?void 0:d.includesBaseElement,!1),orientation:M(n.orientation,d==null?void 0:d.orientation,"horizontal"),focusLoop:M(n.focusLoop,d==null?void 0:d.focusLoop,!0)})),r=ve(),D=$(O({},m.getState()),{selectedId:M(n.selectedId,d==null?void 0:d.selectedId,n.defaultSelectedId),selectOnMove:M(n.selectOnMove,d==null?void 0:d.selectOnMove,!0)}),i=we(D,m,I);V(i,()=>E(i,["moves"],()=>{const{activeId:u,selectOnMove:f}=i.getState();if(!f||!u)return;const x=m.item(u);x&&(x.dimmed||x.disabled||i.setState("selectedId",x.id))}));let P=!0;V(i,()=>_e(i,["selectedId"],(u,f)=>{if(!P){P=!0;return}s&&u.selectedId===f.selectedId||i.setState("activeId",u.selectedId)})),V(i,()=>E(i,["selectedId","renderedItems"],u=>{if(u.selectedId!==void 0)return;const{activeId:f,renderedItems:x}=i.getState(),S=m.item(f);if(S&&!S.disabled&&!S.dimmed)i.setState("selectedId",S.id);else{const j=x.find(C=>!C.disabled&&!C.dimmed);i.setState("selectedId",j==null?void 0:j.id)}})),V(i,()=>E(i,["renderedItems"],u=>{const f=u.renderedItems;if(f.length)return E(r,["renderedItems"],x=>{const S=x.renderedItems;S.some(C=>!C.tabId)&&S.forEach((C,F)=>{if(C.tabId)return;const N=f[F];N&&r.renderItem($(O({},C),{tabId:N.id}))})})}));let h=null;return V(i,()=>{const u=()=>{h=i.getState().selectedId},f=()=>{P=!1,i.setState("selectedId",h)};if(s&&"setSelectElement"in s)return Y(E(s,["value"],u),E(s,["mounted"],f));if(e)return Y(E(e,["selectedValue"],u),E(e,["mounted"],f))}),$(O(O({},m),i),{panels:r,setSelectedId:u=>i.setState("selectedId",u),select:u=>{i.setState("selectedId",u),m.move(u)}})}function Oe(t,o,s){Z(o,[s.composite,s.combobox]),t=pe(t,o,s),te(t,s,"selectedId","setSelectedId"),te(t,s,"selectOnMove");const[e,n]=ce(()=>t.panels,{});return Z(n,[t,n]),Object.assign(p.useMemo(()=>T(v({},t),{panels:e}),[t,e]),{composite:s.composite,combobox:s.combobox})}function Ve(t={}){const o=Ie(),s=ke()||o;t=T(v({},t),{composite:t.composite!==void 0?t.composite:s,combobox:t.combobox!==void 0?t.combobox:o});const[e,n]=ce(Me,t);return Oe(e,n,t)}var W=ne([oe],[se]),$e=W.useScopedContext,ie=W.useProviderContext,Ae=W.ContextProvider,le=W.ScopedContextProvider,We="button",Be=K(function(o){var s=o,{store:e,getItem:n}=s,c=z(s,["store","getItem"]),I;const d=$e();e=e||d,U(e,!1);const m=re(),r=c.id||m,D=ge(c),i=p.useCallback(b=>{const _=T(v({},b),{dimmed:D});return n?n(_):_},[D,n]),P=c.onClick,h=B(b=>{P==null||P(b),!b.defaultPrevented&&(e==null||e.setSelectedId(r))}),u=e.panels.useState(b=>{var _;return(_=b.items.find(l=>l.tabId===r))==null?void 0:_.id}),f=m?c.shouldRegisterItem:!1,x=e.useState(b=>!!r&&b.activeId===r),S=e.useState(b=>!!r&&b.selectedId===r),j=e.useState(b=>!!e.item(b.activeId)),C=x||S&&!j,F=S||((I=c.accessibleWhenDisabled)!=null?I:!0);if(A(e.combobox||e.composite,"virtualFocus")&&(c=T(v({},c),{tabIndex:-1})),c=T(v({id:r,role:"tab","aria-selected":S,"aria-controls":u||void 0},c),{onClick:h}),e.composite){const b={id:r,accessibleWhenDisabled:F,store:e.composite,shouldRegisterItem:C&&f,rowId:c.rowId,render:c.render};c=T(v({},c),{render:a.jsx(X,T(v({},b),{render:e.combobox&&e.composite!==e.combobox?a.jsx(X,T(v({},b),{store:e.combobox})):b.render}))})}return c=Se(T(v({store:e},c),{accessibleWhenDisabled:F,getItem:i,shouldRegisterItem:f})),c}),He=je(q(function(o){const s=Be(o);return G(We,s)}));function Ke(t={}){const o=Ve(t);return a.jsx(Ae,{value:o,children:t.children})}var ze="div",Ue=K(function(o){var s=o,{store:e}=s,n=z(s,["store"]);const c=ie();e=e||c,U(e,!1);const I=e.useState(d=>d.orientation==="both"?void 0:d.orientation);return n=ae(n,d=>a.jsx(le,{value:e,children:d}),[e]),e.composite&&(n=v({focusable:!1},n)),n=v({role:"tablist","aria-orientation":I},n),n=xe(v({store:e},n)),n}),qe=q(function(o){const s=Ue(o);return G(ze,s)}),Ge="div",Je=K(function(o){var s=o,{store:e,unmountOnHide:n,tabId:c,getItem:I,scrollRestoration:d,scrollElement:m}=s,r=z(s,["store","unmountOnHide","tabId","getItem","scrollRestoration","scrollElement"]);const D=ie();e=e||D,U(e,!1);const i=p.useRef(null),P=re(r.id),h=A(e.panels,()=>{var l;return c||((l=e==null?void 0:e.panels.item(P))==null?void 0:l.tabId)}),u=A(e,l=>!!h&&l.selectedId===h),f=Re({open:u}),x=A(f,"mounted"),S=p.useRef(new Map),j=B(()=>{const l=i.current;return l?m?typeof m=="function"?m(l):"current"in m?m.current:m:l:null});p.useEffect(()=>{var l,y;if(!d||!x)return;const g=j();if(!g)return;if(d==="reset"){g.scroll(0,0);return}if(!h)return;const L=S.current.get(h);g.scroll((l=L==null?void 0:L.x)!=null?l:0,(y=L==null?void 0:L.y)!=null?y:0);const k=()=>{S.current.set(h,{x:g.scrollLeft,y:g.scrollTop})};return g.addEventListener("scroll",k),()=>{g.removeEventListener("scroll",k)}},[d,x,h,j,e]);const[C,F]=p.useState(!1);p.useEffect(()=>{const l=i.current;if(!l)return;const y=Fe(l);F(!!y.length)},[]);const N=p.useCallback(l=>{const y=T(v({},l),{id:P||l.id,tabId:c});return I?I(y):y},[P,c,I]),b=r.onKeyDown,_=B(l=>{if(b==null||b(l),l.defaultPrevented||!(e!=null&&e.composite))return;const g={ArrowLeft:e.previous,ArrowRight:e.next,Home:e.first,End:e.last}[l.key];if(!g)return;const{selectedId:L}=e.getState(),k=g({activeId:L});k&&(l.preventDefault(),e.move(k))});return r=ae(r,l=>a.jsx(le,{value:e,children:l}),[e]),r=T(v({id:P,role:"tabpanel","aria-labelledby":h||void 0},r),{children:n&&!x?null:r.children,ref:ye(i,r.ref),onKeyDown:_}),r=Le(v({focusable:!e.composite&&!C},r)),r=De(v({store:f},r)),r=he(T(v({store:e.panels},r),{getItem:N})),r}),Qe=q(function(o){const s=Je(o);return G(Ge,s)});function J(t){const{defaultSelectedId:o,selectedId:s,setSelectedId:e,selectOnMove:n,children:c}=t,[I,d]=be(o,s,e);return a.jsx(Ke,{selectedId:I,setSelectedId:p.useCallback(m=>{document.startViewTransition?document.startViewTransition(()=>{me.flushSync(()=>{d(m)})}):d(m)},[d]),selectOnMove:n,children:c})}J.displayName="Tabs.Root";const Q=p.forwardRef((t,o)=>{const{tone:s="neutral",...e}=t,n=`active-stripe-${p.useId().replaceAll(":","_")}`;return a.jsx(qe,{"data-kiwi-tone":s,...e,className:H("-tab-list",t.className),style:{"--tab-active-stripe-view-transition-name":n,...t.style},ref:o})});Q.displayName="Tabs.TabList";const w=p.forwardRef((t,o)=>a.jsx(He,{accessibleWhenDisabled:!0,...t,className:H("-tab",t.className),ref:o}));w.displayName="Tabs.Tab";const R=p.forwardRef((t,o)=>a.jsx(Qe,{...t,className:H("-tab-panel",t.className),ref:o}));R.displayName="Tabs.TabPanel";const mt={title:"Tabs"},bt=de(ue(function({defaultSelectedId:o,disabled:s}){return a.jsx(a.Fragment,{children:a.jsxs(J,{defaultSelectedId:o,children:[a.jsxs(Q,{children:[a.jsx(w,{id:"tab1",children:"Tab 1"}),a.jsx(w,{id:"tab2",disabled:!!s,children:"Tab 2"}),a.jsx(w,{id:"tab3",children:"Tab 3"})]}),a.jsx(R,{tabId:"tab1",children:"Tab 1 content"}),a.jsx(R,{tabId:"tab2",children:"Tab 2 content"}),a.jsx(R,{tabId:"tab3",children:"Tab 3 content"})]})})},{visual:Xe}));function Xe(){const t=["neutral","accent"];return a.jsx("div",{style:{display:"grid",gap:4},children:t.map(o=>a.jsxs(J,{children:[a.jsxs(Q,{tone:o,children:[a.jsx(w,{id:"tab1",children:"Tab 1"}),a.jsx(w,{id:"tab2",disabled:!0,children:"Tab 2"}),a.jsx(w,{id:"tab3",children:"Tab 3"})]}),a.jsx(R,{tabId:"tab1",children:"Tab 1 content"}),a.jsx(R,{tabId:"tab2",children:"Tab 2 content"}),a.jsx(R,{tabId:"tab3",children:"Tab 3 content"})]},o))})}export{bt as default,mt as handle};
