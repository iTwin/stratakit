import{a as t,n as a}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as b}from"./index-DeGJKKUv.js";import{f as x}from"./~utils-ChHMGsjo.js";import{R as y}from"./XL7CSKGW-DWaBDxUb.js";const w=x((r,s)=>{const e=t.useRef(null),n=t.useId(),{layout:l,...c}=r,[u,o]=t.useState(null),[f,m]=t.useState(null);return t.useLayoutEffect(()=>{!(e!=null&&e.current)||!(e.current instanceof Element)||(o(e.current.matches(":is(label ~ *, label * ~ *)")?"before":"after"),m(e.current.matches(":is(.ðŸ¥-text-box, .ðŸ¥-select)")?"text":"checkable"))},[]),a.jsx(d,{value:t.useMemo(()=>({id:n,controlRef:e}),[n]),children:a.jsx(C,{children:a.jsx(y,{...c,className:b("ðŸ¥-field",r.className),"data-kiwi-label-placement":u,"data-kiwi-control-type":f,"data-kiwi-layout":l,ref:s})})})}),i=t.createContext(void 0);function C(r){const[s,e]=t.useState(new Set),n=t.useCallback(c=>{e(u=>{const o=new Set(u);return o.add(c),o})},[]),l=t.useCallback(c=>{e(u=>{const o=new Set(u);return o.delete(c),o})},[]);return a.jsx(i.Provider,{value:t.useMemo(()=>({describedBy:s,register:n,unregister:l}),[s,n,l]),children:r.children})}function B(r){var e;const s=(e=t.useContext(i))==null?void 0:e.describedBy;return t.useMemo(()=>!s||s.size===0?r:[...s,r].filter(Boolean).join(" "),[s,r])}function S(r){const s=t.useContext(i),e=s==null?void 0:s.register,n=s==null?void 0:s.unregister;t.useEffect(()=>{if(!(!e||!n))return e(r),()=>n(r)},[r,e,n])}const d=t.createContext(void 0);function j(){return t.useContext(d)}export{w as F,j as a,B as b,S as u};
