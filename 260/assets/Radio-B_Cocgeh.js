import{a as m,n as N}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as D}from"./index-jyeBNHV5.js";import{b as U,c as j}from"./Field-Did9Ov62.js";import{z as w,c as A,_ as T,G as B,P as $,J as z,Q as G,m as p,g as H,u as J,b as v,r as M,n as O,d as Q,e as W,f as q}from"./~utils-42rWkPQx.js";import{C as K,a as L,b as V}from"./P2CTZE2T-DgRy-haM.js";import{d as X}from"./YV4JVR4I-uTAyjRpX.js";var Y=w([L],[K]),Z=Y.useContext,R="input";function ee(a,t){if(t!==void 0)return a!=null&&t!=null?t===a:!!t}function ne(a,t){return a==="input"&&(!t||t==="radio")}var te=A(function(t){var u=t,{store:n,name:c,value:i,checked:b}=u,r=T(u,["store","name","value","checked"]);const g=Z();n=n||g;const s=B(r.id),f=m.useRef(null),d=X(n,e=>b??ee(i,e==null?void 0:e.value));m.useEffect(()=>{!s||!d||(n==null?void 0:n.getState().activeId)===s||n==null||n.setActiveId(s)},[n,d,s]);const C=r.onChange,x=$(f,R),o=ne(x,r.type),P=z(r),[I,F]=G();m.useEffect(()=>{const e=f.current;e&&(o||(d!==void 0&&(e.checked=d),c!==void 0&&(e.name=c),i!==void 0&&(e.value=`${i}`)))},[I,o,d,c,i]);const l=p(e=>{if(P){e.preventDefault(),e.stopPropagation();return}(n==null?void 0:n.getState().value)!==i&&(o||(e.currentTarget.checked=!0,F()),C==null||C(e),!e.defaultPrevented&&(n==null||n.setValue(i)))}),h=r.onClick,_=p(e=>{h==null||h(e),!e.defaultPrevented&&(o||l(e))}),k=r.onFocus,y=p(e=>{if(k==null||k(e),e.defaultPrevented||!o||!n)return;const{moves:E,activeId:S}=n.getState();E&&(s&&S!==s||l(e))});return r=H(v({id:s,role:o?void 0:"radio",type:o?"radio":void 0,"aria-checked":d},r),{ref:J(f,r.ref),onChange:l,onClick:_,onFocus:y}),r=V(v({store:n,clickOnEnter:!o},r)),M(v({name:o?c:void 0,value:o?i:void 0,checked:d},r))}),re=O(Q(function(t){const u=te(t);return W(R,u)}));const ce=q((a,t)=>{const u=U(),n=j(a["aria-describedby"]);return N.jsx(re,{accessibleWhenDisabled:!0,id:u,...a,className:D("ğŸ¥-checkbox","ğŸ¥-radio",a.className),"aria-describedby":n,"data-kiwi-form-control":"checkable",ref:t})});export{ce as R};
