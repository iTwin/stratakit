import{o as e,a as c,w as k}from"./chunk-QMGIS6GS-BaJhsRKI.js";import{G as T,I as F,d as M,B as u,V as m,A as h}from"./~utils-DTvCI51L.js";import{f as d,R as I,c as b,T as S,l as A,I as $}from"./sun-Bfsn2tza.js";import{u as _,c as E,a as P}from"./middleware-BihSjGcM.js";import{D as R,S as V}from"./~utils.icons-COlnxiv1.js";import{p as v}from"./placeholder-ypOFWi41.js";import"./index-DlVK9hNA.js";import"./LMDWO4NN-CcJUQKmw.js";import"./XX67R432-C0JnyUGJ.js";import"./~utils.icons-DxH8CYiA.js";function q(n){return E(P(n,(s,t,a)=>({setLabelId:i=>{s({labelId:i||a.getInitialState().labelId})},addIconSubComponentsDescendants:i=>{s({iconSubComponentsDescendants:(a.getState().iconSubComponentsDescendants||[]).includes(i)?a.getState().iconSubComponentsDescendants:[...a.getState().iconSubComponentsDescendants||[],i]})},removeIconSubComponentsDescendants:i=>{s({iconSubComponentsDescendants:(a.getState().iconSubComponentsDescendants||[]).filter(o=>o!==i)})}})))}const y=c.createContext(void 0);function G(n){const s=c.useId(),t=[],[a]=c.useState(()=>q({labelId:s,iconSubComponentsDescendants:t}));return e.jsx(y.Provider,{value:a,children:n.children})}function x(n){const s=A(y);return _(s,n)}const j=d((n,s)=>{const{tone:t="neutral",variant:a="outline",children:i,...o}=n;return e.jsx(G,{children:e.jsxs(I,{...o,"data-kiwi-tone":t,"data-kiwi-variant":a,className:b("-banner",n.className),ref:s,children:[e.jsx(U,{tone:t}),i]})})}),U=({tone:n})=>{const s=x(t=>t.iconSubComponentsDescendants);return n!=="neutral"&&s?.length===0?e.jsx(C,{render:t=>e.jsx(V,{tone:n,...t})}):null},C=d((n,s)=>e.jsx($,{...n,className:b("-banner-icon",n.className),ref:s})),B=d((n,s)=>{const t=c.useId(),a=n.id??t,i=x(r=>r.addIconSubComponentsDescendants),o=x(r=>r.removeIconSubComponentsDescendants);return c.useEffect(()=>(i(a),()=>{o(a)}),[i,o,a]),e.jsx(C,{...n,ref:s})}),g=d((n,s)=>{const t=x(i=>i.labelId),a=x(i=>i.setLabelId);return c.useEffect(()=>{a(n.id)},[a,n.id]),e.jsx(S,{id:t,render:e.jsx("span",{}),...n,className:b("-banner-label",n.className),variant:"body-sm",ref:s})}),f=d((n,s)=>e.jsx(S,{...n,variant:"body-sm",className:b("-banner-message",n.className),ref:s})),w=d((n,s)=>e.jsx(I.div,{...n,className:b("-banner-actions",n.className),ref:s})),N=d((n,s)=>{const{label:t="Dismiss",...a}=n,i=x(p=>p.labelId),o=c.useId(),r=n.id??o;return e.jsx(T,{align:"block",children:e.jsx(F,{...a,id:r,className:b("-banner-dismiss-button",n.className),variant:"ghost",label:t,"aria-labelledby":`${r} ${i}`,icon:e.jsx(R,{}),ref:s})})}),H=d((n,s)=>{const{message:t,label:a,actions:i,onDismiss:o,icon:r,...p}=n;return e.jsxs(j,{...p,ref:s,children:[r?e.jsx(B,{href:typeof r=="string"?r:void 0,render:c.isValidElement(r)?r:void 0}):null,e.jsx(g,{render:c.isValidElement(a)?a:void 0,children:a}),e.jsx(f,{children:t}),i!=null?e.jsx(w,{children:i}):null,o?e.jsx(N,{onClick:o}):null]})});var l=H;const oe={title:"Banner"},L="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris",D="This is a long label that goes on and on and on and on and on and on and on and on and on and on",re=k(M(function(){return e.jsx(l,{label:"Label",message:"Message"})},{visual:J,dismiss:O,actions:z,allStyleCases:K,composition:Q}));function J({customIcons:n=!1}){const s=["neutral","info","positive","attention","critical"];return e.jsx("div",{style:{display:"grid",gap:4},children:s.map(t=>{const a=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return e.jsx(l,{"data-testid":`banner-${t}`,icon:n?v:void 0,label:a,message:L,tone:t,variant:"outline",onDismiss:()=>{},actions:e.jsx(u,{children:"Action"})},t)})})}function O(){return e.jsxs("div",{style:{display:"grid",gap:4},children:[e.jsx(l,{label:"Label",message:"Banner with visual label and with no dismiss button"}),e.jsx(l,{label:"Label",message:"Banner with visual label and with dismiss button",onDismiss:()=>{}}),e.jsx(l,{label:e.jsx(m,{children:"Label"}),message:"Banner with visually hidden label and with dismiss button",onDismiss:()=>{}})]})}function z(){return e.jsxs("div",{style:{display:"grid",gap:4},children:[e.jsx(l,{tone:"info",onDismiss:()=>{},actions:e.jsx(u,{children:"Manage cookies"}),label:e.jsx(m,{children:"Privacy Notice"}),message:"This site uses cookies to improve your experience."}),e.jsx(l,{tone:"info",onDismiss:()=>{},actions:e.jsx(h,{render:e.jsx("button",{}),children:"Manage cookies"}),label:e.jsx(m,{children:"Privacy Notice"}),message:"This site uses cookies to improve your experience."}),e.jsx(l,{tone:"info",onDismiss:()=>{},actions:e.jsxs(e.Fragment,{children:[e.jsx(u,{children:"Manage cookies"}),e.jsx(u,{children:"Don't show again"})]}),label:e.jsx(m,{children:"Privacy Notice"}),message:"This site uses cookies to improve your experience."}),e.jsx(l,{tone:"info",onDismiss:()=>{},actions:e.jsxs(e.Fragment,{children:[e.jsx(h,{render:e.jsx("button",{}),children:"Manage cookies"}),e.jsx(h,{render:e.jsx("button",{}),children:"Don't show again"})]}),label:e.jsx(m,{children:"Privacy Notice"}),message:"This site uses cookies to improve your experience."})]})}function K(){const n=["visual","visually-hidden"],s=["anchors","buttons","none"],t=["dismissable","non-dismissable"];return e.jsx("div",{style:{display:"grid",gap:4},children:n.map(a=>s.map(i=>t.map(o=>e.jsx(l,{icon:v,variant:"outline",tone:"info",label:a==="visual"?D:e.jsx(m,{children:D}),message:`${JSON.stringify({label:a,action:i,dismiss:o})}. ${L}`,onDismiss:o==="dismissable"?()=>{}:void 0,actions:i==="buttons"?e.jsxs(e.Fragment,{children:[e.jsx(u,{children:"Manage cookies"}),e.jsx(u,{children:"Don't show again"})]}):i==="anchors"?e.jsxs(e.Fragment,{children:[e.jsx(h,{render:e.jsx("button",{}),children:"Manage cookies"}),e.jsx(h,{render:e.jsx("button",{}),children:"Don't show again"})]}):void 0},`${a}-${i}-${o}`))))})}function Q(){return e.jsxs("div",{style:{display:"grid",gap:4},children:[e.jsxs(j,{tone:"info",variant:"outline",children:[e.jsx(B,{href:v}),e.jsx(g,{id:"my-label",children:"Label"}),e.jsx(f,{children:"This is a message that can be very long and will wrap to the next line."}),e.jsx(w,{children:e.jsx(u,{children:"Action"})}),e.jsx(N,{onClick:()=>console.log("Dismissed")})]}),e.jsxs(j,{tone:"info","data-testid":"banner-info",children:[e.jsx(g,{children:"Label"}),e.jsx(f,{children:"Message"})]}),e.jsxs(j,{"data-testid":"banner-neutral",children:[e.jsx(g,{children:"Label"}),e.jsx(f,{children:"Message"})]})]})}export{re as default,oe as handle};
