import{w as J}from"./~utils-ChHMGsjo.js";import{n as e,a as n,t as Q}from"./chunk-K6AXKMTT-BHCV6zel.js";import{a as D}from"./index-B0znaqTz.js";import{B as Y}from"./Button-pcxDZfVL.js";import{D as K,a as k,b as E,c}from"./DropdownMenu-1b6r-8eU.js";import{I as w}from"./Icon-Bc7nfctV.js";import{I as S}from"./IconButton-gsTFxcL3.js";import{T as L}from"./Text-CZoq4tSz.js";import{T as Z,a as ee,b as te}from"./TextBox-BD8H0LsM.js";import{V as ne}from"./VisuallyHidden-BP9HqvzW.js";import{T as se,a as re}from"./Tree-BEOnBcqS.js";import{p as R}from"./placeholder-Bapxid5q.js";import{p as le,l as ae,d as oe,h as ie,m as ce,s as z,a as de,f as ue}from"./state-inherited-dot-BMSmuDXK.js";import{s as he}from"./visibility-show-B0dbmQeI.js";import{R as xe}from"./XL7CSKGW-DWaBDxUb.js";import"./index-DeGJKKUv.js";import"./KUU7WJ55-CGnB9JVy.js";import"./LVA2YJMS-DZZaADyj.js";import"./Kbd-Cq5-4jwi.js";import"./P2CTZE2T-6JquUpf1.js";import"./YV4JVR4I-I4X5ERHE.js";import"./BYC7LY2E-BEbGoPfM.js";import"./VGCJ63VH-CEp6wH-n.js";import"./MTZPJQMC-BwWoI88i.js";import"./VEVQD5MH-DlcKVzyo.js";import"./ITI7HKP4-DcYfmzoo.js";import"./P4IRICAX-9RJrhX4T.js";import"./Tooltip-1-TNbxK8.js";import"./Field-yTJIy2wa.js";import"./~hooks-DuYLhjin.js";import"./ListItem-KFIqU5yd.js";const me="_appLayout_mt7mw_5",pe="_header_mt7mw_22",je="_platformBar_mt7mw_32",fe="_logo_mt7mw_38",be="_tools_mt7mw_48",ve="_leftPanel_mt7mw_58",Ce="_panelHeader_mt7mw_70",ge="_panelTitle_mt7mw_78",_e="_panelCaption_mt7mw_84",Se="_shiftIconRight_mt7mw_88",Ae="_subheader_mt7mw_92",we="_subheaderTitle_mt7mw_102",Ie="_searchInput_mt7mw_107",Pe="_subheaderActions_mt7mw_111",Re="_emptyState_mt7mw_115",Me="_canvasWrapper_mt7mw_124",ye="_canvas_mt7mw_124",Ne="_splitter_mt7mw_161",Be="_tree_mt7mw_203",De="_action_mt7mw_208",ze="_actionIcon_mt7mw_216",Te="_slider_mt7mw_227",r={appLayout:me,header:pe,platformBar:je,logo:fe,tools:be,leftPanel:ve,panelHeader:Ce,panelTitle:ge,panelCaption:_e,shiftIconRight:Se,subheader:Ae,subheaderTitle:we,searchInput:Ie,subheaderActions:Pe,emptyState:Re,canvasWrapper:Me,canvas:ye,splitter:Ne,tree:Be,action:De,actionIcon:ze,slider:Te},X="Kiwi sandbox",St=()=>[{title:X}],At=J(function(){const{sliderProps:l,panelProps:s,panelMinSize:a,panelMaxSize:x,resizing:i}=Ee({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:r.appLayout,style:{"--_panel-min-size":a,"--_panel-max-size":x},children:[e.jsxs("header",{className:r.header,children:[e.jsx("div",{className:r.logo,children:e.jsx(w,{href:R,size:"large"})}),e.jsx(L,{render:p=>e.jsx("h1",{...p}),variant:"body-md",children:X})]}),e.jsx("div",{className:r.platformBar,children:e.jsxs("div",{className:r.tools,children:[e.jsx(w,{href:R,size:"large"}),e.jsx(w,{href:R,size:"large"}),e.jsx(w,{href:R,size:"large"})]})}),e.jsxs("div",{...s,className:r.leftPanel,style:{position:"relative",...s.style},children:[e.jsxs("div",{className:r.panelHeader,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:r.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:r.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:r.actions,children:e.jsx(S,{className:r.shiftIconRight,icon:le,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Fe,{}),e.jsx(Xe,{})]}),e.jsx("div",{className:r.splitter,"data-resizing":i?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:r.slider,...l})}),e.jsx("div",{className:r.canvasWrapper,children:e.jsx("div",{className:r.canvas})})]})})});function Ke({children:d}){return e.jsx("div",{className:r.emptyState,children:d})}function ke(d,l,s){return Math.min(Math.max(d,l),s)}function Ee(d){const{minSize:l,maxSize:s,onCollapse:a}=d,x=n.useId(),i=n.useRef(null),[p,m]=n.useState(void 0),[j,o]=n.useState(void 0),[h,b]=n.useState(void 0),[C,M]=n.useState(!1),[I,y]=n.useState(void 0),v=n.useMemo(()=>{if(l&&j)return Math.min(l.px,l.pct/100*j)},[l,j]),_=n.useMemo(()=>{if(v&&s&&j)return Math.max(v,s.pct/100*j)},[s,j,v]),A=n.useMemo(()=>{if(h==="smallest")return v??0;if(h==="largest")return _??0;if(p&&v&&_)return ke(p,v,_)},[p,v,_,h]);n.useEffect(()=>{const u=i.current;if(!u)return;const f=u.parentElement;if(!f)return;const g=new ResizeObserver(()=>{const N=f.getBoundingClientRect(),B=u.getBoundingClientRect();o(N.width),m(B.width)});return g.observe(f),g.observe(u),()=>{g.disconnect()}},[]);const O=n.useCallback(u=>{const f=i.current;if(!f)return;const g=f.getBoundingClientRect();y(g.width+u),b(void 0),M(!0)},[]),H=n.useCallback(u=>{const f=i.current;if(!f)return;const g=f.parentElement;if(!g)return;const N=g.getBoundingClientRect(),B=u*(N.width*.005),q=f.getBoundingClientRect();y(q.width+B),b(void 0)},[]),F=n.useCallback(()=>{i.current&&(y(void 0),M(!1))},[]),{moveableProps:P}=Le({onMove:O,onMoveEnd:F,onKeyMove:H}),V=n.useMemo(()=>({...P,onKeyDown:u=>{var f;if((f=P.onKeyDown)==null||f.call(P,u),!u.defaultPrevented)switch(u.key){case"Enter":u.preventDefault(),a==null||a();break;case"Home":u.preventDefault(),b("smallest");break;case"End":u.preventDefault(),b("largest");break}},onChange:u=>{if(C)return;const f=Number(u.target.value);y(f)},value:A===void 0?0:Math.floor(A),min:v===void 0?void 0:Math.floor(v),max:_===void 0?void 0:Math.floor(_)}),[P,A,v,_,a,C]),W=n.useMemo(()=>({style:{WebkitUserSelect:I===void 0?void 0:"none"},id:x,ref:i}),[x,I]),$=v===void 0?void 0:`${Math.floor(v)}px`,U=n.useMemo(()=>{if(I!==void 0&&s!==void 0&&h===void 0)return`min(${Math.floor(I)}px, ${s.pct}%)`;if(A!==void 0)return`${Math.floor(A)}px`},[s,I,A,h]);return{sliderProps:V,panelProps:W,panelMinSize:$,panelMaxSize:U,resizing:C}}function Le(d){const{onMove:l,onMoveEnd:s,onKeyMove:a}=d,x=n.useRef(null),i=n.useRef(void 0),p=n.useRef(void 0),m=n.useCallback(()=>{p.current!==void 0&&(p.current=void 0,s==null||s())},[s]);return{moveableProps:n.useMemo(()=>({onPointerDown:o=>{if(o.button!==0||o.ctrlKey)return;const h=x.current;if(!h)return;const b=h.getBoundingClientRect(),C=o.clientX-b.left;p.current=C,o.preventDefault(),h.setPointerCapture(o.pointerId)},onPointerMove:o=>{const h=p.current;if(h===void 0)return;const b=x.current;if(!b)return;const C=b.getBoundingClientRect(),M=o.clientX-h-C.left;o.preventDefault(),l==null||l(M)},onPointerUp:m,onPointerCancel:m,onKeyDown:o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowLeft":o.preventDefault(),a==null||a(-1);break;case"ArrowRight":o.preventDefault(),a==null||a(1);break}},ref:o=>{var b;if(x.current=o,(b=i.current)==null||b.call(i),i.current=void 0,!o)return;const h=C=>{C.preventDefault()};o.addEventListener("touchstart",h),i.current=()=>{o.removeEventListener("touchstart",h)}}}),[a,l,m])}}const G=n.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function Xe(){const[d]=Q(),l=d.get("tree"),[s,a]=n.useState(),[x,i]=n.useState([]),p=n.useCallback(m=>{i(j=>j.includes(m)?j.filter(o=>o!==m):[...j,m])},[]);return l==="empty"?e.jsxs(Ke,{children:[e.jsx(L,{children:"No layers"}),e.jsx(Y,{children:"Create a layer"})]}):e.jsx(G.Provider,{value:n.useMemo(()=>({selected:s,setSelected:a,hidden:x,toggleHidden:p}),[x,s,p]),children:e.jsx(se,{className:r.tree,children:l==="complex"?e.jsx(Oe,{}):e.jsx(Ge,{})})})}function Ge(){return e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Guides",children:e.jsxs(t,{label:"Tree",children:[e.jsx(t,{label:"Guide 4"}),e.jsx(t,{label:"Guide 3"}),e.jsx(t,{label:"Guide 2"}),e.jsx(t,{label:"Guide 1"})]})}),e.jsxs(t,{label:"Other",children:[e.jsx(t,{label:"Object 2",children:e.jsx(t,{label:"Path 3"})}),e.jsx(t,{label:"Object 1"})]}),e.jsxs(t,{label:"Road",children:[e.jsx(t,{label:"Parking lot access"}),e.jsx(t,{label:"Site access"})]}),e.jsx(t,{label:"Parking lot",children:e.jsxs(t,{label:"Parking area",children:[e.jsx(t,{label:"Bay point 2"}),e.jsx(t,{label:"Bay point 1"}),e.jsx(t,{label:"Space point 1"}),e.jsx(t,{label:"Path 6"})]})}),e.jsx(t,{label:"Building",children:e.jsx(t,{label:"Building area",children:e.jsx(t,{label:"Path 5"})})}),e.jsx(t,{label:"Sewer",children:e.jsx(t,{label:"Run off pipe",children:e.jsx(t,{label:"Path 4"})})}),e.jsx(t,{label:"Project boundary",children:e.jsx(t,{label:"Property area",children:e.jsx(t,{label:"Path 1"})})}),e.jsx(t,{label:"Map",children:e.jsx(t,{label:"Location",children:e.jsx(t,{label:"Terrain"})})})]})}function Oe(){return e.jsxs(e.Fragment,{children:[e.jsxs(t,{label:"ITC_Master",children:[e.jsx(t,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(t,{label:"002_Substation_A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(t,{label:"007-aa_master.dgn",children:[e.jsx(t,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(t,{label:"A-CLNG-LITE-A"})}),e.jsx(t,{label:"A-CLNG-TILE",children:e.jsxs(t,{label:"A-DOOR-2D-PLAN",children:[e.jsx(t,{label:"P00003 [2-KA62]",children:e.jsx(t,{label:"Cell [2-KA63]",children:e.jsxs(t,{label:"Cell [2-KA64]",children:[e.jsx(t,{label:"Complex Chain [2-KA6A]"}),e.jsx(t,{label:"Complex Chain [2-KA6B]"}),e.jsx(t,{label:"Complex Chain [2-KA6C]"}),e.jsx(t,{label:"Complex Chain [2-KA6D]"}),e.jsx(t,{label:"Complex Chain [2-KA6E]"}),e.jsx(t,{label:"Complex Chain [2-KA6F]"}),e.jsx(t,{label:"Complex Chain [2-KA6G]"}),e.jsx(t,{label:"Complex Chain [2-KA6H]"}),e.jsx(t,{label:"Complex Chain [2-KA61]"}),e.jsx(t,{label:"Complex Chain [2-KA65]"}),e.jsx(t,{label:"Complex Chain [2-KA66]"}),e.jsx(t,{label:"Complex Chain [2-KA67]"}),e.jsx(t,{label:"Complex Chain [2-KA68]"}),e.jsx(t,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(t,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA98-A]"})}),e.jsx(t,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(t,{label:"ITC_Main"})]})}const T=n.createContext({selected:!1,hidden:!1});function t(d){const l=n.useContext(G),s=n.useContext(T),a=n.useId(),[x,i]=n.useState(d.defaultCollapsed===void 0?!0:!d.defaultCollapsed),p=n.Children.count(d.children)>0,m=n.useMemo(()=>s.hidden?!0:l.hidden.includes(a),[a,l.hidden,s.hidden]),j=s.selected||a===l.selected,o=n.useCallback(h=>{l.setSelected(h?a:void 0)},[a,l]);return e.jsx(T.Provider,{value:n.useMemo(()=>({selected:j,hidden:m}),[m,j]),children:e.jsx(re,{expanded:p?x:void 0,onExpandedChange:i,selected:j,onSelectedChange:o,icon:e.jsx(w,{href:R,style:{display:"inline"}}),label:d.label,actions:e.jsxs(e.Fragment,{children:[e.jsx(S,{className:r.action,icon:ae,label:"Lock",variant:"ghost","aria-hidden":m}),s.hidden?e.jsx("span",{className:r.actionIcon,children:e.jsx(w,{href:oe})}):e.jsx(S,{className:r.action,icon:m?ie:he,label:m?"Show":"Hide",variant:"ghost",onClick:()=>{l.toggleHidden(a)}}),e.jsx(He,{hidden:m})]}),children:x?d.children:void 0})})}function He({hidden:d}){return e.jsxs(K,{children:[e.jsx(k,{className:r.action,"aria-hidden":d,render:e.jsx(S,{icon:ce,label:"More",variant:"ghost"})}),e.jsxs(E,{style:{minInlineSize:164},children:[e.jsx(c,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(c,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(c,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(c,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(c,{shortcuts:"]",children:"Bring to front"}),e.jsx(c,{shortcuts:"[",children:"Send to back"}),e.jsx(c,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(c,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(c,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(c,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(c,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(c,{shortcuts:"I",children:"Isolate object"})]})]})}function Fe(){const[d,l]=n.useState(!1),s=n.useRef(null),a=n.useRef(null),x=d?e.jsxs(e.Fragment,{children:[e.jsx(Ve,{}),e.jsx(S,{className:r.shiftIconRight,icon:de,label:"Close",variant:"ghost",onClick:()=>{var i;D.flushSync(()=>l(!1)),(i=a.current)==null||i.focus()}})]}):e.jsx(S,{className:r.shiftIconRight,icon:z,label:"Search",variant:"ghost",onClick:()=>{var i;D.flushSync(()=>l(!0)),(i=s.current)==null||i.focus()}});return e.jsxs("div",{className:r.subheader,children:[e.jsx(xe.h3,{className:r.subheaderTitle,tabIndex:-1,ref:a,render:d?e.jsx(ne,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),d?e.jsxs(Z,{className:r.searchInput,children:[e.jsx(ee,{href:z}),e.jsx(te,{placeholder:"Search",ref:s})]}):null,e.jsx("div",{className:r.subheaderActions,children:x})]})}function Ve(){return e.jsxs(K,{children:[e.jsx(k,{render:e.jsx(S,{icon:ue,label:"Filter",variant:"ghost"})}),e.jsxs(E,{style:{minInlineSize:164},children:[e.jsx(c,{children:"Show all"}),e.jsx(c,{children:"Guides"}),e.jsx(c,{children:"Other"}),e.jsx(c,{children:"Roadway"}),e.jsx(c,{children:"Parking"}),e.jsx(c,{children:"Building"}),e.jsx(c,{children:"Dry utility"}),e.jsx(c,{children:"Stormwater"}),e.jsx(c,{children:"Sewer"}),e.jsx(c,{children:"Boundary"}),e.jsx(c,{children:"Map"})]})]})}export{At as default,St as meta};
