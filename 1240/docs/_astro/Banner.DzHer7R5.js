import{j as o,R as x,c as u,I as h,G as v,m as D,h as N,y as S}from"./ExamplePreview.DAvJoFtz.js";import{r as i}from"./index.DIfZGIpv.js";import{T as I}from"./Text.kb_tUD6G.js";import{u as g,c as E,a as y}from"./middleware.CvMCiNmn.js";import{S as F,D as L}from"./~utils.icons.BIY4SGkH.js";import{u as B}from"./~utils.useInit.C0Cxzq0Z.js";import{f as d}from"./styles.internal.BwFdDu8v.js";function R(n){return E(y(n,(e,t,r)=>({setLabelId:s=>{e({labelId:s||r.getInitialState().labelId})}})))}const b=i.createContext(void 0);function _(n){const e=N.c(9),{tone:t}=n;let r;e[0]!==t?(r=()=>R({tone:t}),e[0]=t,e[1]=r):r=e[1];const[s]=i.useState(r);let l,a;e[2]!==s||e[3]!==t?(l=function(){s.setState({tone:t})},a=[s,t],e[2]=s,e[3]=t,e[4]=l,e[5]=a):(l=e[4],a=e[5]),i.useEffect(l,a);let c;return e[6]!==n.children||e[7]!==s?(c=o.jsx(b.Provider,{value:s,children:n.children}),e[6]=n.children,e[7]=s,e[8]=c):c=e[8],c}function m(n){const e=S(b);return g(e,n)}const k=d((n,e)=>{B();const{tone:t="neutral",variant:r="outline",...s}=n;return o.jsx(_,{tone:t,children:o.jsx(x,{...s,"data-_sk-tone":t,"data-_sk-variant":r,className:u("Banner",n.className),ref:e})})}),C=d((n,e)=>{const t=m(a=>a.tone),r=n.href===void 0&&t!=="neutral",{render:s=r?o.jsx(F,{tone:t}):void 0,...l}=n;return o.jsx(h,{...l,render:s,className:u("BannerIcon",n.className),ref:e})}),A=d((n,e)=>{const t=i.useId(),r=m(a=>a.labelId),s=m(a=>a.setLabelId),l=n.id??t;return i.useEffect(()=>(s(l),()=>s(void 0)),[s,l]),o.jsx(I,{id:r,render:o.jsx("span",{}),...n,className:u("BannerLabel",n.className),variant:"body-sm",ref:e})}),M=d((n,e)=>o.jsx(I,{...n,variant:"body-sm",className:u("BannerMessage",n.className),ref:e})),P=d((n,e)=>o.jsx(x.div,{...n,className:u("BannerActions",n.className),ref:e})),$=d((n,e)=>{const{label:t="Dismiss",...r}=n,s=m(c=>c.labelId),l=i.useId(),a=n.id??l;return o.jsx(v,{align:"block",children:o.jsx(D,{...r,id:a,className:u("BannerDismissButton",n.className),variant:"ghost",label:t,"aria-labelledby":`${a} ${s||""}`,icon:o.jsx(L,{}),ref:e})})}),G=d((n,e)=>{B();const{message:t,label:r,actions:s,onDismiss:l,icon:a,tone:c="neutral",...f}=n,j=i.useMemo(()=>a!==void 0||c!=="neutral",[a,c]);return o.jsxs(k,{tone:c,...f,ref:e,children:[j?o.jsx(C,{href:typeof a=="string"?a:void 0,render:i.isValidElement(a)?a:void 0}):null,o.jsx(A,{render:i.isValidElement(r)?r:void 0,children:r}),o.jsx(M,{children:t}),s!=null?o.jsx(P,{children:s}):null,l?o.jsx($,{onClick:l}):null]})});var J=G;export{J as B};
