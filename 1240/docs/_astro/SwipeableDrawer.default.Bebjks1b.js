import{j as n}from"./jsx-runtime.D_zvdyIk.js";import{r as f}from"./index.DIfZGIpv.js";import{D as hr,G as Pr,K as jr,S as fr,I as J}from"./ExamplePreview.yXN-AmSz.js";import{s as Dr}from"./email.BrWZduDV.js";import{s as Rr}from"./star.CD9ilEuN.js";import{s as Lr}from"./status-draft.CO3BpMbY.js";import{B as Mr}from"./Button.Cg9fJMAJ.js";import{i as A,g as N,D as Ar}from"./Drawer.DZtEFfYC.js";import{u as Hr}from"./useTheme.Dn0IGeJ6.js";import{g as kr}from"./utils.D1GkV0Uy.js";import{u as Yr}from"./useSlot.C8-7j9_Z.js";import{s as Ir,r as Xr,m as zr,u as Br}from"./DefaultPropsProvider.BiTDKyZk.js";import{u as Cr}from"./useForkRef.KV1Qlr18.js";import{u as Q}from"./useEventCallback.BLno23Un.js";import{o as W}from"./ownerDocument.DW-IO8s5.js";import{m as dr}from"./mergeSlotProps.BIa_PGzq.js";import{o as O}from"./ownerWindow.C0DXrk6N.js";import{L as Nr}from"./List.Vx316A3u.js";import{L as Z}from"./ListItem.DZupV2ir.js";import{L as v}from"./ListItemButton.Cn4A2CxK.js";import{L as rr}from"./ListItemIcon.DQZ5ohGF.js";import{L as tr}from"./ListItemText.CuvXORA1.js";import"./preload-helper.CWPvEUvb.js";import"./index.XeJbqeyU.js";import"./styles.internal.BwFdDu8v.js";import"./createSimplePaletteValueFilter.bm0fmN_7.js";import"./ButtonBase.Ca0RU9yU.js";import"./useTimeout.MQmNRbNi.js";import"./isFocusVisible.B8k4qzLc.js";import"./CircularProgress.CWYVp-Fg.js";import"./getReactElementRef.D9_s3bwB.js";import"./debounce.Be36O1Ab.js";import"./Modal.BL3dnTye.js";import"./getScrollbarSize.CaCM53D3.js";import"./createChainedFunction.BO_9K8Jh.js";import"./mergeSlotProps.4dDCpWGX.js";import"./isHostComponent.DVu5iVWx.js";import"./Portal.CICJzVPo.js";import"./getActiveElement.BQgAPKnO.js";import"./Backdrop.DQka5Q65.js";import"./Paper.C0eOC1ms.js";import"./isMuiElement.Xe0vN3HE.js";import"./listItemIconClasses.B8dI49Kt.js";import"./listItemTextClasses.BwMFwnKY.js";import"./Typography.BI4Hdh-P.js";import"./index.2PLmdfKM.js";import"./extendSxProp.DKozSqS9.js";function Wr(e){const{children:o,defer:i=!1,fallback:c=null}=e,[u,y]=f.useState(!1);return hr(()=>{i||y(!0)},[i]),f.useEffect(()=>{i&&y(!0)},[i]),u?o:c}const Fr=Ir("div",{name:"MuiSwipeArea",shouldForwardProp:Xr})(zr(({theme:e})=>({position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1,variants:[{props:{anchor:"left"},style:{right:"auto"}},{props:{anchor:"right"},style:{left:"auto",right:0}},{props:{anchor:"top"},style:{bottom:"auto",right:0}},{props:{anchor:"bottom"},style:{top:"auto",bottom:0,right:0}}]}))),Or=f.forwardRef(function(o,i){const{anchor:c,classes:u={},className:y,width:s,style:P,...j}=o,R=o;return n.jsx(Fr,{className:Pr("PrivateSwipeArea-root",u.root,u[`anchor${jr(c)}`],y),ref:i,style:{[A(c)?"width":"height"]:s,...P},ownerState:R,...j})}),F=3,er=20;let b=null;function or(e,o,i){return e==="right"?i.body.offsetWidth-o[0].pageX:o[0].pageX}function nr(e,o,i){return e==="bottom"?i.innerHeight-o[0].clientY:o[0].clientY}function k(e,o){return e?o.clientWidth:o.clientHeight}function mr(e,o,i,c){return Math.min(Math.max(i?o-e:c+o-e,0),c)}function $r(e,o){const i=[];for(;e&&e!==o.parentElement;){const c=O(o).getComputedStyle(e);c.getPropertyValue("position")==="absolute"||c.getPropertyValue("overflow-x")==="hidden"||(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&i.push(e),e=e.parentElement}return i}function _r({domTreeShapes:e,start:o,current:i,anchor:c}){const u={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return e.some(y=>{let s=i>=o;(c==="top"||c==="left")&&(s=!s);const P=c==="left"||c==="right"?"x":"y",j=Math.round(y[u.scrollPosition[P]]),R=j>0,L=j+y[u.clientLength[P]]<y[u.scrollLength[P]];return!!(s&&L||!s&&R)})}const Gr=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),Vr=f.forwardRef(function(o,i){const c=Br({name:"MuiSwipeableDrawer",props:o}),u=Hr(),y={enter:u.transitions.duration.enteringScreen,exit:u.transitions.duration.leavingScreen},{anchor:s="left",disableBackdropTransition:P=!1,disableDiscovery:j=!1,disableSwipeToOpen:R=Gr,hideBackdrop:L,hysteresis:sr=.52,allowSwipeInChildren:H=!1,minFlingVelocity:$=450,ModalProps:{BackdropProps:ir,...gr}={},onClose:ar,onOpen:wr,open:l=!1,PaperProps:cr={},SwipeAreaProps:Sr,swipeAreaWidth:_=20,transitionDuration:G=y,variant:D="temporary",slots:lr={},slotProps:Y={},...yr}=c,[ur,V]=f.useState(!1),r=f.useRef({isSwiping:null}),E=f.useRef(),I=f.useRef(),d=f.useRef(),xr=Cr(cr.ref,d),X=f.useRef(!1),K=f.useRef();hr(()=>{K.current=null},[l]);const z=f.useCallback((t,g={})=>{const{mode:a=null,changeTransition:p=!0}=g,m=N(u,s),w=["right","bottom"].includes(m)?1:-1,x=A(s),S=x?`translate(${w*t}px, 0)`:`translate(0, ${w*t}px)`,M=d.current.style;M.webkitTransform=S,M.transform=S;let h="";if(a&&(h=u.transitions.create("all",kr({easing:void 0,style:void 0,timeout:G},{mode:a}))),p&&(M.webkitTransition=h,M.transition=h),!P&&!L){const T=I.current.style;T.opacity=1-t/k(x,d.current),p&&(T.webkitTransition=h,T.transition=h)}},[s,P,L,u,G]),B=Q(t=>{if(!X.current)return;if(b=null,X.current=!1,fr.flushSync(()=>{V(!1)}),!r.current.isSwiping){r.current.isSwiping=null;return}r.current.isSwiping=null;const g=N(u,s),a=A(s);let p;a?p=or(g,t.changedTouches,W(t.currentTarget)):p=nr(g,t.changedTouches,O(t.currentTarget));const m=a?r.current.startX:r.current.startY,w=k(a,d.current),x=mr(p,m,l,w),S=x/w;if(Math.abs(r.current.velocity)>$&&(K.current=Math.abs((w-x)/r.current.velocity)*1e3),l){r.current.velocity>$||S>sr?ar():z(0,{mode:"exit"});return}r.current.velocity<-$||1-S>sr?wr():z(k(a,d.current),{mode:"enter"})}),pr=(t=!1)=>{if(!ur){(t||!(j&&H))&&fr.flushSync(()=>{V(!0)});const g=A(s);!l&&d.current&&z(k(g,d.current)+(j?15:-er),{changeTransition:!1}),r.current.velocity=0,r.current.lastTime=null,r.current.lastTranslate=null,r.current.paperHit=!1,X.current=!0}},U=Q(t=>{if(!d.current||!X.current||b!==null&&b!==r.current)return;pr(!0);const g=N(u,s),a=A(s),p=or(g,t.touches,W(t.currentTarget)),m=nr(g,t.touches,O(t.currentTarget));if(l&&d.current.contains(t.target)&&b===null){const h=$r(t.target,d.current);if(_r({domTreeShapes:h,start:a?r.current.startX:r.current.startY,current:a?p:m,anchor:s})){b=!0;return}b=r.current}if(r.current.isSwiping==null){const h=Math.abs(p-r.current.startX),T=Math.abs(m-r.current.startY),C=a?h>T&&h>F:T>h&&T>F;if(C&&t.cancelable&&t.preventDefault(),C===!0||(a?T>F:h>F)){if(r.current.isSwiping=C,!C){B(t);return}r.current.startX=p,r.current.startY=m,!j&&!l&&(a?r.current.startX-=er:r.current.startY-=er)}}if(!r.current.isSwiping)return;const w=k(a,d.current);let x=a?r.current.startX:r.current.startY;l&&!r.current.paperHit&&(x=Math.min(x,w));const S=mr(a?p:m,x,l,w);if(l)if(r.current.paperHit)S===0&&(r.current.startX=p,r.current.startY=m);else if(a?p<w:m<w)r.current.paperHit=!0,r.current.startX=p,r.current.startY=m;else return;r.current.lastTranslate===null&&(r.current.lastTranslate=S,r.current.lastTime=performance.now()+1);const M=(S-r.current.lastTranslate)/(performance.now()-r.current.lastTime)*1e3;r.current.velocity=r.current.velocity*.4+M*.6,r.current.lastTranslate=S,r.current.lastTime=performance.now(),t.cancelable&&t.preventDefault(),z(S)}),q=Q(t=>{if(t.defaultPrevented||t.defaultMuiPrevented||l&&(L||!I.current.contains(t.target))&&!d.current.contains(t.target))return;const g=N(u,s),a=A(s),p=or(g,t.touches,W(t.currentTarget)),m=nr(g,t.touches,O(t.currentTarget));if(!l){if(R||!(t.target===E.current||d.current?.contains(t.target)&&(typeof H=="function"?H(t,E.current,d.current):H)))return;if(a){if(p>_)return}else if(m>_)return}t.defaultMuiPrevented=!0,b=null,r.current.startX=p,r.current.startY=m,pr()});f.useEffect(()=>{if(D==="temporary"){const t=W(d.current);return t.addEventListener("touchstart",q),t.addEventListener("touchmove",U,{passive:!l}),t.addEventListener("touchend",B),()=>{t.removeEventListener("touchstart",q),t.removeEventListener("touchmove",U,{passive:!l}),t.removeEventListener("touchend",B)}}},[D,l,q,U,B]),f.useEffect(()=>()=>{b===r.current&&(b=null)},[]),f.useEffect(()=>{l||V(!1)},[l]);const[Tr,br]=Yr("swipeArea",{ref:E,elementType:Or,ownerState:c,externalForwardedProps:{slots:lr,slotProps:{swipeArea:Sr,...Y}},additionalProps:{width:_,anchor:s}});return n.jsxs(f.Fragment,{children:[n.jsx(Ar,{open:D==="temporary"&&ur?!0:l,variant:D,ModalProps:{BackdropProps:{...ir,ref:I},...D==="temporary"&&{keepMounted:!0},...gr},hideBackdrop:L,anchor:s,transitionDuration:K.current||G,onClose:ar,ref:i,slots:lr,slotProps:{...Y,backdrop:dr(Y.backdrop??ir,{ref:I}),paper:dr(Y.paper??cr,{style:{pointerEvents:D==="temporary"&&!l&&!H?"none":""},ref:xr})},...yr}),!R&&D==="temporary"&&n.jsx(Wr,{children:n.jsx(Tr,{...br})})]})}),Wt=()=>{const[e,o]=f.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx(Mr,{onClick:()=>o(!0),children:"Open drawer"}),n.jsx(Vr,{anchor:"left",open:e,onOpen:()=>o(!0),onClose:()=>o(!1),children:n.jsxs(Nr,{children:[n.jsx(Z,{disablePadding:!0,children:n.jsxs(v,{children:[n.jsx(rr,{children:n.jsx(J,{href:`${Dr}#icon-large`,size:"large"})}),n.jsx(tr,{primary:"Inbox"})]})}),n.jsx(Z,{disablePadding:!0,children:n.jsxs(v,{children:[n.jsx(rr,{children:n.jsx(J,{href:`${Rr}#icon-large`,size:"large"})}),n.jsx(tr,{primary:"Starred"})]})}),n.jsx(Z,{disablePadding:!0,children:n.jsxs(v,{children:[n.jsx(rr,{children:n.jsx(J,{href:`${Lr}#icon-large`,size:"large"})}),n.jsx(tr,{primary:"Drafts"})]})})]})})]})};export{Wt as default};
