import{a9 as S,a5 as N,j as e,V as C,R as w,aa as _,B as k,ac as L,c as g}from"./ExamplePreview.ROT6mk1O.js";import{A}from"./Anchor.TJOh-b4M.js";import{r as l}from"./index.DIfZGIpv.js";import{C as B}from"./collection.D1F1Weu6.js";import{C as O}from"./Z2O3VLAQ.C0h43bTI.js";import{b as P}from"./GVAFFF2B.DjV5NlY6.js";import{D as H}from"./APVORPDK.QA5NZ7ym.js";import{D as T}from"./dialog-provider.Chlu3nqk.js";import{T as h}from"./Text.D29HGECm.js";import{S as V,C as $}from"./~utils.icons.BNiPAaJB.js";import{u as z}from"./~utils.useInit.Dh2dg7qO.js";import{f as j}from"./styles.internal.BwFdDu8v.js";import"./preload-helper.CWPvEUvb.js";import"./index.XeJbqeyU.js";import"./NDVACHQI.g9eaoRsZ.js";import"./~utils.icons.QqC7xgrG.js";const q=j((t,s)=>{z();const{label:r,items:i=[],open:c,setOpen:d,...m}=t,u=l.useId(),v=t["aria-label"]?void 0:r?u:void 0,R=i.length>0,[f,I]=S(!1,c,d),p=l.useRef(null),D=()=>{const o=p.current;if(!o)return;const n="--ErrorRegion-pulse";o.getAnimations({subtree:!0}).find(a=>a.id===n)||o.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:n,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},x=P({setItems:o=>{const n=new Set(E.map(a=>a.id));o.filter(a=>!n.has(a.id)).length!==0&&(D(),F(r))}}),E=N(x,"items"),[b,F]=l.useState(r);return e.jsxs(e.Fragment,{children:[e.jsx(C,{"aria-live":"polite","aria-atomic":!0,children:b===r?b:void 0}),e.jsx(T,{open:f,setOpen:I,children:e.jsx(w.section,{"aria-labelledby":v,...m,className:g("ErrorRegion",t.className),"data-_sk-visible":R,"data-_sk-expanded":f,ref:s,children:e.jsxs("div",{className:"ErrorRegionContainer",ref:p,children:[e.jsxs(H,{className:"ErrorRegionHeader",render:e.jsx(k,{variant:"ghost"}),children:[e.jsx(V,{tone:"attention",className:"ErrorRegionIcon"}),e.jsx(h,{render:e.jsx("span",{}),id:u,className:"ErrorRegionLabel",variant:"body-sm",children:r}),e.jsx(_,{inert:!0,variant:"ghost",children:e.jsx($,{})})]}),e.jsx(L,{className:"ErrorRegionDialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(B,{store:x,className:"ErrorRegionItems",role:"list",children:i})})]})})})]})}),G=j((t,s)=>{const r=l.useId(),{message:i,messageId:c=`${r}-message`,actions:d,...m}=t;return e.jsxs(O,{...m,role:"listitem",className:g("ErrorRegionItem",t.className),ref:s,children:[e.jsx(h,{id:c,variant:"body-sm",children:i}),e.jsx("div",{className:"ErrorRegionItemActions",children:d})]})}),ne=()=>{const t=[1,2];return e.jsx(q,{"aria-label":"Hierarchy issues",label:`${t.length} issues found`,items:t.map(s=>e.jsx(G,{message:e.jsxs(e.Fragment,{children:["Failed to create hierarchy for Item ",s]}),actions:e.jsx(A,{render:e.jsx("button",{type:"button"}),children:"Retry"})},s))})};export{ne as default};
