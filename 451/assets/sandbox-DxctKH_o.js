var ke=t=>{throw TypeError(t)};var xe=(t,e,s)=>e.has(t)||ke("Cannot "+s);var a=(t,e,s)=>(xe(t,e,"read from private field"),s?s.call(t):e.get(t)),M=(t,e,s)=>e.has(t)?ke("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),S=(t,e,s,n)=>(xe(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),w=(t,e,s)=>(xe(t,e,"access private method"),s);import{w as tt}from"./LMDWO4NN-Dg-CmVu9.js";import{a as o,n as r,t as st}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{a as Me}from"./index-ChOFKjs3.js";import{G as rt,u as nt,B as it}from"./Button-BB1W_voN.js";import{L as at,a as De,b as Pe,D as Ke,c as We,d as $e,e as z,f as ot}from"./DropdownMenu-BeV-XJQF.js";import{I as H}from"./Icon-agel6k2S.js";import{I as ne}from"./IconButton-C3C3D2qn.js";import{F as lt,L as ct}from"./Label-sB2FeroB.js";import{S as ut,H as dt}from"./Select-BYCmvt2u.js";import{S as de}from"./Skeleton-Dpvq4dUE.js";import{T as ht,a as ft,b as mt,c as pt}from"./Tabs-hnZBq4Yx.js";import{T as fe}from"./Text-CCZf7-qH.js";import{T as gt,a as xt,b as vt}from"./TextBox-fMVjtoMz.js";import{c as $,a as bt}from"./~utils-uzVVQVsv.js";import{R as ie}from"./XL7CSKGW-UlgSkSI6.js";import{u as jt,C as Ct}from"./ITI7HKP4-DbxAdGsH.js";import{f as te}from"./~utils-26sRqX9k.js";import{V as ee}from"./VisuallyHidden-CckPABms.js";import{S as yt,l as Ne,q as O,t as ve,r as ue,b as St,u as be,v as ze,w as It,g as Rt,x as _t,y as Ee,n as Ge,z as wt}from"./QueryClientProvider-CsjJmbma.js";import{p as se}from"./placeholder-DyDmZlpM.js";import{p as Ft,l as Tt,h as kt,s as Le,m as Mt,d as Dt,f as Pt}from"./visibility-hide-q3PJlrWx.js";import{s as Nt}from"./visibility-show-BikOIQmu.js";import{C as zt}from"./P2CTZE2T-CsknsjqQ.js";import{T as Et}from"./toolbar-BCmn58t3.js";import{u as ae}from"./~hooks-Dvcn2d_3.js";import"./X5NMLKT6-tbHUaCWI.js";import"./KUU7WJ55-DGpHxwfQ.js";import"./LVA2YJMS-Poy2N9Zq.js";import"./Kbd-9yxtOsD_.js";import"./BYC7LY2E-DEfXd4q1.js";import"./YV4JVR4I-DPjYyIBF.js";import"./VGCJ63VH-B_HxEu7q.js";import"./XX67R432-tiBLlwDL.js";import"./AOQQTIBO-B4HjLz2q.js";import"./MTZPJQMC-DyHagAf_.js";import"./VEVQD5MH-5tJIUYnQ.js";import"./P4IRICAX-BkrqoX0A.js";import"./ASMQKSDT-Bn53RVEK.js";import"./BOLVLGVE-BFPJ-NKS.js";import"./Tooltip-B6kZY_oi.js";import"./tooltip-anchor-DqtdyEiF.js";import"./C3IKGW5T-C3PuGI4F.js";import"./RZ4GPYOB-Do0ZeBdx.js";const Lt=o.createContext(void 0),Ot=te((t,e)=>{const{"aria-level":s,selected:n,expanded:u,icon:l,unstable_decorations:i,label:h,description:f,actions:d,onSelectedChange:m,onExpandedChange:c,onClick:g,onKeyDown:b,...F}=t,p=R=>{n!==void 0&&(R.stopPropagation(),m==null||m(!n))},v=R=>{R.altKey||R.ctrlKey||R.metaKey||R.shiftKey||u!==void 0&&(R.key==="ArrowRight"||R.key==="ArrowLeft")&&(R.preventDefault(),c==null||c(R.key==="ArrowRight"))},I=o.useId(),T=o.useId(),E=o.useId(),G=o.useMemo(()=>{const R=[];return f&&R.push(T),(i||l)&&R.push(E),R.length>0?R.join(" "):void 0},[i,l,E,f,T]);return r.jsx(Lt.Provider,{value:o.useMemo(()=>({level:s,expanded:u,selected:n}),[s,u,n]),children:r.jsx(zt,{render:r.jsx(ie,{...F}),onClick:ae(g,p),onKeyDown:ae(b,v),role:"treeitem","aria-expanded":u,"aria-selected":n,"aria-labelledby":I,"aria-describedby":G,"aria-level":s,className:$("ðŸ¥-tree-item",t.className),ref:e,children:r.jsxs(at,{"data-kiwi-expanded":u,"data-kiwi-selected":n,className:"ðŸ¥-tree-item-node",style:{"--ðŸ¥tree-item-level":s},role:void 0,children:[r.jsxs(De,{children:[r.jsx(rt,{align:f?"block":void 0,children:r.jsx(Ut,{onClick:()=>{u!==void 0&&(c==null||c(!u))}})}),l||i?r.jsx(ie,{className:"ðŸ¥-tree-item-decoration",id:E,render:o.isValidElement(l)?l:typeof l=="string"?r.jsx(H,{href:l}):void 0,children:l?null:i}):null]}),r.jsx(Pe,{id:I,className:"ðŸ¥-tree-item-content",children:h}),f?r.jsx(Pe,{id:T,className:"ðŸ¥-tree-item-description",children:f}):void 0,r.jsx(De,{render:r.jsx(Bt,{children:d})})]})})})}),Bt=te((t,e)=>r.jsx(Et,{...t,onClick:ae(t.onClick,s=>s.stopPropagation()),onKeyDown:ae(t.onKeyDown,s=>s.stopPropagation()),className:$("ðŸ¥-tree-item-actions",t.className),ref:e,children:t.children})),je=te((t,e)=>{const{visible:s,...n}=t;return r.jsx(ne,{inert:s===!1?!0:void 0,...n,variant:"ghost",className:$("ðŸ¥-tree-item-action",t.className),"data-kiwi-visible":s,ref:e})}),Ut=te((t,e)=>r.jsx(ie.span,{"aria-hidden":"true",...t,onClick:ae(t.onClick,s=>s.stopPropagation()),className:$("ðŸ¥-button","ðŸ¥-icon-button","ðŸ¥-ghost-aligner","ðŸ¥-tree-item-expander",t.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":nt(),ref:e,children:r.jsx(Qt,{})})),Qt=te((t,e)=>r.jsx(H,{...t,render:r.jsx(ie.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:t.render,children:r.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:$("ðŸ¥-tree-chevron",t.className),ref:e})),At=te((t,e)=>{const s=jt({orientation:"vertical"});return r.jsx(ie.div,{role:"tree",...t,render:r.jsx(Ct,{store:s}),className:$("ðŸ¥-tree",t.className),ref:e,children:t.children})});var P,x,oe,D,V,X,Q,L,le,Z,J,K,W,A,Y,C,re,Ce,ye,Se,Ie,Re,_e,we,qe,Ve,Ht=(Ve=class extends yt{constructor(e,s){super();M(this,C);M(this,P);M(this,x);M(this,oe);M(this,D);M(this,V);M(this,X);M(this,Q);M(this,L);M(this,le);M(this,Z);M(this,J);M(this,K);M(this,W);M(this,A);M(this,Y,new Set);this.options=s,S(this,P,e),S(this,L,null),S(this,Q,Ne()),this.options.experimental_prefetchInRender||a(this,Q).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,x).addObserver(this),Oe(a(this,x),this.options)?w(this,C,re).call(this):this.updateResult(),w(this,C,Ie).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fe(a(this,x),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fe(a(this,x),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,w(this,C,Re).call(this),w(this,C,_e).call(this),a(this,x).removeObserver(this)}setOptions(e,s){const n=this.options,u=a(this,x);if(this.options=a(this,P).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof O(this.options.enabled,a(this,x))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");w(this,C,we).call(this),a(this,x).setOptions(this.options),n._defaulted&&!ve(this.options,n)&&a(this,P).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,x),observer:this});const l=this.hasListeners();l&&Be(a(this,x),u,this.options,n)&&w(this,C,re).call(this),this.updateResult(s),l&&(a(this,x)!==u||O(this.options.enabled,a(this,x))!==O(n.enabled,a(this,x))||ue(this.options.staleTime,a(this,x))!==ue(n.staleTime,a(this,x)))&&w(this,C,Ce).call(this);const i=w(this,C,ye).call(this);l&&(a(this,x)!==u||O(this.options.enabled,a(this,x))!==O(n.enabled,a(this,x))||i!==a(this,A))&&w(this,C,Se).call(this,i)}getOptimisticResult(e){const s=a(this,P).getQueryCache().build(a(this,P),e),n=this.createResult(s,e);return Kt(this,n)&&(S(this,D,n),S(this,X,this.options),S(this,V,a(this,x).state)),n}getCurrentResult(){return a(this,D)}trackResult(e,s){const n={};return Object.keys(e).forEach(u=>{Object.defineProperty(n,u,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(u),s==null||s(u),e[u])})}),n}trackProp(e){a(this,Y).add(e)}getCurrentQuery(){return a(this,x)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=a(this,P).defaultQueryOptions(e),n=a(this,P).getQueryCache().build(a(this,P),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return w(this,C,re).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,D)))}createResult(e,s){var ce;const n=a(this,x),u=this.options,l=a(this,D),i=a(this,V),h=a(this,X),d=e!==n?e.state:a(this,oe),{state:m}=e;let c={...m},g=!1,b;if(s._optimisticResults){const k=this.hasListeners(),B=!k&&Oe(e,s),y=k&&Be(e,n,s,u);(B||y)&&(c={...c,..._t(m.data,e.options)}),s._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:F,errorUpdatedAt:p,status:v}=c;if(s.select&&c.data!==void 0)if(l&&c.data===(i==null?void 0:i.data)&&s.select===a(this,le))b=a(this,Z);else try{S(this,le,s.select),b=s.select(c.data),b=Ee(l==null?void 0:l.data,b,s),S(this,Z,b),S(this,L,null)}catch(k){S(this,L,k)}else b=c.data;if(s.placeholderData!==void 0&&b===void 0&&v==="pending"){let k;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))k=l.data;else if(k=typeof s.placeholderData=="function"?s.placeholderData((ce=a(this,J))==null?void 0:ce.state.data,a(this,J)):s.placeholderData,s.select&&k!==void 0)try{k=s.select(k),S(this,L,null)}catch(B){S(this,L,B)}k!==void 0&&(v="success",b=Ee(l==null?void 0:l.data,k,s),g=!0)}a(this,L)&&(F=a(this,L),b=a(this,Z),p=Date.now(),v="error");const I=c.fetchStatus==="fetching",T=v==="pending",E=v==="error",G=T&&I,R=b!==void 0,N={status:v,fetchStatus:c.fetchStatus,isPending:T,isSuccess:v==="success",isError:E,isInitialLoading:G,isLoading:G,data:b,dataUpdatedAt:c.dataUpdatedAt,error:F,errorUpdatedAt:p,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>d.dataUpdateCount||c.errorUpdateCount>d.errorUpdateCount,isFetching:I,isRefetching:I&&!T,isLoadingError:E&&!R,isPaused:c.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:E&&R,isStale:Te(e,s),refetch:this.refetch,promise:a(this,Q)};if(this.options.experimental_prefetchInRender){const k=_=>{N.status==="error"?_.reject(N.error):N.data!==void 0&&_.resolve(N.data)},B=()=>{const _=S(this,Q,N.promise=Ne());k(_)},y=a(this,Q);switch(y.status){case"pending":e.queryHash===n.queryHash&&k(y);break;case"fulfilled":(N.status==="error"||N.data!==y.value)&&B();break;case"rejected":(N.status!=="error"||N.error!==y.reason)&&B();break}}return N}updateResult(e){const s=a(this,D),n=this.createResult(a(this,x),this.options);if(S(this,V,a(this,x).state),S(this,X,this.options),a(this,V).data!==void 0&&S(this,J,a(this,x)),ve(n,s))return;S(this,D,n);const u={},l=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,h=typeof i=="function"?i():i;if(h==="all"||!h&&!a(this,Y).size)return!0;const f=new Set(h??a(this,Y));return this.options.throwOnError&&f.add("error"),Object.keys(a(this,D)).some(d=>{const m=d;return a(this,D)[m]!==s[m]&&f.has(m)})};(e==null?void 0:e.listeners)!==!1&&l()&&(u.listeners=!0),w(this,C,qe).call(this,{...u,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&w(this,C,Ie).call(this)}},P=new WeakMap,x=new WeakMap,oe=new WeakMap,D=new WeakMap,V=new WeakMap,X=new WeakMap,Q=new WeakMap,L=new WeakMap,le=new WeakMap,Z=new WeakMap,J=new WeakMap,K=new WeakMap,W=new WeakMap,A=new WeakMap,Y=new WeakMap,C=new WeakSet,re=function(e){w(this,C,we).call(this);let s=a(this,x).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(St)),s},Ce=function(){w(this,C,Re).call(this);const e=ue(this.options.staleTime,a(this,x));if(be||a(this,D).isStale||!ze(e))return;const n=It(a(this,D).dataUpdatedAt,e)+1;S(this,K,setTimeout(()=>{a(this,D).isStale||this.updateResult()},n))},ye=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,x)):this.options.refetchInterval)??!1},Se=function(e){w(this,C,_e).call(this),S(this,A,e),!(be||O(this.options.enabled,a(this,x))===!1||!ze(a(this,A))||a(this,A)===0)&&S(this,W,setInterval(()=>{(this.options.refetchIntervalInBackground||Rt.isFocused())&&w(this,C,re).call(this)},a(this,A)))},Ie=function(){w(this,C,Ce).call(this),w(this,C,Se).call(this,w(this,C,ye).call(this))},Re=function(){a(this,K)&&(clearTimeout(a(this,K)),S(this,K,void 0))},_e=function(){a(this,W)&&(clearInterval(a(this,W)),S(this,W,void 0))},we=function(){const e=a(this,P).getQueryCache().build(a(this,P),this.options);if(e===a(this,x))return;const s=a(this,x);S(this,x,e),S(this,oe,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},qe=function(e){Ge.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(a(this,D))}),a(this,P).getQueryCache().notify({query:a(this,x),type:"observerResultsUpdated"})})},Ve);function Vt(t,e){return O(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Oe(t,e){return Vt(t,e)||t.state.data!==void 0&&Fe(t,e,e.refetchOnMount)}function Fe(t,e,s){if(O(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&Te(t,e)}return!1}function Be(t,e,s,n){return(t!==e||O(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Te(t,s)}function Te(t,e){return O(e.enabled,t)!==!1&&t.isStaleByTime(ue(e.staleTime,t))}function Kt(t,e){return!ve(t.getCurrentResult(),e)}var Xe=o.createContext(!1),Wt=()=>o.useContext(Xe);Xe.Provider;function $t(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gt=o.createContext($t()),qt=()=>o.useContext(Gt);function Xt(t,e){return typeof t=="function"?t(...e):!!t}function Ue(){}var Zt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Jt=t=>{o.useEffect(()=>{t.clearReset()},[t])},Yt=({result:t,errorResetBoundary:e,throwOnError:s,query:n,suspense:u})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(u&&t.data===void 0||Xt(s,[t.error,n])),es=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...s)=>Math.max(e(...s),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},ts=(t,e)=>t.isLoading&&t.isFetching&&!e,ss=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Qe=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function rs(t,e,s){var c,g,b,F,p;const n=wt(),u=Wt(),l=qt(),i=n.defaultQueryOptions(t);(g=(c=n.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||g.call(c,i),i._optimisticResults=u?"isRestoring":"optimistic",es(i),Zt(i,l),Jt(l);const h=!n.getQueryCache().get(i.queryHash),[f]=o.useState(()=>new e(n,i)),d=f.getOptimisticResult(i),m=!u&&t.subscribed!==!1;if(o.useSyncExternalStore(o.useCallback(v=>{const I=m?f.subscribe(Ge.batchCalls(v)):Ue;return f.updateResult(),I},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),o.useEffect(()=>{f.setOptions(i,{listeners:!1})},[i,f]),ss(i,d))throw Qe(i,f,l);if(Yt({result:d,errorResetBoundary:l,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((F=(b=n.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||F.call(b,i,d),i.experimental_prefetchInRender&&!be&&ts(d,u)){const v=h?Qe(i,f,l):(p=n.getQueryCache().get(i.queryHash))==null?void 0:p.promise;v==null||v.catch(Ue).finally(()=>{f.updateResult()})}return i.notifyOnChangeProps?d:f.trackResult(d)}function ns(t,e){return rs(t,Ht)}const is="_appLayout_10g0g_5",as="_header_10g0g_22",os="_platformBar_10g0g_32",ls="_logo_10g0g_38",cs="_tools_10g0g_48",us="_leftPanel_10g0g_58",ds="_panelHeader_10g0g_70",hs="_panelTitleWrapper_10g0g_78",fs="_panelCaption_10g0g_82",ms="_shiftIconRight_10g0g_86",ps="_subheader_10g0g_90",gs="_searchInput_10g0g_106",xs="_subheaderActions_10g0g_110",vs="_tabList_10g0g_114",bs="_emptyState_10g0g_119",js="_skeletonTree_10g0g_128",Cs="_skeletonTreeItem_10g0g_135",ys="_canvasWrapper_10g0g_144",Ss="_canvas_10g0g_144",Is="_splitter_10g0g_181",Rs="_tabPanel_10g0g_227",_s="_tree_10g0g_235",ws="_action_10g0g_239",Fs="_slider_10g0g_256",Ts="_colorSwatch_10g0g_265",j={appLayout:is,header:as,platformBar:os,logo:ls,tools:cs,leftPanel:us,panelHeader:ds,panelTitleWrapper:hs,panelCaption:fs,shiftIconRight:ms,subheader:ps,searchInput:gs,subheaderActions:xs,tabList:vs,emptyState:bs,skeletonTree:js,skeletonTreeItem:Cs,canvasWrapper:ys,canvas:Ss,splitter:Is,tabPanel:Rs,tree:_s,action:ws,slider:Fs,colorSwatch:Ts},ks="/451/assets/sandbox.model1-CoozF5xy.json",Ms="/451/assets/sandbox.model2-Bi69Ub92.json",Ds="data:application/json;base64,ewoJIm5hbWUiOiAiRXBvY2ggU3lzdGVtIGlNb2RlbCAzIiwKCSJ2ZXJzaW9uIjogIjIwMjQgUmVmcmVzaCIsCgkiZGF0YSI6IHsKCQkiZGVmYXVsdCI6IFtdCgl9Cn0K",he={model1:{name:"Epoch System iModel 1",url:ks},model2:{name:"Epoch System iModel 2",url:Ms},model3:{name:"Epoch System iModel 3",url:Ds}};async function Ps(t){if(t in he){const e=await fetch(he[t].url).then(s=>s.json());return e.slow&&await new Promise(s=>setTimeout(s,Math.random()*2e3)),e}return{name:"Unknown",version:"Unknown",data:{default:[]}}}const Ze="Kiwi sandbox",Ur=()=>[{title:Ze}],Qr=tt(function(){var l;const[e,s]=st(),n=e.get("model")||"model1",u=ns({queryKey:["sandbox-data",n],queryFn:()=>Ps(n)});return r.jsxs(Ns,{panelContent:r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:j.panelHeader,children:[r.jsxs("div",{children:[r.jsxs(lt,{children:[r.jsx(ee,{render:r.jsx(ct,{}),children:"Choose Model"}),r.jsx(ut,{className:j.panelTitleWrapper,children:r.jsx(dt,{variant:"ghost",defaultValue:n,onChange:i=>s({model:i.currentTarget.value}),children:Object.entries(he).map(([i,{name:h}])=>r.jsx("option",{value:i,children:h},i))})})]}),r.jsxs("hgroup",{role:"group",children:[r.jsx(ee,{render:r.jsx("h2",{}),children:(l=he[n])==null?void 0:l.name}),r.jsx(o.Suspense,{fallback:r.jsx(de,{variant:"text"}),children:r.jsx(Ls,{query:u})},n)]})]}),r.jsx("div",{className:j.actions,children:r.jsx(ne,{className:j.shiftIconRight,icon:Ft,label:"Dock panel",variant:"ghost",disabled:!0})})]}),r.jsx(o.Suspense,{fallback:r.jsx(zs,{}),children:r.jsx(Os,{query:u})},n)]}),children:[r.jsxs("header",{className:j.header,children:[r.jsx("div",{className:j.logo,children:r.jsx(H,{href:se,size:"large"})}),r.jsx(fe,{render:i=>r.jsx("h1",{...i}),variant:"body-md",children:Ze})]}),r.jsx("div",{className:j.platformBar,children:r.jsxs("div",{className:j.tools,children:[r.jsx(H,{href:se,size:"large"}),r.jsx(H,{href:se,size:"large"}),r.jsx(H,{href:se,size:"large"})]})}),r.jsx("div",{className:j.canvasWrapper,children:r.jsx("div",{className:j.canvas})})]})});function Ns(t){const{sliderProps:e,panelProps:s,panelMinSize:n,panelMaxSize:u,resizing:l}=As({minSize:{px:256,pct:20},maxSize:{pct:30}}),i=o.useId();return r.jsxs("div",{className:j.appLayout,style:{"--_panel-min-size":n,"--_panel-max-size":u},children:[r.jsx("div",{...s,className:j.leftPanel,style:{position:"relative",...s.style},children:t.panelContent}),r.jsxs("div",{className:j.splitter,"data-resizing":l?"true":void 0,children:[r.jsx(ee,{render:h=>r.jsx("label",{...h,htmlFor:i,children:"Resize layers panel"}),children:"Resize layers panel"}),r.jsx("input",{id:i,type:"range",className:j.slider,...e})]}),t.children]})}function zs(){const t=[1,1,2,2,3,2,3,2,1,1,2,3,4,5,2,3,4,5];return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:j.subheader,children:r.jsx(de,{variant:"text"})}),r.jsxs("div",{className:j.skeletonTree,children:[t.map((e,s)=>r.jsx(Es,{style:{"--level":e}},`${s}-${e}`)),r.jsx(ee,{children:"Loadingâ€¦"})]})]})}function Es(t){return r.jsxs("div",{...t,className:$(j.skeletonTreeItem,t.className),children:[r.jsx(de,{variant:"object",size:"small"}),r.jsx(de,{variant:"text"})]})}function Ls(t){const{version:e=""}=o.use(t.query.promise);return r.jsx(fe,{className:j.panelCaption,variant:"body-sm",render:r.jsx("p",{}),children:e})}function Os(t){var i;const{data:e}=o.use(t.query.promise),s=o.useMemo(()=>Object.entries(e).map(([h,f])=>{const d=f.length<=1?[]:f.map(({label:m})=>m);return{name:h,filters:d,content:f.length>0?r.jsx(Ws,{data:f}):r.jsxs(Bs,{children:[r.jsx(fe,{variant:"body-sm",children:"No layers"}),r.jsx(it,{children:"Create a layer"})]})}}),[e]),[n,u]=o.useState((i=s[0])==null?void 0:i.name),l=o.useMemo(()=>{var h;return n?((h=s.find(f=>f.name===n))==null?void 0:h.filters)||[]:s[0].filters},[s,n]);return s.length===1?r.jsxs(He,{allFilters:l,children:[r.jsx(Ae,{}),s[0].content]}):r.jsx(He,{allFilters:l,children:r.jsxs(ht,{selectOnMove:!1,setSelectedId:u,children:[r.jsx(Ae,{tabs:s.map(h=>r.jsx(ft,{id:h.name,children:bt(h.name)},h.name))}),s.map(h=>r.jsx(mt,{tabId:h.name,className:j.tabPanel,focusable:!1,unmountOnHide:!0,children:h.content},h.name))]})})}function Bs({children:t}){return r.jsx("div",{className:j.emptyState,children:t})}function Us(){return r.jsx("div",{style:{textAlign:"center"},children:r.jsx(fe,{variant:"body-sm",children:"No results found"})})}function Qs(t,e,s){return Math.min(Math.max(t,e),s)}function As(t){const{minSize:e,maxSize:s,onCollapse:n}=t??{},u=o.useId(),l=o.useRef(null),[i,h]=o.useState(void 0),[f,d]=o.useState(void 0),[m,c]=o.useState(void 0),[g,b]=o.useState(!1),[F,p]=o.useState(void 0),v=o.useMemo(()=>{if(e&&f)return Math.min(e.px,e.pct/100*f)},[e,f]),I=o.useMemo(()=>{if(v&&s&&f)return Math.max(v,s.pct/100*f)},[s,f,v]),T=o.useMemo(()=>{if(m==="smallest")return v??0;if(m==="largest")return I??0;if(i&&v&&I)return Qs(i,v,I)},[i,v,I,m]);o.useEffect(()=>{const y=l.current;if(!y)return;const _=y.parentElement;if(!_)return;const U=new ResizeObserver(()=>{const pe=_.getBoundingClientRect(),ge=y.getBoundingClientRect();d(pe.width),h(ge.width)});return U.observe(_),U.observe(y),()=>{U.disconnect()}},[]);const E=o.useCallback(y=>{const _=l.current;if(!_)return;const U=_.getBoundingClientRect();p(U.width+y),c(void 0),b(!0)},[]),G=o.useCallback(y=>{const _=l.current;if(!_)return;const U=_.parentElement;if(!U)return;const pe=U.getBoundingClientRect(),ge=y*(pe.width*.005),et=_.getBoundingClientRect();p(et.width+ge),c(void 0)},[]),R=o.useCallback(()=>{l.current&&(p(void 0),b(!1))},[]),{moveableProps:q}=Hs({onMove:E,onMoveEnd:R,onKeyMove:G}),N=o.useMemo(()=>({...q,onKeyDown:y=>{var _;if((_=q.onKeyDown)==null||_.call(q,y),!y.defaultPrevented)switch(y.key){case"Enter":y.preventDefault(),n==null||n();break;case"Home":y.preventDefault(),c("smallest");break;case"End":y.preventDefault(),c("largest");break}},onChange:y=>{if(g)return;const _=Number(y.target.value);p(_)},value:T===void 0?0:Math.floor(T),min:v===void 0?void 0:Math.floor(v),max:I===void 0?void 0:Math.floor(I)}),[q,T,v,I,n,g]),ce=o.useMemo(()=>({style:{WebkitUserSelect:F===void 0?void 0:"none"},id:u,ref:l}),[u,F]),k=v===void 0?void 0:`${Math.floor(v)}px`,B=o.useMemo(()=>{if(F!==void 0&&s!==void 0&&m===void 0)return`min(${Math.floor(F)}px, ${s.pct}%)`;if(T!==void 0)return`${Math.floor(T)}px`},[s,F,T,m]);return{sliderProps:N,panelProps:ce,panelMinSize:k,panelMaxSize:B,resizing:g}}function Hs(t){const{onMove:e,onMoveEnd:s,onKeyMove:n}=t??{},u=o.useRef(null),l=o.useRef(void 0),i=o.useRef(void 0),h=o.useCallback(()=>{i.current!==void 0&&(i.current=void 0,s==null||s())},[s]);return{moveableProps:o.useMemo(()=>({onPointerDown:d=>{if(d.button!==0||d.ctrlKey)return;const m=u.current;if(!m)return;const c=m.getBoundingClientRect(),g=d.clientX-c.left;i.current=g,d.preventDefault(),m.setPointerCapture(d.pointerId)},onPointerMove:d=>{const m=i.current;if(m===void 0)return;const c=u.current;if(!c)return;const g=c.getBoundingClientRect(),b=d.clientX-m-g.left;d.preventDefault(),e==null||e(b)},onPointerUp:h,onPointerCancel:h,onKeyDown:d=>{if(!d.defaultPrevented)switch(d.key){case"ArrowLeft":d.preventDefault(),n==null||n(-1);break;case"ArrowRight":d.preventDefault(),n==null||n(1);break}},ref:d=>{var c;if(u.current=d,(c=l.current)==null||c.call(l),l.current=void 0,!d)return;const m=g=>{g.preventDefault()};d.addEventListener("touchstart",m),l.current=()=>{d.removeEventListener("touchstart",m)}}}),[n,e,h])}}const Je=(()=>{let t=0;return e=>({id:`${t++}`,label:`Tree Item ${t}`,expanded:!0,...e,items:((e==null?void 0:e.items)??[]).map(Je)})})();function Vs({items:t,filters:e,search:s}){const n=o.useMemo(()=>e.length===0?t:t.reduce((i,h)=>(e.includes(h.label)&&i.push(h),i),[]),[t,e]),u=o.useMemo(()=>{function i(h){return h.reduce((f,d)=>{const m=i(d.items??[]);return(d.label.toLowerCase().includes(s.toLowerCase())||m.length>0)&&f.push({...d,items:m}),f},[])}return s===""?n:i(n)},[n,s]),l=o.useMemo(()=>{if(e.length===0&&s==="")return;function i(h){return h.reduce((f,d)=>{const m=d.items?i(d.items):0;return f+1+m},0)}return i(u)},[u,e,s]);return{filteredTree:u,itemCount:l}}function Ks(t,e,s){return o.useMemo(()=>{function n(u,l,i,h,f){const d=[];let m=1;for(const c of u){const g=c.id===e||h,b=s.includes(c.id)||f;d.push({...c,level:i,parentItem:l,selected:g,hidden:b,parentHidden:f,position:m++,size:u.length}),c.expanded&&d.push(...n(c.items,c,i+1,g,b))}return d}return n(t,void 0,1,!1,!1)},[t,e,s])}function Ye(t,e){for(const s of t){if(s.id===e)return s;const n=Ye(s.items,e);if(n)return n}}function Ws({data:t}){const{appliedFilters:e,search:s,setItemCount:n}=o.useContext(me),[u,l]=o.useState(),[i,h]=o.useState([]),f=o.useCallback(p=>{h(v=>v.includes(p)?v.filter(I=>I!==p):[...v,p])},[]),[d,m]=o.useState(()=>t.map(p=>Je(p))),{filteredTree:c,itemCount:g}=Vs({items:d,filters:e,search:s}),b=Ks(c,u,i);o.useEffect(()=>{n(g)},[n,g]);const F=o.useDeferredValue(b);return F.length===0?r.jsx(Us,{}):r.jsx(o.Suspense,{fallback:"Loading...",children:r.jsx(At,{className:j.tree,children:F.map(p=>r.jsx(Ot,{label:p.label,description:p.description,"aria-level":p.level,"aria-posinset":p.position,"aria-setsize":p.size,selected:p.selected,onSelectedChange:()=>{if(u===p.id){l(void 0);return}l(p.id)},expanded:p.items.length===0?void 0:p.expanded,onExpandedChange:v=>{m(I=>{const T=Ye(I,p.id);if(!T)return I;const E=[...I];return T.expanded=v,E})},unstable_decorations:r.jsxs(r.Fragment,{children:[p.color?r.jsx(qs,{color:p.color,alt:p.color}):null,r.jsx(H,{href:se})]}),actions:[r.jsx(je,{className:j.action,icon:Tt,label:"Lock","aria-hidden":p.hidden},"lock"),r.jsx(je,{className:j.action,icon:p.hidden?kt:Nt,label:p.hidden?"Show":"Hide",visible:p.hidden?!0:void 0,onClick:()=>{f(p.id)}},"visibility"),r.jsx($s,{hidden:p.hidden},"more")]},p.id))})})}function $s({hidden:t}){return r.jsxs(Ke,{children:[r.jsx(We,{className:j.action,"aria-hidden":t,render:r.jsx(je,{icon:Mt,label:"More"})}),r.jsxs($e,{style:{minInlineSize:164},children:[r.jsx(z,{label:"Copy",shortcuts:"Command+C"}),r.jsx(z,{label:"Paste",shortcuts:"Command+P"}),r.jsx(z,{label:"Copy/Paste as",shortcuts:"Command+V"}),r.jsx(z,{label:"Move to",shortcuts:"Command+M"}),r.jsx(z,{label:"Bring to front",shortcuts:"]"}),r.jsx(z,{label:"Send to back",shortcuts:"["}),r.jsx(z,{label:"Group selection",shortcuts:"Command+G"}),r.jsx(z,{label:"Ungroup",shortcuts:"Command+U"}),r.jsx(z,{label:"Rename",shortcuts:"Command+R"}),r.jsx(z,{label:"Show/hide",shortcuts:"Shift+Command+V"}),r.jsx(z,{label:"Lock/unlock",shortcuts:"Shift+Command+L"}),r.jsx(z,{label:"Isolate object",shortcuts:"I"})]})]})}function Ae({tabs:t}){const{itemCount:e,isFiltered:s,search:n,setSearch:u}=o.useContext(me),l=o.useRef(null),i=o.useRef(null),[h,f]=o.useState(!t),d=s||!!n,m=h?r.jsxs(r.Fragment,{children:[r.jsx(Gs,{}),t?r.jsx(ne,{className:j.shiftIconRight,icon:Dt,label:"Close",variant:"ghost",onClick:()=>{var g;Me.flushSync(()=>f(!1)),(g=i.current)==null||g.focus()}}):null]}):r.jsx(ne,{className:j.shiftIconRight,icon:Le,label:"Search",dot:d?"Some filters or search applied":void 0,variant:"ghost",onClick:()=>{var g;Me.flushSync(()=>f(!0)),(g=l.current)==null||g.focus()}}),c=o.useMemo(()=>{if(s)return e===void 0?"Showing all tree items":`Showing ${e} tree items`},[s,e]);return r.jsxs("div",{className:j.subheader,children:[r.jsx(ee,{"aria-live":"polite","aria-atomic":!0,children:c}),t&&!h?r.jsx(pt,{className:j.tabList,tone:"accent",ref:i,children:t}):null,h?r.jsxs(gt,{className:j.searchInput,children:[r.jsx(xt,{href:Le}),r.jsx(vt,{placeholder:"Search",ref:l,onChange:g=>u(g.currentTarget.value)})]}):null,r.jsx("div",{className:j.subheaderActions,children:m})]})}function Gs(){const t=o.useContext(me),e=t.appliedFilters.length>0;return r.jsxs(Ke,{children:[r.jsx(We,{render:r.jsx(ne,{icon:Pt,label:"Filter",dot:e?"Some filters applied":void 0,variant:"ghost",disabled:t.allFilters.length===0})}),r.jsx($e,{children:t.allFilters.map(s=>{const n=t.appliedFilters.includes(s);return r.jsx(ot,{name:s,label:s,checked:n,onChange:()=>{t.toggleFilter(s)}},s)})})]})}function He(t){const[e,s]=o.useState(!1),[n,u]=o.useState([]),[l,i]=o.useState(""),[h,f]=o.useState(void 0),d=o.useCallback(g=>{const b=n.includes(g)?n.filter(F=>F!==g):[...n,g];u(b),s(b.length>0)},[n]),m=o.useCallback(()=>{u([]),s(!1)},[]),c=o.useCallback(g=>{i(g),s(!!g)},[]);return r.jsx(me.Provider,{value:o.useMemo(()=>({allFilters:t.allFilters,appliedFilters:n,isFiltered:e,toggleFilter:d,clearFilters:m,search:l,setSearch:c,itemCount:h,setItemCount:f}),[t.allFilters,n,e,d,m,l,c,h]),children:t.children})}const me=o.createContext({allFilters:[],appliedFilters:[],isFiltered:!1,toggleFilter:()=>{},clearFilters:()=>{},search:"",setSearch:()=>{},itemCount:void 0,setItemCount:()=>{}});function qs(t){return r.jsx("div",{className:j.colorSwatch,style:{"--_color":`var(--_color--${t.color})`},children:t.alt?r.jsx(ee,{children:t.alt}):null})}export{Qr as default,Ur as meta};
