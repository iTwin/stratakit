/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.ğŸ¥SelectRoot {
	@layer base {
		&:where(:has(select.ğŸ¥Select), [data-_sk-has-select="true"]) {
			display: inline-grid;
			align-items: center;
			isolation: isolate;

			> * {
				grid-area: 1 / 1 / -1 / -1;
			}
		}
	}
}

.ğŸ¥Select:is(.ğŸ¥Button) {
	--âœ¨padding-inline-start: var(--stratakit-space-x2);
	--âœ¨padding-inline-end: calc(
		var(--stratakit-space-x1) /* Gap */ +
		var(--stratakit-space-x4) /* Arrow size */ +
		var(--stratakit-space-x1) /* Padding - disclosure arrow offset */
	);

	@layer base {
		min-inline-size: calc(var(--âœ¨padding-inline-start) + 1ch + var(--âœ¨padding-inline-end));
		text-overflow: ellipsis;

		&:where(select:not([multiple])) {
			appearance: none;
			--ğŸ¥Button-padding-inline: var(--âœ¨padding-inline-start) var(--âœ¨padding-inline-end);
			--ğŸ¥GhostAligner-inline-offset: var(--âœ¨padding-inline-start);

			> option {
				background-color: var(--stratakit-color-bg-neutral-base);
			}
		}
	}
}

.ğŸ¥SelectArrow:is(.ğŸ¥DisclosureArrow) {
	@layer base {
		justify-self: end;
		margin-inline-end: var(--stratakit-space-x1); /* (padding - disclosure offset) */
		pointer-events: none;
		z-index: 1; /* should be above the button */

		--ğŸ¥Icon-color: var(--ğŸŒ€SelectArrow-state--default, var(--stratakit-color-icon-neutral-base))
			var(--ğŸŒ€SelectArrow-state--hover, var(--stratakit-color-icon-neutral-hover))
			var(--ğŸŒ€SelectArrow-state--disabled, var(--stratakit-color-icon-neutral-disabled));
	}

	@layer states {
		@media (any-hover: hover) {
			:where(.ğŸ¥Select:hover) + & {
				--ğŸŒ€SelectArrow-state: var(--ğŸŒ€SelectArrow-state--hover);
			}
		}

		:where(.ğŸ¥Select:disabled) + & {
			--ğŸŒ€SelectArrow-state: var(--ğŸŒ€SelectArrow-state--disabled);
		}
	}

	@layer base.ğŸŒ€ {
		--ğŸŒ€SelectArrow-state: var(--ğŸŒ€SelectArrow-state--default);
		--ğŸŒ€SelectArrow-state--default: var(--ğŸŒ€SelectArrow-state,);
		--ğŸŒ€SelectArrow-state--hover: var(--ğŸŒ€SelectArrow-state,);
		--ğŸŒ€SelectArrow-state--disabled: var(--ğŸŒ€SelectArrow-state,);
	}
}
