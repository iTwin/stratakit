import{m as Y,o as Z,c as ee,s as P,a as O,g as te,d as ne,e as _,u as H}from"./YV4JVR4I-CifQtgWA.js";import{p as x,o as ae,q as se,t as oe,e as w,c as re,f as F,_ as I,v as ie,u as ue,S as D,x as le,k as R,b,l as de,r as ce,d as me}from"./LMDWO4NN-CjgXNlKs.js";import{a as S,n as M}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{a as fe}from"./index-Dr3kRIaJ.js";function Se(n={}){const a=Y(n.store,Z(n.disclosure,["contentElement","disclosureElement"])),e=a==null?void 0:a.getState(),t=x(n.open,e==null?void 0:e.open,n.defaultOpen,!1),i=x(n.animated,e==null?void 0:e.animated,!1),r={open:t,animated:i,animating:!!i&&t,mounted:t,contentElement:x(e==null?void 0:e.contentElement,null),disclosureElement:x(e==null?void 0:e.disclosureElement,null)},s=ee(r,a);return P(s,()=>O(s,["animated","animating"],o=>{o.animated||s.setState("animating",!1)})),P(s,()=>te(s,["open"],()=>{s.getState().animated&&s.setState("animating",!0)})),P(s,()=>O(s,["open","animating"],o=>{s.setState("mounted",o.open||o.animating)})),ae(se({},s),{disclosure:n.disclosure,setOpen:o=>s.setState("open",o),show:()=>s.setState("open",!0),hide:()=>s.setState("open",!1),toggle:()=>s.setState("open",o=>!o),stopAnimation:()=>s.setState("animating",!1),setContentElement:o=>s.setState("contentElement",o),setDisclosureElement:o=>s.setState("disclosureElement",o)})}function pe(n,a,e){return oe(a,[e.store,e.disclosure]),_(n,e,"open","setOpen"),_(n,e,"mounted","setMounted"),_(n,e,"animated"),Object.assign(n,{disclosure:e.disclosure})}function Oe(n={}){const[a,e]=ne(Se,n);return pe(a,e,n)}var h=w(),k=h.useProviderContext,ve=h.ContextProvider,xe=h.ScopedContextProvider,p=w([ve],[xe]);p.useContext;p.useScopedContext;var Re=p.useProviderContext,Te=p.ContextProvider,De=p.ScopedContextProvider,Ve=S.createContext(void 0),He=S.createContext(void 0),Ce="div";function T(n,a){const e=setTimeout(a,n);return()=>clearTimeout(e)}function ge(n){let a=requestAnimationFrame(()=>{a=requestAnimationFrame(n)});return()=>cancelAnimationFrame(a)}function V(...n){return n.join(", ").split(", ").reduce((a,e)=>{const t=e.endsWith("ms")?1:1e3,i=Number.parseFloat(e||"0s")*t;return i>a?i:a},0)}function Ee(n,a,e){return!e&&a!==!1&&(!n||!!a)}var ye=re(function(a){var e=a,{store:t,alwaysVisible:i}=e,r=I(e,["store","alwaysVisible"]);const s=k();t=t||s,ie(t,!1);const o=S.useRef(null),f=ue(r.id),[l,j]=S.useState(null),d=t.useState("open"),C=t.useState("mounted"),c=t.useState("animated"),m=t.useState("contentElement"),g=H(t.disclosure,"contentElement");D(()=>{o.current&&(t==null||t.setContentElement(o.current))},[t]),D(()=>{let u;return t==null||t.setState("animated",v=>(u=v,!0)),()=>{u!==void 0&&(t==null||t.setState("animated",u))}},[t]),D(()=>{if(c){if(!(m!=null&&m.isConnected)){j(null);return}return ge(()=>{j(d?"enter":C?"leave":null)})}},[c,m,d,C]),D(()=>{if(!t||!c||!l||!m)return;const u=()=>t==null?void 0:t.setState("animating",!1),v=()=>fe.flushSync(u);if(l==="leave"&&d||l==="enter"&&!d)return;if(typeof c=="number")return T(c,v);const{transitionDuration:$,animationDuration:N,transitionDelay:U,animationDelay:W}=getComputedStyle(m),{transitionDuration:L="0",animationDuration:z="0",transitionDelay:B="0",animationDelay:G="0"}=g?getComputedStyle(g):{},J=V(U,W,B,G),K=V($,N,L,z),A=J+K;if(!A){l==="enter"&&t.setState("animated",!1),u();return}const Q=1e3/60,X=Math.max(A-Q,0);return T(X,v)},[t,c,m,g,d,l]),r=le(r,u=>M.jsx(De,{value:t,children:u}),[t]);const E=Ee(C,r.hidden,i),y=r.style,q=S.useMemo(()=>E?R(b({},y),{display:"none"}):y,[E,y]);return r=R(b({id:f,"data-open":d||void 0,"data-enter":l==="enter"||void 0,"data-leave":l==="leave"||void 0,hidden:E},r),{ref:de(f?t.setContentElement:null,o,r.ref),style:q}),ce(r)}),Pe=F(function(a){const e=ye(a);return me(Ce,e)}),we=F(function(a){var e=a,{unmountOnHide:t}=e,i=I(e,["unmountOnHide"]);const r=k(),s=i.store||r;return H(s,f=>!t||(f==null?void 0:f.mounted))===!1?null:M.jsx(Pe,b({},i))});export{ve as D,we as a,ye as b,Re as c,k as d,Se as e,pe as f,De as g,Ve as h,Ee as i,He as j,Te as k,Oe as u};
