import{o as e,a as n}from"./chunk-AYJ5UCUI-FV08vo--.js";import{u as y}from"./VDHZ5F7K-D4xrQoix.js";import{f as h,k as C,l as w,R,c as p}from"./sun-6ZcqRjWt.js";import{C as E}from"./collection-CchPjhiI.js";import{C as B}from"./RZ4GPYOB-B8j-5wH0.js";import{h as L,i as k,V as P,e as O,B as T,j as V}from"./~utils-TSKlhvkK.js";import{D as z}from"./NTITENHD-BDxdXEL8.js";import{T as v}from"./Text-xmnCKgcV.js";import{S as A,C as H}from"./~utils.icons-B9ddUqJ9.js";function $(r={}){const o=L(r);return e.jsx(k,{value:o,children:r.children})}const Y=h((r,o)=>{const{label:s,items:l,expanded:d,onExpandedChange:c,...m}=r,u=n.useId(),j=r["aria-labelledby"]??(r["aria-label"]?void 0:u),[x,D]=C(!1,d,c),f=n.useRef(null),I=()=>{const a=f.current;if(!a)return;const i="--error-region-pulse";a.getAnimations({subtree:!0}).find(t=>t.id===i)||a.animate([{boxShadow:"0 0 0 0 var(--ids-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--ids-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--ids-color-border-attention-base)",opacity:1}],{id:i,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},b=y({setItems:a=>{const i=new Set(S.map(t=>t.id));a.filter(t=>!i.has(t.id)).length!==0&&(I(),F(s))}}),S=w(b,"items"),[g,F]=n.useState(s);return e.jsxs(e.Fragment,{children:[e.jsx(P,{"aria-live":"polite","aria-atomic":!0,children:g===s?g:void 0}),e.jsx($,{open:x,setOpen:D,children:e.jsx(R.section,{...m,"aria-labelledby":j,className:p("-error-region",r.className),"data-kiwi-visible":!!s,"data-kiwi-expanded":x,ref:o,children:e.jsxs("div",{className:"-error-region-container",ref:f,children:[e.jsxs(z,{className:"-error-region-header",render:e.jsx(T,{variant:"ghost"}),children:[e.jsx(A,{tone:"attention",className:"-error-region-icon"}),e.jsx(v,{render:e.jsx("span",{}),id:u,className:"-error-region-label",variant:"body-sm",children:s}),e.jsx(O,{inert:!0,variant:"ghost",children:e.jsx(H,{})})]}),e.jsx(V,{className:"-error-region-dialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(E,{store:b,className:"-error-region-items",role:"list",children:l})})]})})})]})}),Z=h((r,o)=>{const s=n.useId(),{message:l,messageId:d=`${s}-message`,actions:c,...m}=r;return e.jsxs(B,{...m,role:"listitem",className:p("-error-region-item",r.className),ref:o,children:[e.jsx(v,{id:d,variant:"body-sm",children:l}),e.jsx("div",{className:"-error-region-item-actions",children:c})]})});export{Y as E,Z as a};
