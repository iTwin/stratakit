import{p as r,b as f}from"./index-DDCMeoDP.js";import{_ as V,l as y,m as G,I as H,v as M,J as W,x as z,L as J,s as T,f as x,h as p,c as h,A as O}from"./~utils-BFcooMC1.js";import{f as $,P as q}from"./BYC7LY2E-D0Jx6cGv.js";import{a as Q}from"./MTZPJQMC-pmJK4B1G.js";import{P as U,a as X,b as k,L as C}from"./QYJ6MIDR-Bfd920oL.js";import{S as w,b as S,D as Y,I as Z}from"./Icon-Bp9Xi1cW.js";import{T as _}from"./Text-Dble5oEE.js";import{u as ee,T as re,I as F}from"./IconButton-CDTyte4z.js";import{D as oe}from"./Divider-NiBhcWAL.js";import{B as te,G as se,u as ae}from"./Button-ORaLud1U.js";import{f as ie,g as D}from"./~hooks-D6zECIHT.js";import{c as ne}from"./P2CTZE2T-D7c_UAUb.js";import{c as le,u as ce,a as de,b as ue,C as me}from"./ITI7HKP4-D05z1dy4.js";import{u as fe}from"./YV4JVR4I-DB2LP8YT.js";function xe(e={}){var t;const o=(t=e.store)==null?void 0:t.getState();return le(V(G({},e),{orientation:y(e.orientation,o==null?void 0:o.orientation,"horizontal"),focusLoop:y(e.focusLoop,o==null?void 0:o.focusLoop,!0)}))}function ve(e,t,o){return ce(e,t,o)}function he(e={}){const[t,o]=fe(xe,e);return ve(t,o,e)}var pe="div",je=M(function(t){var o=t,{store:s,orientation:n,virtualFocus:u,focusLoop:c,rtl:v}=o,a=z(o,["store","orientation","virtualFocus","focusLoop","rtl"]);const j=ee();s=s||j;const d=he({store:s,orientation:n,virtualFocus:u,focusLoop:c,rtl:v}),b=d.useState(l=>l.orientation==="both"?void 0:l.orientation);return a=J(a,l=>r.jsx(re,{value:d,children:l}),[d]),a=T({role:"toolbar","aria-orientation":b},a),a=de(T({store:d},a)),a}),be=H(function(t){const o=je(t);return W(pe,o)});function De(e={}){const t=$(e);return r.jsx(Q,{value:t,children:e.children})}const Be=x((e,t)=>{const{label:o,items:s,expanded:n,onExpandedChange:u,...c}=e,v=f.useId(),[a,j]=ie(!1,n,u);return r.jsx(De,{open:a,setOpen:j,children:r.jsx(p.section,{"data-kiwi-expanded":a,...c,className:h("-tree-error",e.className),ref:t,"aria-labelledby":v,children:r.jsxs("div",{className:"-tree-error-container",children:[r.jsxs(U,{className:"-tree-error-header",render:r.jsx(te,{variant:"ghost"}),children:[r.jsx(w,{className:"-tree-error-icon"}),r.jsx(_,{id:v,className:"-tree-error-label",variant:"body-sm",children:o}),r.jsx(F,{inert:!0,render:r.jsx("span",{}),label:"Toggle",icon:r.jsx(S,{}),variant:"ghost"})]}),r.jsxs(q,{portal:!1,modal:!1,wrapperProps:{style:{position:void 0,width:void 0}},updatePosition:()=>{},"aria-labelledby":v,children:[r.jsx(oe,{className:"-tree-error-divider",presentational:!0}),r.jsx("div",{className:"-tree-error-items",role:"list",children:s})]})]})})})}),Ve=x((e,t)=>{const{message:o,messageId:s,actions:n,onDismiss:u,...c}=e;return r.jsxs(p.div,{...c,role:"listitem",className:h("-tree-error-item",e.className),ref:t,children:[r.jsx(_,{id:s,variant:"body-sm",className:"-tree-error-item-message",children:o}),u&&r.jsx(F,{className:"-tree-error-item-dismiss",variant:"ghost",label:"Dismiss",icon:r.jsx(Y,{}),onClick:u}),r.jsx("div",{className:"-tree-error-item-actions",children:n})]})}),Ge=x((e,t)=>r.jsx(O,{render:r.jsx("button",{...e}),ref:t})),Ne=f.createContext(void 0),He=x((e,t)=>{const{"aria-level":o,selected:s,expanded:n,icon:u,unstable_decorations:c,label:v,description:a,actions:j,error:d,onSelectedChange:b,onExpandedChange:l,onClick:L,onKeyDown:A,...K}=e,R=i=>{s!==void 0&&(i.stopPropagation(),b==null||b(!s))},E=i=>{i.altKey||i.ctrlKey||i.metaKey||i.shiftKey||n!==void 0&&(i.key==="ArrowRight"||i.key==="ArrowLeft")&&(i.preventDefault(),l==null||l(i.key==="ArrowRight"))},I=f.useId(),N=f.useId(),g=f.useId(),P=typeof d=="string"?d:void 0,m=d?r.jsx(w,{}):u,B=f.useMemo(()=>{const i=[];return a&&i.push(N),(c||m)&&i.push(g),P&&i.push(P),i.length>0?i.join(" "):void 0},[c,m,g,a,N,P]);return r.jsx(Ne.Provider,{value:f.useMemo(()=>({level:o,expanded:n,selected:s}),[o,n,s]),children:r.jsx(ne,{render:r.jsx(p,{...K}),onClick:D(L,R),onKeyDown:D(A,E),role:"treeitem","aria-expanded":n,"aria-selected":s,"aria-labelledby":I,"aria-describedby":B,"aria-level":o,className:h("-tree-item",e.className),ref:t,children:r.jsxs(X,{"data-kiwi-expanded":n,"data-kiwi-selected":s,"data-kiwi-error":d?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":o},role:void 0,children:[r.jsxs(k,{children:[r.jsx(se,{align:a?"block":void 0,children:r.jsx(Pe,{onClick:()=>{n!==void 0&&(l==null||l(!n))}})}),m||c?r.jsx(p,{className:"-tree-item-decoration",id:g,render:f.isValidElement(m)?m:typeof m=="string"?r.jsx(Z,{href:m}):void 0,children:m?null:c}):null]}),r.jsx(C,{id:I,className:"-tree-item-content",children:v}),a?r.jsx(C,{id:N,className:"-tree-item-description",children:a}):void 0,r.jsx(k,{render:r.jsx(ge,{children:j})})]})})})}),ge=x((e,t)=>r.jsx(be,{...e,onClick:D(e.onClick,o=>o.stopPropagation()),onKeyDown:D(e.onKeyDown,o=>o.stopPropagation()),className:h("-tree-item-actions-container",e.className),ref:t,children:e.children})),Me=x((e,t)=>{const{visible:o,...s}=e;return r.jsx(F,{inert:o===!1?!0:void 0,...s,variant:"ghost",className:h("-tree-item-action",e.className),"data-kiwi-visible":o,ref:t})}),Pe=x((e,t)=>r.jsx(p.span,{"aria-hidden":"true",...e,onClick:D(e.onClick,o=>o.stopPropagation()),className:h("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":ae(),ref:t,children:r.jsx(S,{})})),We=x((e,t)=>{const o=ue({orientation:"vertical"});return r.jsx(p.div,{role:"tree",...e,render:r.jsx(me,{store:o}),className:h("-tree",e.className),ref:t,children:e.children})});export{Be as T,Ve as a,Ge as b,We as c,He as d,Me as e};
