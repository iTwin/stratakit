import{a as l}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{X as se,Y as g,Z as U,b as oe,G as ue,q as ae,i as ie,t as ce,j as fe,$ as L,B as le,l as E,N as be,h as q,g as de,y as pe,r as ye,a0 as ve,a1 as Fe,o as O,a2 as T,a3 as Ee,a4 as xe}from"./LMDWO4NN-Bg6lErus.js";var h="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function me(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function x(e){return!(!e.matches(h)||!se(e)||e.closest("[inert]"))}function m(e){if(!x(e)||me(e))return!1;if(!("form"in e)||!e.form||e.checked||e.type!=="radio")return!0;const t=e.form.elements.namedItem(e.name);if(!t||!("length"in t))return!0;const r=g(e);return!r||r===e||!("form"in r)||r.form!==e.form||r.name!==e.name}function C(e,t){const r=Array.from(e.querySelectorAll(h));t&&r.unshift(e);const n=r.filter(x);return n.forEach((o,i)=>{if(U(o)&&o.contentDocument){const f=o.contentDocument.body;n.splice(i,1,...C(f))}}),n}function I(e,t,r){const n=Array.from(e.querySelectorAll(h)),o=n.filter(m);return t&&m(e)&&o.unshift(e),o.forEach((i,f)=>{if(U(i)&&i.contentDocument){const a=i.contentDocument.body,b=I(a,!1,r);o.splice(f,1,...b)}}),!o.length&&r?n:o}function Re(e,t,r){const[n]=I(e,t,r);return n||null}function ge(e,t,r,n){const o=g(e),i=C(e,t),f=i.indexOf(o),a=i.slice(f+1);return a.find(m)||(r?i.find(m):null)||(n?a[0]:null)||null}function Ne(e,t){return ge(document.body,!1,e,t)}function he(e,t,r,n){const o=g(e),i=C(e,t).reverse(),f=i.indexOf(o);return i.slice(f+1).find(m)||null||null||null}function Ge(e,t){return he(document.body,!1)}function Ae(e){for(;e&&!x(e);)e=e.closest(h);return e||null}function R(e){const t=g(e);if(!t)return!1;if(t===e)return!0;const r=t.getAttribute("aria-activedescendant");return r?r===e.id:!1}function Te(e){const t=g(e);if(!t)return!1;if(ue(e,t))return!0;const r=t.getAttribute("aria-activedescendant");return!r||!("id"in e)?!1:r===e.id?!0:!!e.querySelector(`#${CSS.escape(r)}`)}function we(e){!Te(e)&&x(e)&&e.focus()}function Ce(e){var t;const r=(t=e.getAttribute("tabindex"))!=null?t:"";e.setAttribute("data-tabindex",r),e.setAttribute("tabindex","-1")}function je(e,t){const r=I(e,t);for(const n of r)Ce(n)}function Ue(e){const t=e.querySelectorAll("[data-tabindex]"),r=n=>{const o=n.getAttribute("data-tabindex");n.removeAttribute("data-tabindex"),o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")};e.hasAttribute("data-tabindex")&&r(e);for(const n of t)r(n)}function We(e,t){"scrollIntoView"in e?(e.focus({preventScroll:!0}),e.scrollIntoView(oe({block:"nearest",inline:"nearest"},t))):e.focus()}var Ie=l.createContext(!0),De="div",N=ve(),Pe=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],W=Symbol("safariFocusAncestor");function $e(e){return e?!!e[W]:!1}function G(e,t){e&&(e[W]=t)}function Ve(e){const{tagName:t,readOnly:r,type:n}=e;return t==="TEXTAREA"&&!r||t==="SELECT"&&!r?!0:t==="INPUT"&&!r?Pe.includes(n):!!(e.isContentEditable||e.getAttribute("role")==="combobox"&&e.dataset.name)}function Se(e){return"labels"in e?e.labels:null}function j(e){return e.tagName.toLowerCase()==="input"&&e.type?e.type==="radio"||e.type==="checkbox":!1}function ke(e){return e?e==="button"||e==="summary"||e==="input"||e==="select"||e==="textarea"||e==="a":!0}function Ke(e){return e?e==="button"||e==="input"||e==="select"||e==="textarea":!0}function Me(e,t,r,n,o){return e?t?r&&!n?-1:void 0:r?o:o||0:o}function w(e,t){return E(r=>{e==null||e(r),!r.defaultPrevented&&t&&(r.stopPropagation(),r.preventDefault())})}var D=!0;function _e(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(D=!1))}function Be(e){e.metaKey||e.ctrlKey||e.altKey||(D=!0)}var Le=ie(function(t){var r=t,{focusable:n=!0,accessibleWhenDisabled:o,autoFocus:i,onFocusVisible:f}=r,a=fe(r,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const b=l.useRef(null);l.useEffect(()=>{n&&(L("mousedown",_e,!0),L("keydown",Be,!0))},[n]),N&&l.useEffect(()=>{if(!n)return;const s=b.current;if(!s||!j(s))return;const u=Se(s);if(!u)return;const c=()=>queueMicrotask(()=>s.focus());for(const F of u)F.addEventListener("mouseup",c);return()=>{for(const F of u)F.removeEventListener("mouseup",c)}},[n]);const d=n&&le(a),p=!!d&&!o,[y,v]=l.useState(!1);l.useEffect(()=>{n&&p&&y&&v(!1)},[n,p,y]),l.useEffect(()=>{if(!n||!y)return;const s=b.current;if(!s||typeof IntersectionObserver>"u")return;const u=new IntersectionObserver(()=>{x(s)||v(!1)});return u.observe(s),()=>u.disconnect()},[n,y]);const $=w(a.onKeyPressCapture,d),X=w(a.onMouseDownCapture,d),H=w(a.onClickCapture,d),P=a.onMouseDown,Y=E(s=>{if(P==null||P(s),s.defaultPrevented||!n)return;const u=s.currentTarget;if(!N||Ee(s)||!xe(u)&&!j(u))return;let c=!1;const F=()=>{c=!0},ne={capture:!0,once:!0};u.addEventListener("focusin",F,ne);const B=Ae(u.parentElement);G(B,!0),T(u,"mouseup",()=>{u.removeEventListener("focusin",F,!0),G(B,!1),!c&&we(u)})}),V=(s,u)=>{if(u&&(s.currentTarget=u),!n)return;const c=s.currentTarget;c&&R(c)&&(f==null||f(s),!s.defaultPrevented&&(c.dataset.focusVisible="true",v(!0)))},S=a.onKeyDownCapture,Z=E(s=>{if(S==null||S(s),s.defaultPrevented||!n||y||s.metaKey||s.altKey||s.ctrlKey||!O(s))return;const u=s.currentTarget;T(u,"focusout",()=>V(s,u))}),k=a.onFocusCapture,z=E(s=>{if(k==null||k(s),s.defaultPrevented||!n)return;if(!O(s)){v(!1);return}const u=s.currentTarget,c=()=>V(s,u);D||Ve(s.target)?T(s.target,"focusout",c):v(!1)}),K=a.onBlur,J=E(s=>{K==null||K(s),n&&Fe(s)&&v(!1)}),Q=l.useContext(Ie),ee=E(s=>{n&&i&&s&&Q&&queueMicrotask(()=>{R(s)||x(s)&&s.focus()})}),M=be(b),te=n&&ke(M),_=n&&Ke(M),A=a.style,re=l.useMemo(()=>p?q({pointerEvents:"none"},A):A,[p,A]);return a=de(q({"data-focus-visible":n&&y||void 0,"data-autofocus":i||void 0,"aria-disabled":d||void 0},a),{ref:pe(b,ee,a.ref),style:re,tabIndex:Me(n,p,te,_,a.tabIndex),disabled:_&&p?!0:void 0,contentEditable:d?void 0:a.contentEditable,onKeyPressCapture:$,onClickCapture:H,onMouseDownCapture:X,onMouseDown:Y,onKeyDownCapture:Z,onFocusCapture:z,onBlur:J}),ye(a)}),Xe=ae(function(t){const r=Le(t);return ce(De,r)});export{Xe as F,R as a,Ne as b,Ge as c,je as d,Ie as e,We as f,I as g,Te as h,$e as i,Re as j,x as k,we as l,Ue as r,Le as u};
