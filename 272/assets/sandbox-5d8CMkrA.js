import{w as Z}from"./~utils-BuKH_XhK.js";import{n as e,a as t,t as ee}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{a as T}from"./index-Dr3kRIaJ.js";import{B as ne}from"./Button-GPjBmsog.js";import{D as L,a as q,b as X,c as d}from"./DropdownMenu-hmMTk52W.js";import{I as v}from"./Icon-C4TuYIIj.js";import{I as A}from"./IconButton-V0YnCOqx.js";import{T as te,a as z,b as se,c as w}from"./Tabs-CqGVjk5X.js";import{T as G}from"./Text-BIOJgVYR.js";import{T as le,a as ae,b as re}from"./TextBox-B43kyoRU.js";import{T as ie,a as oe}from"./Tree-B0Otic6t.js";import{p as M}from"./placeholder-CymJANg9.js";import{p as ce,l as de,d as ue,h as he,m as xe,s as K,a as pe,f as fe}from"./state-inherited-dot-DaA0Azjg.js";import{s as me}from"./visibility-show-BJYnKALH.js";import"./index-jyeBNHV5.js";import"./KUU7WJ55-CvL3dvMd.js";import"./LVA2YJMS-BcAd7OG7.js";import"./XL7CSKGW-Cbj4nsUL.js";import"./Kbd-w5YbJL_k.js";import"./VisuallyHidden-mupLk8qe.js";import"./P2CTZE2T-DBUuQwha.js";import"./YV4JVR4I-xwnP9gdF.js";import"./BYC7LY2E-fXc0Nxg4.js";import"./VGCJ63VH-BZvA6HvM.js";import"./MTZPJQMC-Bx6N7KMg.js";import"./VEVQD5MH-DWJQZISf.js";import"./ITI7HKP4-CcxlWYYM.js";import"./P4IRICAX-DiAwIydK.js";import"./ASMQKSDT-B4DAV8zs.js";import"./Tooltip-DXd-YglS.js";import"./~hooks-CeXQBooN.js";import"./Field-CakA-67p.js";import"./ListItem-DeA1AzYL.js";const je="_appLayout_1ldsq_5",be="_header_1ldsq_22",Ce="_platformBar_1ldsq_32",_e="_logo_1ldsq_38",ge="_tools_1ldsq_48",Se="_leftPanel_1ldsq_58",Ae="_panelHeader_1ldsq_70",Pe="_panelTitle_1ldsq_78",ve="_panelCaption_1ldsq_84",Ie="_shiftIconRight_1ldsq_88",Re="_subheader_1ldsq_92",Me="_subheaderTitle_1ldsq_103",ye="_searchInput_1ldsq_108",Ne="_subheaderActions_1ldsq_112",Be="_tabList_1ldsq_116",De="_emptyState_1ldsq_121",Te="_canvasWrapper_1ldsq_130",ze="_canvas_1ldsq_130",we="_splitter_1ldsq_167",Ke="_tabPanel_1ldsq_209",ke="_tree_1ldsq_215",Ee="_action_1ldsq_219",Le="_actionIcon_1ldsq_225",qe="_slider_1ldsq_236",s={appLayout:je,header:be,platformBar:Ce,logo:_e,tools:ge,leftPanel:Se,panelHeader:Ae,panelTitle:Pe,panelCaption:ve,shiftIconRight:Ie,subheader:Re,subheaderTitle:Me,searchInput:ye,subheaderActions:Ne,tabList:Be,emptyState:De,canvasWrapper:Te,canvas:ze,splitter:we,tabPanel:Ke,tree:ke,action:Ee,actionIcon:Le,slider:qe},O="Kiwi sandbox",Bn=()=>[{title:O}],Dn=Z(function(){return e.jsxs(Xe,{panelContent:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.panelHeader,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:s.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:s.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:s.actions,children:e.jsx(A,{className:s.shiftIconRight,icon:ce,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsxs(te,{children:[e.jsx(Ve,{}),e.jsx(z,{tabId:"simple",className:s.tabPanel,focusable:!1,children:e.jsx(k,{tree:"simple"})}),e.jsx(z,{tabId:"complex",className:s.tabPanel,focusable:!1,children:e.jsx(k,{tree:"complex"})})]})]}),children:[e.jsxs("header",{className:s.header,children:[e.jsx("div",{className:s.logo,children:e.jsx(v,{href:M,size:"large"})}),e.jsx(G,{render:l=>e.jsx("h1",{...l}),variant:"body-md",children:O})]}),e.jsx("div",{className:s.platformBar,children:e.jsxs("div",{className:s.tools,children:[e.jsx(v,{href:M,size:"large"}),e.jsx(v,{href:M,size:"large"}),e.jsx(v,{href:M,size:"large"})]})}),e.jsx("div",{className:s.canvasWrapper,children:e.jsx("div",{className:s.canvas})})]})});function Xe(o){const{sliderProps:l,panelProps:r,panelMinSize:a,panelMaxSize:x,resizing:c}=He({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs("div",{className:s.appLayout,style:{"--_panel-min-size":a,"--_panel-max-size":x},children:[e.jsx("div",{...r,className:s.leftPanel,style:{position:"relative",...r.style},children:o.panelContent}),e.jsx("div",{className:s.splitter,"data-resizing":c?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:s.slider,...l})}),o.children]})}function Ge({children:o}){return e.jsx("div",{className:s.emptyState,children:o})}function Oe(o,l,r){return Math.min(Math.max(o,l),r)}function He(o){const{minSize:l,maxSize:r,onCollapse:a}=o,x=t.useId(),c=t.useRef(null),[j,p]=t.useState(void 0),[f,i]=t.useState(void 0),[u,b]=t.useState(void 0),[_,y]=t.useState(!1),[I,N]=t.useState(void 0),C=t.useMemo(()=>{if(l&&f)return Math.min(l.px,l.pct/100*f)},[l,f]),S=t.useMemo(()=>{if(C&&r&&f)return Math.max(C,r.pct/100*f)},[r,f,C]),P=t.useMemo(()=>{if(u==="smallest")return C??0;if(u==="largest")return S??0;if(j&&C&&S)return Oe(j,C,S)},[j,C,S,u]);t.useEffect(()=>{const h=c.current;if(!h)return;const m=h.parentElement;if(!m)return;const g=new ResizeObserver(()=>{const B=m.getBoundingClientRect(),D=h.getBoundingClientRect();i(B.width),p(D.width)});return g.observe(m),g.observe(h),()=>{g.disconnect()}},[]);const F=t.useCallback(h=>{const m=c.current;if(!m)return;const g=m.getBoundingClientRect();N(g.width+h),b(void 0),y(!0)},[]),W=t.useCallback(h=>{const m=c.current;if(!m)return;const g=m.parentElement;if(!g)return;const B=g.getBoundingClientRect(),D=h*(B.width*.005),Y=m.getBoundingClientRect();N(Y.width+D),b(void 0)},[]),$=t.useCallback(()=>{c.current&&(N(void 0),y(!1))},[]),{moveableProps:R}=Fe({onMove:F,onMoveEnd:$,onKeyMove:W}),U=t.useMemo(()=>({...R,onKeyDown:h=>{var m;if((m=R.onKeyDown)==null||m.call(R,h),!h.defaultPrevented)switch(h.key){case"Enter":h.preventDefault(),a==null||a();break;case"Home":h.preventDefault(),b("smallest");break;case"End":h.preventDefault(),b("largest");break}},onChange:h=>{if(_)return;const m=Number(h.target.value);N(m)},value:P===void 0?0:Math.floor(P),min:C===void 0?void 0:Math.floor(C),max:S===void 0?void 0:Math.floor(S)}),[R,P,C,S,a,_]),V=t.useMemo(()=>({style:{WebkitUserSelect:I===void 0?void 0:"none"},id:x,ref:c}),[x,I]),J=C===void 0?void 0:`${Math.floor(C)}px`,Q=t.useMemo(()=>{if(I!==void 0&&r!==void 0&&u===void 0)return`min(${Math.floor(I)}px, ${r.pct}%)`;if(P!==void 0)return`${Math.floor(P)}px`},[r,I,P,u]);return{sliderProps:U,panelProps:V,panelMinSize:J,panelMaxSize:Q,resizing:_}}function Fe(o){const{onMove:l,onMoveEnd:r,onKeyMove:a}=o,x=t.useRef(null),c=t.useRef(void 0),j=t.useRef(void 0),p=t.useCallback(()=>{j.current!==void 0&&(j.current=void 0,r==null||r())},[r]);return{moveableProps:t.useMemo(()=>({onPointerDown:i=>{if(i.button!==0||i.ctrlKey)return;const u=x.current;if(!u)return;const b=u.getBoundingClientRect(),_=i.clientX-b.left;j.current=_,i.preventDefault(),u.setPointerCapture(i.pointerId)},onPointerMove:i=>{const u=j.current;if(u===void 0)return;const b=x.current;if(!b)return;const _=b.getBoundingClientRect(),y=i.clientX-u-_.left;i.preventDefault(),l==null||l(y)},onPointerUp:p,onPointerCancel:p,onKeyDown:i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowLeft":i.preventDefault(),a==null||a(-1);break;case"ArrowRight":i.preventDefault(),a==null||a(1);break}},ref:i=>{var b;if(x.current=i,(b=c.current)==null||b.call(c),c.current=void 0,!i)return;const u=_=>{_.preventDefault()};i.addEventListener("touchstart",u),c.current=()=>{i.removeEventListener("touchstart",u)}}}),[a,l,p])}}const H=t.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function k({tree:o}){const[l]=ee(),r=l.get("tree"),[a,x]=t.useState(),[c,j]=t.useState([]),p=t.useCallback(f=>{j(i=>i.includes(f)?i.filter(u=>u!==f):[...i,f])},[]);return r==="empty"?e.jsxs(Ge,{children:[e.jsx(G,{children:"No layers"}),e.jsx(ne,{children:"Create a layer"})]}):e.jsx(H.Provider,{value:t.useMemo(()=>({selected:a,setSelected:x,hidden:c,toggleHidden:p}),[c,a,p]),children:e.jsx(ie,{className:s.tree,children:o==="complex"?e.jsx($e,{}):e.jsx(We,{})})})}function We(){return e.jsxs(e.Fragment,{children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1"})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1"})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access"})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})}function $e(){return e.jsxs(e.Fragment,{children:[e.jsxs(n,{label:"ITC_Master",children:[e.jsx(n,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(n,{label:"002_Substation_A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00002-A"})}),e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(n,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(n,{label:"007-aa_master.dgn",children:[e.jsx(n,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(n,{label:"A-CLNG-LITE-A"})}),e.jsx(n,{label:"A-CLNG-TILE",children:e.jsxs(n,{label:"A-DOOR-2D-PLAN",children:[e.jsx(n,{label:"P00003 [2-KA62]",children:e.jsx(n,{label:"Cell [2-KA63]",children:e.jsxs(n,{label:"Cell [2-KA64]",children:[e.jsx(n,{label:"Complex Chain [2-KA6A]"}),e.jsx(n,{label:"Complex Chain [2-KA6B]"}),e.jsx(n,{label:"Complex Chain [2-KA6C]"}),e.jsx(n,{label:"Complex Chain [2-KA6D]"}),e.jsx(n,{label:"Complex Chain [2-KA6E]"}),e.jsx(n,{label:"Complex Chain [2-KA6F]"}),e.jsx(n,{label:"Complex Chain [2-KA6G]"}),e.jsx(n,{label:"Complex Chain [2-KA6H]"}),e.jsx(n,{label:"Complex Chain [2-KA61]"}),e.jsx(n,{label:"Complex Chain [2-KA65]"}),e.jsx(n,{label:"Complex Chain [2-KA66]"}),e.jsx(n,{label:"Complex Chain [2-KA67]"}),e.jsx(n,{label:"Complex Chain [2-KA68]"}),e.jsx(n,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(n,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA74-A]"})}),e.jsx(n,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KA98-A]"})}),e.jsx(n,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(n,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(n,{label:"ITC_Main"})]})}const E=t.createContext({selected:!1,hidden:!1});function n(o){const l=t.useContext(H),r=t.useContext(E),a=t.useId(),[x,c]=t.useState(o.defaultCollapsed===void 0?!0:!o.defaultCollapsed),j=t.Children.count(o.children)>0,p=t.useMemo(()=>r.hidden?!0:l.hidden.includes(a),[a,l.hidden,r.hidden]),f=r.selected||a===l.selected,i=t.useCallback(u=>{l.setSelected(u?a:void 0)},[a,l]);return e.jsx(E.Provider,{value:t.useMemo(()=>({selected:f,hidden:p}),[p,f]),children:e.jsx(oe,{expanded:j?x:void 0,onExpandedChange:c,selected:f,onSelectedChange:i,icon:e.jsx(v,{href:M,style:{display:"inline"}}),label:o.label,actions:e.jsxs(e.Fragment,{children:[e.jsx(A,{className:s.action,icon:de,label:"Lock",variant:"ghost","aria-hidden":p}),r.hidden?e.jsx("span",{className:s.actionIcon,children:e.jsx(v,{href:ue})}):e.jsx(A,{className:s.action,icon:p?he:me,label:p?"Show":"Hide",variant:"ghost",onClick:()=>{l.toggleHidden(a)}}),e.jsx(Ue,{hidden:p})]}),children:x?o.children:void 0})})}function Ue({hidden:o}){return e.jsxs(L,{children:[e.jsx(q,{className:s.action,"aria-hidden":o,render:e.jsx(A,{icon:xe,label:"More",variant:"ghost"})}),e.jsxs(X,{style:{minInlineSize:164},children:[e.jsx(d,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(d,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(d,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(d,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(d,{shortcuts:"]",children:"Bring to front"}),e.jsx(d,{shortcuts:"[",children:"Send to back"}),e.jsx(d,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(d,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(d,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(d,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(d,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(d,{shortcuts:"I",children:"Isolate object"})]})]})}function Ve(){const[o,l]=t.useState(!1),r=t.useRef(null),a=t.useRef(null),x=o?e.jsxs(e.Fragment,{children:[e.jsx(Je,{}),e.jsx(A,{className:s.shiftIconRight,icon:pe,label:"Close",variant:"ghost",onClick:()=>{var c;T.flushSync(()=>l(!1)),(c=a.current)==null||c.focus()}})]}):e.jsx(A,{className:s.shiftIconRight,icon:K,label:"Search",variant:"ghost",onClick:()=>{var c;T.flushSync(()=>l(!0)),(c=r.current)==null||c.focus()}});return e.jsxs("div",{className:s.subheader,children:[o?void 0:e.jsxs(se,{className:s.tabList,tone:"accent",ref:a,children:[e.jsx(w,{id:"simple",children:"Simple"}),e.jsx(w,{id:"complex",children:"Complex"})]}),o?e.jsxs(le,{className:s.searchInput,children:[e.jsx(ae,{href:K}),e.jsx(re,{placeholder:"Search",ref:r})]}):null,e.jsx("div",{className:s.subheaderActions,children:x})]})}function Je(){return e.jsxs(L,{children:[e.jsx(q,{render:e.jsx(A,{icon:fe,label:"Filter",variant:"ghost"})}),e.jsxs(X,{style:{minInlineSize:164},children:[e.jsx(d,{children:"Show all"}),e.jsx(d,{children:"Guides"}),e.jsx(d,{children:"Other"}),e.jsx(d,{children:"Roadway"}),e.jsx(d,{children:"Parking"}),e.jsx(d,{children:"Building"}),e.jsx(d,{children:"Dry utility"}),e.jsx(d,{children:"Stormwater"}),e.jsx(d,{children:"Sewer"}),e.jsx(d,{children:"Boundary"}),e.jsx(d,{children:"Map"})]})]})}export{Dn as default,Bn as meta};
