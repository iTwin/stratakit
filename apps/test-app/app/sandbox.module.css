/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.appLayout {
	--_panel-min-size: 256px;
	--_panel-max-size: auto;

	--_platformBar-width: 40px;
	--_panel-width: minmax(var(--_panel-min-size), var(--_panel-max-size));
	--_splitter-width: 12px;

	block-size: 100dvb;
	display: grid;
	grid-template-areas:
		"header header header header"
		"platformBar leftPanel splitter canvas";
	grid-template-rows: auto 1fr;
	grid-template-columns: var(--_platformBar-width) var(--_panel-width) var(--_splitter-width) 1fr;
}

.header {
	grid-area: header;
	background-color: var(--ids-color-bg-page-base);
	border-block-end: 1px solid var(--ids-color-border-neutral-base);

	display: flex;
	align-items: center;
	gap: 12px;
}

.platformBar {
	grid-area: platformBar;
	background-color: var(--ids-color-bg-page-depth);
	border-inline-end: 1px solid var(--ids-color-border-neutral-base);
}

.logo {
	border-inline-end: 1px solid var(--ids-color-border-neutral-base);
	block-size: var(--_platformBar-width);
	inline-size: var(--_platformBar-width);

	display: flex;
	align-items: center;
	justify-content: center;
}

.tools {
	padding-block: 12px;

	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 12px;
}

.leftPanel {
	grid-area: leftPanel;
	padding-block-start: 12px;
	background-color: var(--ids-color-bg-page-base);
	min-block-size: 0;

	contain: size layout; /* prevent unnecessary overflow */
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.panelHeader {
	display: flex;
	padding-inline: 12px;
	justify-content: space-between;

	font-size: var(--ids-font-size-12);
}

.panelTitleWrapper {
	margin-inline-start: -8px;
}

.panelCaption {
	color: var(--ids-color-text-neutral-secondary);
}

.shiftIconRight {
	margin-inline-end: -4px;
}

.subheader {
	min-block-size: 2.5rem;
	padding-inline: 12px;
	border-block: 1px solid var(--ids-color-border-neutral-base);
	border-inline: none;

	display: flex;
	gap: 4px;
	align-items: center;
}

.subheaderTitle {
	font-size: var(--ids-font-size-12);
	font-weight: 600;
}

.searchInput {
	flex: 1;
}

.subheaderActions {
	margin-inline-start: auto;
}

.tabList {
	align-self: flex-end;
	margin-block-end: -1px;
}

.emptyState {
	display: flex;
	align-items: center;
	justify-content: center;
	flex-direction: column;
	block-size: 100%;
	gap: 0.5rem;
}

.skeletonTree {
	display: flex;
	flex-direction: column;
	gap: 8px;
	overflow: auto;
}

.skeletonTreeItem {
	display: flex;
	align-items: center;
	gap: 8px;
	width: 100%;
	padding-inline-start: calc(12px + 6px * (var(--level) - 1));
	padding-inline-end: 8px;
}

.canvasWrapper {
	padding-block: 8px;
	padding-inline-end: 8px;
}

.canvas {
	grid-area: canvas;
	block-size: 100%;
	border-radius: 16px;
	box-shadow: var(--ids-shadow-surface-xl);
	border: 1px solid var(--ids-color-border-neutral-muted);
	position: relative;

	&::before {
		content: "";
		position: absolute;
		inset: 0;
		background-image: var(--_rings), var(--_gradient);
		opacity: 0.5;
		z-index: -1;
		border-radius: inherit;

		--_rings: repeating-radial-gradient(
			circle at center,
			var(--ids-color-border-neutral-muted) 1px,
			var(--ids-color-border-neutral-muted) 3px,
			transparent 3px,
			transparent 10px
		);
		--_gradient: linear-gradient(
			180deg,
			var(--ids-color-bg-page-base) 0%,
			var(--ids-color-bg-page-depth) 100%
		);
	}
}

.splitter {
	grid-area: splitter;
	position: relative;
	user-select: none;

	&::before {
		content: "";
		position: absolute;
		inline-size: 2px;
		inset-inline-start: calc(var(--_splitter-width) / 2);
		inset-block: 0;
		background-color: var(--_bg);
	}

	&:not([aria-orientation="vertical"], [data-kiwi-orientation="vertical"]) {
		min-block-size: 100%;
		inline-size: 1px;
	}

	&:where(:hover, [data-resizing="true"]) {
		&:not(:focus-within) {
			--_bg: var(--ids-color-border-accent-strong);

			@media (forced-colors: active) {
				--_bg: Highlight;
			}
		}
	}

	&:where(:has(:is(input):focus-visible)) {
		&::before {
			outline: 2px solid var(--ids-color-border-accent-strong);
			outline-offset: 1px;
		}
	}

	@supports not selector(:has(+ *)) {
		&:where(:not(input):focus-within) {
			&::before {
				outline: 2px solid var(--ids-color-border-accent-strong);
				outline-offset: -1px;
			}
		}
	}
}

.tabPanel {
	min-block-size: 0;
	flex-grow: 1;
	padding-block-end: 12px;
	display: grid;
	align-content: stretch;
}

.tree {
	scrollbar-gutter: stable;
}

.slider {
	display: block;
	block-size: 100%;
	inline-size: var(--_splitter-width, 12px);
	user-select: none;
	cursor: ew-resize;
	opacity: 0;
}

.colorSwatch {
	--_color: var(--_color--default);
	--_color--default: var(--_color,);
	--_color--blue: var(--_color,);
	--_color--gray: var(--_color,);
	--_color--green: var(--_color,);
	--_color--purple: var(--_color,);
	--_color--red: var(--_color,);
	--_color--teal: var(--_color,);
	--_color--yellow: var(--_color,);

	aspect-ratio: 1;
	block-size: 1em;
	border-radius: 2px;
	border: 1px solid rgb(255 255 255 / 0.16);
	background-color: var(--_color--default, CurrentColor) var(--_color--blue, #0005f9)
		var(--_color--gray, #808080) var(--_color--green, #15c72f) var(--_color--purple, #8c00ff)
		var(--_color--red, #fe0f17) var(--_color--teal, #1cfffe) var(--_color--yellow, #ffff43);
}
