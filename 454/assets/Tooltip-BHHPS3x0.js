import{n as v,a as b}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{c as D}from"./~utils-CXPSt6v1.js";import{c as R,u as q,a as k,b as w,d as G}from"./YV4JVR4I-D6Sf86gC.js";import{f as W}from"./~utils-CvI4aHT1.js";import{b as z}from"./~hooks-Dbo26-5-.js";import{c as J,u as K,H as L,a as Q,b as U,d as X,e as Y}from"./BYC7LY2E-Cy2FmVCU.js";import{_ as j,d as P,b as O,c as Z,q as V,i as F,t as I,j as B,k as N,x as ee,h as x,g as $,A as H,G as te,P as re,l as E}from"./LMDWO4NN-Bg6lErus.js";function oe(t={}){var o;const r=(o=t.store)==null?void 0:o.getState(),e=J(j(O({},t),{placement:P(t.placement,r==null?void 0:r.placement,"top"),hideTimeout:P(t.hideTimeout,r==null?void 0:r.hideTimeout,0)})),d=j(O({},e.getState()),{type:P(t.type,r==null?void 0:r.type,"description"),skipTimeout:P(t.skipTimeout,r==null?void 0:r.skipTimeout,300)}),a=R(d,e,t.store);return O(O({},e),a)}function ne(t,o,r){return k(t,r,"type"),k(t,r,"skipTimeout"),K(t,o,r)}function M(t={}){const[o,r]=q(oe,t);return ne(o,r,t)}var _=Z([Q],[L]),C=_.useProviderContext,ae=_.ContextProvider,se=_.ScopedContextProvider,ie="div",ue=F(function(o){var r=o,{store:e,portal:d=!0,gutter:a=8,preserveTabOrder:p=!1,hideOnHoverOutside:l=!0,hideOnInteractOutside:m=!0}=r,i=B(r,["store","portal","gutter","preserveTabOrder","hideOnHoverOutside","hideOnInteractOutside"]);const S=C();e=e||S,N(e,!1),i=ee(i,s=>v.jsx(se,{value:e,children:s}),[e]);const h=e.useState(s=>s.type==="description"?"tooltip":"none");return i=x({role:h},i),i=X($(x({},i),{store:e,portal:d,gutter:a,preserveTabOrder:p,hideOnHoverOutside(s){if(H(l,s))return!1;const u=e==null?void 0:e.getState().anchorElement;return u?!("focusVisible"in u.dataset):!0},hideOnInteractOutside:s=>{if(H(m,s))return!1;const u=e==null?void 0:e.getState().anchorElement;return u?!te(u,s.target):!0}})),i}),le=U(V(function(o){const r=ue(o);return I(ie,r)}),C);function ce(t={}){const o=M(t);return v.jsx(ae,{value:o,children:t.children})}var de="div",f=R({activeStore:null});function A(t){return()=>{const{activeStore:o}=f.getState();o===t&&f.setState("activeStore",null)}}var pe=F(function(o){var r=o,{store:e,showOnHover:d=!0}=r,a=B(r,["store","showOnHover"]);const p=C();e=e||p,N(e,!1);const l=b.useRef(!1);b.useEffect(()=>w(e,["mounted"],n=>{n.mounted||(l.current=!1)}),[e]),b.useEffect(()=>{if(e)return re(A(e),w(e,["mounted","skipTimeout"],n=>{if(!e)return;if(n.mounted){const{activeStore:y}=f.getState();return y!==e&&(y==null||y.hide()),f.setState("activeStore",e)}const c=setTimeout(A(e),n.skipTimeout);return()=>clearTimeout(c)}))},[e]);const m=a.onMouseEnter,i=E(n=>{m==null||m(n),l.current=!0}),S=a.onFocusVisible,h=E(n=>{S==null||S(n),!n.defaultPrevented&&(e==null||e.setAnchorElement(n.currentTarget),e==null||e.show())}),s=a.onBlur,u=E(n=>{if(s==null||s(n),n.defaultPrevented)return;const{activeStore:c}=f.getState();l.current=!1,c===e&&f.setState("activeStore",null)}),T=e.useState("type"),g=e.useState(n=>{var c;return(c=n.contentElement)==null?void 0:c.id});return a=$(x({"aria-labelledby":T==="label"?g:void 0},a),{onMouseEnter:i,onFocusVisible:h,onBlur:u}),a=Y(x({store:e,showOnHover(n){if(!l.current||H(d,n))return!1;const{activeStore:c}=f.getState();return c?(e==null||e.show(),!1):!0}},a)),a}),ve=V(function(o){const r=pe(o);return I(de,r)});const be=W((t,o)=>{const r=b.useId(),{content:e,children:d,type:a="description",id:p=r,defaultOpen:l,open:m,setOpen:i,unmountOnHide:S=a==="none",...h}=t,s=M(),u=G(s,g=>g.open),T=z(s);return v.jsx(v.Fragment,{children:v.jsxs(ce,{store:s,defaultOpen:l,open:m,setOpen:i,children:[v.jsx(ve,{render:d,"data-has-popover-open":u||void 0,...a==="description"&&{"aria-describedby":p},...a==="label"&&{"aria-labelledby":p}}),v.jsx(le,{"aria-hidden":"true",portal:!0,...h,unmountOnHide:S,className:D("ü•ù-tooltip",t.className),ref:o,id:p,style:{...T.style,...t.style},wrapperProps:T.wrapperProps,children:e})]})})});export{be as T};
