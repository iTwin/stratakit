import{a as w,p as f}from"./chunk-UH6JLGW7-Ur-KJ5UR.js";import{M as ze,z as Me,K as Se,L as ye,N as Ye,O as Ze,j as k,Q as Je,S as Qe,U as Xe,W as J,X as we,w as Ge,Y as et,Z as tt,x as nt,y as rt,_ as ot,$ as st,E as he,H as xe,a0 as at,a1 as ut,a2 as Pe,a3 as it,B as lt}from"./~utils-Dpp40GRH.js";import{a as De,b as Oe,c as Ee,f as ct,u as dt}from"./SBSPVDDI-BONVC9Ce.js";import{V as q,L as Z,d as _,W as Ie,P as Ae,c as L,j as T,E as V,q as N,l as ke,a2 as ft,_ as P,b,t as Te,B as mt,w as pt,a3 as vt,f as K,a as R,U as Fe,m as ce,u as X,a4 as bt,$ as ht,p as xt,a5 as He,a6 as gt,Z as Ct,Y as ie,h as Mt,J as St,a1 as de,a7 as yt,a8 as wt,a9 as Pt,aa as Dt,a0 as Ot,K as Et}from"./VOQWLFSQ-CAIVsiHo.js";import{a as It,c as At,b as kt}from"./B7UTNDHN-BgYwkjsp.js";import{u as Tt}from"./ZTXFEM5L-BWgPeyU-.js";import{R as fe,f as B,c as W,T as Ft,I as Ht,m as _t}from"./sun-OBoXUdB1.js";import{u as jt}from"./KPUWHTQJ-Dt9Jzo-S.js";import{a as Nt}from"./OLVWQA7U-C_L-kmGC.js";import{p as Lt,K as ge}from"./Kbd-CSQWsVDY.js";import{D as Kt}from"./~utils.icons-CJnfx79k.js";import{a as Rt}from"./~utils.icons-ifyia6cX.js";function Bt(t={}){var n;ze(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:q(t.value,r?.value,t.defaultValue,!1)},o=Me(e,t.store);return Z(_({},o),{setValue:s=>o.setState("value",s)})}function $t(t,n,r){return Ie(n,[r.store]),ye(t,r,"value","setValue"),t}function Vt(t={}){const[n,r]=Se(Bt,t);return $t(n,r,t)}var _e=Ae([Oe],[De]),Wt=_e.useContext,Ut=_e.useScopedContext;w.createContext(void 0);var G=Ae([Oe,Ze],[De,Ye]),me=G.useContext,je=G.useScopedContext,oe=G.useProviderContext,Ne=G.ContextProvider,qt=G.ScopedContextProvider;w.createContext(void 0);var zt="div",j="";function ae(){j=""}function Yt(t){const n=t.target;return n&&mt(n)?!1:t.key===" "&&j.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Zt(t,n){if(pt(t))return!0;const r=t.target;return r?n.some(o=>o.element===r):!1}function Jt(t){return t.filter(n=>!n.disabled)}function re(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?vt(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function Qt(t,n,r){if(!r)return t;const e=t.find(o=>o.id===r);return!e||!re(e,n)||j!==n&&re(e,j)?t:(j=n,ct(t.filter(o=>re(o,j)),r).filter(o=>o.id!==r))}var pe=L(function(n){var r=n,{store:e,typeahead:o=!0}=r,s=T(r,["store","typeahead"]);const a=Ee();e=e||a,V(e,!1);const u=s.onKeyDownCapture,l=w.useRef(0),d=N(c=>{if(u?.(c),c.defaultPrevented||!o||!e)return;if(!Yt(c))return ae();const{renderedItems:x,items:m,activeId:i,id:M}=e.getState();let v=Jt(m.length>x.length?m:x);const p=ke(c.currentTarget),S=`[data-offscreen-id="${M}"]`,h=p.querySelectorAll(S);for(const y of h){const F=y.ariaDisabled==="true"||"disabled"in y&&!!y.disabled;v.push({id:y.id,element:y,disabled:F})}if(h.length&&(v=ft(v,y=>y.element)),!Zt(c,v))return ae();c.preventDefault(),window.clearTimeout(l.current),l.current=window.setTimeout(()=>{j=""},500);const E=c.key.toLowerCase();j+=E,v=Qt(v,E,i);const O=v.find(y=>re(y,j));O?e.move(O.id):ae()});return s=P(b({},s),{onKeyDownCapture:d}),Te(s)});K(function(n){const r=pe(n);return R(zt,r)});var Xt="div";function Gt(t){var n=t,{store:r}=n,e=T(n,["store"]);const[o,s]=w.useState(void 0),a=e["aria-label"],u=k(r,"disclosureElement"),l=k(r,"contentElement");return w.useEffect(()=>{const d=u;if(!d)return;const c=l;if(!c)return;a||c.hasAttribute("aria-label")?s(void 0):d.id&&s(d.id)},[a,u,l]),o}var Le=L(function(n){var r=n,{store:e,alwaysVisible:o,composite:s}=r,a=T(r,["store","alwaysVisible","composite"]);const u=oe();e=e||u,V(e,!1);const l=e.parent,d=e.menubar,c=!!l,x=Fe(a.id),m=a.onKeyDown,i=e.useState(C=>C.placement.split("-")[0]),M=e.useState(C=>C.orientation==="both"?void 0:C.orientation),v=M!=="vertical",p=k(d,C=>!!C&&C.orientation!=="vertical"),S=N(C=>{if(m?.(C),!C.defaultPrevented){if(c||d&&!v){const I={ArrowRight:()=>i==="left"&&!v,ArrowLeft:()=>i==="right"&&!v,ArrowUp:()=>i==="bottom"&&v,ArrowDown:()=>i==="top"&&v}[C.key];if(I?.())return C.stopPropagation(),C.preventDefault(),e?.hide()}if(d){const I={ArrowRight:()=>{if(p)return d.next()},ArrowLeft:()=>{if(p)return d.previous()},ArrowDown:()=>{if(!p)return d.next()},ArrowUp:()=>{if(!p)return d.previous()}}[C.key],$=I?.();$!==void 0&&(C.stopPropagation(),C.preventDefault(),d.move($))}}});a=ce(a,C=>f.jsx(qt,{value:e,children:C}),[e]);const h=Gt(b({store:e},a)),E=e.useState("mounted"),O=Je(E,a.hidden,o),y=O?P(b({},a.style),{display:"none"}):a.style;a=P(b({id:x,"aria-labelledby":h,hidden:O},a),{ref:X(x?e.setContentElement:null,a.ref),style:y,onKeyDown:S});const F=!!e.combobox;return s=s??!F,s&&(a=b({role:"menu","aria-orientation":M},a)),a=It(b({store:e,composite:s},a)),a=pe(b({store:e,typeahead:!F},a)),a});K(function(n){const r=Le(n);return R(Xt,r)});var en="div",tn=L(function(n){var r=n,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:a=!0,autoFocusOnShow:u=!0,hideOnHoverOutside:l,alwaysVisible:d}=r,c=T(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const x=oe();e=e||x,V(e,!1);const m=w.useRef(null),i=e.parent,M=e.menubar,v=!!i,p=!!M&&!v;c=P(b({},c),{ref:X(m,c.ref)});const S=Le(b({store:e,alwaysVisible:d},c)),{"aria-labelledby":h}=S;c=T(S,["aria-labelledby"]);const[O,y]=w.useState(),F=e.useState("autoFocusOnShow"),C=e.useState("initialFocus"),z=e.useState("baseElement"),I=e.useState("renderedItems");w.useEffect(()=>{let H=!1;return y(D=>{var te,ve,be;if(H||!F)return;if((te=D?.current)!=null&&te.isConnected)return D;const ne=w.createRef();switch(C){case"first":ne.current=((ve=I.find(Q=>!Q.disabled&&Q.element))==null?void 0:ve.element)||null;break;case"last":ne.current=((be=[...I].reverse().find(Q=>!Q.disabled&&Q.element))==null?void 0:be.element)||null;break;default:ne.current=z}return ne}),()=>{H=!0}},[e,F,C,I,z]);const $=v?!1:o,g=!!u,A=!!O||!!c.initialFocus||!!$,Y=k(e.combobox||e,"contentElement"),U=k(i?.combobox||i,"contentElement"),ee=w.useMemo(()=>{if(!U||!Y)return;const H=Y.getAttribute("role"),D=U.getAttribute("role");if(!((D==="menu"||D==="menubar")&&H==="menu"))return U},[Y,U]);return ee!==void 0&&(c=b({preserveTabOrderAnchor:ee},c)),c=Xe(P(b({store:e,alwaysVisible:d,initialFocus:O,autoFocusOnShow:g?A&&u:F||!!$},c),{hideOnEscape(H){return ht(a,H)?!1:(e?.hideAll(),!0)},hideOnHoverOutside(H){const D=e?.getState().disclosureElement;return(typeof l=="function"?l(H):l??(v?!0:p?D?!J(D):!0:!1))?H.defaultPrevented||!v||!D||(bt(D,"mouseout",H),!J(D))?!0:(requestAnimationFrame(()=>{J(D)||e?.hide()}),!1):!1},modal:$,portal:s,backdrop:v?!1:c.backdrop})),c=b({"aria-labelledby":h},c),c}),nn=Qe(K(function(n){const r=tn(n);return R(en,r)}),oe),rn="div",Ke=L(function(n){var r=n,{store:e}=r,o=T(r,["store"]);const s=we();return e=e||s,o=P(b({},o),{ref:X(e?.setAnchorElement,o.ref)}),o});K(function(n){const r=Ke(n);return R(rn,r)});var on="button",Re=L(function(n){var r=n,{store:e}=r,o=T(r,["store"]);const s=we();e=e||s,V(e,!1);const a=o.onClick,u=N(l=>{e?.setAnchorElement(l.currentTarget),a?.(l)});return o=ce(o,l=>f.jsx(Ge,{value:e,children:l}),[e]),o=P(b({},o),{onClick:u}),o=Ke(b({store:e},o)),o=Tt(b({store:e},o)),o});K(function(n){const r=Re(n);return R(on,r)});var sn="button";function an(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function Ce(t,n){return!!t?.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true")}var un=L(function(n){var r=n,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:a}=r,u=T(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const l=oe();e=e||l,V(e,!1);const d=w.useRef(null),c=e.parent,x=e.menubar,m=!!c,i=!!x&&!m,M=xt(u),v=()=>{const g=d.current;g&&(e?.setDisclosureElement(g),e?.setAnchorElement(g),e?.show())},p=u.onFocus,S=N(g=>{if(p?.(g),M||g.defaultPrevented||(e?.setAutoFocusOnShow(!1),e?.setActiveId(null),!x)||!i)return;const{items:A}=x.getState();Ce(A,g.currentTarget)&&v()}),h=k(e,g=>g.placement.split("-")[0]),E=u.onKeyDown,O=N(g=>{if(E?.(g),M||g.defaultPrevented)return;const A=an(g,h);A&&(g.preventDefault(),v(),e?.setAutoFocusOnShow(!0),e?.setInitialFocus(A))}),y=u.onClick,F=N(g=>{if(y?.(g),g.defaultPrevented||!e)return;const A=!g.detail,{open:Y}=e.getState();(!Y||A)&&((!m||A)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(A?"first":"container")),m&&v()});u=ce(u,g=>f.jsx(Ne,{value:e,children:g}),[e]),m&&(u=P(b({},u),{render:f.jsx(fe.div,{render:u.render})}));const C=Fe(u.id),z=k(c?.combobox||c,"contentElement"),I=m||i?He(z,"menuitem"):void 0,$=e.useState("contentElement");return u=P(b({id:C,role:I,"aria-haspopup":gt($,"menu")},u),{ref:X(d,u.ref),onFocus:S,onKeyDown:O,onClick:F}),u=et(P(b({store:e,focusable:o,accessibleWhenDisabled:s},u),{showOnHover:g=>{if(!(()=>{if(typeof a=="function")return a(g);if(a!=null)return a;if(m)return!0;if(!x)return!1;const{items:ee}=x.getState();return i&&Ce(ee)})())return!1;const U=i?x:c;return U&&U.setActiveId(g.currentTarget.id),!0}})),u=Re(b({store:e,toggleOnClick:!m,focusable:o,accessibleWhenDisabled:s},u)),u=pe(b({store:e,typeahead:i},u)),u}),ln=K(function(n){const r=un(n);return R(sn,r)}),cn="div";function Be(t){const n=t.relatedTarget;return n?.nodeType===Node.ELEMENT_NODE?n:null}function dn(t){const n=Be(t);return n?Mt(t.currentTarget,n):!1}var le=Symbol("composite-hover");function fn(t){let n=Be(t);if(!n)return!1;do{if(St(n,le)&&n[le])return!0;n=n.parentElement}while(n);return!1}var $e=L(function(n){var r=n,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,a=T(r,["store","focusOnHover","blurOnHoverEnd"]);const u=Ee();e=e||u,V(e,!1);const l=Ct(),d=a.onMouseMove,c=ie(o),x=N(p=>{if(d?.(p),!p.defaultPrevented&&l()&&c(p)){if(!J(p.currentTarget)){const S=e?.getState().baseElement;S&&!tt(S)&&S.focus()}e?.setActiveId(p.currentTarget.id)}}),m=a.onMouseLeave,i=ie(s),M=N(p=>{var S;m?.(p),!p.defaultPrevented&&l()&&(dn(p)||fn(p)||c(p)&&i(p)&&(e?.setActiveId(null),(S=e?.getState().baseElement)==null||S.focus()))}),v=w.useCallback(p=>{p&&(p[le]=!0)},[]);return a=P(b({},a),{ref:X(v,a.ref),onMouseMove:x,onMouseLeave:M}),Te(a)});de(K(function(n){const r=$e(n);return R(cn,r)}));var mn="div";function pn(t,n,r){var e;if(!t)return!1;if(J(t))return!0;const o=n?.find(l=>{var d;return l.element===r?!1:((d=l.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),s=(e=o?.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const u=ke(t).getElementById(s);return u?J(u)?!0:!!u.querySelector("[role=menuitem][aria-expanded=true]"):!1}var Ve=L(function(n){var r=n,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:a,blurOnHoverEnd:u}=r,l=T(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=je(!0),c=Ut();e=e||d||c,V(e,!1);const x=l.onClick,m=ie(o),i="hideAll"in e?e.hideAll:void 0,M=!!i,v=N(h=>{x?.(h),!(h.defaultPrevented||yt(h)||wt(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&m(h)&&i()}),p=k(e,h=>"contentElement"in h?h.contentElement:null),S=He(p,"menuitem");return l=P(b({role:S},l),{onClick:v}),l=dt(b({store:e,preventScrollOnKeyDown:s},l)),l=$e(P(b({store:e},l),{focusOnHover(h){const E=()=>typeof a=="function"?a(h):a??!0;if(!e||!E())return!1;const{baseElement:O,items:y}=e.getState();return M?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):pn(O,y,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof u=="function"?u(h):u??M}})),l}),vn=de(K(function(n){const r=Ve(n);return R(mn,r)})),bn="div";function hn(t){return Array.isArray(t)?t.toString():t}function ue(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=hn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):r?e:t===e?!1:t}var xn=L(function(n){var r=n,{store:e,name:o,value:s,checked:a,defaultChecked:u,hideOnClick:l=!1}=r,d=T(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const c=je();e=e||c,V(e,!1);const x=Pt(u);w.useEffect(()=>{e?.setValue(o,(i=[])=>x?ue(i,s,!0):i)},[e,o,s,x]),w.useEffect(()=>{a!==void 0&&e?.setValue(o,i=>ue(i,s,a))},[e,o,s,a]);const m=Vt({value:e.useState(i=>i.values[o]),setValue(i){e?.setValue(o,()=>{if(a===void 0)return i;const M=ue(i,s,a);return!Array.isArray(M)||!Array.isArray(i)?M:Dt(i,M)?i:M})}});return d=b({role:"menuitemcheckbox"},d),d=jt(b({store:m,name:o,value:s,checked:a},d)),d=Ve(b({store:e,hideOnClick:l},d)),d}),gn=de(K(function(n){const r=xn(n);return R(bn,r)}));function Cn(t={}){var n=t,{combobox:r,parent:e,menubar:o}=n,s=Ot(n,["combobox","parent","menubar"]);const a=!!o&&!e,u=nt(s.store,ot(e,["values"]),rt(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),l=u.getState(),d=At(Z(_({},s),{store:u,orientation:q(s.orientation,l.orientation,"vertical")})),c=st(Z(_({},s),{store:u,placement:q(s.placement,l.placement,"bottom-start"),timeout:q(s.timeout,l.timeout,a?0:150),hideTimeout:q(s.hideTimeout,l.hideTimeout,0)})),x=Z(_(_({},d.getState()),c.getState()),{initialFocus:q(l.initialFocus,"container"),values:q(s.values,l.values,s.defaultValues,{})}),m=Me(x,d,c,u);return he(m,()=>xe(m,["mounted"],i=>{i.mounted||m.setState("activeId",null)})),he(m,()=>xe(e,["orientation"],i=>{m.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),Z(_(_(_({},d),c),m),{combobox:r,parent:e,menubar:o,hideAll:()=>{c.hide(),e?.hideAll()},setInitialFocus:i=>m.setState("initialFocus",i),setValues:i=>m.setState("values",i),setValue:(i,M)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||m.setState("values",v=>{const p=v[i],S=Et(M,p);return S===p?v:Z(_({},v),{[i]:S!==void 0&&S})}))}})}function Mn(t,n,r){return Ie(n,[r.combobox,r.parent,r.menubar]),ye(t,r,"values","setValues"),Object.assign(at(kt(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function Sn(t={}){const n=me(),r=Wt(),e=Nt();t=P(b({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=Se(Cn,t);return Mn(o,s,t)}function yn(t={}){const n=Sn(t);return f.jsx(Ne,{value:n,children:t.children})}const We=B((t,n)=>f.jsx(fe.div,{role:"listitem",...t,className:W("ListItem",t.className),ref:n})),Ue=B((t,n)=>f.jsx(Ft,{...t,variant:"body-sm",className:W("ListItemContent",t.className),ref:n})),se=B((t,n)=>f.jsx(fe.div,{...t,className:W("ListItemDecoration",t.className),ref:n}));function Nn(t){const{children:n,placement:r,open:e,setOpen:o,defaultOpen:s}=t;return f.jsx(yn,{placement:r,defaultOpen:s,open:e,setOpen:o,popover:it(),children:n})}const Ln=B((t,n)=>{const r=me(),e=k(r,"open"),o=k(r,"popoverElement"),s=_t({element:o,open:e});return f.jsx(nn,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...s.style,...t.style},wrapperProps:{popover:s.popover},className:W("DropdownMenu",t.className),ref:n})}),Kn=B((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...o}=t,s=k(me(),a=>a?.open);return f.jsx(ln,{accessibleWhenDisabled:!0,...o,render:t.render??f.jsxs(lt,{accessibleWhenDisabled:r,children:[e,f.jsx(Kt,{})]}),className:W("DropdownMenuButton",t.className),"data-has-popover-open":s||void 0,ref:n})}),Rn=B((t,n)=>{const{label:r,shortcuts:e,icon:o,unstable_dot:s,...a}=t,u=w.useId();return f.jsxs(vn,{accessibleWhenDisabled:!0,render:f.jsx(We,{render:f.jsx(Pe,{accessibleWhenDisabled:!0,"aria-describedby":u,...a,className:W("DropdownMenuItem",t.className),ref:n})}),children:[o?f.jsx(qe,{icon:o}):null,f.jsx(Ue,{render:f.jsx("span",{}),children:r}),e?f.jsx(wn,{shortcuts:e}):null,s?f.jsx(se,{render:f.jsx(ut,{id:u,className:"DropdownMenuItemDot",children:s})}):null]})}),wn=B((t,n)=>{const{shortcuts:r,...e}=t,o=w.useMemo(()=>r.split("+").map(s=>({key:s.trim(),isSymbol:s in Lt})),[r]);return f.jsx(se,{render:f.jsx("span",{}),...e,className:W("DropdownMenuItemShortcuts",t.className),ref:n,children:o.map(({key:s,isSymbol:a},u)=>a?f.jsx(ge,{variant:"ghost",symbol:s},`${s+u}`):f.jsx(ge,{variant:"ghost",children:s},`${s+u}`))})}),qe=B((t,n)=>{const{icon:r,...e}=t;return f.jsx(se,{render:f.jsx(Ht,{href:typeof r=="string"?r:void 0,render:w.isValidElement(r)?r:void 0,...e,ref:n})})}),Bn=B((t,n)=>{const{label:r,icon:e,defaultChecked:o,checked:s,onChange:a,name:u,value:l=o?"on":void 0,...d}=t;return f.jsxs(gn,{accessibleWhenDisabled:!0,defaultChecked:o,checked:s,name:u,value:l,onChange:a,render:f.jsx(We,{render:f.jsx(Pe,{accessibleWhenDisabled:!0,...d,className:W("DropdownMenuItem",t.className),ref:n})}),children:[e?f.jsx(qe,{icon:e}):null,f.jsx(Ue,{render:f.jsx("span",{}),children:r}),f.jsx(se,{render:f.jsx(Rt,{className:"DropdownMenuCheckmark"})})]})});export{Nn as D,We as L,Kn as a,Ln as b,Bn as c,Rn as d,se as e,Ue as f};
