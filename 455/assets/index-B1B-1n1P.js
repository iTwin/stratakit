import{w as G}from"./LMDWO4NN-Dg-CmVu9.js";import{n as t,a as d}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{c as v,d as _}from"./~utils-CCrPQz5W.js";import{R as g}from"./XL7CSKGW-UlgSkSI6.js";import{u as q,C as W}from"./ITI7HKP4-DbxAdGsH.js";import{f as x}from"./~utils-DwzaeBQS.js";import{p as A}from"./placeholder-CuSxWvwZ.js";import{u as $}from"./lock-unlocked-BBDl1opg.js";import{s as L}from"./visibility-show-CLgudI6V.js";import{C as J}from"./P2CTZE2T-CsknsjqQ.js";import{T as Q}from"./toolbar-BCmn58t3.js";import{L as X,b as B,a as K}from"./~utils.ListItem-D00sXa1F.js";import{u as Y,T as ee}from"./BOLVLGVE-BFPJ-NKS.js";import{B as te}from"./X5NMLKT6-tbHUaCWI.js";import{V as oe}from"./XX67R432-tiBLlwDL.js";import{d as re}from"./YV4JVR4I-DPjYyIBF.js";import{a as ne,b as C}from"./~hooks-DfZ-tkCK.js";import{u as se,T as ae,a as ie,b as le}from"./tooltip-anchor-DqtdyEiF.js";import"./C3IKGW5T-C3PuGI4F.js";import"./LVA2YJMS-Poy2N9Zq.js";import"./RZ4GPYOB-Do0ZeBdx.js";import"./KUU7WJ55-DGpHxwfQ.js";import"./BYC7LY2E-DEfXd4q1.js";import"./VGCJ63VH-B_HxEu7q.js";import"./index-ChOFKjs3.js";import"./AOQQTIBO-B4HjLz2q.js";import"./MTZPJQMC-DyHagAf_.js";const E=d.createContext(void 0);function de(e){return t.jsx(E.Provider,{value:e.align,children:e.children})}function M(){return d.useContext(E)}const O=x((e,r)=>{const{variant:o="solid",tone:n="neutral",...a}=e,i=M();return t.jsx(te,{accessibleWhenDisabled:!0,...a,"data-kiwi-variant":o,"data-kiwi-tone":n,"data-kiwi-ghost-align":o==="ghost"?i:void 0,className:v("-button",{"-ghost-aligner":o==="ghost"},e.className),ref:r})});O.displayName="Button";const R=x((e,r)=>t.jsx(oe,{...e,ref:r}));R.displayName="VisuallyHidden";const j=x((e,r)=>{const{href:o,size:n,alt:a,...i}=e,s=!a,u=ue(o);return t.jsx(g.svg,{"aria-hidden":s?"true":void 0,role:s?void 0:"img","aria-label":s?void 0:a,...i,"data-kiwi-size":n,className:v("-icon",e.className),children:u?t.jsx("use",{href:ce(u,n)}):null})});j.displayName="Icon";function ce(e,r){const o=e.includes("#")?"--":"#",n=me(r);return`${e}${o}${n}`}function me(e){return e==="large"?"icon-large":"icon"}function ue(e){const r=d.useId(),[o,n]=d.useState(e);return d.useEffect(function(){if(!e)return;const{protocol:i}=new URL(e,document.baseURI);if(!["http://","https://"].includes(i))return fetch(e).then(async s=>{if(!s.ok)throw new Error("Failed to fetch");const u=await s.text(),c=Object.assign(document.createElement("template"),{innerHTML:u}).content.querySelectorAll("symbol");for(const h of c)h.id=`${r}--${h.id}`,document.body.appendChild(h.cloneNode(!0));n(`#${r}`)}),()=>{n(void 0)}},[e,r]),o}const he=x((e,r)=>{const{direction:o="down",...n}=e,a=d.useMemo(()=>{switch(o){case"down":return t.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return t.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[o]);return t.jsx(j,{...n,render:t.jsx(g.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:a}),className:v("-disclosure-arrow",e.className),ref:r})});he.displayName="DisclosureArrow";const pe=x((e,r)=>t.jsx(j,{...e,render:t.jsx(g.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:t.jsx("path",{fillRule:"evenodd",d:"M13.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L6.5 10.793l6.646-6.647a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"})}),ref:r}));pe.displayName="Checkmark";const fe=x((e,r)=>t.jsx(j,{...e,render:t.jsx(g.svg,{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",render:e.render,children:t.jsx("path",{d:"M4.853 4.146a.5.5 0 1 0-.707.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .707.708L8 8.707l3.146 3.147a.5.5 0 0 0 .707-.708L8.707 8l3.146-3.146a.5.5 0 1 0-.707-.708L8 7.293 4.853 4.146Z"})}),ref:r}));fe.displayName="Dismiss";const V=x((e,r)=>{const o=d.useId(),{content:n,children:a,type:i="description",id:s=o,defaultOpen:u,open:l,setOpen:c,unmountOnHide:h=i==="none",...b}=e,y=se(),I=re(y,f=>f.open),p=ne(y);return t.jsx(t.Fragment,{children:t.jsxs(ae,{store:y,defaultOpen:u,open:l,setOpen:c,children:[t.jsx(ie,{render:a,"data-has-popover-open":I||void 0,...i==="description"&&{"aria-describedby":s},...i==="label"&&{"aria-labelledby":s}}),t.jsx(le,{"aria-hidden":"true",...b,unmountOnHide:h,className:v("-tooltip",e.className),ref:r,id:s,style:{...p.style,...e.style},wrapperProps:p.wrapperProps,portal:p.portal,children:n})]})})});V.displayName="Tooltip";const z=x((e,r)=>{const{label:o,icon:n,isActive:a,labelVariant:i,dot:s,...u}=e,l=d.useId(),c=`${l}-label`,h=`${l}-dot`,b=Y(),y=t.jsxs(O,{"aria-pressed":a,"aria-labelledby":c,"aria-describedby":s?h:void 0,...u,"data-kiwi-dot":s?"true":void 0,render:b?t.jsx(ee,{render:e.render}):e.render,className:v("-icon-button",e.className),ref:r,children:[t.jsx(R,{id:c,children:o}),typeof n=="string"?t.jsx(j,{href:n}):n,s?t.jsx(R,{id:h,"aria-hidden":"true",children:s}):null]});return i==="visually-hidden"?y:t.jsx(V,{content:o,type:"none",children:y})});z.displayName="IconButton";const xe=d.createContext(void 0),S=x((e,r)=>{const{"aria-level":o,selected:n,expanded:a,icon:i,unstable_decorations:s,label:u,description:l,actions:c,onSelectedChange:h,onExpandedChange:b,onClick:y,onKeyDown:I,...p}=e,f=m=>{n!==void 0&&(m.stopPropagation(),h==null||h(!n))},D=m=>{m.altKey||m.ctrlKey||m.metaKey||m.shiftKey||a!==void 0&&(m.key==="ArrowRight"||m.key==="ArrowLeft")&&(m.preventDefault(),b==null||b(m.key==="ArrowRight"))},T=d.useId(),N=d.useId(),w=d.useId(),P=d.useMemo(()=>{const m=[];return l&&m.push(N),(s||i)&&m.push(w),m.length>0?m.join(" "):void 0},[s,i,w,l,N]);return t.jsx(xe.Provider,{value:d.useMemo(()=>({level:o,expanded:a,selected:n}),[o,a,n]),children:t.jsx(J,{render:t.jsx(g,{...p}),onClick:C(y,f),onKeyDown:C(I,D),role:"treeitem","aria-expanded":a,"aria-selected":n,"aria-labelledby":T,"aria-describedby":P,"aria-level":o,className:v("-tree-item",e.className),ref:r,children:t.jsxs(X,{"data-kiwi-expanded":a,"data-kiwi-selected":n,className:"-tree-item-node",style:{"--tree-item-level":o},role:void 0,children:[t.jsxs(B,{children:[t.jsx(de,{align:l?"block":void 0,children:t.jsx(Z,{onClick:()=>{a!==void 0&&(b==null||b(!a))}})}),i||s?t.jsx(g,{className:"-tree-item-decoration",id:w,render:d.isValidElement(i)?i:typeof i=="string"?t.jsx(j,{href:i}):void 0,children:i?null:s}):null]}),t.jsx(K,{id:T,className:"-tree-item-content",children:u}),l?t.jsx(K,{id:N,className:"-tree-item-description",children:l}):void 0,t.jsx(B,{render:t.jsx(H,{children:c})})]})})})});S.displayName="TreeItem.Root";const H=x((e,r)=>t.jsx(Q,{...e,onClick:C(e.onClick,o=>o.stopPropagation()),onKeyDown:C(e.onKeyDown,o=>o.stopPropagation()),className:v("-tree-item-actions",e.className),ref:r,children:e.children}));H.displayName="TreeItemActions";const k=x((e,r)=>{const{visible:o,...n}=e;return t.jsx(z,{inert:o===!1?!0:void 0,...n,variant:"ghost",className:v("-tree-item-action",e.className),"data-kiwi-visible":o,ref:r})});k.displayName="TreeItem.Action";const Z=x((e,r)=>t.jsx(g.span,{"aria-hidden":"true",...e,onClick:C(e.onClick,o=>o.stopPropagation()),className:v("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":M(),ref:r,children:t.jsx(F,{})}));Z.displayName="TreeItemExpander";const F=x((e,r)=>t.jsx(j,{...e,render:t.jsx(g.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:t.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:v("-tree-chevron",e.className),ref:r}));F.displayName="TreeChevron";const U=x((e,r)=>{const o=q({orientation:"vertical"});return t.jsx(g.div,{role:"tree",...e,render:t.jsx(W,{store:o}),className:v("-tree",e.className),ref:r,children:e.children})});U.displayName="Tree.Root";const Fe={title:"Tree"},Ue=G(_(function({overflow:r=!1,selected:o=!1,description:n}){const a=r?" with a super long label that is overflown":"",i=n?"Additional description":void 0,[s,u]=d.useState(()=>[{label:`Item 1${a}`,selected:!!o,expanded:!0,children:[{label:"Item 1.1",selected:!!o},{label:"Item 1.2",selected:!!o},{label:`Item 1.3${a}`,selected:!!o}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${a}`,selected:!1}]},{label:"Item 3",selected:!1}]);return t.jsx(U,{style:{maxInlineSize:r?300:void 0},children:s.map((l,c,h)=>{var I;const b=()=>{const p=s[c].selected,f=[...s];f[c].selected=!p,u(f)},y=()=>{const p=s[c].expanded;if(p===void 0)return;const f=[...s];f[c].expanded=!p,u(f)};return t.jsxs(d.Fragment,{children:[t.jsx(S,{"aria-level":1,"aria-posinset":c+1,"aria-setsize":h.length,label:l.label,description:c===0?i:void 0,expanded:l.expanded,onExpandedChange:y,selected:l.selected,onSelectedChange:b,icon:t.jsx(j,{href:A,alt:"decoration"}),actions:[t.jsx(k,{icon:$,label:"Unlock"},"unlock"),t.jsx(k,{icon:L,label:"Show"},"show")]},l.label),(I=l.children)==null?void 0:I.map((p,f,D)=>{if(!l.expanded)return null;const T=()=>{var P;const N=[...s],w=(P=N[c].children)==null?void 0:P[f];w&&(w.selected=!w.selected),u(N)};return t.jsx(S,{"aria-level":2,"aria-posinset":f+1,"aria-setsize":D.length,label:p.label,description:f===0?i:void 0,selected:p.selected,onSelectedChange:T,unstable_decorations:f===0?t.jsxs(t.Fragment,{children:[t.jsx(j,{href:A}),t.jsx(j,{href:A})]}):t.jsx(j,{href:A}),actions:[t.jsx(k,{icon:$,label:"Unlock"},"unlock"),t.jsx(k,{icon:L,label:"Show"},"show")]},p.label)})]},l.label)})})}));export{Ue as default,Fe as handle};
