import{u as Hn,m as $n,o as kn,c as on,a as ee,d as ht,b as sn}from"./YV4JVR4I-DPjYyIBF.js";import{f as bt,c as Rt,b as Ct,l as B,d as k,_ as Tt,y as ie,W as U,af as Ve,o as z,x as ft,a2 as It,j as _n,g as $t,h as gt,e as lt,u as Nn,i as jn,Q as ot,G as q,U as fe,P as Vn,ag as cn,ah as Bn,ai as Wn,a0 as at,Y as In,n as St,aj as Se,v as zn,Z as un,a5 as qn,F as kt,a3 as Yn,a1 as Xn,m as se,E as ln,X as Un,A as Kn,C as Gn}from"./LMDWO4NN-Dg-CmVu9.js";import{e as Zn,f as Jn,u as Qn,d as an,b as Ae,i as tr,g as er,h as nr,j as rr}from"./VGCJ63VH-B_HxEu7q.js";import{R as Be}from"./XL7CSKGW-UlgSkSI6.js";import{a as w,n as D}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{b as de,c as We,r as or,d as ir,g as sr,i as cr,e as ur,j as lr,k as zt,u as fn,l as ar,h as fr}from"./LVA2YJMS-Poy2N9Zq.js";import{a as xe}from"./index-ChOFKjs3.js";import{u as dr}from"./VisuallyHidden-DKSdIXzd.js";import{P as Ie}from"./AOQQTIBO-B4HjLz2q.js";import{P as dn,a as pr,u as pn}from"./MTZPJQMC-DyHagAf_.js";var mr="span",hr=Rt(function(e){return e=B(k({"data-focus-trap":"",tabIndex:0,"aria-hidden":!0},e),{style:k({position:"fixed",top:0,left:0},e.style)}),e=dr(e),e}),Qt=bt(function(e){const r=hr(e);return Ct(mr,r)}),gr="div";function vr(t){return z(t).body}function xr(t,e){return e?typeof e=="function"?e(t):e:z(t).createElement("div")}function wr(t="id"){return`${t?`${t}-`:""}${Math.random().toString(36).slice(2,8)}`}function mt(t){queueMicrotask(()=>{t==null||t.focus()})}var mn=Rt(function(e){var r=e,{preserveTabOrder:n,preserveTabOrderAnchor:o,portalElement:i,portalRef:s,portal:c=!0}=r,u=Tt(r,["preserveTabOrder","preserveTabOrderAnchor","portalElement","portalRef","portal"]);const l=w.useRef(null),a=ie(l,u.ref),d=w.useContext(Ie),[f,m]=w.useState(null),[h,y]=w.useState(null),x=w.useRef(null),v=w.useRef(null),P=w.useRef(null),S=w.useRef(null);return U(()=>{const p=l.current;if(!p||!c){m(null);return}const g=xr(p,i);if(!g){m(null);return}const A=g.isConnected;if(A||(d||vr(p)).appendChild(g),g.id||(g.id=p.id?`portal/${p.id}`:wr()),m(g),Ve(s,g),!A)return()=>{g.remove(),Ve(s,null)}},[c,i,d,s]),U(()=>{if(!c||!n||!o)return;const g=z(o).createElement("span");return g.style.position="fixed",o.insertAdjacentElement("afterend",g),y(g),()=>{g.remove(),y(null)}},[c,n,o]),w.useEffect(()=>{if(!f||!n)return;let p=0;const g=A=>{if(!It(A))return;const b=A.type==="focusin";if(cancelAnimationFrame(p),b)return or(f);p=requestAnimationFrame(()=>{ir(f,!0)})};return f.addEventListener("focusin",g,!0),f.addEventListener("focusout",g,!0),()=>{cancelAnimationFrame(p),f.removeEventListener("focusin",g,!0),f.removeEventListener("focusout",g,!0)}},[f,n]),u=ft(u,p=>{if(p=D.jsx(Ie.Provider,{value:f||d,children:p}),!c)return p;if(!f)return D.jsx("span",{ref:a,id:u.id,style:{position:"fixed"},hidden:!0});p=D.jsxs(D.Fragment,{children:[n&&f&&D.jsx(Qt,{ref:v,"data-focus-trap":u.id,className:"__focus-trap-inner-before",onFocus:A=>{It(A,f)?mt(de()):mt(x.current)}}),p,n&&f&&D.jsx(Qt,{ref:P,"data-focus-trap":u.id,className:"__focus-trap-inner-after",onFocus:A=>{It(A,f)?mt(We()):mt(S.current)}})]}),f&&(p=xe.createPortal(p,f));let g=D.jsxs(D.Fragment,{children:[n&&f&&D.jsx(Qt,{ref:x,"data-focus-trap":u.id,className:"__focus-trap-outer-before",onFocus:A=>{!(A.relatedTarget===S.current)&&It(A,f)?mt(v.current):mt(We())}}),n&&D.jsx("span",{"aria-owns":f==null?void 0:f.id,style:{position:"fixed"}}),n&&f&&D.jsx(Qt,{ref:S,"data-focus-trap":u.id,className:"__focus-trap-outer-after",onFocus:A=>{if(It(A,f))mt(P.current);else{const b=de();if(b===v.current){requestAnimationFrame(()=>{var $;return($=de())==null?void 0:$.focus()});return}mt(b)}}})]});return h&&n&&(g=xe.createPortal(g,h)),D.jsxs(D.Fragment,{children:[g,p]})},[f,d,c,u.id,n,h]),u=B(k({},u),{ref:a}),u});bt(function(e){const r=mn(e);return Ct(gr,r)});function hn(t={}){return Zn(t)}function gn(t,e,r){return Jn(t,e,r)}function yr(t={}){const[e,r]=Hn(hn,t);return gn(e,r,t)}function br(t={}){var e=t,{popover:r}=e,n=_n(e,["popover"]);const o=$n(n.store,kn(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),i=o==null?void 0:o.getState(),s=hn($t(gt({},n),{store:o})),c=lt(n.placement,i==null?void 0:i.placement,"bottom"),u=$t(gt({},s.getState()),{placement:c,currentPlacement:c,anchorElement:lt(i==null?void 0:i.anchorElement,null),popoverElement:lt(i==null?void 0:i.popoverElement,null),arrowElement:lt(i==null?void 0:i.arrowElement,null),rendered:Symbol("rendered")}),l=on(u,s,o);return $t(gt(gt({},s),l),{setAnchorElement:a=>l.setState("anchorElement",a),setPopoverElement:a=>l.setState("popoverElement",a),setArrowElement:a=>l.setState("arrowElement",a),render:()=>l.setState("rendered",Symbol("rendered"))})}function Er(t,e,r){return Nn(e,[r.popover]),ee(t,r,"placement"),gn(t,e,r)}function si(t={}){var e;const r=(e=t.store)==null?void 0:e.getState(),n=br($t(gt({},t),{placement:lt(t.placement,r==null?void 0:r.placement,"bottom")})),o=lt(t.timeout,r==null?void 0:r.timeout,500),i=$t(gt({},n.getState()),{timeout:o,showTimeout:lt(t.showTimeout,r==null?void 0:r.showTimeout),hideTimeout:lt(t.hideTimeout,r==null?void 0:r.hideTimeout),autoFocusOnShow:lt(r==null?void 0:r.autoFocusOnShow,!1)}),s=on(i,n,t.store);return $t(gt(gt({},n),s),{setAutoFocusOnShow:c=>s.setState("autoFocusOnShow",c)})}function ci(t,e,r){return ee(t,r,"timeout"),ee(t,r,"showTimeout"),ee(t,r,"hideTimeout"),Er(t,e,r)}var Yt=jn([pr],[dn]);Yt.useContext;Yt.useScopedContext;var Oe=Yt.useProviderContext,ui=Yt.ContextProvider,Pr=Yt.ScopedContextProvider;function pe(t){return[t.clientX,t.clientY]}function ze(t,e){const[r,n]=t;let o=!1;const i=e.length;for(let s=i,c=0,u=s-1;c<s;u=c++){const[l,a]=e[c],[d,f]=e[u],[,m]=e[u===0?s-1:u-1]||[0,0],h=(a-f)*(r-l)-(l-d)*(n-a);if(f<a){if(n>=f&&n<a){if(h===0)return!0;h>0&&(n===f?n>m&&(o=!o):o=!o)}}else if(a<f){if(n>a&&n<=f){if(h===0)return!0;h<0&&(n===f?n<m&&(o=!o):o=!o)}}else if(n===a&&(r>=d&&r<=l||r>=l&&r<=d))return!0}return o}function Sr(t,e){const{top:r,right:n,bottom:o,left:i}=e,[s,c]=t,u=s<i?"left":s>n?"right":null,l=c<r?"top":c>o?"bottom":null;return[u,l]}function qe(t,e){const r=t.getBoundingClientRect(),{top:n,right:o,bottom:i,left:s}=r,[c,u]=Sr(e,r),l=[e];return c?(u!=="top"&&l.push([c==="left"?s:o,n]),l.push([c==="left"?o:s,n]),l.push([c==="left"?o:s,i]),u!=="bottom"&&l.push([c==="left"?s:o,i])):u==="top"?(l.push([s,n]),l.push([s,i]),l.push([o,i]),l.push([o,n])):(l.push([s,i]),l.push([s,n]),l.push([o,n]),l.push([o,i])),l}function vn(t,...e){if(!t)return!1;const r=t.getAttribute("data-backdrop");return r==null?!1:r===""||r==="true"||!e.length?!0:e.some(n=>r===n)}var me=new WeakMap;function Xt(t,e,r){me.has(t)||me.set(t,new Map);const n=me.get(t),o=n.get(e);if(!o)return n.set(e,r()),()=>{var c;(c=n.get(e))==null||c(),n.delete(e)};const i=r(),s=()=>{i(),o(),n.delete(e)};return n.set(e,s),()=>{n.get(e)===s&&(i(),n.set(e,o))}}function Re(t,e,r){return Xt(t,e,()=>{const o=t.getAttribute(e);return t.setAttribute(e,r),()=>{o==null?t.removeAttribute(e):t.setAttribute(e,o)}})}function At(t,e,r){return Xt(t,e,()=>{const o=e in t,i=t[e];return t[e]=r,()=>{o?t[e]=i:delete t[e]}})}function we(t,e){return t?Xt(t,"style",()=>{const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}):()=>{}}function Ar(t,e,r){return t?Xt(t,e,()=>{const o=t.style.getPropertyValue(e);return t.style.setProperty(e,r),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}):()=>{}}var Or=["SCRIPT","STYLE"];function ye(t){return`__ariakit-dialog-snapshot-${t}`}function Rr(t,e){const r=z(e),n=ye(t);if(!r.body[n])return!0;do{if(e===r.body)return!1;if(e[n])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function Cr(t,e,r){return Or.includes(e.tagName)||!Rr(t,e)?!1:!r.some(n=>n&&q(e,n))}function Ce(t,e,r,n){for(let o of e){if(!(o!=null&&o.isConnected))continue;const i=e.some(u=>!u||u===o?!1:u.contains(o)),s=z(o),c=o;for(;o.parentElement&&o!==s.body;){if(n==null||n(o.parentElement,c),!i)for(const u of o.parentElement.children)Cr(t,u,e)&&r(u,c);o=o.parentElement}}}function Tr(t,e){const{body:r}=z(e[0]),n=[];return Ce(t,e,i=>{n.push(At(i,ye(t),!0))}),ot(At(r,ye(t),!0),()=>{for(const i of n)i()})}function Nt(t="",e=!1){return`__ariakit-dialog-${e?"ancestor":"outside"}${t?`-${t}`:""}`}function Fr(t,e=""){return ot(At(t,Nt(),!0),At(t,Nt(e),!0))}function xn(t,e=""){return ot(At(t,Nt("",!0),!0),At(t,Nt(e,!0),!0))}function Te(t,e){const r=Nt(e,!0);if(t[r])return!0;const n=Nt(e);do{if(t[n])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function Ye(t,e){const r=[],n=e.map(i=>i==null?void 0:i.id);return Ce(t,e,i=>{vn(i,...n)||r.unshift(Fr(i,t))},(i,s)=>{s.hasAttribute("data-dialog")&&s.id!==t||r.unshift(xn(i,t))}),()=>{for(const i of r)i()}}function Dr({store:t,backdrop:e,alwaysVisible:r,hidden:n}){const o=w.useRef(null),i=Qn({disclosure:t}),s=ht(t,"contentElement");w.useEffect(()=>{const l=o.current,a=s;l&&a&&(l.style.zIndex=getComputedStyle(a).zIndex)},[s]),U(()=>{const l=s==null?void 0:s.id;if(!l)return;const a=o.current;if(a)return xn(a,l)},[s]);const c=an({ref:o,store:i,role:"presentation","data-backdrop":(s==null?void 0:s.id)||"",alwaysVisible:r,hidden:n??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!e)return null;if(w.isValidElement(e))return D.jsx(Be,B(k({},c),{render:e}));const u=typeof e!="boolean"?e:"div";return D.jsx(Be,B(k({},c),{render:D.jsx(u,{})}))}function Mr(t,...e){if(!t)return!1;const r=t.getAttribute("data-focus-trap");return r==null?!1:e.length?r===""?!1:e.some(n=>r===n):!0}function Lr(t){return Re(t,"aria-hidden","true")}function wn(){return"inert"in HTMLElement.prototype}function yn(t,e){if(!("style"in t))return fe;if(wn())return At(t,"inert",!0);const n=sr(t,!0).map(o=>{if(e!=null&&e.some(s=>s&&q(s,o)))return fe;const i=Xt(o,"focus",()=>(o.focus=fe,()=>{delete o.focus}));return ot(Re(o,"tabindex","-1"),i)});return ot(...n,Lr(t),we(t,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function Hr(t,e){const r=[],n=e.map(i=>i==null?void 0:i.id);return Ce(t,e,i=>{vn(i,...n)||Mr(i,...n)||r.unshift(yn(i,e))},i=>{i.hasAttribute("role")&&(e.some(s=>s&&q(s,i))||r.unshift(Re(i,"role","none")))}),()=>{for(const i of r)i()}}function $r({attribute:t,contentId:e,contentElement:r,enabled:n}){const[o,i]=Vn(),s=w.useCallback(()=>{if(!n||!r)return!1;const{body:c}=z(r),u=c.getAttribute(t);return!u||u===e},[o,n,r,t,e]);return w.useEffect(()=>{if(!n||!e||!r)return;const{body:c}=z(r);if(s())return c.setAttribute(t,e),()=>c.removeAttribute(t);const u=new MutationObserver(()=>xe.flushSync(i));return u.observe(c,{attributeFilter:[t]}),()=>u.disconnect()},[o,n,e,r,s,t]),s}function kr(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function _r(t,e,r){const n=$r({attribute:"data-dialog-prevent-body-scroll",contentElement:t,contentId:e,enabled:r});w.useEffect(()=>{if(!n()||!t)return;const o=z(t),i=cn(t),{documentElement:s,body:c}=o,u=s.style.getPropertyValue("--scrollbar-width"),l=u?Number.parseInt(u):i.innerWidth-s.clientWidth,a=()=>Ar(s,"--scrollbar-width",`${l}px`),d=kr(s),f=()=>we(c,{overflow:"hidden",[d]:`${l}px`}),m=()=>{var y,x;const{scrollX:v,scrollY:P,visualViewport:S}=i,p=(y=S==null?void 0:S.offsetLeft)!=null?y:0,g=(x=S==null?void 0:S.offsetTop)!=null?x:0,A=we(c,{position:"fixed",overflow:"hidden",top:`${-(P-Math.floor(g))}px`,left:`${-(v-Math.floor(p))}px`,right:"0",[d]:`${l}px`});return()=>{A(),i.scrollTo({left:v,top:P,behavior:"instant"})}},h=Bn()&&!Wn();return ot(a(),h?m():f())},[n,t])}var Xe=w.createContext({});function Nr(t){const e=w.useContext(Xe),[r,n]=w.useState([]),o=w.useCallback(c=>{var u;return n(l=>[...l,c]),ot((u=e.add)==null?void 0:u.call(e,c),()=>{n(l=>l.filter(a=>a!==c))})},[e]);U(()=>sn(t,["open","contentElement"],c=>{var u;if(c.open&&c.contentElement)return(u=e.add)==null?void 0:u.call(e,t)}),[t,e]);const i=w.useMemo(()=>({store:t,add:o}),[t,o]);return{wrapElement:w.useCallback(c=>D.jsx(Xe.Provider,{value:i,children:c}),[i]),nestedDialogs:r}}function jr(t){const e=w.useRef();return w.useEffect(()=>{if(!t){e.current=null;return}return at("mousedown",n=>{e.current=n.target},!0)},[t]),e}function Vr(t){return t.tagName==="HTML"?!0:q(z(t).body,t)}function Br(t,e){if(!t)return!1;if(q(t,e))return!0;const r=e.getAttribute("aria-activedescendant");if(r){const n=z(t).getElementById(r);if(n)return q(t,n)}return!1}function Wr(t,e){if(!("clientY"in t))return!1;const r=e.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=t.clientY&&t.clientY<=r.top+r.height&&r.left<=t.clientX&&t.clientX<=r.left+r.width}function he({store:t,type:e,listener:r,capture:n,domReady:o}){const i=St(r),s=ht(t,"open"),c=w.useRef(!1);U(()=>{if(!s||!o)return;const{contentElement:u}=t.getState();if(!u)return;const l=()=>{c.current=!0};return u.addEventListener("focusin",l,!0),()=>u.removeEventListener("focusin",l,!0)},[t,s,o]),w.useEffect(()=>s?at(e,l=>{const{contentElement:a,disclosureElement:d}=t.getState(),f=l.target;!a||!f||!Vr(f)||q(a,f)||Br(d,f)||f.hasAttribute("data-focus-trap")||Wr(l,a)||c.current&&!Te(f,a.id)||cr(f)||i(l)},n):void 0,[s,n])}function ge(t,e){return typeof t=="function"?t(e):!!t}function Ir(t,e,r){const n=ht(t,"open"),o=jr(n),i={store:t,domReady:r,capture:!0};he(B(k({},i),{type:"click",listener:s=>{const{contentElement:c}=t.getState(),u=o.current;u&&In(u)&&Te(u,c==null?void 0:c.id)&&ge(e,s)&&t.hide()}})),he(B(k({},i),{type:"focusin",listener:s=>{const{contentElement:c}=t.getState();c&&s.target!==z(c)&&ge(e,s)&&t.hide()}})),he(B(k({},i),{type:"contextmenu",listener:s=>{ge(e,s)&&t.hide()}}))}function zr(t,e){const n=z(t).createElement("button");return n.type="button",n.tabIndex=-1,n.textContent="Dismiss popup",Object.assign(n.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),n.addEventListener("click",e),t.prepend(n),()=>{n.removeEventListener("click",e),n.remove()}}var qr="div",bn=Rt(function(e){var r=e,{autoFocusOnShow:n=!0}=r,o=Tt(r,["autoFocusOnShow"]);return o=ft(o,i=>D.jsx(ur.Provider,{value:n,children:i}),[n]),o});bt(function(e){const r=bn(e);return Ct(qr,r)});var Ue=w.createContext(0);function Yr({level:t,children:e}){const r=w.useContext(Ue),n=Math.max(Math.min(t||r+1,6),1);return D.jsx(Ue.Provider,{value:n,children:e})}var Xr="div",Ke=Xn();function Ur(t){const e=un();return!e||t&&q(t,e)?!1:!!zt(e)}function Ge(t,e=!1){if(!t)return null;const r="current"in t?t.current:t;return r?e?zt(r)?r:null:r:null}var En=Rt(function(e){var r=e,{store:n,open:o,onClose:i,focusable:s=!0,modal:c=!0,portal:u=!!c,backdrop:l=!!c,hideOnEscape:a=!0,hideOnInteractOutside:d=!0,getPersistentElements:f,preventBodyScroll:m=!!c,autoFocusOnShow:h=!0,autoFocusOnHide:y=!0,initialFocus:x,finalFocus:v,unmountOnHide:P,unstable_treeSnapshotKey:S}=r,p=Tt(r,["store","open","onClose","focusable","modal","portal","backdrop","hideOnEscape","hideOnInteractOutside","getPersistentElements","preventBodyScroll","autoFocusOnShow","autoFocusOnHide","initialFocus","finalFocus","unmountOnHide","unstable_treeSnapshotKey"]);const g=Ae(),A=w.useRef(null),b=yr({store:n||g,open:o,setOpen(E){if(E)return;const F=A.current;if(!F)return;const W=new Event("close",{bubbles:!1,cancelable:!0});i&&F.addEventListener("close",i,{once:!0}),F.dispatchEvent(W),W.defaultPrevented&&b.setOpen(!0)}}),{portalRef:$,domReady:L}=Se(u,p.portalRef),C=p.preserveTabOrder,j=ht(b,E=>C&&!c&&E.mounted),H=zn(p.id),O=ht(b,"open"),R=ht(b,"mounted"),T=ht(b,"contentElement"),N=tr(R,p.hidden,p.alwaysVisible);_r(T,H,m&&!N),Ir(b,d,L);const{wrapElement:_,nestedDialogs:I}=Nr(b);p=ft(p,_,[_]),U(()=>{if(!O)return;const E=A.current,F=un(E,!0);F&&F.tagName!=="BODY"&&(E&&q(E,F)||b.setDisclosureElement(F))},[b,O]),Ke&&w.useEffect(()=>{if(!R)return;const{disclosureElement:E}=b.getState();if(!E||!qn(E))return;const F=()=>{let W=!1;const M=()=>{W=!0},Y={capture:!0,once:!0};E.addEventListener("focusin",M,Y),Yn(E,"mouseup",()=>{E.removeEventListener("focusin",M,!0),!W&&ar(E)})};return E.addEventListener("mousedown",F),()=>{E.removeEventListener("mousedown",F)}},[b,R]),w.useEffect(()=>{if(!R||!L)return;const E=A.current;if(!E)return;const F=cn(E),W=F.visualViewport||F,M=()=>{var Y,nt;const Wt=(nt=(Y=F.visualViewport)==null?void 0:Y.height)!=null?nt:F.innerHeight;E.style.setProperty("--dialog-viewport-height",`${Wt}px`)};return M(),W.addEventListener("resize",M),()=>{W.removeEventListener("resize",M)}},[R,L]),w.useEffect(()=>{if(!c||!R||!L)return;const E=A.current;if(!(!E||E.querySelector("[data-dialog-dismiss]")))return zr(E,b.hide)},[b,c,R,L]),U(()=>{if(!wn()||O||!R||!L)return;const E=A.current;if(E)return yn(E)},[O,R,L]);const V=O&&L;U(()=>{if(!H||!V)return;const E=A.current;return Tr(H,[E])},[H,V,S]);const G=St(f);U(()=>{if(!H||!V)return;const{disclosureElement:E}=b.getState(),F=A.current,W=G()||[],M=[F,...W,...I.map(Y=>Y.getState().contentElement)];return c?ot(Ye(H,M),Hr(H,M)):Ye(H,[E,...M])},[H,b,V,G,I,c,S]);const ct=!!h,pt=kt(h),[Ft,Z]=w.useState(!1);w.useEffect(()=>{if(!O||!ct||!L||!(T!=null&&T.isConnected))return;const E=Ge(x,!0)||T.querySelector("[data-autofocus=true],[autofocus]")||lr(T,!0,u&&j)||T,F=zt(E);pt(F?E:null)&&(Z(!0),queueMicrotask(()=>{E.focus(),Ke&&E.scrollIntoView({block:"nearest",inline:"nearest"})}))},[O,ct,L,T,x,u,j,pt]);const tt=!!y,ae=kt(y),[Dt,ut]=w.useState(!1);w.useEffect(()=>{if(O)return ut(!0),()=>ut(!1)},[O]);const Et=w.useCallback((E,F=!0)=>{const{disclosureElement:W}=b.getState();if(Ur(E))return;let M=Ge(v)||W;if(M!=null&&M.id){const nt=z(M),Wt=`[aria-activedescendant="${M.id}"]`,Jt=nt.querySelector(Wt);Jt&&(M=Jt)}if(M&&!zt(M)){const nt=M.closest("[data-dialog]");if(nt!=null&&nt.id){const Wt=z(nt),Jt=`[aria-controls~="${nt.id}"]`,je=Wt.querySelector(Jt);je&&(M=je)}}const Y=M&&zt(M);if(!Y&&F){requestAnimationFrame(()=>Et(E,!1));return}ae(Y?M:null)&&Y&&(M==null||M.focus())},[b,v,ae]),et=w.useRef(!1);U(()=>{if(O||!Dt||!tt)return;const E=A.current;et.current=!0,Et(E)},[O,Dt,L,tt,Et]),w.useEffect(()=>{if(!Dt||!tt)return;const E=A.current;return()=>{if(et.current){et.current=!1;return}Et(E)}},[Dt,tt,Et]);const Kt=kt(a);w.useEffect(()=>!L||!R?void 0:at("keydown",F=>{if(F.key!=="Escape"||F.defaultPrevented)return;const W=A.current;if(!W||Te(W))return;const M=F.target;if(!M)return;const{disclosureElement:Y}=b.getState();!!(M.tagName==="BODY"||q(W,M)||!Y||q(Y,M))&&Kt(F)&&b.hide()},!0),[b,L,R,Kt]),p=ft(p,E=>D.jsx(Yr,{level:c?1:void 0,children:E}),[c]);const Gt=p.hidden,Pt=p.alwaysVisible;p=ft(p,E=>l?D.jsxs(D.Fragment,{children:[D.jsx(Dr,{store:b,backdrop:l,hidden:Gt,alwaysVisible:Pt}),E]}):E,[b,l,Gt,Pt]);const[Mt,Zt]=w.useState(),[Lt,Ht]=w.useState();return p=ft(p,E=>D.jsx(er,{value:b,children:D.jsx(nr.Provider,{value:Zt,children:D.jsx(rr.Provider,{value:Ht,children:E})})}),[b]),p=B(k({id:H,"data-dialog":"",role:"dialog",tabIndex:s?-1:void 0,"aria-labelledby":Mt,"aria-describedby":Lt},p),{ref:ie(A,p.ref)}),p=bn(B(k({},p),{autoFocusOnShow:Ft})),p=an(k({store:b},p)),p=fn(B(k({},p),{focusable:s})),p=mn(B(k({portal:u},p),{portalRef:$,preserveTabOrder:j})),p});function Fe(t,e=Ae){return bt(function(n){const o=e(),i=n.store||o;return ht(i,c=>!n.unmountOnHide||(c==null?void 0:c.mounted)||!!n.open)?D.jsx(t,k({},n)):null})}Fe(bt(function(e){const r=En(e);return Ct(Xr,r)}),Ae);const vt=Math.min,X=Math.max,ne=Math.round,te=Math.floor,rt=t=>({x:t,y:t}),Kr={left:"right",right:"left",bottom:"top",top:"bottom"},Gr={start:"end",end:"start"};function be(t,e,r){return X(t,vt(e,r))}function xt(t,e){return typeof t=="function"?t(e):t}function dt(t){return t.split("-")[0]}function Vt(t){return t.split("-")[1]}function De(t){return t==="x"?"y":"x"}function Me(t){return t==="y"?"height":"width"}function wt(t){return["top","bottom"].includes(dt(t))?"y":"x"}function Le(t){return De(wt(t))}function Zr(t,e,r){r===void 0&&(r=!1);const n=Vt(t),o=Le(t),i=Me(o);let s=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=re(s)),[s,re(s)]}function Jr(t){const e=re(t);return[Ee(t),e,Ee(e)]}function Ee(t){return t.replace(/start|end/g,e=>Gr[e])}function Qr(t,e,r){const n=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:n:e?n:o;case"left":case"right":return e?i:s;default:return[]}}function to(t,e,r,n){const o=Vt(t);let i=Qr(dt(t),r==="start",n);return o&&(i=i.map(s=>s+"-"+o),e&&(i=i.concat(i.map(Ee)))),i}function re(t){return t.replace(/left|right|bottom|top/g,e=>Kr[e])}function eo(t){return{top:0,right:0,bottom:0,left:0,...t}}function Pn(t){return typeof t!="number"?eo(t):{top:t,right:t,bottom:t,left:t}}function oe(t){const{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}function Ze(t,e,r){let{reference:n,floating:o}=t;const i=wt(e),s=Le(e),c=Me(s),u=dt(e),l=i==="y",a=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,f=n[c]/2-o[c]/2;let m;switch(u){case"top":m={x:a,y:n.y-o.height};break;case"bottom":m={x:a,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-o.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Vt(e)){case"start":m[s]-=f*(r&&l?-1:1);break;case"end":m[s]+=f*(r&&l?-1:1);break}return m}const no=async(t,e,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:s}=r,c=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:a,y:d}=Ze(l,n,u),f=n,m={},h=0;for(let y=0;y<c.length;y++){const{name:x,fn:v}=c[y],{x:P,y:S,data:p,reset:g}=await v({x:a,y:d,initialPlacement:n,placement:f,strategy:o,middlewareData:m,rects:l,platform:s,elements:{reference:t,floating:e}});a=P??a,d=S??d,m={...m,[x]:{...m[x],...p}},g&&h<=50&&(h++,typeof g=="object"&&(g.placement&&(f=g.placement),g.rects&&(l=g.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):g.rects),{x:a,y:d}=Ze(l,f,u)),y=-1)}return{x:a,y:d,placement:f,strategy:o,middlewareData:m}};async function He(t,e){var r;e===void 0&&(e={});const{x:n,y:o,platform:i,rects:s,elements:c,strategy:u}=t,{boundary:l="clippingAncestors",rootBoundary:a="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=xt(e,t),h=Pn(m),x=c[f?d==="floating"?"reference":"floating":d],v=oe(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:l,rootBoundary:a,strategy:u})),P=d==="floating"?{x:n,y:o,width:s.floating.width,height:s.floating.height}:s.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),p=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},g=oe(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:S,strategy:u}):P);return{top:(v.top-g.top+h.top)/p.y,bottom:(g.bottom-v.bottom+h.bottom)/p.y,left:(v.left-g.left+h.left)/p.x,right:(g.right-v.right+h.right)/p.x}}const ro=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:o,rects:i,platform:s,elements:c,middlewareData:u}=e,{element:l,padding:a=0}=xt(t,e)||{};if(l==null)return{};const d=Pn(a),f={x:r,y:n},m=Le(o),h=Me(m),y=await s.getDimensions(l),x=m==="y",v=x?"top":"left",P=x?"bottom":"right",S=x?"clientHeight":"clientWidth",p=i.reference[h]+i.reference[m]-f[m]-i.floating[h],g=f[m]-i.reference[m],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let b=A?A[S]:0;(!b||!await(s.isElement==null?void 0:s.isElement(A)))&&(b=c.floating[S]||i.floating[h]);const $=p/2-g/2,L=b/2-y[h]/2-1,C=vt(d[v],L),j=vt(d[P],L),H=C,O=b-y[h]-j,R=b/2-y[h]/2+$,T=be(H,R,O),N=!u.arrow&&Vt(o)!=null&&R!==T&&i.reference[h]/2-(R<H?C:j)-y[h]/2<0,_=N?R<H?R-H:R-O:0;return{[m]:f[m]+_,data:{[m]:T,centerOffset:R-T-_,...N&&{alignmentOffset:_}},reset:N}}}),oo=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:u,elements:l}=e,{mainAxis:a=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:y=!0,...x}=xt(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=dt(o),P=wt(c),S=dt(c)===c,p=await(u.isRTL==null?void 0:u.isRTL(l.floating)),g=f||(S||!y?[re(c)]:Jr(c)),A=h!=="none";!f&&A&&g.push(...to(c,y,h,p));const b=[c,...g],$=await He(e,x),L=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(a&&L.push($[v]),d){const R=Zr(o,s,p);L.push($[R[0]],$[R[1]])}if(C=[...C,{placement:o,overflows:L}],!L.every(R=>R<=0)){var j,H;const R=(((j=i.flip)==null?void 0:j.index)||0)+1,T=b[R];if(T)return{data:{index:R,overflows:C},reset:{placement:T}};let N=(H=C.filter(_=>_.overflows[0]<=0).sort((_,I)=>_.overflows[1]-I.overflows[1])[0])==null?void 0:H.placement;if(!N)switch(m){case"bestFit":{var O;const _=(O=C.filter(I=>{if(A){const V=wt(I.placement);return V===P||V==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(V=>V>0).reduce((V,G)=>V+G,0)]).sort((I,V)=>I[1]-V[1])[0])==null?void 0:O[0];_&&(N=_);break}case"initialPlacement":N=c;break}if(o!==N)return{reset:{placement:N}}}return{}}}};async function io(t,e){const{placement:r,platform:n,elements:o}=t,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),s=dt(r),c=Vt(r),u=wt(r)==="y",l=["left","top"].includes(s)?-1:1,a=i&&u?-1:1,d=xt(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof h=="number"&&(m=c==="end"?h*-1:h),u?{x:m*a,y:f*l}:{x:f*l,y:m*a}}const so=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:o,y:i,placement:s,middlewareData:c}=e,u=await io(e,t);return s===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:s}}}}},co=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:o}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:x=>{let{x:v,y:P}=x;return{x:v,y:P}}},...u}=xt(t,e),l={x:r,y:n},a=await He(e,u),d=wt(dt(o)),f=De(d);let m=l[f],h=l[d];if(i){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",P=m+a[x],S=m-a[v];m=be(P,m,S)}if(s){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",P=h+a[x],S=h-a[v];h=be(P,h,S)}const y=c.fn({...e,[f]:m,[d]:h});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:i,[d]:s}}}}}},uo=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:o,rects:i,middlewareData:s}=e,{offset:c=0,mainAxis:u=!0,crossAxis:l=!0}=xt(t,e),a={x:r,y:n},d=wt(o),f=De(d);let m=a[f],h=a[d];const y=xt(c,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const S=f==="y"?"height":"width",p=i.reference[f]-i.floating[S]+x.mainAxis,g=i.reference[f]+i.reference[S]-x.mainAxis;m<p?m=p:m>g&&(m=g)}if(l){var v,P;const S=f==="y"?"width":"height",p=["top","left"].includes(dt(o)),g=i.reference[d]-i.floating[S]+(p&&((v=s.offset)==null?void 0:v[d])||0)+(p?0:x.crossAxis),A=i.reference[d]+i.reference[S]+(p?0:((P=s.offset)==null?void 0:P[d])||0)-(p?x.crossAxis:0);h<g?h=g:h>A&&(h=A)}return{[f]:m,[d]:h}}}},lo=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:o,rects:i,platform:s,elements:c}=e,{apply:u=()=>{},...l}=xt(t,e),a=await He(e,l),d=dt(o),f=Vt(o),m=wt(o)==="y",{width:h,height:y}=i.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(v=d,x=f==="end"?"top":"bottom");const P=y-a.top-a.bottom,S=h-a.left-a.right,p=vt(y-a[x],P),g=vt(h-a[v],S),A=!e.middlewareData.shift;let b=p,$=g;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&($=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(b=P),A&&!f){const C=X(a.left,0),j=X(a.right,0),H=X(a.top,0),O=X(a.bottom,0);m?$=h-2*(C!==0||j!==0?C+j:X(a.left,a.right)):b=y-2*(H!==0||O!==0?H+O:X(a.top,a.bottom))}await u({...e,availableWidth:$,availableHeight:b});const L=await s.getDimensions(c.floating);return h!==L.width||y!==L.height?{reset:{rects:!0}}:{}}}};function ce(){return typeof window<"u"}function Bt(t){return Sn(t)?(t.nodeName||"").toLowerCase():"#document"}function K(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function st(t){var e;return(e=(Sn(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Sn(t){return ce()?t instanceof Node||t instanceof K(t).Node:!1}function J(t){return ce()?t instanceof Element||t instanceof K(t).Element:!1}function it(t){return ce()?t instanceof HTMLElement||t instanceof K(t).HTMLElement:!1}function Je(t){return!ce()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof K(t).ShadowRoot}function Ut(t){const{overflow:e,overflowX:r,overflowY:n,display:o}=Q(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(o)}function ao(t){return["table","td","th"].includes(Bt(t))}function ue(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $e(t){const e=ke(),r=J(t)?Q(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function fo(t){let e=yt(t);for(;it(e)&&!jt(e);){if($e(e))return e;if(ue(e))return null;e=yt(e)}return null}function ke(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jt(t){return["html","body","#document"].includes(Bt(t))}function Q(t){return K(t).getComputedStyle(t)}function le(t){return J(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yt(t){if(Bt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Je(t)&&t.host||st(t);return Je(e)?e.host:e}function An(t){const e=yt(t);return jt(e)?t.ownerDocument?t.ownerDocument.body:t.body:it(e)&&Ut(e)?e:An(e)}function qt(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=An(t),i=o===((n=t.ownerDocument)==null?void 0:n.body),s=K(o);if(i){const c=Pe(s);return e.concat(s,s.visualViewport||[],Ut(o)?o:[],c&&r?qt(c):[])}return e.concat(o,qt(o,[],r))}function Pe(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function On(t){const e=Q(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=it(t),i=o?t.offsetWidth:r,s=o?t.offsetHeight:n,c=ne(r)!==i||ne(n)!==s;return c&&(r=i,n=s),{width:r,height:n,$:c}}function _e(t){return J(t)?t:t.contextElement}function _t(t){const e=_e(t);if(!it(e))return rt(1);const r=e.getBoundingClientRect(),{width:n,height:o,$:i}=On(e);let s=(i?ne(r.width):r.width)/n,c=(i?ne(r.height):r.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const po=rt(0);function Rn(t){const e=K(t);return!ke()||!e.visualViewport?po:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mo(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==K(t)?!1:e}function Ot(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),i=_e(t);let s=rt(1);e&&(n?J(n)&&(s=_t(n)):s=_t(t));const c=mo(i,r,n)?Rn(i):rt(0);let u=(o.left+c.x)/s.x,l=(o.top+c.y)/s.y,a=o.width/s.x,d=o.height/s.y;if(i){const f=K(i),m=n&&J(n)?K(n):n;let h=f,y=Pe(h);for(;y&&n&&m!==h;){const x=_t(y),v=y.getBoundingClientRect(),P=Q(y),S=v.left+(y.clientLeft+parseFloat(P.paddingLeft))*x.x,p=v.top+(y.clientTop+parseFloat(P.paddingTop))*x.y;u*=x.x,l*=x.y,a*=x.x,d*=x.y,u+=S,l+=p,h=K(y),y=Pe(h)}}return oe({width:a,height:d,x:u,y:l})}function Ne(t,e){const r=le(t).scrollLeft;return e?e.left+r:Ot(st(t)).left+r}function Cn(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:Ne(t,n)),i=n.top+e.scrollTop;return{x:o,y:i}}function ho(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t;const i=o==="fixed",s=st(n),c=e?ue(e.floating):!1;if(n===s||c&&i)return r;let u={scrollLeft:0,scrollTop:0},l=rt(1);const a=rt(0),d=it(n);if((d||!d&&!i)&&((Bt(n)!=="body"||Ut(s))&&(u=le(n)),it(n))){const m=Ot(n);l=_t(n),a.x=m.x+n.clientLeft,a.y=m.y+n.clientTop}const f=s&&!d&&!i?Cn(s,u,!0):rt(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-u.scrollLeft*l.x+a.x+f.x,y:r.y*l.y-u.scrollTop*l.y+a.y+f.y}}function go(t){return Array.from(t.getClientRects())}function vo(t){const e=st(t),r=le(t),n=t.ownerDocument.body,o=X(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=X(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Ne(t);const c=-r.scrollTop;return Q(n).direction==="rtl"&&(s+=X(e.clientWidth,n.clientWidth)-o),{width:o,height:i,x:s,y:c}}function xo(t,e){const r=K(t),n=st(t),o=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,c=0,u=0;if(o){i=o.width,s=o.height;const l=ke();(!l||l&&e==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:c,y:u}}function wo(t,e){const r=Ot(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,i=it(t)?_t(t):rt(1),s=t.clientWidth*i.x,c=t.clientHeight*i.y,u=o*i.x,l=n*i.y;return{width:s,height:c,x:u,y:l}}function Qe(t,e,r){let n;if(e==="viewport")n=xo(t,r);else if(e==="document")n=vo(st(t));else if(J(e))n=wo(e,r);else{const o=Rn(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return oe(n)}function Tn(t,e){const r=yt(t);return r===e||!J(r)||jt(r)?!1:Q(r).position==="fixed"||Tn(r,e)}function yo(t,e){const r=e.get(t);if(r)return r;let n=qt(t,[],!1).filter(c=>J(c)&&Bt(c)!=="body"),o=null;const i=Q(t).position==="fixed";let s=i?yt(t):t;for(;J(s)&&!jt(s);){const c=Q(s),u=$e(s);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ut(s)&&!u&&Tn(t,s))?n=n.filter(a=>a!==s):o=c,s=yt(s)}return e.set(t,n),n}function bo(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t;const s=[...r==="clippingAncestors"?ue(e)?[]:yo(e,this._c):[].concat(r),n],c=s[0],u=s.reduce((l,a)=>{const d=Qe(e,a,o);return l.top=X(d.top,l.top),l.right=vt(d.right,l.right),l.bottom=vt(d.bottom,l.bottom),l.left=X(d.left,l.left),l},Qe(e,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Eo(t){const{width:e,height:r}=On(t);return{width:e,height:r}}function Po(t,e,r){const n=it(e),o=st(e),i=r==="fixed",s=Ot(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const u=rt(0);if(n||!n&&!i)if((Bt(e)!=="body"||Ut(o))&&(c=le(e)),n){const f=Ot(e,!0,i,e);u.x=f.x+e.clientLeft,u.y=f.y+e.clientTop}else o&&(u.x=Ne(o));const l=o&&!n&&!i?Cn(o,c):rt(0),a=s.left+c.scrollLeft-u.x-l.x,d=s.top+c.scrollTop-u.y-l.y;return{x:a,y:d,width:s.width,height:s.height}}function ve(t){return Q(t).position==="static"}function tn(t,e){if(!it(t)||Q(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return st(t)===r&&(r=r.ownerDocument.body),r}function Fn(t,e){const r=K(t);if(ue(t))return r;if(!it(t)){let o=yt(t);for(;o&&!jt(o);){if(J(o)&&!ve(o))return o;o=yt(o)}return r}let n=tn(t,e);for(;n&&ao(n)&&ve(n);)n=tn(n,e);return n&&jt(n)&&ve(n)&&!$e(n)?r:n||fo(t)||r}const So=async function(t){const e=this.getOffsetParent||Fn,r=this.getDimensions,n=await r(t.floating);return{reference:Po(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ao(t){return Q(t).direction==="rtl"}const Oo={convertOffsetParentRelativeRectToViewportRelativeRect:ho,getDocumentElement:st,getClippingRect:bo,getOffsetParent:Fn,getElementRects:So,getClientRects:go,getDimensions:Eo,getScale:_t,isElement:J,isRTL:Ao};function Dn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ro(t,e){let r=null,n;const o=st(t);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const l=t.getBoundingClientRect(),{left:a,top:d,width:f,height:m}=l;if(c||e(),!f||!m)return;const h=te(d),y=te(o.clientWidth-(a+f)),x=te(o.clientHeight-(d+m)),v=te(a),S={rootMargin:-h+"px "+-y+"px "+-x+"px "+-v+"px",threshold:X(0,vt(1,u))||1};let p=!0;function g(A){const b=A[0].intersectionRatio;if(b!==u){if(!p)return s();b?s(!1,b):n=setTimeout(()=>{s(!1,1e-7)},1e3)}b===1&&!Dn(l,t.getBoundingClientRect())&&s(),p=!1}try{r=new IntersectionObserver(g,{...S,root:o.ownerDocument})}catch{r=new IntersectionObserver(g,S)}r.observe(t)}return s(!0),i}function Co(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,l=_e(t),a=o||i?[...l?qt(l):[],...qt(e)]:[];a.forEach(v=>{o&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const d=l&&c?Ro(l,r):null;let f=-1,m=null;s&&(m=new ResizeObserver(v=>{let[P]=v;P&&P.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),r()}),l&&!u&&m.observe(l),m.observe(e));let h,y=u?Ot(t):null;u&&x();function x(){const v=Ot(t);y&&!Dn(y,v)&&r(),y=v,h=requestAnimationFrame(x)}return r(),()=>{var v;a.forEach(P=>{o&&P.removeEventListener("scroll",r),i&&P.removeEventListener("resize",r)}),d==null||d(),(v=m)==null||v.disconnect(),m=null,u&&cancelAnimationFrame(h)}}const To=so,Fo=co,Do=oo,Mo=lo,Lo=ro,Ho=uo,$o=(t,e,r)=>{const n=new Map,o={platform:Oo,...r},i={...o.platform,_c:n};return no(t,e,{...o,platform:i})};var ko="div";function en(t=0,e=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(t,e,r,n);const o={x:t,y:e,width:r,height:n,top:e,right:t+r,bottom:e+n,left:t};return B(k({},o),{toJSON:()=>o})}function _o(t){if(!t)return en();const{x:e,y:r,width:n,height:o}=t;return en(e,r,n,o)}function No(t,e){return{contextElement:t||void 0,getBoundingClientRect:()=>{const n=t,o=e==null?void 0:e(n);return o||!n?_o(o):n.getBoundingClientRect()}}}function jo(t){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(t)}function nn(t){const e=window.devicePixelRatio||1;return Math.round(t*e)/e}function Vo(t,e){return To(({placement:r})=>{var n;const o=((t==null?void 0:t.clientHeight)||0)/2,i=typeof e.gutter=="number"?e.gutter+o:(n=e.gutter)!=null?n:o;return{crossAxis:!!r.split("-")[1]?void 0:e.shift,mainAxis:i,alignmentAxis:e.shift}})}function Bo(t){if(t.flip===!1)return;const e=typeof t.flip=="string"?t.flip.split(" "):void 0;return se(!e||e.every(jo),!1),Do({padding:t.overflowPadding,fallbackPlacements:e})}function Wo(t){if(!(!t.slide&&!t.overlap))return Fo({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:Ho()})}function Io(t){return Mo({padding:t.overflowPadding,apply({elements:e,availableWidth:r,availableHeight:n,rects:o}){const i=e.floating,s=Math.round(o.reference.width);r=Math.floor(r),n=Math.floor(n),i.style.setProperty("--popover-anchor-width",`${s}px`),i.style.setProperty("--popover-available-width",`${r}px`),i.style.setProperty("--popover-available-height",`${n}px`),t.sameWidth&&(i.style.width=`${s}px`),t.fitViewport&&(i.style.maxWidth=`${r}px`,i.style.maxHeight=`${n}px`)}})}function zo(t,e){if(t)return Lo({element:t,padding:e.arrowPadding})}var Mn=Rt(function(e){var r=e,{store:n,modal:o=!1,portal:i=!!o,preserveTabOrder:s=!0,autoFocusOnShow:c=!0,wrapperProps:u,fixed:l=!1,flip:a=!0,shift:d=0,slide:f=!0,overlap:m=!1,sameWidth:h=!1,fitViewport:y=!1,gutter:x,arrowPadding:v=4,overflowPadding:P=8,getAnchorRect:S,updatePosition:p}=r,g=Tt(r,["store","modal","portal","preserveTabOrder","autoFocusOnShow","wrapperProps","fixed","flip","shift","slide","overlap","sameWidth","fitViewport","gutter","arrowPadding","overflowPadding","getAnchorRect","updatePosition"]);const A=pn();n=n||A,se(n,!1);const b=n.useState("arrowElement"),$=n.useState("anchorElement"),L=n.useState("disclosureElement"),C=n.useState("popoverElement"),j=n.useState("contentElement"),H=n.useState("placement"),O=n.useState("mounted"),R=n.useState("rendered"),T=w.useRef(null),[N,_]=w.useState(!1),{portalRef:I,domReady:V}=Se(i,g.portalRef),G=St(S),ct=St(p),pt=!!p;U(()=>{if(!(C!=null&&C.isConnected))return;C.style.setProperty("--popover-overflow-padding",`${P}px`);const Z=No($,G),tt=async()=>{if(!O)return;b||(T.current=T.current||document.createElement("div"));const ut=b||T.current,Et=[Vo(ut,{gutter:x,shift:d}),Bo({flip:a,overflowPadding:P}),Wo({slide:f,overlap:m,overflowPadding:P}),zo(ut,{arrowPadding:v}),Io({sameWidth:h,fitViewport:y,overflowPadding:P})],et=await $o(Z,C,{placement:H,strategy:l?"fixed":"absolute",middleware:Et});n==null||n.setState("currentPlacement",et.placement),_(!0);const Kt=nn(et.x),Gt=nn(et.y);if(Object.assign(C.style,{top:"0",left:"0",transform:`translate3d(${Kt}px,${Gt}px,0)`}),ut&&et.middlewareData.arrow){const{x:Pt,y:Mt}=et.middlewareData.arrow,Zt=et.placement.split("-")[0],Lt=ut.clientWidth/2,Ht=ut.clientHeight/2,E=Pt!=null?Pt+Lt:-Lt,F=Mt!=null?Mt+Ht:-Ht;C.style.setProperty("--popover-transform-origin",{top:`${E}px calc(100% + ${Ht}px)`,bottom:`${E}px ${-Ht}px`,left:`calc(100% + ${Lt}px) ${F}px`,right:`${-Lt}px ${F}px`}[Zt]),Object.assign(ut.style,{left:Pt!=null?`${Pt}px`:"",top:Mt!=null?`${Mt}px`:"",[Zt]:"100%"})}},Dt=Co(Z,C,async()=>{pt?(await ct({updatePosition:tt}),_(!0)):await tt()},{elementResize:typeof ResizeObserver=="function"});return()=>{_(!1),Dt()}},[n,R,C,b,$,C,H,O,V,l,a,d,f,m,h,y,x,v,P,G,pt,ct]),U(()=>{if(!O||!V||!(C!=null&&C.isConnected)||!(j!=null&&j.isConnected))return;const Z=()=>{C.style.zIndex=getComputedStyle(j).zIndex};Z();let tt=requestAnimationFrame(()=>{tt=requestAnimationFrame(Z)});return()=>cancelAnimationFrame(tt)},[O,V,C,j]);const Ft=l?"fixed":"absolute";return g=ft(g,Z=>D.jsx("div",B(k({},u),{style:k({position:Ft,top:0,left:0,width:"max-content"},u==null?void 0:u.style),ref:n==null?void 0:n.setPopoverElement,children:Z})),[n,Ft,u]),g=ft(g,Z=>D.jsx(dn,{value:n,children:Z}),[n]),g=B(k({"data-placing":!N||void 0},g),{style:k({position:"relative"},g.style)}),g=En(B(k({store:n,modal:o,portal:i,preserveTabOrder:s,preserveTabOrderAnchor:L||$,autoFocusOnShow:N&&c},g),{portalRef:I})),g});Fe(bt(function(e){const r=Mn(e);return Ct(ko,r)}),pn);var qo="div";function Ln(t,e,r,n){return fr(e)?!0:t?!!(q(e,t)||r&&q(r,t)||n!=null&&n.some(o=>Ln(t,o,r))):!1}function Yo(t){var e=t,{store:r}=e,n=Tt(e,["store"]);const[o,i]=w.useState(!1),s=r.useState("mounted");w.useEffect(()=>{s||i(!1)},[s]);const c=n.onFocus,u=St(a=>{c==null||c(a),!a.defaultPrevented&&i(!0)}),l=w.useRef(null);return w.useEffect(()=>sn(r,["anchorElement"],a=>{l.current=a.anchorElement}),[]),n=B(k({autoFocusOnHide:o,finalFocus:l},n),{onFocus:u}),n}var rn=w.createContext(null),Xo=Rt(function(e){var r=e,{store:n,modal:o=!1,portal:i=!!o,hideOnEscape:s=!0,hideOnHoverOutside:c=!0,disablePointerEventsOnApproach:u=!!c}=r,l=Tt(r,["store","modal","portal","hideOnEscape","hideOnHoverOutside","disablePointerEventsOnApproach"]);const a=Oe();n=n||a,se(n,!1);const d=w.useRef(null),[f,m]=w.useState([]),h=w.useRef(0),y=w.useRef(null),{portalRef:x,domReady:v}=Se(i,l.portalRef),P=ln(),S=!!c,p=kt(c),g=!!u,A=kt(u),b=n.useState("open"),$=n.useState("mounted");w.useEffect(()=>{if(!v||!$||!S&&!g)return;const O=d.current;return O?ot(at("mousemove",T=>{if(!n||!P())return;const{anchorElement:N,hideTimeout:_,timeout:I}=n.getState(),V=y.current,[G]=T.composedPath(),ct=N;if(Ln(G,O,ct,f)){y.current=G&&ct&&q(ct,G)?pe(T):null,window.clearTimeout(h.current),h.current=0;return}if(!h.current){if(V){const pt=pe(T),Ft=qe(O,V);if(ze(pt,Ft)){if(y.current=pt,!A(T))return;T.preventDefault(),T.stopPropagation();return}}p(T)&&(h.current=window.setTimeout(()=>{h.current=0,n==null||n.hide()},_??I))}},!0),()=>clearTimeout(h.current)):void 0},[n,P,v,$,S,g,f,A,p]),w.useEffect(()=>{if(!v||!$||!g)return;const O=R=>{const T=d.current;if(!T)return;const N=y.current;if(!N)return;const _=qe(T,N);if(ze(pe(R),_)){if(!A(R))return;R.preventDefault(),R.stopPropagation()}};return ot(at("mouseenter",O,!0),at("mouseover",O,!0),at("mouseout",O,!0),at("mouseleave",O,!0))},[v,$,g,A]),w.useEffect(()=>{v&&(b||n==null||n.setAutoFocusOnShow(!1))},[n,v,b]);const L=Un(b);w.useEffect(()=>{if(v)return()=>{L.current||n==null||n.setAutoFocusOnShow(!1)}},[n,v]);const C=w.useContext(rn);U(()=>{if(o||!i||!$||!v)return;const O=d.current;if(O)return C==null?void 0:C(O)},[o,i,$,v]);const j=w.useCallback(O=>{m(T=>[...T,O]);const R=C==null?void 0:C(O);return()=>{m(T=>T.filter(N=>N!==O)),R==null||R()}},[C]);l=ft(l,O=>D.jsx(Pr,{value:n,children:D.jsx(rn.Provider,{value:j,children:O})}),[n,j]),l=B(k({},l),{ref:ie(d,l.ref)}),l=Yo(k({store:n},l));const H=n.useState(O=>o||O.autoFocusOnShow);return l=Mn(B(k({store:n,modal:o,portal:i,autoFocusOnShow:H},l),{portalRef:x,hideOnEscape(O){return Kn(s,O)?!1:(requestAnimationFrame(()=>{requestAnimationFrame(()=>{n==null||n.hide()})}),!0)}})),l});Fe(bt(function(e){const r=Xo(e);return Ct(qo,r)}),Oe);var Uo="a",Ko=Rt(function(e){var r=e,{store:n,showOnHover:o=!0}=r,i=Tt(r,["store","showOnHover"]);const s=Oe();n=n||s,se(n,!1);const c=Gn(i),u=w.useRef(0);w.useEffect(()=>()=>window.clearTimeout(u.current),[]),w.useEffect(()=>at("mouseleave",v=>{if(!n)return;const{anchorElement:P}=n.getState();P&&v.target===P&&(window.clearTimeout(u.current),u.current=0)},!0),[n]);const l=i.onMouseMove,a=kt(o),d=ln(),f=St(x=>{if(l==null||l(x),c||!n||x.defaultPrevented||u.current||!d()||!a(x))return;const v=x.currentTarget;n.setAnchorElement(v),n.setDisclosureElement(v);const{showTimeout:P,timeout:S}=n.getState(),p=()=>{u.current=0,d()&&(n==null||n.setAnchorElement(v),n==null||n.show(),queueMicrotask(()=>{n==null||n.setDisclosureElement(v)}))},g=P??S;g===0?p():u.current=window.setTimeout(p,g)}),m=i.onClick,h=St(x=>{m==null||m(x),n&&(window.clearTimeout(u.current),u.current=0)}),y=w.useCallback(x=>{if(!n)return;const{anchorElement:v}=n.getState();v!=null&&v.isConnected||n.setAnchorElement(x)},[n]);return i=B(k({},i),{ref:ie(y,i.ref),onMouseMove:f,onClick:h}),i=fn(i),i});bt(function(e){const r=Ko(e);return Ct(Uo,r)});export{Pr as H,ui as a,Fe as b,si as c,Xo as d,Ko as e,ci as u};
