import{p as b,b as M}from"./index-DDCMeoDP.js";import{J as q,I as G,K as N,N as Se,f as $,h as le,c as W,r as ye,H as Je,a0 as Ge,D as w,o as v,m as F,_ as D,O as B,B as K,a6 as Pe,a7 as Qe,F as Me,a8 as Xe,a9 as Ye,aa as Ze,l as _,n as j,v as we,P as ce,E as Y,ab as et,ac as Q,ad as tt,ae as Oe,y as rt,af as Ee,ag as nt,ah as ae,ai as ot,aj as st,$ as ut,s as de,ak as at,al as it,am as lt,an as ct}from"./~utils-CVrIWKd_.js";import{T as dt}from"./Text-FXZNu9xu.js";import{B as ft}from"./Button-BJEnKCWw.js";import{p as mt,K as he}from"./Kbd-C_uBKz5g.js";import{a as pt,I as vt,C as bt}from"./Icon-DCDqn4X1.js";import{c as ht}from"./~hooks-Ic0iY_GM.js";import{C as De,a as Ae,c as ke,f as xt,u as gt}from"./P2CTZE2T-Wt7VrJxp.js";import{H as Ct,a as St,c as yt,u as Pt,b as Mt,d as wt,e as Ot}from"./BYC7LY2E-CmmV7fGv.js";import{u as Ie,P as Et,b as Dt}from"./MTZPJQMC-BF1USmkC.js";import{c as At,d as kt,a as It,b as Tt}from"./VEVQD5MH-W8gC6swX.js";import{i as Ht,c as Ft}from"./VGCJ63VH-D8MifqE4.js";import{t as _t,c as Te,d as He,e as Fe,m as jt,o as Nt,p as Lt,s as xe,a as ge,u as R}from"./YV4JVR4I-DscRzu5f.js";import{u as Kt}from"./P4IRICAX-DejtXx_G.js";import{u as Rt}from"./ASMQKSDT-DnKTRtY7.js";function $t(t={}){var r;_t(t,t.store);const n=(r=t.store)==null?void 0:r.getState(),e={value:q(t.value,n==null?void 0:n.value,t.defaultValue,!1)},o=Te(e,t.store);return G(N({},o),{setValue:s=>o.setState("value",s)})}function Bt(t,r,n){return Se(r,[n.store]),Fe(t,n,"value","setValue"),t}function Vt(t={}){const[r,n]=He($t,t);return Bt(r,n,t)}const _e=$((t,r)=>b.jsx(le.div,{role:"listitem",...t,className:W("-list-item",t.className),ref:r})),je=$((t,r)=>b.jsx(dt,{...t,variant:"body-sm",className:W("-list-item-content",t.className),ref:r})),fe=$((t,r)=>b.jsx(le.div,{...t,className:W("-list-item-decoration",t.className),ref:r}));var Ne=ye([Ae],[De]),Wt=Ne.useContext,Ut=Ne.useScopedContext;M.createContext(void 0);var Z=ye([Ae,St],[De,Ct]),me=Z.useContext,Le=Z.useScopedContext,oe=Z.useProviderContext,Ke=Z.ContextProvider,qt=Z.ScopedContextProvider;M.createContext(void 0);function zt(t={}){var r=t,{combobox:n,parent:e,menubar:o}=r,s=Je(r,["combobox","parent","menubar"]);const u=!!o&&!e,a=jt(s.store,Lt(e,["values"]),Nt(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),c=a.getState(),d=At(G(N({},s),{store:a,orientation:q(s.orientation,c.orientation,"vertical")})),l=yt(G(N({},s),{store:a,placement:q(s.placement,c.placement,"bottom-start"),timeout:q(s.timeout,c.timeout,u?0:150),hideTimeout:q(s.hideTimeout,c.hideTimeout,0)})),x=G(N(N({},d.getState()),l.getState()),{initialFocus:q(c.initialFocus,"container"),values:q(s.values,c.values,s.defaultValues,{})}),f=Te(x,d,l,a);return xe(f,()=>ge(f,["mounted"],i=>{i.mounted||f.setState("activeId",null)})),xe(f,()=>ge(e,["orientation"],i=>{f.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),G(N(N(N({},d),l),f),{combobox:n,parent:e,menubar:o,hideAll:()=>{l.hide(),e==null||e.hideAll()},setInitialFocus:i=>f.setState("initialFocus",i),setValues:i=>f.setState("values",i),setValue:(i,S)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||f.setState("values",p=>{const m=p[i],y=Ge(S,m);return y===m?p:G(N({},p),{[i]:y!==void 0&&y})}))}})}function Jt(t,r,n){return Se(r,[n.combobox,n.parent,n.menubar]),Fe(t,n,"values","setValues"),Object.assign(Pt(It(t,r,n),r,n),{combobox:n.combobox,parent:n.parent,menubar:n.menubar})}function Gt(t={}){const r=me(),n=Wt(),e=kt();t=w(v({},t),{parent:t.parent!==void 0?t.parent:r,menubar:t.menubar!==void 0?t.menubar:n,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=He(zt,t);return Jt(o,s,t)}var Qt="div",L="";function se(){L=""}function Xt(t){const r=t.target;return r&&Xe(r)?!1:t.key===" "&&L.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Yt(t,r){if(Ye(t))return!0;const n=t.target;return n?r.some(o=>o.element===n):!1}function Zt(t){return t.filter(r=>!r.disabled)}function ne(t,r){var n;const e=((n=t.element)==null?void 0:n.textContent)||t.children||"value"in t&&t.value;return e?Ze(e).trim().toLowerCase().startsWith(r.toLowerCase()):!1}function er(t,r,n){if(!n)return t;const e=t.find(o=>o.id===n);return!e||!ne(e,r)||L!==r&&ne(e,L)?t:(L=r,xt(t.filter(o=>ne(o,L)),n).filter(o=>o.id!==n))}var pe=F(function(r){var n=r,{store:e,typeahead:o=!0}=n,s=D(n,["store","typeahead"]);const u=ke();e=e||u,B(e,!1);const a=s.onKeyDownCapture,c=M.useRef(0),d=K(l=>{if(a==null||a(l),l.defaultPrevented||!o||!e)return;if(!Xt(l))return se();const{renderedItems:x,items:f,activeId:i,id:S}=e.getState();let p=Zt(f.length>x.length?f:x);const m=Pe(l.currentTarget),y=`[data-offscreen-id="${S}"]`,h=m.querySelectorAll(y);for(const P of h){const T=P.ariaDisabled==="true"||"disabled"in P&&!!P.disabled;p.push({id:P.id,element:P,disabled:T})}if(h.length&&(p=Qe(p,P=>P.element)),!Yt(l,p))return se();l.preventDefault(),window.clearTimeout(c.current),c.current=window.setTimeout(()=>{L=""},500);const A=l.key.toLowerCase();L+=A,p=er(p,A,i);const E=p.find(P=>ne(P,L));E?e.move(E.id):se()});return s=w(v({},s),{onKeyDownCapture:d}),Me(s)});_(function(r){const n=pe(r);return j(Qt,n)});var tr="div";function rr(t){var r=t,{store:n}=r,e=D(r,["store"]);const[o,s]=M.useState(void 0),u=e["aria-label"],a=R(n,"disclosureElement"),c=R(n,"contentElement");return M.useEffect(()=>{const d=a;if(!d)return;const l=c;if(!l)return;u||l.hasAttribute("aria-label")?s(void 0):d.id&&s(d.id)},[u,a,c]),o}var Re=F(function(r){var n=r,{store:e,alwaysVisible:o,composite:s}=n,u=D(n,["store","alwaysVisible","composite"]);const a=oe();e=e||a,B(e,!1);const c=e.parent,d=e.menubar,l=!!c,x=we(u.id),f=u.onKeyDown,i=e.useState(C=>C.placement.split("-")[0]),S=e.useState(C=>C.orientation==="both"?void 0:C.orientation),p=S!=="vertical",m=R(d,C=>!!C&&C.orientation!=="vertical"),y=K(C=>{if(f==null||f(C),!C.defaultPrevented){if(l||d&&!p){const k={ArrowRight:()=>i==="left"&&!p,ArrowLeft:()=>i==="right"&&!p,ArrowUp:()=>i==="bottom"&&p,ArrowDown:()=>i==="top"&&p}[C.key];if(k!=null&&k())return C.stopPropagation(),C.preventDefault(),e==null?void 0:e.hide()}if(d){const k={ArrowRight:()=>{if(m)return d.next()},ArrowLeft:()=>{if(m)return d.previous()},ArrowDown:()=>{if(!m)return d.next()},ArrowUp:()=>{if(!m)return d.previous()}}[C.key],V=k==null?void 0:k();V!==void 0&&(C.stopPropagation(),C.preventDefault(),d.move(V))}}});u=ce(u,C=>b.jsx(qt,{value:e,children:C}),[e]);const h=rr(v({store:e},u)),A=e.useState("mounted"),E=Ht(A,u.hidden,o),P=E?w(v({},u.style),{display:"none"}):u.style;u=w(v({id:x,"aria-labelledby":h,hidden:E},u),{ref:Y(x?e.setContentElement:null,u.ref),style:P,onKeyDown:y});const T=!!e.combobox;return s=s??!T,s&&(u=v({role:"menu","aria-orientation":S},u)),u=Tt(v({store:e,composite:s},u)),u=pe(v({store:e,typeahead:!T},u)),u});_(function(r){const n=Re(r);return j(tr,n)});var nr="div",or=F(function(r){var n=r,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:u=!0,autoFocusOnShow:a=!0,hideOnHoverOutside:c,alwaysVisible:d}=n,l=D(n,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const x=oe();e=e||x,B(e,!1);const f=M.useRef(null),i=e.parent,S=e.menubar,p=!!i,m=!!S&&!p;l=w(v({},l),{ref:Y(f,l.ref)});const y=Re(v({store:e,alwaysVisible:d},l)),{"aria-labelledby":h}=y;l=D(y,["aria-labelledby"]);const[E,P]=M.useState(),T=e.useState("autoFocusOnShow"),C=e.useState("initialFocus"),z=e.useState("baseElement"),k=e.useState("renderedItems");M.useEffect(()=>{let H=!1;return P(O=>{var te,ve,be;if(H||!T)return;if((te=O==null?void 0:O.current)!=null&&te.isConnected)return O;const re=M.createRef();switch(C){case"first":re.current=((ve=k.find(X=>!X.disabled&&X.element))==null?void 0:ve.element)||null;break;case"last":re.current=((be=[...k].reverse().find(X=>!X.disabled&&X.element))==null?void 0:be.element)||null;break;default:re.current=z}return re}),()=>{H=!0}},[e,T,C,k,z]);const V=p?!1:o,g=!!a,I=!!E||!!l.initialFocus||!!V,J=R(e.combobox||e,"contentElement"),U=R((i==null?void 0:i.combobox)||i,"contentElement"),ee=M.useMemo(()=>{if(!U||!J)return;const H=J.getAttribute("role"),O=U.getAttribute("role");if(!((O==="menu"||O==="menubar")&&H==="menu"))return U},[J,U]);return ee!==void 0&&(l=v({preserveTabOrderAnchor:ee},l)),l=wt(w(v({store:e,alwaysVisible:d,initialFocus:E,autoFocusOnShow:g?I&&a:T||!!V},l),{hideOnEscape(H){return tt(u,H)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(H){const O=e==null?void 0:e.getState().disclosureElement;return(typeof c=="function"?c(H):c??(p?!0:m?O?!Q(O):!0:!1))?H.defaultPrevented||!p||!O||(et(O,"mouseout",H),!Q(O))?!0:(requestAnimationFrame(()=>{Q(O)||e==null||e.hide()}),!1):!1},modal:V,portal:s,backdrop:p?!1:l.backdrop})),l=v({"aria-labelledby":h},l),l}),sr=Mt(_(function(r){const n=or(r);return j(nr,n)}),oe);function ur(t={}){const r=Gt(t);return b.jsx(Ke,{value:r,children:t.children})}var ar="button",$e=F(function(r){var n=r,{store:e}=n,o=D(n,["store"]);const s=Ft();e=e||s,B(e,!1);const u=e.useState("contentElement");return o=v({"aria-haspopup":Oe(u,"dialog")},o),o=Kt(v({store:e},o)),o});_(function(r){const n=$e(r);return j(ar,n)});var ir="div",Be=F(function(r){var n=r,{store:e}=n,o=D(n,["store"]);const s=Ie();return e=e||s,o=w(v({},o),{ref:Y(e==null?void 0:e.setAnchorElement,o.ref)}),o});_(function(r){const n=Be(r);return j(ir,n)});var lr="button",Ve=F(function(r){var n=r,{store:e}=n,o=D(n,["store"]);const s=Ie();e=e||s,B(e,!1);const u=o.onClick,a=K(c=>{e==null||e.setAnchorElement(c.currentTarget),u==null||u(c)});return o=ce(o,c=>b.jsx(Et,{value:e,children:c}),[e]),o=w(v({},o),{onClick:a}),o=Be(v({store:e},o)),o=$e(v({store:e},o)),o});_(function(r){const n=Ve(r);return j(lr,n)});var cr="button";function dr(t,r){return{ArrowDown:r==="bottom"||r==="top"?"first":!1,ArrowUp:r==="bottom"||r==="top"?"last":!1,ArrowRight:r==="right"?"first":!1,ArrowLeft:r==="left"?"first":!1}[t.key]}function Ce(t,r){return!!(t!=null&&t.some(n=>!n.element||n.element===r?!1:n.element.getAttribute("aria-expanded")==="true"))}var fr=F(function(r){var n=r,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:u}=n,a=D(n,["store","focusable","accessibleWhenDisabled","showOnHover"]);const c=oe();e=e||c,B(e,!1);const d=M.useRef(null),l=e.parent,x=e.menubar,f=!!l,i=!!x&&!f,S=rt(a),p=()=>{const g=d.current;g&&(e==null||e.setDisclosureElement(g),e==null||e.setAnchorElement(g),e==null||e.show())},m=a.onFocus,y=K(g=>{if(m==null||m(g),S||g.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!x)||!i)return;const{items:I}=x.getState();Ce(I,g.currentTarget)&&p()}),h=R(e,g=>g.placement.split("-")[0]),A=a.onKeyDown,E=K(g=>{if(A==null||A(g),S||g.defaultPrevented)return;const I=dr(g,h);I&&(g.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(I))}),P=a.onClick,T=K(g=>{if(P==null||P(g),g.defaultPrevented||!e)return;const I=!g.detail,{open:J}=e.getState();(!J||I)&&((!f||I)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(I?"first":"container")),f&&p()});a=ce(a,g=>b.jsx(Ke,{value:e,children:g}),[e]),f&&(a=w(v({},a),{render:b.jsx(le.div,{render:a.render})}));const C=we(a.id),z=R((l==null?void 0:l.combobox)||l,"contentElement"),k=f||i?Ee(z,"menuitem"):void 0,V=e.useState("contentElement");return a=w(v({id:C,role:k,"aria-haspopup":Oe(V,"menu")},a),{ref:Y(d,a.ref),onFocus:y,onKeyDown:E,onClick:T}),a=Ot(w(v({store:e,focusable:o,accessibleWhenDisabled:s},a),{showOnHover:g=>{if(!(()=>{if(typeof u=="function")return u(g);if(u!=null)return u;if(f)return!0;if(!x)return!1;const{items:ee}=x.getState();return i&&Ce(ee)})())return!1;const U=i?x:l;return U&&U.setActiveId(g.currentTarget.id),!0}})),a=Ve(v({store:e,toggleOnClick:!f,focusable:o,accessibleWhenDisabled:s},a)),a=pe(v({store:e,typeahead:i},a)),a}),mr=_(function(r){const n=fr(r);return j(cr,n)}),pr="div";function We(t){const r=t.relatedTarget;return(r==null?void 0:r.nodeType)===Node.ELEMENT_NODE?r:null}function vr(t){const r=We(t);return r?st(t.currentTarget,r):!1}var ie=Symbol("composite-hover");function br(t){let r=We(t);if(!r)return!1;do{if(ut(r,ie)&&r[ie])return!0;r=r.parentElement}while(r);return!1}var Ue=F(function(r){var n=r,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=n,u=D(n,["store","focusOnHover","blurOnHoverEnd"]);const a=ke();e=e||a,B(e,!1);const c=nt(),d=u.onMouseMove,l=ae(o),x=K(m=>{if(d==null||d(m),!m.defaultPrevented&&c()&&l(m)){if(!Q(m.currentTarget)){const y=e==null?void 0:e.getState().baseElement;y&&!ot(y)&&y.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),f=u.onMouseLeave,i=ae(s),S=K(m=>{var y;f==null||f(m),!m.defaultPrevented&&c()&&(vr(m)||br(m)||l(m)&&i(m)&&(e==null||e.setActiveId(null),(y=e==null?void 0:e.getState().baseElement)==null||y.focus()))}),p=M.useCallback(m=>{m&&(m[ie]=!0)},[]);return u=w(v({},u),{ref:Y(p,u.ref),onMouseMove:x,onMouseLeave:S}),Me(u)});de(_(function(r){const n=Ue(r);return j(pr,n)}));var hr="div";function xr(t,r,n){var e;if(!t)return!1;if(Q(t))return!0;const o=r==null?void 0:r.find(c=>{var d;return c.element===n?!1:((d=c.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),s=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const a=Pe(t).getElementById(s);return a?Q(a)?!0:!!a.querySelector("[role=menuitem][aria-expanded=true]"):!1}var qe=F(function(r){var n=r,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:u,blurOnHoverEnd:a}=n,c=D(n,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=Le(!0),l=Ut();e=e||d||l,B(e,!1);const x=c.onClick,f=ae(o),i="hideAll"in e?e.hideAll:void 0,S=!!i,p=K(h=>{x==null||x(h),!(h.defaultPrevented||at(h)||it(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&f(h)&&i()}),m=R(e,h=>"contentElement"in h?h.contentElement:null),y=Ee(m,"menuitem");return c=w(v({role:y},c),{onClick:p}),c=gt(v({store:e,preventScrollOnKeyDown:s},c)),c=Ue(w(v({store:e},c),{focusOnHover(h){const A=()=>typeof u=="function"?u(h):u??!0;if(!e||!A())return!1;const{baseElement:E,items:P}=e.getState();return S?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):xr(E,P,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof a=="function"?a(h):a??S}})),c}),gr=de(_(function(r){const n=qe(r);return j(hr,n)})),Cr="div";function Sr(t){return Array.isArray(t)?t.toString():t}function ue(t,r,n){if(r===void 0)return Array.isArray(t)?t:!!n;const e=Sr(r);return Array.isArray(t)?n?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):n?e:t===e?!1:t}var yr=F(function(r){var n=r,{store:e,name:o,value:s,checked:u,defaultChecked:a,hideOnClick:c=!1}=n,d=D(n,["store","name","value","checked","defaultChecked","hideOnClick"]);const l=Le();e=e||l,B(e,!1);const x=lt(a);M.useEffect(()=>{e==null||e.setValue(o,(i=[])=>x?ue(i,s,!0):i)},[e,o,s,x]),M.useEffect(()=>{u!==void 0&&(e==null||e.setValue(o,i=>ue(i,s,u)))},[e,o,s,u]);const f=Vt({value:e.useState(i=>i.values[o]),setValue(i){e==null||e.setValue(o,()=>{if(u===void 0)return i;const S=ue(i,s,u);return!Array.isArray(S)||!Array.isArray(i)?S:ct(i,S)?i:S})}});return d=v({role:"menuitemcheckbox"},d),d=Rt(v({store:f,name:o,value:s,checked:u},d)),d=qe(v({store:e,hideOnClick:c},d)),d}),Pr=de(_(function(r){const n=yr(r);return j(Cr,n)}));const Mr=M.createContext(!1);function $r(t){const{children:r,placement:n,open:e,setOpen:o,defaultOpen:s}=t;return b.jsx(ur,{placement:n,defaultOpen:s,open:e,setOpen:o,popover:Dt(),children:r})}const Br=$((t,r)=>{const n=ht(me());return b.jsx(Mr.Provider,{value:!0,children:b.jsx(sr,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...n.style,...t.style},wrapperProps:n.wrapperProps,className:W("-dropdown-menu",t.className),ref:r})})}),Vr=$((t,r)=>{const{accessibleWhenDisabled:n=!0,children:e,...o}=t,s=R(me(),u=>u==null?void 0:u.open);return b.jsx(mr,{accessibleWhenDisabled:!0,render:b.jsxs(ft,{accessibleWhenDisabled:n,children:[e,b.jsx(pt,{})]}),...o,className:W("-dropdown-menu-button",t.className),"data-has-popover-open":s||void 0,ref:r})}),Wr=$((t,r)=>{const{label:n,shortcuts:e,icon:o,...s}=t;return b.jsxs(gr,{accessibleWhenDisabled:!0,...s,render:b.jsx(_e,{render:t.render}),className:W("-dropdown-menu-item",t.className),ref:r,children:[o?b.jsx(ze,{icon:o}):null,b.jsx(je,{children:n}),e?b.jsx(wr,{shortcuts:e}):null]})}),wr=$((t,r)=>{const{shortcuts:n,...e}=t,o=M.useMemo(()=>n.split("+").map(s=>({key:s.trim(),isSymbol:s in mt})),[n]);return b.jsx(fe,{...e,className:W("-dropdown-menu-item-shortcuts",t.className),ref:r,children:o.map(({key:s,isSymbol:u},a)=>u?b.jsx(he,{variant:"ghost",symbol:s},`${s+a}`):b.jsx(he,{variant:"ghost",children:s},`${s+a}`))})}),ze=$((t,r)=>{const{icon:n,...e}=t;return b.jsx(fe,{render:b.jsx(vt,{href:typeof n=="string"?n:void 0,render:M.isValidElement(n)?n:void 0}),...e,ref:r})}),Ur=$((t,r)=>{const{label:n,icon:e,...o}=t;return b.jsxs(Pr,{accessibleWhenDisabled:!0,value:t.defaultChecked?"on":void 0,...o,render:b.jsx(_e,{render:t.render}),className:W("-dropdown-menu-item",t.className),ref:r,children:[e?b.jsx(ze,{icon:e}):null,b.jsx(je,{children:n}),b.jsx(fe,{render:b.jsx(bt,{className:"-dropdown-menu-checkmark"})})]})});export{$r as D,_e as L,Vr as a,Br as b,Ur as c,Wr as d,fe as e,je as f,Mr as g};
