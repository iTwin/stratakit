import{f as v,b as C,d as N,t as b,j as n,ac as F,g as P,e as E,aA as B,aL as L,c as d,a as g,l as S,au as R,aM as w}from"./~utils.D_DNaTcj.js";import{r as l}from"./index.DIfZGIpv.js";import{H as A,d as T,J as $,K as I,e as M,h as x,m as O,G as W,I as _,L as G,M as J,B as j}from"./ExamplePreview.CuaVkzKg.js";import{T as K}from"./Text.CmlRVOG5.js";import{D as U}from"./~utils.icons.Ce0vNYyy.js";import{u as p}from"./~utils.useInit.DJ2JjEte.js";import{f as c}from"./styles.internal.BwFdDu8v.js";import{D as q}from"./dialog-provider.Dmy-BWsQ.js";import"./index.XeJbqeyU.js";import"./preload-helper.BgLC2_sS.js";import"./~utils.icons.WvCxS1Pj.js";var z="button",Q=N(function({store:e,...a}){const s=A();e=e||s;const o=a.onClick,i=b(u=>{o?.(u),!u.defaultPrevented&&e?.hide()});return a={"data-dialog-dismiss":"",children:l.useMemo(()=>n.jsxs("svg",{"aria-label":"Dismiss popup",display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",children:[n.jsx("line",{x1:"4",y1:"4",x2:"12",y2:"12"}),n.jsx("line",{x1:"4",y1:"12",x2:"12",y2:"4"})]}),[]),...a,onClick:i},a=T(a),a}),k=v(function(e){const a=Q(e);return C(z,a)}),V="h1",H=N(function(e){const a=l.useRef(null),s=l.useContext($)||1,o=`h${s}`,i=F(a,o),r=l.useMemo(()=>!!i&&/^h\d$/.test(i),[i]);return e={render:n.jsx(o,{}),role:r?void 0:"heading","aria-level":r?void 0:s,...e,ref:P(a,e.ref)},e});v(function(e){const a=H(e);return C(V,a)});var X="h1",Y=N(function({store:e,...a}){const s=l.useContext(I),o=E(a.id);return B(()=>(s?.(o),()=>s?.(void 0)),[s,o]),a={id:o,...a},a=H(a),a}),Z=v(function(e){const a=Y(e);return C(X,a)});const ee=c((t,e)=>{p();const{backdrop:a=!0,unmountOnHide:s=!0,...o}=t,i=M(),r=x(i,"contentElement");return x(i,m=>s?t.open??m?.mounted:!0)?n.jsx(q,{store:i,children:n.jsx(te,{open:t.open,children:n.jsxs(O,{unmountOnHide:s,portal:!1,...o,backdrop:a===!0?n.jsx(le,{}):a,className:d("Dialog",t.className),ref:e,children:[n.jsx(k,{hidden:!0}),n.jsx(L.Provider,{value:r,children:t.children})]})})}):null});function te(t){const e=S.c(10),[a,s]=l.useState(null),o=G();let i;e[0]!==t.open?(i=y=>t.open??y?.open,e[0]=t.open,e[1]=i):i=e[1];const r=x(o,i),u=R(o?.setOpen);let m;e[2]!==r||e[3]!==u||e[4]!==a?(m={element:a,open:r,setOpen:u},e[2]=r,e[3]=u,e[4]=a,e[5]=m):m=e[5];const D=w(m),h=x(o,"mounted")?void 0:!0;let f;return e[6]!==D||e[7]!==t.children||e[8]!==h?(f=n.jsx(J,{className:"DialogWrapper",ref:s,...D,hidden:h,children:t.children}),e[6]=D,e[7]=t.children,e[8]=h,e[9]=f):f=e[9],f}const ne=c((t,e)=>n.jsx(g,{...t,className:d("DialogHeader",t.className),ref:e})),ae=c((t,e)=>n.jsx(Z,{...t,className:d("DialogHeading",t.className),render:n.jsx(K,{variant:"body-lg",render:t.render??n.jsx("h1",{})}),ref:e})),se=c((t,e)=>{const{label:a="Dismiss",...s}=t;return n.jsx(W,{align:"inline-end",children:n.jsx(k,{...s,render:n.jsx(_,{render:t.render,variant:"ghost",label:a,icon:n.jsx(U,{})}),ref:e})})}),oe=c((t,e)=>n.jsx(g,{...t,className:d("DialogContent",t.className),ref:e})),ie=c((t,e)=>n.jsx(g,{...t,className:d("DialogFooter",t.className),ref:e})),re=c((t,e)=>{const{actions:a,...s}=t;return n.jsx(g,{role:"list",...s,className:d("DialogActionList",t.className),ref:e,children:l.Children.map(a,o=>n.jsx("div",{role:"listitem",children:o}))})}),le=c((t,e)=>n.jsx(g,{...t,className:d("DialogBackdrop",t.className),ref:e})),Ne=()=>{const[t,e]=l.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx(j,{onClick:()=>e(!0),children:"Go back"}),n.jsxs(ee,{modal:!0,open:t,onClose:()=>e(!1),children:[n.jsxs(ne,{children:[n.jsx(ae,{children:"Confirm navigation"}),n.jsx(se,{})]}),n.jsx(oe,{children:"Are you sure you want to leave this page? Changes that you made may not be saved."}),n.jsx(ie,{children:n.jsx(re,{actions:[n.jsx(j,{onClick:()=>e(!1),children:"Stay on page"},"deny"),n.jsx(j,{tone:"accent",onClick:()=>e(!1),children:"Leave page"},"accept")]})})]})]})};export{Ne as default};
