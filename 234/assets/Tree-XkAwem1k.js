import{n as o,a as m}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as f}from"./index-DeGJKKUv.js";import{f as u,s as I,L as $,a as H}from"./ListItem-KFIqU5yd.js";import{a as M}from"./Button-pcxDZfVL.js";import{a as z}from"./VisuallyHidden-BP9HqvzW.js";import{R as w}from"./XL7CSKGW-DWaBDxUb.js";import{u as F,T as O,a as W,b as Z}from"./Tooltip-1-TNbxK8.js";import{u as q,d as k}from"./YV4JVR4I-I4X5ERHE.js";import{u as G,T as J,a as Q,b as U}from"./IconButton-gsTFxcL3.js";import{c as X,u as Y,a as ee,d as te,C as re}from"./ITI7HKP4-DcYfmzoo.js";import{c as oe}from"./P2CTZE2T-6JquUpf1.js";import{B as se,C as S,D as ae,c as ne,d as ie,_ as ce,y as le,b as R,e as de}from"./~utils-ChHMGsjo.js";function ue(e={}){var r;const t=(r=e.store)==null?void 0:r.getState();return X(se(ae({},e),{orientation:S(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:S(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function me(e,r,t){return Y(e,r,t)}function fe(e={}){const[r,t]=q(ue,e);return me(r,t,e)}var pe="div",he=ne(function(r){var t=r,{store:s,orientation:a,virtualFocus:i,focusLoop:p,rtl:y}=t,c=ce(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const j=G();s=s||j;const b=fe({store:s,orientation:a,virtualFocus:i,focusLoop:p,rtl:y}),h=b.useState(d=>d.orientation==="both"?void 0:d.orientation);return c=le(c,d=>o.jsx(J,{value:b,children:d}),[b]),c=R({role:"toolbar","aria-orientation":h},c),c=ee(R({store:b},c)),c}),xe=ie(function(r){const t=he(r);return de(pe,t)});const _=u((e,r)=>{const{variant:t="solid",tone:s="neutral",...a}=e;return o.jsx(M,{accessibleWhenDisabled:!0,...a,"data-kiwi-variant":t,"data-kiwi-tone":s,className:f("-button",e.className),ref:r})});_.displayName="Button";const A=u((e,r)=>o.jsx(z,{...e,ref:r}));A.displayName="VisuallyHidden";const P=u((e,r)=>{const{href:t,size:s="regular",...a}=e,i=be(s);return o.jsx(w.svg,{"aria-hidden":!0,...a,"data-kiwi-size":s,className:f("-icon",e.className),ref:r,children:o.jsx("use",{href:`${e.href}#${i}`})})});P.displayName="Icon";function be(e){return e==="large"?"icon-large":"icon"}const ye=u((e,r)=>{const{direction:t="down",...s}=e,a=m.useMemo(()=>{switch(t){case"down":return o.jsx("path",{d:"M8 10 5 7h6l-3 3Z"});case"right":return o.jsx("path",{d:"M7 11V5l3 3-3 3Z"})}},[t]);return o.jsx(P,{...s,render:o.jsx(w.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:a}),className:f("-disclosure-arrow",e.className),ref:r})});ye.displayName="DisclosureArrow";const E=u((e,r)=>{const t=m.useId(),{content:s,children:a,type:i="description",id:p=t,defaultOpen:y,open:c,setOpen:j,unmountOnHide:b=i==="none",...h}=e,d=F(),N=k(d,x=>x.open),l=k(d,x=>x.popoverElement);return m.useEffect(function(){var T;l!=null&&l.isConnected&&((T=l==null?void 0:l.togglePopover)==null||T.call(l,N))},[N,l]),o.jsx(o.Fragment,{children:o.jsxs(O,{store:d,defaultOpen:y,open:c,setOpen:j,children:[o.jsx(W,{render:a,...i==="description"&&{"aria-describedby":p},...i==="label"&&{"aria-labelledby":p}}),o.jsx(Z,{"aria-hidden":"true",...h,unmountOnHide:b,className:f("-tooltip",e.className),ref:r,id:p,style:{zIndex:I?void 0:9999,...e.style},wrapperProps:{popover:"manual"},portal:!I,children:s})]})})});E.displayName="Tooltip";const V=u((e,r)=>{const{label:t,icon:s,isActive:a,labelVariant:i,...p}=e,y=Q(),c=o.jsxs(_,{"aria-pressed":a,...p,render:y?o.jsx(U,{render:e.render}):e.render,className:f("-icon-button",e.className),ref:r,children:[o.jsx(A,{children:t}),typeof s=="string"?o.jsx(P,{href:s}):s]});return i==="visually-hidden"?c:o.jsx(E,{content:t,type:"none",children:c})});V.displayName="IconButton";function g(e){const r=m.useRef(e);return m.useEffect(()=>{r.current=e},[e]),r}const Ne=u((e,r)=>{const t=te({orientation:"vertical"});return o.jsx(w.div,{role:"tree",...e,render:o.jsx(re,{store:t}),className:f("-tree",e.className),ref:r,children:e.children})});Ne.displayName="Tree.Root";const Te=u((e,r)=>{const{selected:t,content:s,children:a,expanded:i,onSelectedChange:p,onExpandedChange:y,onClick:c,onKeyDown:j,...b}=e,h=m.useContext(L),d=h?h.level+1:1,N=g(c),l=g(j),x=g(p),T=g(y),D=m.useCallback(n=>{var v,C;(v=N.current)==null||v.call(N,n),!n.defaultPrevented&&(n.stopPropagation(),(C=x.current)==null||C.call(x,!t))},[N,x,t]),K=m.useCallback(n=>{var v,C;(v=l.current)==null||v.call(l,n),!n.defaultPrevented&&(n.altKey||n.ctrlKey||n.metaKey||n.shiftKey||(n.key==="ArrowRight"||n.key==="ArrowLeft")&&(n.stopPropagation(),n.preventDefault(),(C=T.current)==null||C.call(T,n.key==="ArrowRight")))},[l,T]);return o.jsx(L.Provider,{value:m.useMemo(()=>({level:d,expanded:i,selected:t}),[d,i,t]),children:o.jsxs(oe,{render:o.jsx(w,{...b}),onClick:D,onKeyDown:K,role:"treeitem","aria-expanded":i,"aria-selected":t,className:f("-tree-item",e.className),ref:r,children:[o.jsx($,{"data-kiwi-expanded":i,"data-kiwi-selected":t,"data-kiwi-parent-selected":h==null?void 0:h.selected,className:"-tree-item-node",style:{"--tree-item-level":d},role:void 0,children:s}),a&&o.jsx("div",{role:"group",children:a})]})})});Te.displayName="Tree.Item";const je=u((e,r)=>{const{children:t,...s}=e;return o.jsx(H,{...s,className:f("-tree-item-content",e.className),ref:r,children:t})});je.displayName="Tree.Content";const ve=u((e,r)=>{const{visible:t,...s}=e;return o.jsx(xe,{...s,className:f("-tree-item-actions",e.className),"data-kiwi-visible":t,ref:r,children:e.children})});ve.displayName="Tree.Actions";const Ce=u((e,r)=>{const t=g(e.onClick);return o.jsx(V,{tabIndex:-1,"aria-hidden":"true",icon:o.jsx(B,{}),label:"Toggle",...e,onClick:m.useCallback(s=>{var a;(a=t.current)==null||a.call(t,s),!s.defaultPrevented&&s.stopPropagation()},[t]),className:f("-tree-item-expander",e.className),variant:"ghost",labelVariant:"visually-hidden",ref:r})});Ce.displayName="Tree.Expander";const B=u((e,r)=>o.jsx(P,{...e,render:o.jsx(w.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:o.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:f("-tree-chevron",e.className),ref:r}));B.displayName="TreeChevron";const L=m.createContext(void 0);export{Ne as T,Te as a,Ce as b,je as c,ve as d};
