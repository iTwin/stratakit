import{a as m,n as N}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as D}from"./index-DeGJKKUv.js";import{a as U,b as j,c as A}from"./Field-D7Xjp0kw.js";import{z as T,c as w,_ as B,G as M,P as $,J as z,Q as G,m as v,g as H,u as J,b as p,r as O,n as Q,d as W,e as q,f as K}from"./~utils-ChHMGsjo.js";import{u as L}from"./~hooks-DuYLhjin.js";import{C as V,a as X,b as Y}from"./P2CTZE2T-Dc6QpFC1.js";import{d as Z}from"./YV4JVR4I-I4X5ERHE.js";var ee=T([X],[V]),re=ee.useContext,h="input";function te(s,t){if(t!==void 0)return s!=null&&t!=null?t===s:!!t}function oe(s,t){return s==="input"&&(!t||t==="radio")}var se=w(function(t){var c=t,{store:r,name:u,value:i,checked:C}=c,o=B(c,["store","name","value","checked"]);const k=re();r=r||k;const n=M(o.id),f=m.useRef(null),d=Z(r,e=>C??te(i,e==null?void 0:e.value));m.useEffect(()=>{!n||!d||(r==null?void 0:r.getState().activeId)===n||r==null||r.setActiveId(n)},[r,d,n]);const R=o.onChange,x=$(f,h),a=oe(x,o.type),P=z(o),[F,I]=G();m.useEffect(()=>{const e=f.current;e&&(a||(d!==void 0&&(e.checked=d),u!==void 0&&(e.name=u),i!==void 0&&(e.value=`${i}`)))},[F,a,d,u,i]);const l=v(e=>{if(P){e.preventDefault(),e.stopPropagation();return}(r==null?void 0:r.getState().value)!==i&&(a||(e.currentTarget.checked=!0,I()),R==null||R(e),!e.defaultPrevented&&(r==null||r.setValue(i)))}),b=o.onClick,_=v(e=>{b==null||b(e),!e.defaultPrevented&&(a||l(e))}),g=o.onFocus,y=v(e=>{if(g==null||g(e),e.defaultPrevented||!a||!r)return;const{moves:E,activeId:S}=r.getState();E&&(n&&S!==n||l(e))});return o=H(p({id:n,role:a?void 0:"radio",type:a?"radio":void 0,"aria-checked":d},o),{ref:J(f,o.ref),onChange:l,onClick:_,onFocus:y}),o=Y(p({store:r,clickOnEnter:!a},o)),O(p({name:a?u:void 0,value:a?i:void 0,checked:d},o))}),ae=Q(W(function(t){const c=se(t);return q(h,c)}));const me=K((s,t)=>{const c=U(),r=j(),u=A(s["aria-describedby"]);return N.jsx(ae,{accessibleWhenDisabled:!0,id:c,...s,className:D("ğŸ¥-checkbox","ğŸ¥-radio",s.className),"aria-describedby":u,ref:L(r,t)})});export{me as R};
