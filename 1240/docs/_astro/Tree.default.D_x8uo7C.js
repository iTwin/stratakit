import{n as T,j as n,l as j,a as y,c as b,I as G}from"./~utils.B85XiJgV.js";import{r}from"./index.DIfZGIpv.js";import{u as H,C as q}from"./IQYAUKXT.DSH3VJXT.js";import{u as U}from"./~utils.useInit.J_5oIXX2.js";import{f as p}from"./styles.internal.BwFdDu8v.js";import{b as V}from"./WZWDIE3S.QcABqFzw.js";import{T as J,a as Q}from"./HSU7H6PW.CS3SxFDj.js";import{G as W,k as X,I as Y}from"./ExamplePreview.Dkvgm1CV.js";import{S as Z,C as ee,M as te}from"./~utils.icons.DDbeR1NP.js";import{L as ne,d as w,e as E,D as oe,a as re,b as se,c as ie}from"./DropdownMenu.CpAA7bu7.js";import"./index.XeJbqeyU.js";import"./GVAFFF2B.DEWnFM0s.js";import"./Z2O3VLAQ.COBpu2Ct.js";import"./preload-helper.t0z4e62b.js";import"./~utils.icons.Dt5RZZtm.js";import"./APVORPDK.DzrrKUZK.js";import"./NDVACHQI.85ZWKR9M.js";import"./I7KWAPMF.DOseegIK.js";import"./CVCFNOHX.DqSL-vQc.js";import"./Kbd.DrNg-Dij.js";import"./Text.C1nqd9qA.js";import"./~utils.icons.Dqvcq1gY.js";const D=r.createContext(void 0),M=r.createContext(void 0),N=r.createContext(void 0),F=r.createContext(void 0),R=r.createContext(void 0),A=r.createContext(void 0),K=r.createContext(void 0),P=r.createContext(void 0),_=r.createContext(void 0),g=r.createContext(void 0),f=r.memo(p((e,t)=>{const{selected:o,onSelectedChange:s,expanded:i,onExpandedChange:a,icon:c,unstable_decorations:l,label:d,description:m,inlineActions:x,actions:C,error:v,onClick:h,onKeyDown:I,...$}=e,k=T(()=>{i!==void 0&&a?.(!i)}),B=u=>{if(o!==void 0){u.stopPropagation(),s?.(!o);return}i!==void 0&&(u.stopPropagation(),a?.(!i))},O=u=>{u.altKey||u.ctrlKey||u.metaKey||u.shiftKey||i!==void 0&&(u.key==="ArrowRight"||u.key==="ArrowLeft")&&(u.preventDefault(),a?.(u.key==="ArrowRight"))};return n.jsx(ae,{...e,children:n.jsx(ce,{...$,expanded:i,selected:o,onClick:T(h,B),onKeyDown:T(I,O),ref:t,children:r.useMemo(()=>n.jsx(de,{onExpanderClick:k,expanded:i,selected:o}),[k,i,o])})})}));function ae(e){const t=j.c(12),{inlineActions:o,actions:s,label:i,description:a,icon:c,unstable_decorations:l,error:d}=e,m=r.useId(),x=r.useId(),C=r.useId();let v;if(t[0]!==s||t[1]!==C||t[2]!==l||t[3]!==a||t[4]!==x||t[5]!==d||t[6]!==c||t[7]!==o||t[8]!==i||t[9]!==m||t[10]!==e.children){const h=d?n.jsx(Z,{tone:"attention"}):c,I=h||l;v=n.jsx(D.Provider,{value:d,children:n.jsx(M.Provider,{value:o,children:n.jsx(N.Provider,{value:s,children:n.jsx(L.Provider,{value:s?s.length>0:!1,children:n.jsx(A.Provider,{value:I?C:void 0,children:n.jsx(F.Provider,{value:l,children:n.jsx(R.Provider,{value:h,children:n.jsx(P.Provider,{value:m,children:n.jsx(K.Provider,{value:i,children:n.jsx(_.Provider,{value:a,children:n.jsx(g.Provider,{value:a?x:void 0,children:e.children})})})})})})})})})})}),t[0]=s,t[1]=C,t[2]=l,t[3]=a,t[4]=x,t[5]=d,t[6]=c,t[7]=o,t[8]=i,t[9]=m,t[10]=e.children,t[11]=v}else v=t[11];return v}const ce=r.memo(p((e,t)=>{const{style:o,"aria-level":s,selected:i,expanded:a,...c}=e,l=r.useContext(P),d=r.useContext(A),m=r.useContext(g),x=r.useContext(D),C=typeof x=="string"?x:void 0,v=r.useMemo(()=>{const I=[];return m&&I.push(m),d&&I.push(d),C&&I.push(C),I.length>0?I.join(" "):void 0},[d,m,C]),h=r.useMemo(()=>({...o,"--TreeItem-level":s}),[o,s]);return n.jsx(V,{render:n.jsx(y,{...c,role:"treeitem","aria-expanded":a,"aria-selected":i,"aria-labelledby":l,"aria-describedby":v,"aria-level":s,className:b("TreeItem",e.className),style:h,ref:t}),children:e.children})}));function le(){const e=j.c(5),t=r.useRef(null),[o,s]=r.useState(!1);let i,a;e[0]!==o?(i=()=>{const l=t.current;if(!l||o)return;const d=new IntersectionObserver(m=>{const[x]=m;x.isIntersecting&&r.startTransition(()=>{s(!0)})});return d.observe(l),()=>{d.disconnect()}},a=[o],e[0]=o,e[1]=i,e[2]=a):(i=e[1],a=e[2]),r.useEffect(i,a);let c;return e[3]!==o?(c=[t,o],e[3]=o,e[4]=c):c=e[4],c}const de=r.memo(e=>{const t=j.c(7),{expanded:o,selected:s,onExpanderClick:i}=e,a=r.useContext(D),[c,l]=le(),d=a?!0:void 0;let m;return t[0]!==o||t[1]!==i||t[2]!==c||t[3]!==l||t[4]!==s||t[5]!==d?(m=n.jsxs(ne,{"data-_sk-expanded":o,"data-_sk-selected":s,"data-_sk-error":d,className:"TreeItemNode",role:void 0,ref:c,children:[n.jsx(me,{onExpanderClick:i}),n.jsx(xe,{}),n.jsx(Ie,{}),l&&n.jsx(fe,{})]}),t[0]=o,t[1]=i,t[2]=c,t[3]=l,t[4]=s,t[5]=d,t[6]=m):m=t[6],m}),me=r.memo(e=>n.jsxs(w,{children:[n.jsx(Te,{onClick:e.onExpanderClick}),n.jsx(ue,{})]}));function ue(){const e=j.c(4),t=r.useContext(A),o=r.useContext(F),s=r.useContext(R);let i;return e[0]!==t||e[1]!==o||e[2]!==s?(i=s||o?n.jsx(y,{className:"TreeItemDecoration",id:t,render:r.isValidElement(s)?s:typeof s=="string"?n.jsx(G,{href:s}):void 0,children:s?null:o}):null,e[0]=t,e[1]=o,e[2]=s,e[3]=i):i=e[3],i}const xe=r.memo(()=>{const e=j.c(3),t=r.useContext(P),o=r.useContext(K);let s;return e[0]!==o||e[1]!==t?(s=n.jsx(E,{id:t,className:"TreeItemContent",children:o}),e[0]=o,e[1]=t,e[2]=s):s=e[2],s}),Ie=r.memo(()=>{const e=j.c(3),t=r.useContext(_),o=r.useContext(g);let s;return e[0]!==t||e[1]!==o?(s=t?n.jsx(E,{id:o,className:"TreeItemDescription",children:t}):void 0,e[0]=t,e[1]=o,e[2]=s):s=e[2],s}),fe=r.memo(p((e,t)=>n.jsxs(w,{...e,onClick:T(e.onClick,o=>o.stopPropagation()),onKeyDown:T(e.onKeyDown,o=>o.stopPropagation()),className:b("TreeItemActionsContainer",e.className),ref:t,render:n.jsx(J,{focusLoop:!1}),children:[n.jsx(Ce,{}),n.jsx(ve,{})]})));function Ce(){const e=j.c(2),t=r.useContext(M)??[];let o;return e[0]!==t?(o=t.slice(0,2),e[0]=t,e[1]=o):o=e[1],o}const pe=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],z=r.createContext(!1),L=r.createContext(!1),ve=r.memo(p((e,t)=>{const[o,s]=r.useState(!1),i=r.useRef(!1),a=r.useContext(L),c=r.useCallback(l=>{l&&!i.current?s(!0):s(!1)},[]);return a?n.jsxs(oe,{open:o,setOpen:c,placement:"right-start",children:[n.jsx(re,{...e,onKeyDown:l=>{pe.includes(l.key)&&(i.current=!0),queueMicrotask(()=>{i.current=!1})},render:n.jsx(S,{label:"More",icon:n.jsx(te,{})}),ref:t}),n.jsx(je,{})]}):null}));function je(){return n.jsx(z.Provider,{value:!0,children:n.jsx(se,{children:n.jsx(he,{})})})}function he(){return r.useContext(N)??[]}r.memo(p((e,t)=>{const{label:o,icon:s,dot:i,...a}=e;return r.useContext(z)?n.jsx(ie,{...a,label:o,icon:s,unstable_dot:i,ref:t}):n.jsx(S,{...e,ref:t})}));const S=r.memo(p((e,t)=>{const o=r.useContext(D),s=r.useId(),{id:i=s,visible:a=o?!0:void 0,label:c,icon:l,dot:d,...m}=e;return n.jsx(Y,{id:i,label:c,icon:l,inert:a===!1?"true":void 0,...m,render:n.jsx(Q,{render:e.render}),dot:d,variant:"ghost",className:b("TreeItemAction",e.className),"data-_sk-visible":a,ref:t})})),Te=p((e,t)=>{const o=r.useContext(g);return n.jsx(W,{align:o?"block":void 0,children:n.jsx(X,{"aria-hidden":"true",...e,onClick:T(e.onClick,s=>s.stopPropagation()),className:b("TreeItemExpander",e.className),variant:"ghost",ref:t,children:n.jsx(ee,{})})})}),be=p((e,t)=>{U();const o=H({orientation:"vertical"});return n.jsx(y.div,{role:"tree",...e,render:n.jsx(q,{store:o}),className:b("Tree",e.className),ref:t,children:e.children})}),qe=()=>{const[e,t]=r.useState({item1:!1,item2:!1,item3:!1}),o=s=>{t(i=>({...i,[s]:!i[s]}))};return n.jsxs(be,{children:[n.jsx(f,{label:"Item 1","aria-level":1,"aria-posinset":1,"aria-setsize":3,expanded:e.item1,onExpandedChange:()=>o("item1")}),e.item1&&n.jsxs(n.Fragment,{children:[n.jsx(f,{label:"Item 1.1","aria-level":2,"aria-posinset":1,"aria-setsize":2}),n.jsx(f,{label:"Item 1.2","aria-level":2,"aria-posinset":2,"aria-setsize":2})]}),n.jsx(f,{label:"Item 2","aria-level":1,"aria-posinset":2,"aria-setsize":3,expanded:e.item2,onExpandedChange:()=>o("item2")}),e.item2&&n.jsxs(n.Fragment,{children:[n.jsx(f,{label:"Item 2.1","aria-level":2,"aria-posinset":1,"aria-setsize":2}),n.jsx(f,{label:"Item 2.2","aria-level":2,"aria-posinset":2,"aria-setsize":2})]}),n.jsx(f,{label:"Item 3","aria-level":1,"aria-posinset":3,"aria-setsize":3,expanded:e.item3,onExpandedChange:()=>o("item3")}),e.item3&&n.jsxs(n.Fragment,{children:[n.jsx(f,{label:"Item 3.1","aria-level":2,"aria-posinset":1,"aria-setsize":2}),n.jsx(f,{label:"Item 3.2","aria-level":2,"aria-posinset":2,"aria-setsize":2})]})]})};export{qe as default};
