import{w as R,a as i,o as e}from"./chunk-NL6KNZEE-Bu0nOl7T.js";import{I as f}from"./sun-B3cRcbiJ.js";import{T as w,a as S,b as h,p as T}from"./immer-CIaHXu2V.js";import{d as D}from"./~utils-BbHRESU7.js";import{r as M,u as P}from"./refresh-DWkyGkAo.js";import{p as d}from"./placeholder-DepCSfKf.js";import{s as U}from"./visibility-show-DjWHmWix.js";import"./LMDWO4NN-DLS_M8sR.js";import"./6VRAQV3D-DjP5QSsy.js";import"./RZ4GPYOB-Du4ubjI1.js";import"./IWEFDH56-DwjRd2J8.js";import"./5JTVDSTH-CZjZgqgh.js";import"./DropdownMenu-D5EG-iJ7.js";import"./S43UC3DV-DEhNhtqa.js";import"./NTITENHD-DlGcMZav.js";import"./F5MUBM3I-CB_2ydm1.js";import"./IAEAQUOT-ByaihvYB.js";import"./Kbd-CQwb3lks.js";import"./~utils.icons-CKDioyfA.js";import"./~utils.icons-DtQkT-Ak.js";import"./~utils.icons-Dx6s7x26.js";import"./XX67R432-BB75zn2j.js";import"./index-CXtfrvRK.js";const de={title:"Tree"},ce=R(D(function({overflow:c=!1,selected:a=!1,description:v,error:p,items:I,draggable:y}){const[N,z]=i.useTransition(),x=c?" with a super long label that is overflown":"",A=v?"Additional description":void 0,[C,$]=i.useState(!!p),k=I?Number(I):0,[g,j]=i.useState(()=>[{label:`Item 1${x}`,selected:!!a,expanded:!0,children:[{label:"Item 1.1",selected:!!a},{label:"Item 1.2",selected:!!a},{label:`Item 1.3${x}`,selected:!!a}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${x}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:k}).map((o,t)=>({label:`Item ${t+4}`,selected:!1}))]),E=i.useMemo(()=>g.flatMap((o,t,r)=>{const l={...o,level:1,index:t,setSize:r.length,childIndex:void 0};if(!o.expanded)return l;const u=o.children?o.children.map((s,n,m)=>({...s,level:2,index:t,childIndex:n,setSize:m.length,expanded:void 0})):[];return[l,...u]}),[g]),_=i.useCallback(()=>{$(!1)},[]);return e.jsx(w,{style:{maxInlineSize:c?300:void 0},children:E.map(o=>{const{index:t,childIndex:r}=o,l=C&&t===0&&r===void 0,u=t===0&&r===void 0||r===0;return e.jsx(S,{"aria-level":o.level,"aria-posinset":t+1,"aria-setsize":o.setSize,label:o.label,description:u?A:void 0,expanded:o.expanded,selected:o.selected,error:l,onMove:y?s=>console.log(s):void 0,onSelectedChange:()=>{j(T(s=>{var m;const n=r===void 0?s[t]:(m=s[t].children)==null?void 0:m[r];n&&(n.selected=!n.selected)}))},onExpandedChange:()=>{z(()=>{j(T(s=>{const n=s[t];n.expanded!==void 0&&(n.expanded=!n.expanded)}))})},icon:r===void 0?e.jsx(f,{href:d,alt:"decoration"}):void 0,unstable_decorations:r===0?e.jsxs(e.Fragment,{children:[e.jsx(f,{href:d}),e.jsx(f,{href:d})]}):e.jsx(f,{href:d}),actions:[l&&e.jsx(h,{icon:M,label:"Retry",onClick:_},"retry"),e.jsx(h,{icon:P,label:"Unlock"},"unlock"),e.jsx(h,{icon:U,label:"Show"},"show")]},o.label)})})},{_actionsOverflow:F}));function F({count:b=5,dot:c=!1}){const a=Array.from({length:Number(b)}).map((v,p)=>e.jsx(h,{label:`Action ${p+1}`,icon:d,dot:c?"Something's going on":void 0},`${p+1}`));return e.jsx(w,{children:e.jsx(S,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,actions:a})})}export{ce as default,de as handle};
