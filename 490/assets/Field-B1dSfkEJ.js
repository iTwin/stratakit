import{p as l,b as a}from"./index-DDCMeoDP.js";import{l as F,m as g,n as k,_ as D,L as R,G as N,f as u,c as f,h as x}from"./~utils-DIAJv-Jy.js";import{a as w,C as E,b as j,c as p}from"./RZ4GPYOB-DMRXd9Kx.js";import{d as C}from"./YV4JVR4I-CbCMjlAq.js";import{u as L}from"./C3IKGW5T-DBGvM4oD.js";import{T as h}from"./Text-BPa-ooI1.js";var P="div",S=g(function(e){var o=e,{store:n}=o,r=D(o,["store"]);const c=w();return n=n||c,r=R(r,s=>l.jsx(E,{value:n,children:s}),[n]),N(r)}),M=F(function(e){const o=S(e);return k(P,o)});function _(t){const e=L({defaultItems:[]}),o=C(e,"renderedItems"),[n,r]=a.useMemo(()=>{var i;const s=o.findIndex(d=>d.elementType==="control");return[(i=o[s])==null?void 0:i.controlType,s]},[o]),c=a.useMemo(()=>{const s=o.findIndex(i=>i.elementType==="label");if(!(r===-1||s===-1))return s<r?"before":"after"},[o,r]);return l.jsx(M,{...t,store:e,"data-kiwi-label-placement":c,"data-kiwi-control-type":n})}const v=a.createContext(void 0);function A(t){const e=a.useContext(v);a.useEffect(()=>{e==null||e(t)},[t,e])}const B=u((t,e)=>{const{tone:o,...n}=t;return l.jsx(h,{...n,variant:"caption-md","data-kiwi-tone":o??"neutral",className:f("ðŸ¥-description",t.className),ref:e})}),G=u((t,e)=>l.jsx(x.label,{...t,className:f("ðŸ¥-label",t.className),ref:e})),J=u((t,e)=>{const{layout:o,...n}=t;return l.jsx(_,{render:l.jsx(x.div,{...n,className:f("ðŸ¥-field",t.className),"data-kiwi-layout":o,ref:e})})}),K=u((t,e)=>{const o=j(),n=C(o,"renderedItems"),r=a.useMemo(()=>{var s;return(s=n==null?void 0:n.find(i=>i.elementType==="control"))==null?void 0:s.id},[n]),c=a.useCallback(s=>({...s,elementType:"label"}),[]);return l.jsx(p,{getItem:c,render:l.jsx(G,{...t,htmlFor:r}),ref:e})}),O=u((t,e)=>{const o=a.useId(),{id:n=o,...r}=t,c=a.useCallback(s=>({...s,elementType:"description"}),[]);return l.jsx(p,{getItem:c,id:n,render:l.jsx(B,{...r}),ref:e})}),Q=u((t,e)=>{const[o,n]=a.useState(),r=j(),c=a.useId(),{id:s=r?c:void 0,...i}=t,d=C(r,"renderedItems"),y=a.useMemo(()=>{var I;return((I=d==null?void 0:d.filter(m=>m.elementType==="description"))==null?void 0:I.map(m=>m.id).join(" "))||void 0},[d]),T=a.useCallback(b=>({...b,elementType:"control",controlType:o}),[o]);return l.jsx(v.Provider,{value:n,children:l.jsx(p,{id:s,getItem:T,render:l.jsx(x,{...i,"aria-describedby":y}),ref:e})})});export{J as F,G as L,K as a,Q as b,O as c,A as u};
