import{w as p}from"./index-DksOGUVp.js";import{j as t,r}from"./chunk-K6AXKMTT-DG8v5gpF.js";import{r as i}from"./index-5If27ekR.js";import{R as a}from"./Root-BZzsDaFM.js";import{B as u}from"./Button-BVJm6fpA.js";import{d as m,u as d}from"./~utils-B-NDSyj1.js";const b={Default:"",SynchronizeColorSchemeTrue:"?synchronizeColorScheme=true",SynchronizeColorSchemeFalse:"?synchronizeColorScheme=false"},P={title:"Root",rootTest:!0},g=p(m(function({synchronizeColorScheme:s=!0}){const e=x(),o=d();return t.jsxs(a,{colorScheme:o,synchronizeColorScheme:!!s,density:"dense",children:[t.jsx(l,{}),t.jsx(u,{onClick:()=>e.open(),children:"Open popout"}),e.popout&&i.createPortal(t.jsx(a,{colorScheme:o,synchronizeColorScheme:!0,density:"dense",children:t.jsx(l,{})}),e.popout.document.body)]})}));function l(){const[n,s]=r.useState(null),e=f(r.useCallback(()=>n,[n])),o=d();return t.jsxs("div",{style:{display:"flex",gap:4},ref:s,children:[t.jsx(u,{children:"Button (light)"}),e&&i.createPortal(t.jsx(a,{colorScheme:o,density:"dense",children:t.jsx(u,{children:"Button (shadow)"})}),e)]})}function f(n){const[s,e]=r.useState(null),o=n();return r.useEffect(()=>{o&&(o.shadowRoot||o.attachShadow({mode:"open"}).appendChild(document.createElement("slot")),e(o.shadowRoot))},[o]),s}function x(){const[n,s]=r.useState(null),e=r.useCallback(()=>{const o=new TextEncoder().encode("<!doctype html><meta charset=utf-8>"),h=URL.createObjectURL(new Blob([o],{type:"text/html"})),c=window.open(h,"popout","width=400,height=400");URL.revokeObjectURL(h),c&&(c.onload=()=>s(c))},[]);return r.useMemo(()=>({open:e,popout:n}),[e,n])}export{b as d,P as h,g as i};
