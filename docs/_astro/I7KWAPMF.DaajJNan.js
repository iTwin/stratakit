import{u as B}from"./PZ3OL7I2.DNgN7HKw.js";import{r as l}from"./index.CtNveh2g.js";import{y as D,f as H,e as O,g as P,n as Q,p as W,Q as _,l as b,C as $,m as q,B as z,j as G}from"./ExamplePreview.CUsXfSM8.js";import{u as I}from"./Q5W46E73.Dvh7tqbY.js";var J=l.createContext(!1),K=D(),L=K.useContext,E="input";function y(n,r){r?n.indeterminate=!0:n.indeterminate&&(n.indeterminate=!1)}function V(n,r){return n==="input"&&(!r||r==="checkbox")}function A(n){return Array.isArray(n)?n.toString():n}var X=O(function({store:r,name:a,value:i,checked:k,defaultChecked:x,...t}){const T=L();r=r||T;const[S,N]=l.useState(x??!1),u=I(r,e=>{if(k!==void 0)return k;if(e?.value===void 0)return S;if(i!=null){if(Array.isArray(e.value)){const f=A(i);return e.value.includes(f)}return e.value===i}return Array.isArray(e.value)?!1:typeof e.value=="boolean"?e.value:!1}),h=l.useRef(null),R=Q(h,E),c=V(R,t.type),m=u?u==="mixed":void 0,s=u==="mixed"?!1:u,U=W(t),[j,F]=_();l.useEffect(()=>{const e=h.current;e&&(y(e,m),!c&&(e.checked=s,a!==void 0&&(e.name=a),i!==void 0&&(e.value=`${i}`)))},[j,m,c,s,a,i]);const C=t.onChange,v=b(e=>{if(U){e.stopPropagation(),e.preventDefault();return}if(y(e.currentTarget,m),c||(e.currentTarget.checked=!e.currentTarget.checked,F()),C?.(e),e.defaultPrevented)return;const f=e.currentTarget.checked;N(f),r?.setValue(o=>{if(i==null)return f;const d=A(i);return Array.isArray(o)?f?o.includes(d)?o:[...o,d]:o.filter(w=>w!==d):o===d?!1:d})}),g=t.onClick,M=b(e=>{g?.(e),!e.defaultPrevented&&(c||v(e))});return t=$(t,e=>G.jsx(J.Provider,{value:s,children:e}),[s]),t={role:c?void 0:"checkbox",type:c?"checkbox":void 0,"aria-checked":u,...t,ref:q(h,t.ref),onChange:v,onClick:M},t=B({clickOnEnter:!c,...t}),z({name:c?a:void 0,value:c?i:void 0,checked:s,...t})}),re=H(function(r){const a=X(r);return P(E,a)});export{re as C,X as u};
