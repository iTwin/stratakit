import{a as M,n as v}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as B}from"./index-jyeBNHV5.js";import{f as $,s as be}from"./~utils-Cznddkjz.js";import{I as Ue,a as Ge,C as Je}from"./Icon-DEq9jiRr.js";import{T as ge}from"./Text-D8Cagtif.js";import{R as le}from"./XL7CSKGW-bDaSWFDO.js";import{B as Qe}from"./Button-DPe5oMBh.js";import{K as Xe}from"./Kbd-Doev9cAr.js";import{u as Ce,f as Ye,C as Se,a as ye,b as Ze}from"./P2CTZE2T-DlDH8GcK.js";import{H as et,a as tt,c as nt,u as rt,b as ot,d as st,e as ut}from"./BYC7LY2E-BbgPBSur.js";import{c as _,_ as D,e as w,u as Y,b,f as N,d as j,i as V,g as Pe,h as at,j as ae,k as R,r as Me,m as ce,l as it,n as lt,o as z,p as J,q as L,s as we,t as Oe,v as ct,x as dt,y as ft,z as mt,A as de,B as Ee,C as pt,D as bt,E as De,F as ht,G as vt,H as xt,I as Ae,J as gt,K as Ct,L as St,M as yt}from"./LMDWO4NN-Byj-nXYS.js";import{u as Pt}from"./VEVQD5MH-BXUYZizz.js";import{c as Mt,u as wt,a as Ot}from"./ITI7HKP4-BJelrktp.js";import{t as Et,c as ke,u as Ie,a as Te,m as Dt,o as At,p as kt,s as he,b as ve,d as H}from"./YV4JVR4I-BlNXHGle.js";import{b as It,i as Tt}from"./VGCJ63VH-XNhtTgSK.js";import{h as Q,a as Ft}from"./LVA2YJMS-DqB9_j1W.js";import{u as Ht}from"./P4IRICAX-iRVvJyJS.js";import{u as Fe,P as _t}from"./MTZPJQMC-DeaJVyUW.js";import{u as Nt}from"./ASMQKSDT-QtEie5Jh.js";var jt="div",He=_(function(n){var r=n,{store:e}=r,o=D(r,["store"]);const u=Fe();return e=e||u,o=w(b({},o),{ref:Y(e==null?void 0:e.setAnchorElement,o.ref)}),o});N(function(n){const r=He(n);return j(jt,r)});var Lt="button",_e=_(function(n){var r=n,{store:e}=r,o=D(r,["store"]);const u=It();e=e||u,V(e,!1);const s=e.useState("contentElement");return o=b({"aria-haspopup":Pe(s,"dialog")},o),o=Ht(b({store:e},o)),o});N(function(n){const r=_e(n);return j(Lt,r)});var Kt="div";function Ne(t){const n=t.relatedTarget;return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE?n:null}function Rt(t){const n=Ne(t);return n?it(t.currentTarget,n):!1}var ie=Symbol("composite-hover");function Bt(t){let n=Ne(t);if(!n)return!1;do{if(lt(n,ie)&&n[ie])return!0;n=n.parentElement}while(n);return!1}var je=_(function(n){var r=n,{store:e,focusOnHover:o=!0,blurOnHoverEnd:u=!!o}=r,s=D(r,["store","focusOnHover","blurOnHoverEnd"]);const a=Ce();e=e||a,V(e,!1);const i=at(),d=s.onMouseMove,c=ae(o),x=R(m=>{if(d==null||d(m),!m.defaultPrevented&&i()&&c(m)){if(!Q(m.currentTarget)){const y=e==null?void 0:e.getState().baseElement;y&&!Ft(y)&&y.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),f=s.onMouseLeave,l=ae(u),S=R(m=>{var y;f==null||f(m),!m.defaultPrevented&&i()&&(Rt(m)||Bt(m)||c(m)&&l(m)&&(e==null||e.setActiveId(null),(y=e==null?void 0:e.getState().baseElement)==null||y.focus()))}),p=M.useCallback(m=>{m&&(m[ie]=!0)},[]);return s=w(b({},s),{ref:Y(p,s.ref),onMouseMove:x,onMouseLeave:S}),Me(s)});ce(N(function(n){const r=je(n);return j(Kt,r)}));function $t(t={}){var n;Et(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:z(t.value,r==null?void 0:r.value,t.defaultValue,!1)},o=ke(e,t.store);return J(L({},o),{setValue:u=>o.setState("value",u)})}function Vt(t,n,r){return we(n,[r.store]),Te(t,r,"value","setValue"),t}function Wt(t={}){const[n,r]=Ie($t,t);return Vt(n,r,t)}var qt="div",K="";function se(){K=""}function zt(t){const n=t.target;return n&&dt(n)?!1:t.key===" "&&K.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Ut(t,n){if(ft(t))return!0;const r=t.target;return r?n.some(o=>o.element===r):!1}function Gt(t){return t.filter(n=>!n.disabled)}function re(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?mt(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function Jt(t,n,r){if(!r)return t;const e=t.find(o=>o.id===r);return!e||!re(e,n)||K!==n&&re(e,K)?t:(K=n,Ye(t.filter(o=>re(o,K)),r).filter(o=>o.id!==r))}var fe=_(function(n){var r=n,{store:e,typeahead:o=!0}=r,u=D(r,["store","typeahead"]);const s=Ce();e=e||s,V(e,!1);const a=u.onKeyDownCapture,i=M.useRef(0),d=R(c=>{if(a==null||a(c),c.defaultPrevented||!o||!e)return;if(!zt(c))return se();const{renderedItems:x,items:f,activeId:l,id:S}=e.getState();let p=Gt(f.length>x.length?f:x);const m=Oe(c.currentTarget),y=`[data-offscreen-id="${S}"]`,h=m.querySelectorAll(y);for(const P of h){const T=P.ariaDisabled==="true"||"disabled"in P&&!!P.disabled;p.push({id:P.id,element:P,disabled:T})}if(h.length&&(p=ct(p,P=>P.element)),!Ut(c,p))return se();c.preventDefault(),window.clearTimeout(i.current),i.current=window.setTimeout(()=>{K=""},500);const A=c.key.toLowerCase();K+=A,p=Jt(p,A,l);const E=p.find(P=>re(P,K));E?e.move(E.id):se()});return u=w(b({},u),{onKeyDownCapture:d}),Me(u)});N(function(n){const r=fe(n);return j(qt,r)});var Qt="button",Le=_(function(n){var r=n,{store:e}=r,o=D(r,["store"]);const u=Fe();e=e||u,V(e,!1);const s=o.onClick,a=R(i=>{e==null||e.setAnchorElement(i.currentTarget),s==null||s(i)});return o=de(o,i=>v.jsx(_t,{value:e,children:i}),[e]),o=w(b({},o),{onClick:a}),o=He(b({store:e},o)),o=_e(b({store:e},o)),o});N(function(n){const r=Le(n);return j(Qt,r)});var Ke=Ee([ye],[Se]),Xt=Ke.useContext,Yt=Ke.useScopedContext;M.createContext(void 0);var Z=Ee([ye,tt],[Se,et]),Zt=Z.useContext,Re=Z.useScopedContext,oe=Z.useProviderContext,Be=Z.ContextProvider,en=Z.ScopedContextProvider;M.createContext(void 0);function tn(t={}){var n=t,{combobox:r,parent:e,menubar:o}=n,u=pt(n,["combobox","parent","menubar"]);const s=!!o&&!e,a=Dt(u.store,kt(e,["values"]),At(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),i=a.getState(),d=Mt(J(L({},u),{store:a,orientation:z(u.orientation,i.orientation,"vertical")})),c=nt(J(L({},u),{store:a,placement:z(u.placement,i.placement,"bottom-start"),timeout:z(u.timeout,i.timeout,s?0:150),hideTimeout:z(u.hideTimeout,i.hideTimeout,0)})),x=J(L(L({},d.getState()),c.getState()),{initialFocus:z(i.initialFocus,"container"),values:z(u.values,i.values,u.defaultValues,{})}),f=ke(x,d,c,a);return he(f,()=>ve(f,["mounted"],l=>{l.mounted||f.setState("activeId",null)})),he(f,()=>ve(e,["orientation"],l=>{f.setState("placement",l.orientation==="vertical"?"right-start":"bottom-start")})),J(L(L(L({},d),c),f),{combobox:r,parent:e,menubar:o,hideAll:()=>{c.hide(),e==null||e.hideAll()},setInitialFocus:l=>f.setState("initialFocus",l),setValues:l=>f.setState("values",l),setValue:(l,S)=>{l!=="__proto__"&&l!=="constructor"&&(Array.isArray(l)||f.setState("values",p=>{const m=p[l],y=bt(S,m);return y===m?p:J(L({},p),{[l]:y!==void 0&&y})}))}})}function nn(t,n,r){return we(n,[r.combobox,r.parent,r.menubar]),Te(t,r,"values","setValues"),Object.assign(rt(wt(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function $e(t={}){const n=Zt(),r=Xt(),e=Pt();t=w(b({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[o,u]=Ie(tn,t);return nn(o,u,t)}var rn="div";function on(t){var n=t,{store:r}=n,e=D(n,["store"]);const[o,u]=M.useState(void 0),s=e["aria-label"],a=H(r,"disclosureElement"),i=H(r,"contentElement");return M.useEffect(()=>{const d=a;if(!d)return;const c=i;if(!c)return;s||c.hasAttribute("aria-label")?u(void 0):d.id&&u(d.id)},[s,a,i]),o}var Ve=_(function(n){var r=n,{store:e,alwaysVisible:o,composite:u}=r,s=D(r,["store","alwaysVisible","composite"]);const a=oe();e=e||a,V(e,!1);const i=e.parent,d=e.menubar,c=!!i,x=De(s.id),f=s.onKeyDown,l=e.useState(C=>C.placement.split("-")[0]),S=e.useState(C=>C.orientation==="both"?void 0:C.orientation),p=S!=="vertical",m=H(d,C=>!!C&&C.orientation!=="vertical"),y=R(C=>{if(f==null||f(C),!C.defaultPrevented){if(c||d&&!p){const k={ArrowRight:()=>l==="left"&&!p,ArrowLeft:()=>l==="right"&&!p,ArrowUp:()=>l==="bottom"&&p,ArrowDown:()=>l==="top"&&p}[C.key];if(k!=null&&k())return C.stopPropagation(),C.preventDefault(),e==null?void 0:e.hide()}if(d){const k={ArrowRight:()=>{if(m)return d.next()},ArrowLeft:()=>{if(m)return d.previous()},ArrowDown:()=>{if(!m)return d.next()},ArrowUp:()=>{if(!m)return d.previous()}}[C.key],W=k==null?void 0:k();W!==void 0&&(C.stopPropagation(),C.preventDefault(),d.move(W))}}});s=de(s,C=>v.jsx(en,{value:e,children:C}),[e]);const h=on(b({store:e},s)),A=e.useState("mounted"),E=Tt(A,s.hidden,o),P=E?w(b({},s.style),{display:"none"}):s.style;s=w(b({id:x,"aria-labelledby":h,hidden:E},s),{ref:Y(x?e.setContentElement:null,s.ref),style:P,onKeyDown:y});const T=!!e.combobox;return u=u??!T,u&&(s=b({role:"menu","aria-orientation":S},s)),s=Ot(b({store:e,composite:u},s)),s=fe(b({store:e,typeahead:!T},s)),s});N(function(n){const r=Ve(n);return j(rn,r)});var sn="div",un=_(function(n){var r=n,{store:e,modal:o=!1,portal:u=!!o,hideOnEscape:s=!0,autoFocusOnShow:a=!0,hideOnHoverOutside:i,alwaysVisible:d}=r,c=D(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const x=oe();e=e||x,V(e,!1);const f=M.useRef(null),l=e.parent,S=e.menubar,p=!!l,m=!!S&&!p;c=w(b({},c),{ref:Y(f,c.ref)});const y=Ve(b({store:e,alwaysVisible:d},c)),{"aria-labelledby":h}=y;c=D(y,["aria-labelledby"]);const[E,P]=M.useState(),T=e.useState("autoFocusOnShow"),C=e.useState("initialFocus"),U=e.useState("baseElement"),k=e.useState("renderedItems");M.useEffect(()=>{let F=!1;return P(O=>{var te,me,pe;if(F||!T)return;if((te=O==null?void 0:O.current)!=null&&te.isConnected)return O;const ne=M.createRef();switch(C){case"first":ne.current=((me=k.find(X=>!X.disabled&&X.element))==null?void 0:me.element)||null;break;case"last":ne.current=((pe=[...k].reverse().find(X=>!X.disabled&&X.element))==null?void 0:pe.element)||null;break;default:ne.current=U}return ne}),()=>{F=!0}},[e,T,C,k,U]);const W=p?!1:o,g=!!a,I=!!E||!!c.initialFocus||!!W,G=H(e.combobox||e,"contentElement"),q=H((l==null?void 0:l.combobox)||l,"contentElement"),ee=M.useMemo(()=>{if(!q||!G)return;const F=G.getAttribute("role"),O=q.getAttribute("role");if(!((O==="menu"||O==="menubar")&&F==="menu"))return q},[G,q]);return ee!==void 0&&(c=b({preserveTabOrderAnchor:ee},c)),c=ot(w(b({store:e,alwaysVisible:d,initialFocus:E,autoFocusOnShow:g?I&&a:T||!!W},c),{hideOnEscape(F){return ht(s,F)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(F){const O=e==null?void 0:e.getState().disclosureElement;return(typeof i=="function"?i(F):i??(p?!0:m?O?!Q(O):!0:!1))?F.defaultPrevented||!p||!O||(vt(O,"mouseout",F),!Q(O))?!0:(requestAnimationFrame(()=>{Q(O)||e==null||e.hide()}),!1):!1},modal:W,portal:u,backdrop:p?!1:c.backdrop})),c=b({"aria-labelledby":h},c),c}),an=st(N(function(n){const r=un(n);return j(sn,r)}),oe);function ln(t={}){const n=$e(t);return v.jsx(Be,{value:n,children:t.children})}var cn="button";function dn(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function xe(t,n){return!!(t!=null&&t.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true"))}var fn=_(function(n){var r=n,{store:e,focusable:o,accessibleWhenDisabled:u,showOnHover:s}=r,a=D(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const i=oe();e=e||i,V(e,!1);const d=M.useRef(null),c=e.parent,x=e.menubar,f=!!c,l=!!x&&!f,S=xt(a),p=()=>{const g=d.current;g&&(e==null||e.setDisclosureElement(g),e==null||e.setAnchorElement(g),e==null||e.show())},m=a.onFocus,y=R(g=>{if(m==null||m(g),S||g.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!x)||!l)return;const{items:I}=x.getState();xe(I,g.currentTarget)&&p()}),h=H(e,g=>g.placement.split("-")[0]),A=a.onKeyDown,E=R(g=>{if(A==null||A(g),S||g.defaultPrevented)return;const I=dn(g,h);I&&(g.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(I))}),P=a.onClick,T=R(g=>{if(P==null||P(g),g.defaultPrevented||!e)return;const I=!g.detail,{open:G}=e.getState();(!G||I)&&((!f||I)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(I?"first":"container")),f&&p()});a=de(a,g=>v.jsx(Be,{value:e,children:g}),[e]),f&&(a=w(b({},a),{render:v.jsx(le.div,{render:a.render})}));const C=De(a.id),U=H((c==null?void 0:c.combobox)||c,"contentElement"),k=f||l?Ae(U,"menuitem"):void 0,W=e.useState("contentElement");return a=w(b({id:C,role:k,"aria-haspopup":Pe(W,"menu")},a),{ref:Y(d,a.ref),onFocus:y,onKeyDown:E,onClick:T}),a=ut(w(b({store:e,focusable:o,accessibleWhenDisabled:u},a),{showOnHover:g=>{if(!(()=>{if(typeof s=="function")return s(g);if(s!=null)return s;if(f)return!0;if(!x)return!1;const{items:ee}=x.getState();return l&&xe(ee)})())return!1;const q=l?x:c;return q&&q.setActiveId(g.currentTarget.id),!0}})),a=Le(b({store:e,toggleOnClick:!f,focusable:o,accessibleWhenDisabled:u},a)),a=fe(b({store:e,typeahead:l},a)),a}),mn=N(function(n){const r=fn(n);return j(cn,r)}),pn="div";function bn(t,n,r){var e;if(!t)return!1;if(Q(t))return!0;const o=n==null?void 0:n.find(i=>{var d;return i.element===r?!1:((d=i.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),u=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!u)return!1;const a=Oe(t).getElementById(u);return a?Q(a)?!0:!!a.querySelector("[role=menuitem][aria-expanded=true]"):!1}var We=_(function(n){var r=n,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:u=!0,focusOnHover:s,blurOnHoverEnd:a}=r,i=D(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=Re(!0),c=Yt();e=e||d||c,V(e,!1);const x=i.onClick,f=ae(o),l="hideAll"in e?e.hideAll:void 0,S=!!l,p=R(h=>{x==null||x(h),!(h.defaultPrevented||gt(h)||Ct(h)||!l||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&f(h)&&l()}),m=H(e,h=>"contentElement"in h?h.contentElement:null),y=Ae(m,"menuitem");return i=w(b({role:y},i),{onClick:p}),i=Ze(b({store:e,preventScrollOnKeyDown:u},i)),i=je(w(b({store:e},i),{focusOnHover(h){const A=()=>typeof s=="function"?s(h):s??!0;if(!e||!A())return!1;const{baseElement:E,items:P}=e.getState();return S?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):bn(E,P,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof a=="function"?a(h):a??S}})),i}),hn=ce(N(function(n){const r=We(n);return j(pn,r)})),vn="div";function xn(t){return Array.isArray(t)?t.toString():t}function ue(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=xn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):r?e:t===e?!1:t}var gn=_(function(n){var r=n,{store:e,name:o,value:u,checked:s,defaultChecked:a,hideOnClick:i=!1}=r,d=D(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const c=Re();e=e||c,V(e,!1);const x=St(a);M.useEffect(()=>{e==null||e.setValue(o,(l=[])=>x?ue(l,u,!0):l)},[e,o,u,x]),M.useEffect(()=>{s!==void 0&&(e==null||e.setValue(o,l=>ue(l,u,s)))},[e,o,u,s]);const f=Wt({value:e.useState(l=>l.values[o]),setValue(l){e==null||e.setValue(o,()=>{if(s===void 0)return l;const S=ue(l,u,s);return!Array.isArray(S)||!Array.isArray(l)?S:yt(l,S)?l:S})}});return d=b({role:"menuitemcheckbox"},d),d=Nt(b({store:f,name:o,value:u,checked:s},d)),d=We(b({store:e,hideOnClick:i},d)),d}),Cn=ce(N(function(n){const r=gn(n);return j(vn,r)}));const qe=$((t,n)=>v.jsx(le.div,{role:"listitem",...t,className:B("-list-item",t.className),ref:n})),ze=$((t,n)=>{const{icon:r,label:e,description:o,...u}=t;return v.jsxs(le.span,{...u,"data-kiwi-icon":r?!0:void 0,"data-kiwi-description":o?!0:void 0,className:B("-list-item-content",t.className),ref:n,children:[r,e,o]})});$((t,n)=>v.jsx(Ue,{...t,className:B("-list-item-icon",t.className),ref:n}));$((t,n)=>v.jsx(ge,{...t,variant:"body-sm",render:v.jsx("span",{}),className:B("-list-item-label",t.className),ref:n}));$((t,n)=>v.jsx(ge,{...t,variant:"body-sm",render:v.jsx("span",{}),className:B("-list-item-description",t.className),ref:n}));function Rn(t){const{children:n,placement:r,open:e,setOpen:o,defaultOpen:u}=t,s=$e(),a=H(s,d=>d.open),i=H(s,d=>d.popoverElement);return M.useEffect(function(){var c;i!=null&&i.isConnected&&((c=i==null?void 0:i.togglePopover)==null||c.call(i,a))},[a,i]),v.jsx(ln,{store:s,placement:r,defaultOpen:u,open:e,setOpen:o,children:n})}const Bn=$((t,n)=>v.jsx(an,{portal:!be,unmountOnHide:!0,...t,gutter:4,style:{zIndex:be?void 0:9999,...t.style},wrapperProps:{popover:"manual"},className:B("-dropdown-menu",t.className),ref:n})),$n=$((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...o}=t;return v.jsx(mn,{accessibleWhenDisabled:!0,render:v.jsxs(Qe,{accessibleWhenDisabled:r,children:[e,v.jsx(Ge,{})]}),...o,className:B("-dropdown-menu-button",t.className),ref:n})}),Vn=$((t,n)=>{const{shortcuts:r,...e}=t,o=M.useMemo(()=>typeof r=="string"?r.split("+").map(s=>s.trim()):[],[r]),u=o.length>0;return v.jsxs(hn,{accessibleWhenDisabled:!0,...e,render:v.jsx(qe,{render:t.render}),className:B("-dropdown-menu-item",t.className),ref:n,children:[v.jsx(ze,{label:t.children}),u&&v.jsx("span",{className:"-dropdown-menu-item-shortcuts",children:o.map((s,a)=>v.jsx(Xe,{variant:"ghost",children:s},`${s+a}`))})]})}),Wn=$((t,n)=>v.jsxs(Cn,{accessibleWhenDisabled:!0,value:t.defaultChecked?"on":void 0,...t,render:v.jsx(qe,{render:t.render}),className:B("-dropdown-menu-item",t.className),ref:n,children:[v.jsx(ze,{label:t.children}),v.jsx(Je,{className:"-dropdown-menu-checkmark"})]}));export{Rn as D,$n as a,Bn as b,Vn as c,Wn as d};
