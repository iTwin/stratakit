import{w as _,k as B,A as R,I as d}from"./~utils-DUU6BNtr.js";import{b as a,p as e}from"./index-DDCMeoDP.js";import{E as M,a as q,T as G,b as k,c as n}from"./Tree-DOIzkXDL.js";import{p as m}from"./placeholder-BDe-GzZ9.js";import{u as y,r as H}from"./refresh-CVIscMDV.js";import{s as C}from"./visibility-show-CMY-I9kg.js";import"./AXB53BZF-DWpFeJtr.js";import"./Text-nMtCKGmW.js";import"./P4IRICAX-DXcNsFtB.js";import"./Divider-DrhaQpul.js";import"./ITI7HKP4-CMXkeUYz.js";import"./C3IKGW5T-Ci1m-Wd0.js";const te={title:"Tree"},oe=_(B(function({overflow:I=!1,selected:i=!1,description:D,error:g}){const p=I?" with a super long label that is overflown":"",v=D?"Additional description":void 0,[w,f]=a.useState(!!g),[l,h]=a.useState(()=>[{label:`Item 1${p}`,selected:!!i,expanded:!0,children:[{label:"Item 1.1",selected:!!i},{label:"Item 1.2",selected:!!i},{label:`Item 1.3${p}`,selected:!!i}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${p}`,selected:!1}]},{label:"Item 3",selected:!1},...g?Array.from({length:50}).map((o,t)=>({label:`Item ${t+4}`,selected:!1})):[]]),x=a.useId(),A=a.useRef(null),u=a.useMemo(()=>[`${x}-0-1`],[x]);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",maxBlockSize:500},children:[e.jsx(M,{label:w?"1 issue found":void 0,items:[e.jsx(q,{message:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Failed to create hierarchy for "}),e.jsx(R,{href:`#${u[0]}`,children:"Item 1.2"})]}),messageId:`${u[0]}-message`,onDismiss:()=>f(!1),actions:[e.jsx(R,{render:e.jsx("button",{}),onClick:()=>f(!1),children:"Retry"},"retry")]},"1.2")]}),e.jsx(G,{style:{maxInlineSize:I?300:void 0},children:l.map((o,t,T)=>{var E;const z=()=>{const r=l[t].selected,s=[...l];s[t].selected=!r,h(s)},F=()=>{const r=l[t].expanded;if(r===void 0)return;const s=[...l];s[t].expanded=!r,h(s)};return e.jsxs(a.Fragment,{children:[e.jsx(k,{"aria-level":1,"aria-posinset":t+1,"aria-setsize":T.length,label:o.label,description:t===0?v:void 0,expanded:o.expanded,onExpandedChange:F,selected:o.selected,onSelectedChange:z,icon:e.jsx(d,{href:m,alt:"decoration"}),actions:[e.jsx(n,{icon:y,label:"Unlock"},"unlock"),e.jsx(n,{icon:C,label:"Show"},"show")]},o.label),(E=o.children)==null?void 0:E.map((r,s,P)=>{if(!o.expanded)return null;const U=()=>{var $;const S=[...l],j=($=S[t].children)==null?void 0:$[s];j&&(j.selected=!j.selected),h(S)},b=`${x}-${t}-${s}`,c=w&&u.includes(b);return e.jsx(k,{id:c?b:void 0,"aria-level":2,"aria-posinset":s+1,"aria-setsize":P.length,label:r.label,description:s===0?v:void 0,selected:r.selected,onSelectedChange:U,unstable_decorations:s===0?e.jsxs(e.Fragment,{children:[e.jsx(d,{href:m}),e.jsx(d,{href:m})]}):e.jsx(d,{href:m}),actions:c?[e.jsx(n,{icon:H,label:"Retry",visible:!0,onClick:()=>f(!1)},"retry")]:[e.jsx(n,{icon:y,label:"Unlock"},"unlock"),e.jsx(n,{icon:C,label:"Show"},"show")],error:c?`${b}-message`:void 0,ref:c?A:void 0},r.label)})]},o.label)})})]})}));export{oe as default,te as handle};
