import{F as S,j as e,R as N,c as g}from"./ExamplePreview.BjECbAiB.js";import{A as C}from"./Anchor.MU16gV7N.js";import{r as l}from"./index.CtNveh2g.js";import{C as w}from"./collection.UZz_Yfvh.js";import{C as _}from"./Z2O3VLAQ.DxpMOY9c.js";import{b as k}from"./GVAFFF2B.Ck9UDIF7.js";import{u as L}from"./Q5W46E73.p6ZWJH4K.js";import{D as A}from"./Z32PU2LQ.CNlNuE2B.js";import{D as B}from"./APVORPDK.CiNFmju2.js";import{D as O}from"./dialog-provider.DEhQw4Hq.js";import{B as P}from"./Button.BYrdwFtj.js";import{T as h}from"./Text.D0GLZr9m.js";import{V as H}from"./VisuallyHidden.CkblKeOP.js";import{a as T}from"./IconButton.internal.D1HNMj7l.js";import{S as V,C as $}from"./~utils.icons.DAmayLW2.js";import{u as z}from"./~utils.useInit.DypSClI0.js";import{f as j}from"./styles.internal.oMsq5KxP.js";import"./preload-helper.DTEuUjVF.js";import"./index.COIpsGCK.js";import"./U6HHPQDW.CFvXNGk0.js";import"./~utils.useInit.BIDPyTGD.js";import"./WLZ6H5FH.CSmGY0Ro.js";import"./NDVACHQI.vdg5pDFx.js";import"./HMKTUWOU.plDqsGeU.js";import"./PZ3OL7I2.BMsD4eI7.js";import"./~utils.GhostAligner.3kkL0V0-.js";import"./~utils.icons.N3lKSjLH.js";import"./Icon.BAP_3frM.js";const q=j((r,o)=>{z();const{label:t,items:i=[],open:m,setOpen:c,...d}=r,u=l.useId(),v=r["aria-label"]?void 0:t?u:void 0,R=i.length>0,[p,D]=S(!1,m,c),f=l.useRef(null),I=()=>{const s=f.current;if(!s)return;const n="--ErrorRegion-pulse";s.getAnimations({subtree:!0}).find(a=>a.id===n)||s.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:n,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},x=k({setItems:s=>{const n=new Set(E.map(a=>a.id));s.filter(a=>!n.has(a.id)).length!==0&&(I(),F(t))}}),E=L(x,"items"),[b,F]=l.useState(t);return e.jsxs(e.Fragment,{children:[e.jsx(H,{"aria-live":"polite","aria-atomic":!0,children:b===t?b:void 0}),e.jsx(O,{open:p,setOpen:D,children:e.jsx(N.section,{"aria-labelledby":v,...d,className:g("ErrorRegion",r.className),"data-_sk-visible":R,"data-_sk-expanded":p,ref:o,children:e.jsxs("div",{className:"ErrorRegionContainer",ref:f,children:[e.jsxs(B,{className:"ErrorRegionHeader",render:e.jsx(P,{variant:"ghost"}),children:[e.jsx(V,{tone:"attention",className:"ErrorRegionIcon"}),e.jsx(h,{render:e.jsx("span",{}),id:u,className:"ErrorRegionLabel",variant:"body-sm",children:t}),e.jsx(T,{inert:!0,variant:"ghost",children:e.jsx($,{})})]}),e.jsx(A,{className:"ErrorRegionDialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(w,{store:x,className:"ErrorRegionItems",role:"list",children:i})})]})})})]})}),G=j((r,o)=>{const t=l.useId(),{message:i,messageId:m=`${t}-message`,actions:c,...d}=r;return e.jsxs(_,{...d,role:"listitem",className:g("ErrorRegionItem",r.className),ref:o,children:[e.jsx(h,{id:m,variant:"body-sm",children:i}),e.jsx("div",{className:"ErrorRegionItemActions",children:c})]})}),je=()=>{const r=[1,2];return e.jsx(q,{"aria-label":"Hierarchy issues",label:`${r.length} issues found`,items:r.map(o=>e.jsx(G,{message:e.jsxs(e.Fragment,{children:["Failed to create hierarchy for Item ",o]}),actions:e.jsx(C,{render:e.jsx("button",{type:"button"}),children:"Retry"})},o))})};export{je as default};
