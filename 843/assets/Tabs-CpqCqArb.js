import{a as T,o as g}from"./chunk-QMGIS6GS-BaJhsRKI.js";import{n as ce,o as J,p as le,q as M,r as R,B as ie,v as Z,w as Q,m as L,f as V,A as de,c as W}from"./sun-NTU6_aMn.js";import{r as ue,p as me,i as be,s as fe,v as ve,w as Ie}from"./~utils-Du6HIj9M.js";import{a as ee,b as te,C as U,u as pe}from"./6VRAQV3D-RJhRUVS_.js";import{I as oe,H as xe,F as A,E as O,d as N,J as X,_ as S,b,G as Y,a1 as Se,f as B,c as K,a as q,j as z,P as G,Q as se,p as Ce,q as H,m as ne,u as Pe}from"./LMDWO4NN-CcJUQKmw.js";import{c as he,a as Te,b as ge}from"./5JTVDSTH-BO2guegm.js";import{u as Ee}from"./S43UC3DV-CH_uTSsE.js";import{c as _e}from"./VDHZ5F7K-DR_Bg3el.js";import{u as Re}from"./RZ4GPYOB-C0gT-KI-.js";var we=oe([me,te],[ue,ee]),je=we.useContext;T.createContext(!1);T.createContext(null);function ye(t={}){var n=t,{composite:o,combobox:e}=n,s=xe(n,["composite","combobox"]);const r=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],f=ce(s.store,J(o,r),J(e,r)),i=f?.getState(),v=he(A(N({},s),{store:f,includesBaseElement:O(s.includesBaseElement,i?.includesBaseElement,!1),orientation:O(s.orientation,i?.orientation,"horizontal"),focusLoop:O(s.focusLoop,i?.focusLoop,!0)})),a=_e(),j=A(N({},v.getState()),{selectedId:O(s.selectedId,i?.selectedId,s.defaultSelectedId),selectOnMove:O(s.selectOnMove,i?.selectOnMove,!0)}),c=le(j,v,f);M(c,()=>R(c,["moves"],()=>{const{activeId:d,selectOnMove:m}=c.getState();if(!m||!d)return;const I=v.item(d);I&&(I.dimmed||I.disabled||c.setState("selectedId",I.id))}));let C=!0;M(c,()=>ie(c,["selectedId"],(d,m)=>{if(!C){C=!0;return}o&&d.selectedId===m.selectedId||c.setState("activeId",d.selectedId)})),M(c,()=>R(c,["selectedId","renderedItems"],d=>{if(d.selectedId!==void 0)return;const{activeId:m,renderedItems:I}=c.getState(),p=v.item(m);if(p&&!p.disabled&&!p.dimmed)c.setState("selectedId",p.id);else{const E=I.find(P=>!P.disabled&&!P.dimmed);c.setState("selectedId",E?.id)}})),M(c,()=>R(c,["renderedItems"],d=>{const m=d.renderedItems;if(m.length)return R(a,["renderedItems"],I=>{const p=I.renderedItems;p.some(P=>!P.tabId)&&p.forEach((P,y)=>{if(P.tabId)return;const k=m[y];k&&a.renderItem(A(N({},P),{tabId:k.id}))})})}));let x=null;return M(c,()=>{const d=()=>{x=c.getState().selectedId},m=()=>{C=!1,c.setState("selectedId",x)};if(o&&"setSelectElement"in o)return X(R(o,["value"],d),R(o,["mounted"],m));if(e)return X(R(e,["selectedValue"],d),R(e,["mounted"],m))}),A(N(N({},v),c),{panels:a,setSelectedId:d=>c.setState("selectedId",d),select:d=>{c.setState("selectedId",d),v.move(d)}})}function De(t,n,o){Y(n,[o.composite,o.combobox]),t=Te(t,n,o),Q(t,o,"selectedId","setSelectedId"),Q(t,o,"selectOnMove");const[e,s]=Z(()=>t.panels,{});return Y(s,[t,s]),Object.assign(T.useMemo(()=>S(b({},t),{panels:e}),[t,e]),{composite:o.composite,combobox:o.combobox})}function Le(t={}){const n=Ee(),o=je()||n;t=S(b({},t),{composite:t.composite!==void 0?t.composite:o,combobox:t.combobox!==void 0?t.combobox:n});const[e,s]=Z(ye,t);return De(e,s,t)}var $=oe([te],[ee]),ke=$.useContext,Fe=$.useScopedContext,re=$.useProviderContext,Me=$.ContextProvider,ae=$.ScopedContextProvider,Oe="button",Ne=K(function(n){var o=n,{store:e,getItem:s}=o,r=z(o,["store","getItem"]),f;const i=Fe();e=e||i,G(e,!1);const v=se(),a=r.id||v,j=Ce(r),c=T.useCallback(u=>{const w=S(b({},u),{dimmed:j});return s?s(w):w},[j,s]),C=r.onClick,x=H(u=>{C?.(u),!u.defaultPrevented&&e?.setSelectedId(a)}),d=e.panels.useState(u=>{var w;return(w=u.items.find(l=>l.tabId===a))==null?void 0:w.id}),m=v?r.shouldRegisterItem:!1,I=e.useState(u=>!!a&&u.activeId===a),p=e.useState(u=>!!a&&u.selectedId===a),E=e.useState(u=>!!e.item(u.activeId)),P=I||p&&!E,y=p||((f=r.accessibleWhenDisabled)!=null?f:!0);if(L(e.combobox||e.composite,"virtualFocus")&&(r=S(b({},r),{tabIndex:-1})),r=S(b({id:a,role:"tab","aria-selected":p,"aria-controls":d||void 0},r),{onClick:x}),e.composite){const u={id:a,accessibleWhenDisabled:y,store:e.composite,shouldRegisterItem:P&&m,rowId:r.rowId,render:r.render};r=S(b({},r),{render:g.jsx(U,S(b({},u),{render:e.combobox&&e.composite!==e.combobox?g.jsx(U,S(b({},u),{store:e.combobox})):u.render}))})}return r=pe(S(b({store:e},r),{accessibleWhenDisabled:y,getItem:c,shouldRegisterItem:m})),r}),$e=Se(B(function(n){const o=Ne(n);return q(Oe,o)}));function Ae(t={}){const n=Le(t);return g.jsx(Me,{value:n,children:t.children})}var He="div",Ve=K(function(n){var o=n,{store:e}=o,s=z(o,["store"]);const r=re();e=e||r,G(e,!1);const f=e.useState(i=>i.orientation==="both"?void 0:i.orientation);return s=ne(s,i=>g.jsx(ae,{value:e,children:i}),[e]),e.composite&&(s=b({focusable:!1},s)),s=b({role:"tablist","aria-orientation":f},s),s=ge(b({store:e},s)),s}),We=B(function(n){const o=Ve(n);return q(He,o)}),Be="div",Ke=K(function(n){var o=n,{store:e,unmountOnHide:s,tabId:r,getItem:f,scrollRestoration:i,scrollElement:v}=o,a=z(o,["store","unmountOnHide","tabId","getItem","scrollRestoration","scrollElement"]);const j=re();e=e||j,G(e,!1);const c=T.useRef(null),C=se(a.id),x=L(e.panels,()=>{var l;return r||((l=e?.panels.item(C))==null?void 0:l.tabId)}),d=L(e,l=>!!x&&l.selectedId===x),m=be({open:d}),I=L(m,"mounted"),p=T.useRef(new Map),E=H(()=>{const l=c.current;return l?v?typeof v=="function"?v(l):"current"in v?v.current:v:l:null});T.useEffect(()=>{var l,_;if(!i||!I)return;const h=E();if(!h)return;if(i==="reset"){h.scroll(0,0);return}if(!x)return;const D=p.current.get(x);h.scroll((l=D?.x)!=null?l:0,(_=D?.y)!=null?_:0);const F=()=>{p.current.set(x,{x:h.scrollLeft,y:h.scrollTop})};return h.addEventListener("scroll",F),()=>{h.removeEventListener("scroll",F)}},[i,I,x,E,e]);const[P,y]=T.useState(!1);T.useEffect(()=>{const l=c.current;if(!l)return;const _=fe(l);y(!!_.length)},[]);const k=T.useCallback(l=>{const _=S(b({},l),{id:C||l.id,tabId:r});return f?f(_):_},[C,r,f]),u=a.onKeyDown,w=H(l=>{if(u?.(l),l.defaultPrevented||!e?.composite)return;const h={ArrowLeft:e.previous,ArrowRight:e.next,Home:e.first,End:e.last}[l.key];if(!h)return;const{selectedId:D}=e.getState(),F=h({activeId:D});F&&(l.preventDefault(),e.move(F))});return a=ne(a,l=>g.jsx(ae,{value:e,children:l}),[e]),a=S(b({id:C,role:"tabpanel","aria-labelledby":x||void 0},a),{children:s&&!I?null:a.children,ref:Pe(c,a.ref),onKeyDown:w}),a=ve(b({focusable:!e.composite&&!P},a)),a=Ie(b({store:m},a)),a=Re(S(b({store:e.panels},a),{getItem:k})),a}),qe=B(function(n){const o=Ke(n);return q(Be,o)});function tt(t){const{defaultSelectedId:n,selectedId:o,setSelectedId:e,selectOnMove:s,children:r}=t;return g.jsx(Ae,{defaultSelectedId:n,selectedId:o,setSelectedId:e,selectOnMove:s,children:r})}const ot=V((t,n)=>{const{tone:o="neutral",...e}=t;return g.jsx(We,{...e,"data-kiwi-tone":o,className:W("ğŸ¥-tab-list",t.className),ref:n})}),st=V((t,n)=>{const o=ke(),e=L(o,"selectedId"),s=L(o,"baseElement");return g.jsx($e,{accessibleWhenDisabled:!0,...t,className:W("ğŸ¥-tab",t.className),onPointerDown:de(t.onPointerDown,r=>{const f=r.currentTarget;t.disabled||!f||!s||(f.dataset.selected="true")}),"data-selected":e!==t.id?"false":void 0,ref:n})}),nt=V((t,n)=>g.jsx(qe,{...t,className:W("ğŸ¥-tab-panel",t.className),ref:n}));export{tt as T,st as a,nt as b,ot as c};
