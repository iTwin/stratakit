/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/

.list {
	position: relative;
	--indent-guide-left-inset: calc(
		var(--stratakit-space-x1) +
		0.5rem
	); /* 4px button left padding + 1/2 of SVG icon size */

	/* Indent guide */
	&::before {
		content: "";
		background-color: var(--stratakit-color-border-page-base);
		inline-size: 1px;
		position: absolute;
		inset-inline: var(--indent-guide-left-inset) auto;
		inset-block: 0;
	}
}

.listItem {
	min-block-size: 2rem;
	position: relative;
	border-radius: 4px;
	padding-inline-start: calc(
		var(--stratakit-space-x2) +
		1rem
	); /* 8px padding + 1rem back icon size */

	/* Outline listItem when the listItemLink has focus */
	&:has(.listItemLink:focus-visible) {
		outline: 2px solid var(--stratakit-color-border-accent-strong);
	}

	@supports not selector(:has(+ *)) {
		&:where(:focus-within) {
			outline: 2px solid var(--stratakit-color-border-accent-strong);
		}
	}

	.listItemLink {
		/* Focus outline will be shown on the listItem */
		outline: unset;

		/* Expand hit target area */
		&::after {
			content: "";
			position: absolute;
			inset: 0;
		}
	}

	&:has([aria-current="page"]) {
		background-color: var(--stratakit-color-bg-glow-on-surface-accent-pressed);

		/* Current page line */
		&::before {
			content: "";
			background-color: var(--stratakit-color-border-accent-strong);
			block-size: 1.25rem;
			inline-size: 3px;
			border-radius: 9999px;
			position: absolute;
			inset-inline-start: calc(
				var(--indent-guide-left-inset) -
				1px
			); /* Indent guide inset - 1px for centering */
		}

		@media (forced-colors: active) {
			forced-color-adjust: none;
			background-color: SelectedItem;

			.listItemLink {
				color: SelectedItemText;
			}

			&::before {
				background-color: SelectedItemText;
			}
		}
	}
}

.rightSidebar {
	background-color: var(--stratakit-color-bg-page-depth);
	min-inline-size: min(100vi, 256px);
	overflow: auto;
	padding: var(--stratakit-space-x2);
	display: flex;
	flex-direction: column;
	row-gap: var(--stratakit-space-x2);
	border-inline-start: 1px solid var(--stratakit-color-border-neutral-muted);
	border-block-start: 1px solid var(--stratakit-color-border-neutral-muted);

	/* Hide the border off screen */
	margin-inline-start: -1px;
	margin-block-start: -1px;
}

.rightSidebarHeader {
	min-block-size: 2.5rem;
	display: flex;
	align-items: center;
}
