import{a as u,y as rn,w as on,p as a,z as an}from"./chunk-PVWAREVJ-BjpS8kwV.js";import{a as ut}from"./index-Ddw6zGfx.js";import{V as ze,I as se,B as ln,a as cn,A as dt}from"./~utils-w3ZAc9Ot.js";import{D as un}from"./Divider-Dygm1lpN.js";import{F as dn,a as fn,b as hn}from"./Field-Cj1rNMDx.js";import{S as pn,H as mn}from"./Select-zGNU1ZEH.js";import{S as Te}from"./Skeleton-Czoq24-d.js";import{I as _t,T as He,c as xn}from"./sun-Bzb-ING8.js";import{T as gn,a as bn,b as vn}from"./TextBox-BciPmosd.js";import{S as yn,l as ft,q as X,t as Je,r as Ie,d as Ye,u as Ze,v as ht,w as Sn,x as Ee,g as In,y as zn,z as pt,n as kt,A as Cn,B as Rn}from"./QueryClientProvider-C54PYtzn.js";import{T as Pn,a as jn,b as G,p as wn}from"./immer-CrRDNXu8.js";import{b as En}from"./bentley-systems-ehipH3c_.js";import{p as _n,c as kn,a as Mn,d as Nn,m as Ln,r as Tn,l as An,s as mt,h as Dn,b as Fn,f as Hn}from"./visibility-hide-C0uVJVF8.js";import{p as ve}from"./placeholder-BZEVWxK9.js";import{s as $n}from"./visibility-show-Dj8NVa-b.js";import{N as On,a as Bn,b as Un,c as Vn,d as xt,e as _e,f as ke,g as Qn}from"./NavigationRail-BDMxplYF.js";import{T as Gn,a as Me}from"./Toolbar-Cu0jBoRq.js";import{T as Wn,a as Kn,b as qn,c as Xn}from"./Tabs-DGyIn_ml.js";import{E as Jn,a as Yn}from"./ErrorRegion-DTKA2Nmn.js";import{D as Zn,a as es,b as ts,c as ns}from"./DropdownMenu-CzdSmK2L.js";import"./VOQWLFSQ-CO0e006c.js";import"./DXGKYUAD-DIg8gwdK.js";import"./AMMIPFT4-C58h5r5x.js";import"./Y62RTBST-B6sCB7JO.js";import"./Field.internal-DZx7fges.js";import"./collection-CkTYxMuu.js";import"./~utils.icons-C2wdDEsR.js";import"./~utils.icons-BmONC4kn.js";import"./SBSPVDDI-BTSnKFMi.js";import"./QHZCZ35Y-hbZ350OH.js";import"./B7UTNDHN-wLl6IJyS.js";import"./~utils.icons-BI2OU5hR.js";import"./react-Die0iGXz.js";import"./OLVWQA7U-CwZDA9Jf.js";import"./ZTXFEM5L-Cr0jOHmz.js";import"./NMGNQVTG-BNLQl2ov.js";import"./dialog-provider-CnExw3c4.js";import"./KPUWHTQJ-CdbdJRDU.js";import"./Kbd-B5g9d-L2.js";var ss=class extends yn{constructor(e,t){super(),this.options=t,this.#n=e,this.#r=null,this.#s=ft(),this.bindMethods(),this.setOptions(t)}#n;#e=void 0;#p=void 0;#t=void 0;#o;#u;#s;#r;#m;#d;#f;#a;#l;#i;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),gt(this.#e,this.options)?this.#c():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return et(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return et(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#S(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#n.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof X(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#I(),this.#e.setOptions(this.options),t._defaulted&&!Je(this.options,t)&&this.#n.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&bt(this.#e,n,this.options,t)&&this.#c(),this.updateResult(),s&&(this.#e!==n||X(this.options.enabled,this.#e)!==X(t.enabled,this.#e)||Ie(this.options.staleTime,this.#e)!==Ie(t.staleTime,this.#e))&&this.#x();const r=this.#g();s&&(this.#e!==n||X(this.options.enabled,this.#e)!==X(t.enabled,this.#e)||r!==this.#i)&&this.#b(r)}getOptimisticResult(e){const t=this.#n.getQueryCache().build(this.#n,e),n=this.createResult(t,e);return is(this,n)&&(this.#t=n,this.#u=this.options,this.#o=this.#e.state),n}getCurrentResult(){return this.#t}trackResult(e,t){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),t?.(s),s==="promise"&&!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,s))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#n.defaultQueryOptions(e),n=this.#n.getQueryCache().build(this.#n,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#c({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(e){this.#I();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ye)),t}#x(){this.#y();const e=Ie(this.options.staleTime,this.#e);if(Ze||this.#t.isStale||!ht(e))return;const n=Sn(this.#t.dataUpdatedAt,e)+1;this.#a=Ee.setTimeout(()=>{this.#t.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(e){this.#S(),this.#i=e,!(Ze||X(this.options.enabled,this.#e)===!1||!ht(this.#i)||this.#i===0)&&(this.#l=Ee.setInterval(()=>{(this.options.refetchIntervalInBackground||In.isFocused())&&this.#c()},this.#i))}#v(){this.#x(),this.#b(this.#g())}#y(){this.#a&&(Ee.clearTimeout(this.#a),this.#a=void 0)}#S(){this.#l&&(Ee.clearInterval(this.#l),this.#l=void 0)}createResult(e,t){const n=this.#e,s=this.options,r=this.#t,i=this.#o,o=this.#u,c=e!==n?e.state:this.#p,{state:p}=e;let m={...p},h=!1,d;if(t._optimisticResults){const w=this.hasListeners(),$=!w&&gt(e,t),k=w&&bt(e,n,t,s);($||k)&&(m={...m,...zn(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:S}=m;d=m.data;let j=!1;if(t.placeholderData!==void 0&&d===void 0&&S==="pending"){let w;r?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(w=r.data,j=!0):w=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,w!==void 0&&(S="success",d=pt(r?.data,w,t),h=!0)}if(t.select&&d!==void 0&&!j)if(r&&d===i?.data&&t.select===this.#m)d=this.#d;else try{this.#m=t.select,d=t.select(d),d=pt(r?.data,d,t),this.#d=d,this.#r=null}catch(w){this.#r=w}this.#r&&(b=this.#r,d=this.#d,v=Date.now(),S="error");const z=m.fetchStatus==="fetching",E=S==="pending",N=S==="error",L=E&&z,V=d!==void 0,f={status:S,fetchStatus:m.fetchStatus,isPending:E,isSuccess:S==="success",isError:N,isInitialLoading:L,isLoading:L,data:d,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:z,isRefetching:z&&!E,isLoadingError:N&&!V,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&V,isStale:st(e,t),refetch:this.refetch,promise:this.#s,isEnabled:X(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const w=A=>{f.status==="error"?A.reject(f.error):f.data!==void 0&&A.resolve(f.data)},$=()=>{const A=this.#s=f.promise=ft();w(A)},k=this.#s;switch(k.status){case"pending":e.queryHash===n.queryHash&&w(k);break;case"fulfilled":(f.status==="error"||f.data!==k.value)&&$();break;case"rejected":(f.status!=="error"||f.error!==k.reason)&&$();break}}return f}updateResult(){const e=this.#t,t=this.createResult(this.#e,this.options);if(this.#o=this.#e.state,this.#u=this.options,this.#o.data!==void 0&&(this.#f=this.#e),Je(t,e))return;this.#t=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,r=typeof s=="function"?s():s;if(r==="all"||!r&&!this.#h.size)return!0;const i=new Set(r??this.#h);return this.options.throwOnError&&i.add("error"),Object.keys(this.#t).some(o=>{const l=o;return this.#t[l]!==e[l]&&i.has(l)})};this.#z({listeners:n()})}#I(){const e=this.#n.getQueryCache().build(this.#n,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#p=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#z(e){kt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#t)}),this.#n.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function rs(e,t){return X(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gt(e,t){return rs(e,t)||e.state.data!==void 0&&et(e,t,t.refetchOnMount)}function et(e,t,n){if(X(t.enabled,e)!==!1&&Ie(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&st(e,t)}return!1}function bt(e,t,n,s){return(e!==t||X(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&st(e,n)}function st(e,t){return X(t.enabled,e)!==!1&&e.isStaleByTime(Ie(t.staleTime,e))}function is(e,t){return!Je(e.getCurrentResult(),t)}var Mt=u.createContext(!1),os=()=>u.useContext(Mt);Mt.Provider;function as(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ls=u.createContext(as()),cs=()=>u.useContext(ls),us=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ds=e=>{u.useEffect(()=>{e.clearReset()},[e])},fs=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(r&&e.data===void 0||Cn(n,[e.error,s])),hs=e=>{if(e.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ps=(e,t)=>e.isLoading&&e.isFetching&&!t,ms=(e,t)=>e?.suspense&&t.isPending,vt=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function xs(e,t,n){const s=os(),r=cs(),i=Rn(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",hs(o),us(o,r),ds(r);const l=!i.getQueryCache().get(o.queryHash),[c]=u.useState(()=>new t(i,o)),p=c.getOptimisticResult(o),m=!s&&e.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(h=>{const d=m?c.subscribe(kt.batchCalls(h)):Ye;return c.updateResult(),d},[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),u.useEffect(()=>{c.setOptions(o)},[o,c]),ms(o,p))throw vt(o,c,r);if(fs({result:p,errorResetBoundary:r,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw p.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,p),o.experimental_prefetchInRender&&!Ze&&ps(p,s)&&(l?vt(o,c,r):i.getQueryCache().get(o.queryHash)?.promise)?.catch(Ye).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?p:c.trackResult(p)}function gs(e,t){return xs(e,ss)}const $e=u.createContext(null);$e.displayName="PanelGroupContext";const H={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},rt=10,oe=u.useLayoutEffect,yt=rn.useId,bs=typeof yt=="function"?yt:()=>null;let vs=0;function it(e=null){const t=bs(),n=u.useRef(e||t||null);return n.current===null&&(n.current=""+vs++),e??n.current}function Nt({children:e,className:t="",collapsedSize:n,collapsible:s,defaultSize:r,forwardedRef:i,id:o,maxSize:l,minSize:c,onCollapse:p,onExpand:m,onResize:h,order:d,style:b,tagName:v="div",...S}){const j=u.useContext($e);if(j===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:z,expandPanel:E,getPanelSize:N,getPanelStyle:L,groupId:V,isPanelCollapsed:_,reevaluatePanelConstraints:f,registerPanel:w,resizePanel:$,unregisterPanel:k}=j,A=it(o),D=u.useRef({callbacks:{onCollapse:p,onExpand:m,onResize:h},constraints:{collapsedSize:n,collapsible:s,defaultSize:r,maxSize:l,minSize:c},id:A,idIsFromProps:o!==void 0,order:d});u.useRef({didLogMissingDefaultSizeWarning:!1}),oe(()=>{const{callbacks:U,constraints:B}=D.current,Q={...B};D.current.id=A,D.current.idIsFromProps=o!==void 0,D.current.order=d,U.onCollapse=p,U.onExpand=m,U.onResize=h,B.collapsedSize=n,B.collapsible=s,B.defaultSize=r,B.maxSize=l,B.minSize=c,(Q.collapsedSize!==B.collapsedSize||Q.collapsible!==B.collapsible||Q.maxSize!==B.maxSize||Q.minSize!==B.minSize)&&f(D.current,Q)}),oe(()=>{const U=D.current;return w(U),()=>{k(U)}},[d,A,w,k]),u.useImperativeHandle(i,()=>({collapse:()=>{z(D.current)},expand:U=>{E(D.current,U)},getId(){return A},getSize(){return N(D.current)},isCollapsed(){return _(D.current)},isExpanded(){return!_(D.current)},resize:U=>{$(D.current,U)}}),[z,E,N,_,A,$]);const re=L(D.current,r);return u.createElement(v,{...S,children:e,className:t,id:A,style:{...re,...b},[H.groupId]:V,[H.panel]:"",[H.panelCollapsible]:s||void 0,[H.panelId]:A,[H.panelSize]:parseFloat(""+re.flexGrow).toFixed(1)})}const tt=u.forwardRef((e,t)=>u.createElement(Nt,{...e,forwardedRef:t}));Nt.displayName="Panel";tt.displayName="forwardRef(Panel)";let nt=null,Le=-1,te=null;function ys(e,t,n){const s=(t&Ft)!==0,r=(t&Ht)!==0,i=(t&$t)!==0,o=(t&Ot)!==0;if(t){if(s)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Ss(){te!==null&&(document.head.removeChild(te),nt=null,te=null,Le=-1)}function Ge(e,t,n){var s,r;const i=ys(e,t);if(nt!==i){if(nt=i,te===null&&(te=document.createElement("style"),document.head.appendChild(te)),Le>=0){var o;(o=te.sheet)===null||o===void 0||o.removeRule(Le)}Le=(s=(r=te.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&s!==void 0?s:-1}}function Lt(e){return e.type==="keydown"}function Tt(e){return e.type.startsWith("pointer")}function At(e){return e.type.startsWith("mouse")}function Oe(e){if(Tt(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(At(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Is(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function zs(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Cs(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:zt(e),b:zt(t)};let s;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),s=e;R(s,"Stacking order can only be calculated for elements with a common ancestor");const r={a:It(St(n.a)),b:It(St(n.b))};if(r.a===r.b){const i=s.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let l=i.length;for(;l--;){const c=i[l];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(r.a-r.b)}const Rs=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Ps(e){var t;const n=getComputedStyle((t=Dt(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function js(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Ps(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Rs.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function St(e){let t=e.length;for(;t--;){const n=e[t];if(R(n,"Missing node"),js(n))return n}return null}function It(e){return e&&Number(getComputedStyle(e).zIndex)||0}function zt(e){const t=[];for(;e;)t.push(e),e=Dt(e);return t}function Dt(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Ft=1,Ht=2,$t=4,Ot=8,ws=Is()==="coarse";let J=[],fe=!1,ne=new Map,Be=new Map;const Ce=new Set;function Es(e,t,n,s,r){var i;const{ownerDocument:o}=t,l={direction:n,element:t,hitAreaMargins:s,setResizeHandlerState:r},c=(i=ne.get(o))!==null&&i!==void 0?i:0;return ne.set(o,c+1),Ce.add(l),Ae(),function(){var m;Be.delete(e),Ce.delete(l);const h=(m=ne.get(o))!==null&&m!==void 0?m:1;if(ne.set(o,h-1),Ae(),h===1&&ne.delete(o),J.includes(l)){const d=J.indexOf(l);d>=0&&J.splice(d,1),Ue(),r("up",!0,null)}}}function _s(e){const{target:t}=e,{x:n,y:s}=Oe(e);fe=!0,ot({target:t,x:n,y:s}),Ae(),J.length>0&&(De("down",e),Ue(),e.preventDefault(),Bt(t)||e.stopImmediatePropagation())}function We(e){const{x:t,y:n}=Oe(e);if(fe&&e.buttons===0&&(fe=!1,De("up",e)),!fe){const{target:s}=e;ot({target:s,x:t,y:n})}De("move",e),Ue(),J.length>0&&e.preventDefault()}function Ke(e){const{target:t}=e,{x:n,y:s}=Oe(e);Be.clear(),fe=!1,J.length>0&&(e.preventDefault(),Bt(t)||e.stopImmediatePropagation()),De("up",e),ot({target:t,x:n,y:s}),Ue(),Ae()}function Bt(e){let t=e;for(;t;){if(t.hasAttribute(H.resizeHandle))return!0;t=t.parentElement}return!1}function ot({target:e,x:t,y:n}){J.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),Ce.forEach(r=>{const{element:i,hitAreaMargins:o}=r,l=i.getBoundingClientRect(),{bottom:c,left:p,right:m,top:h}=l,d=ws?o.coarse:o.fine;if(t>=p-d&&t<=m+d&&n>=h-d&&n<=c+d){if(s!==null&&document.contains(s)&&i!==s&&!i.contains(s)&&!s.contains(i)&&Cs(s,i)>0){let v=s,S=!1;for(;v&&!v.contains(i);){if(zs(v.getBoundingClientRect(),l)){S=!0;break}v=v.parentElement}if(S)return}J.push(r)}})}function qe(e,t){Be.set(e,t)}function Ue(){let e=!1,t=!1;J.forEach(s=>{const{direction:r}=s;r==="horizontal"?e=!0:t=!0});let n=0;Be.forEach(s=>{n|=s}),e&&t?Ge("intersection",n):e?Ge("horizontal",n):t?Ge("vertical",n):Ss()}let Xe;function Ae(){var e;(e=Xe)===null||e===void 0||e.abort(),Xe=new AbortController;const t={capture:!0,signal:Xe.signal};Ce.size&&(fe?(J.length>0&&ne.forEach((n,s)=>{const{body:r}=s;n>0&&(r.addEventListener("contextmenu",Ke,t),r.addEventListener("pointerleave",We,t),r.addEventListener("pointermove",We,t))}),ne.forEach((n,s)=>{const{body:r}=s;r.addEventListener("pointerup",Ke,t),r.addEventListener("pointercancel",Ke,t)})):ne.forEach((n,s)=>{const{body:r}=s;n>0&&(r.addEventListener("pointerdown",_s,t),r.addEventListener("pointermove",We,t))}))}function De(e,t){Ce.forEach(n=>{const{setResizeHandlerState:s}=n,r=J.includes(n);s(e,r,t)})}function ks(){const[e,t]=u.useState(0);return u.useCallback(()=>t(n=>n+1),[])}function R(e,t){if(!e)throw console.error(t),Error(t)}function ae(e,t,n=rt){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function ee(e,t,n=rt){return ae(e,t,n)===0}function K(e,t,n){return ae(e,t,n)===0}function Ms(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){const r=e[s],i=t[s];if(!K(r,i,n))return!1}return!0}function de({panelConstraints:e,panelIndex:t,size:n}){const s=e[t];R(s!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:r=0,collapsible:i,maxSize:o=100,minSize:l=0}=s;if(ae(n,l)<0)if(i){const c=(r+l)/2;ae(n,c)<0?n=r:n=l}else n=l;return n=Math.min(o,n),n=parseFloat(n.toFixed(rt)),n}function ye({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:s,prevLayout:r,trigger:i}){if(K(e,0))return t;const o=[...t],[l,c]=s;R(l!=null,"Invalid first pivot index"),R(c!=null,"Invalid second pivot index");let p=0;if(i==="keyboard"){{const h=e<0?c:l,d=n[h];R(d,`Panel constraints not found for index ${h}`);const{collapsedSize:b=0,collapsible:v,minSize:S=0}=d;if(v){const j=t[h];if(R(j!=null,`Previous layout not found for panel index ${h}`),K(j,b)){const z=S-j;ae(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}{const h=e<0?l:c,d=n[h];R(d,`No panel constraints found for index ${h}`);const{collapsedSize:b=0,collapsible:v,minSize:S=0}=d;if(v){const j=t[h];if(R(j!=null,`Previous layout not found for panel index ${h}`),K(j,S)){const z=j-b;ae(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}}{const h=e<0?1:-1;let d=e<0?c:l,b=0;for(;;){const S=t[d];R(S!=null,`Previous layout not found for panel index ${d}`);const z=de({panelConstraints:n,panelIndex:d,size:100})-S;if(b+=z,d+=h,d<0||d>=n.length)break}const v=Math.min(Math.abs(e),Math.abs(b));e=e<0?0-v:v}{let d=e<0?l:c;for(;d>=0&&d<n.length;){const b=Math.abs(e)-Math.abs(p),v=t[d];R(v!=null,`Previous layout not found for panel index ${d}`);const S=v-b,j=de({panelConstraints:n,panelIndex:d,size:S});if(!K(v,j)&&(p+=v-j,o[d]=j,p.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?d--:d++}}if(Ms(r,o))return r;{const h=e<0?c:l,d=t[h];R(d!=null,`Previous layout not found for panel index ${h}`);const b=d+p,v=de({panelConstraints:n,panelIndex:h,size:b});if(o[h]=v,!K(v,b)){let S=b-v,z=e<0?c:l;for(;z>=0&&z<n.length;){const E=o[z];R(E!=null,`Previous layout not found for panel index ${z}`);const N=E+S,L=de({panelConstraints:n,panelIndex:z,size:N});if(K(E,L)||(S-=L-E,o[z]=L),K(S,0))break;e>0?z--:z++}}}const m=o.reduce((h,d)=>d+h,0);return K(m,100)?o:r}function Ns({layout:e,panelsArray:t,pivotIndices:n}){let s=0,r=100,i=0,o=0;const l=n[0];R(l!=null,"No pivot index found"),t.forEach((h,d)=>{const{constraints:b}=h,{maxSize:v=100,minSize:S=0}=b;d===l?(s=S,r=v):(i+=S,o+=v)});const c=Math.min(r,100-i),p=Math.max(s,100-o),m=e[l];return{valueMax:c,valueMin:p,valueNow:m}}function Re(e,t=document){return Array.from(t.querySelectorAll(`[${H.resizeHandleId}][data-panel-group-id="${e}"]`))}function Ut(e,t,n=document){const r=Re(e,n).findIndex(i=>i.getAttribute(H.resizeHandleId)===t);return r??null}function Vt(e,t,n){const s=Ut(e,t,n);return s!=null?[s,s+1]:[-1,-1]}function Ls(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function Qt(e,t=document){if(Ls(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function Pe(e,t=document){const n=t.querySelector(`[${H.resizeHandleId}="${e}"]`);return n||null}function Ts(e,t,n,s=document){var r,i,o,l;const c=Pe(t,s),p=Re(e,s),m=c?p.indexOf(c):-1,h=(r=(i=n[m])===null||i===void 0?void 0:i.id)!==null&&r!==void 0?r:null,d=(o=(l=n[m+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[h,d]}function As({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:s,panelDataArray:r,panelGroupElement:i,setLayout:o}){u.useRef({didWarnAboutMissingResizeHandle:!1}),oe(()=>{if(!i)return;const l=Re(n,i);for(let c=0;c<r.length-1;c++){const{valueMax:p,valueMin:m,valueNow:h}=Ns({layout:s,panelsArray:r,pivotIndices:[c,c+1]}),d=l[c];if(d!=null){const b=r[c];R(b,`No panel data found for index "${c}"`),d.setAttribute("aria-controls",b.id),d.setAttribute("aria-valuemax",""+Math.round(p)),d.setAttribute("aria-valuemin",""+Math.round(m)),d.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{l.forEach((c,p)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,s,r,i]),u.useEffect(()=>{if(!i)return;const l=t.current;R(l,"Eager values not found");const{panelDataArray:c}=l,p=Qt(n,i);R(p!=null,`No group found for id "${n}"`);const m=Re(n,i);R(m,`No resize handles found for group id "${n}"`);const h=m.map(d=>{const b=d.getAttribute(H.resizeHandleId);R(b,"Resize handle element has no handle id attribute");const[v,S]=Ts(n,b,c,i);if(v==null||S==null)return()=>{};const j=z=>{if(!z.defaultPrevented)switch(z.key){case"Enter":{z.preventDefault();const E=c.findIndex(N=>N.id===v);if(E>=0){const N=c[E];R(N,`No panel data found for index ${E}`);const L=s[E],{collapsedSize:V=0,collapsible:_,minSize:f=0}=N.constraints;if(L!=null&&_){const w=ye({delta:K(L,V)?f-V:V-L,initialLayout:s,panelConstraints:c.map($=>$.constraints),pivotIndices:Vt(n,b,i),prevLayout:s,trigger:"keyboard"});s!==w&&o(w)}}break}}};return d.addEventListener("keydown",j),()=>{d.removeEventListener("keydown",j)}});return()=>{h.forEach(d=>d())}},[i,e,t,n,s,r,o])}function Ct(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Gt(e,t){const n=e==="horizontal",{x:s,y:r}=Oe(t);return n?s:r}function Ds(e,t,n,s,r){const i=n==="horizontal",o=Pe(t,r);R(o,`No resize handle element found for id "${t}"`);const l=o.getAttribute(H.groupId);R(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=s;const p=Gt(n,e),m=Qt(l,r);R(m,`No group element found for id "${l}"`);const h=m.getBoundingClientRect(),d=i?h.width:h.height;return(p-c)/d*100}function Fs(e,t,n,s,r,i){if(Lt(e)){const o=n==="horizontal";let l=0;e.shiftKey?l=100:r!=null?l=r:l=10;let c=0;switch(e.key){case"ArrowDown":c=o?0:l;break;case"ArrowLeft":c=o?-l:0;break;case"ArrowRight":c=o?l:0;break;case"ArrowUp":c=o?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return s==null?0:Ds(e,t,n,s,i)}function Hs({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let s=0,r=100;for(let i=0;i<e.length;i++){const o=n[i];R(o,`Panel constraints not found for index ${i}`);const{defaultSize:l}=o;l!=null&&(s++,t[i]=l,r-=l)}for(let i=0;i<e.length;i++){const o=n[i];R(o,`Panel constraints not found for index ${i}`);const{defaultSize:l}=o;if(l!=null)continue;const c=e.length-s,p=r/c;s++,t[i]=p,r-=p}return t}function ce(e,t,n){t.forEach((s,r)=>{const i=e[r];R(i,`Panel data not found for index ${r}`);const{callbacks:o,constraints:l,id:c}=i,{collapsedSize:p=0,collapsible:m}=l,h=n[c];if(h==null||s!==h){n[c]=s;const{onCollapse:d,onExpand:b,onResize:v}=o;v&&v(s,h),m&&(d||b)&&(b&&(h==null||ee(h,p))&&!ee(s,p)&&b(),d&&(h==null||!ee(h,p))&&ee(s,p)&&d())}})}function Ne(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function $s({defaultSize:e,dragState:t,layout:n,panelData:s,panelIndex:r,precision:i=3}){const o=n[r];let l;return o==null?l=e!=null?e.toFixed(i):"1":s.length===1?l="1":l=o.toFixed(i),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Os(e,t=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function Rt(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Wt(e){return`react-resizable-panels:${e}`}function Kt(e){return e.map(t=>{const{constraints:n,id:s,idIsFromProps:r,order:i}=t;return r?s:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function qt(e,t){try{const n=Wt(e),s=t.getItem(n);if(s){const r=JSON.parse(s);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function Bs(e,t,n){var s,r;const i=(s=qt(e,n))!==null&&s!==void 0?s:{},o=Kt(t);return(r=i[o])!==null&&r!==void 0?r:null}function Us(e,t,n,s,r){var i;const o=Wt(e),l=Kt(t),c=(i=qt(e,r))!==null&&i!==void 0?i:{};c[l]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{r.setItem(o,JSON.stringify(c))}catch(p){console.error(p)}}function Pt({layout:e,panelConstraints:t}){const n=[...e],s=n.reduce((i,o)=>i+o,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!K(s,100)&&n.length>0)for(let i=0;i<t.length;i++){const o=n[i];R(o!=null,`No layout data found for index ${i}`);const l=100/s*o;n[i]=l}let r=0;for(let i=0;i<t.length;i++){const o=n[i];R(o!=null,`No layout data found for index ${i}`);const l=de({panelConstraints:t,panelIndex:i,size:o});o!=l&&(r+=o-l,n[i]=l)}if(!K(r,0))for(let i=0;i<t.length;i++){const o=n[i];R(o!=null,`No layout data found for index ${i}`);const l=o+r,c=de({panelConstraints:t,panelIndex:i,size:l});if(o!==c&&(r-=c-o,n[i]=c,K(r,0)))break}return n}const Vs=100,Se={getItem:e=>(Rt(Se),Se.getItem(e)),setItem:(e,t)=>{Rt(Se),Se.setItem(e,t)}},jt={};function Xt({autoSaveId:e=null,children:t,className:n="",direction:s,forwardedRef:r,id:i=null,onLayout:o=null,keyboardResizeBy:l=null,storage:c=Se,style:p,tagName:m="div",...h}){const d=it(i),b=u.useRef(null),[v,S]=u.useState(null),[j,z]=u.useState([]),E=ks(),N=u.useRef({}),L=u.useRef(new Map),V=u.useRef(0),_=u.useRef({autoSaveId:e,direction:s,dragState:v,id:d,keyboardResizeBy:l,onLayout:o,storage:c}),f=u.useRef({layout:j,panelDataArray:[],panelDataArrayChanged:!1});u.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),u.useImperativeHandle(r,()=>({getId:()=>_.current.id,getLayout:()=>{const{layout:x}=f.current;return x},setLayout:x=>{const{onLayout:I}=_.current,{layout:P,panelDataArray:y}=f.current,g=Pt({layout:x,panelConstraints:y.map(C=>C.constraints)});Ct(P,g)||(z(g),f.current.layout=g,I&&I(g),ce(y,g,N.current))}}),[]),oe(()=>{_.current.autoSaveId=e,_.current.direction=s,_.current.dragState=v,_.current.id=d,_.current.onLayout=o,_.current.storage=c}),As({committedValuesRef:_,eagerValuesRef:f,groupId:d,layout:j,panelDataArray:f.current.panelDataArray,setLayout:z,panelGroupElement:b.current}),u.useEffect(()=>{const{panelDataArray:x}=f.current;if(e){if(j.length===0||j.length!==x.length)return;let I=jt[e];I==null&&(I=Os(Us,Vs),jt[e]=I);const P=[...x],y=new Map(L.current);I(e,P,y,j,c)}},[e,j,c]),u.useEffect(()=>{});const w=u.useCallback(x=>{const{onLayout:I}=_.current,{layout:P,panelDataArray:y}=f.current;if(x.constraints.collapsible){const g=y.map(Y=>Y.constraints),{collapsedSize:C=0,panelSize:M,pivotIndices:O}=ie(y,x,P);if(R(M!=null,`Panel size not found for panel "${x.id}"`),!ee(M,C)){L.current.set(x.id,M);const Z=ue(y,x)===y.length-1?M-C:C-M,F=ye({delta:Z,initialLayout:P,panelConstraints:g,pivotIndices:O,prevLayout:P,trigger:"imperative-api"});Ne(P,F)||(z(F),f.current.layout=F,I&&I(F),ce(y,F,N.current))}}},[]),$=u.useCallback((x,I)=>{const{onLayout:P}=_.current,{layout:y,panelDataArray:g}=f.current;if(x.constraints.collapsible){const C=g.map(q=>q.constraints),{collapsedSize:M=0,panelSize:O=0,minSize:Y=0,pivotIndices:Z}=ie(g,x,y),F=I??Y;if(ee(O,M)){const q=L.current.get(x.id),ge=q!=null&&q>=F?q:F,Qe=ue(g,x)===g.length-1?O-ge:ge-O,W=ye({delta:Qe,initialLayout:y,panelConstraints:C,pivotIndices:Z,prevLayout:y,trigger:"imperative-api"});Ne(y,W)||(z(W),f.current.layout=W,P&&P(W),ce(g,W,N.current))}}},[]),k=u.useCallback(x=>{const{layout:I,panelDataArray:P}=f.current,{panelSize:y}=ie(P,x,I);return R(y!=null,`Panel size not found for panel "${x.id}"`),y},[]),A=u.useCallback((x,I)=>{const{panelDataArray:P}=f.current,y=ue(P,x);return $s({defaultSize:I,dragState:v,layout:j,panelData:P,panelIndex:y})},[v,j]),D=u.useCallback(x=>{const{layout:I,panelDataArray:P}=f.current,{collapsedSize:y=0,collapsible:g,panelSize:C}=ie(P,x,I);return R(C!=null,`Panel size not found for panel "${x.id}"`),g===!0&&ee(C,y)},[]),re=u.useCallback(x=>{const{layout:I,panelDataArray:P}=f.current,{collapsedSize:y=0,collapsible:g,panelSize:C}=ie(P,x,I);return R(C!=null,`Panel size not found for panel "${x.id}"`),!g||ae(C,y)>0},[]),U=u.useCallback(x=>{const{panelDataArray:I}=f.current;I.push(x),I.sort((P,y)=>{const g=P.order,C=y.order;return g==null&&C==null?0:g==null?-1:C==null?1:g-C}),f.current.panelDataArrayChanged=!0,E()},[E]);oe(()=>{if(f.current.panelDataArrayChanged){f.current.panelDataArrayChanged=!1;const{autoSaveId:x,onLayout:I,storage:P}=_.current,{layout:y,panelDataArray:g}=f.current;let C=null;if(x){const O=Bs(x,g,P);O&&(L.current=new Map(Object.entries(O.expandToSizes)),C=O.layout)}C==null&&(C=Hs({panelDataArray:g}));const M=Pt({layout:C,panelConstraints:g.map(O=>O.constraints)});Ct(y,M)||(z(M),f.current.layout=M,I&&I(M),ce(g,M,N.current))}}),oe(()=>{const x=f.current;return()=>{x.layout=[]}},[]);const B=u.useCallback(x=>{let I=!1;const P=b.current;return P&&window.getComputedStyle(P,null).getPropertyValue("direction")==="rtl"&&(I=!0),function(g){g.preventDefault();const C=b.current;if(!C)return()=>null;const{direction:M,dragState:O,id:Y,keyboardResizeBy:Z,onLayout:F}=_.current,{layout:q,panelDataArray:ge}=f.current,{initialLayout:we}=O??{},Qe=Vt(Y,x,C);let W=Fs(g,x,M,O,Z,C);const lt=M==="horizontal";lt&&I&&(W=-W);const nn=ge.map(sn=>sn.constraints),be=ye({delta:W,initialLayout:we??q,panelConstraints:nn,pivotIndices:Qe,prevLayout:q,trigger:Lt(g)?"keyboard":"mouse-or-touch"}),ct=!Ne(q,be);(Tt(g)||At(g))&&V.current!=W&&(V.current=W,!ct&&W!==0?lt?qe(x,W<0?Ft:Ht):qe(x,W<0?$t:Ot):qe(x,0)),ct&&(z(be),f.current.layout=be,F&&F(be),ce(ge,be,N.current))}},[]),Q=u.useCallback((x,I)=>{const{onLayout:P}=_.current,{layout:y,panelDataArray:g}=f.current,C=g.map(q=>q.constraints),{panelSize:M,pivotIndices:O}=ie(g,x,y);R(M!=null,`Panel size not found for panel "${x.id}"`);const Z=ue(g,x)===g.length-1?M-I:I-M,F=ye({delta:Z,initialLayout:y,panelConstraints:C,pivotIndices:O,prevLayout:y,trigger:"imperative-api"});Ne(y,F)||(z(F),f.current.layout=F,P&&P(F),ce(g,F,N.current))},[]),he=u.useCallback((x,I)=>{const{layout:P,panelDataArray:y}=f.current,{collapsedSize:g=0,collapsible:C}=I,{collapsedSize:M=0,collapsible:O,maxSize:Y=100,minSize:Z=0}=x.constraints,{panelSize:F}=ie(y,x,P);F!=null&&(C&&O&&ee(F,g)?ee(g,M)||Q(x,M):F<Z?Q(x,Z):F>Y&&Q(x,Y))},[Q]),pe=u.useCallback((x,I)=>{const{direction:P}=_.current,{layout:y}=f.current;if(!b.current)return;const g=Pe(x,b.current);R(g,`Drag handle element not found for id "${x}"`);const C=Gt(P,I);S({dragHandleId:x,dragHandleRect:g.getBoundingClientRect(),initialCursorPosition:C,initialLayout:y})},[]),me=u.useCallback(()=>{S(null)},[]),je=u.useCallback(x=>{const{panelDataArray:I}=f.current,P=ue(I,x);P>=0&&(I.splice(P,1),delete N.current[x.id],f.current.panelDataArrayChanged=!0,E())},[E]),le=u.useMemo(()=>({collapsePanel:w,direction:s,dragState:v,expandPanel:$,getPanelSize:k,getPanelStyle:A,groupId:d,isPanelCollapsed:D,isPanelExpanded:re,reevaluatePanelConstraints:he,registerPanel:U,registerResizeHandle:B,resizePanel:Q,startDragging:pe,stopDragging:me,unregisterPanel:je,panelGroupElement:b.current}),[w,v,s,$,k,A,d,D,re,he,U,B,Q,pe,me,je]),xe={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return u.createElement($e.Provider,{value:le},u.createElement(m,{...h,children:t,className:n,id:i,ref:b,style:{...xe,...p},[H.group]:"",[H.groupDirection]:s,[H.groupId]:d}))}const Jt=u.forwardRef((e,t)=>u.createElement(Xt,{...e,forwardedRef:t}));Xt.displayName="PanelGroup";Jt.displayName="forwardRef(PanelGroup)";function ue(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function ie(e,t,n){const s=ue(e,t),i=s===e.length-1?[s-1,s]:[s,s+1],o=n[s];return{...t.constraints,panelSize:o,pivotIndices:i}}function Qs({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:s}){u.useEffect(()=>{if(e||n==null||s==null)return;const r=Pe(t,s);if(r==null)return;const i=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const l=r.getAttribute(H.groupId);R(l,`No group element found for id "${l}"`);const c=Re(l,s),p=Ut(l,t,s);R(p!==null,`No resize element found for id "${t}"`);const m=o.shiftKey?p>0?p-1:c.length-1:p+1<c.length?p+1:0;c[m].focus();break}}};return r.addEventListener("keydown",i),()=>{r.removeEventListener("keydown",i)}},[s,e,t,n])}function Yt({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:s,id:r,onBlur:i,onClick:o,onDragging:l,onFocus:c,onPointerDown:p,onPointerUp:m,style:h={},tabIndex:d=0,tagName:b="div",...v}){var S,j;const z=u.useRef(null),E=u.useRef({onClick:o,onDragging:l,onPointerDown:p,onPointerUp:m});u.useEffect(()=>{E.current.onClick=o,E.current.onDragging=l,E.current.onPointerDown=p,E.current.onPointerUp=m});const N=u.useContext($e);if(N===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:L,groupId:V,registerResizeHandle:_,startDragging:f,stopDragging:w,panelGroupElement:$}=N,k=it(r),[A,D]=u.useState("inactive"),[re,U]=u.useState(!1),[B,Q]=u.useState(null),he=u.useRef({state:A});oe(()=>{he.current.state=A}),u.useEffect(()=>{if(n)Q(null);else{const le=_(k);Q(()=>le)}},[n,k,_]);const pe=(S=s?.coarse)!==null&&S!==void 0?S:15,me=(j=s?.fine)!==null&&j!==void 0?j:5;u.useEffect(()=>{if(n||B==null)return;const le=z.current;R(le,"Element ref not attached");let xe=!1;return Es(k,le,L,{coarse:pe,fine:me},(I,P,y)=>{if(!P){D("inactive");return}switch(I){case"down":{D("drag"),xe=!1,R(y,'Expected event to be defined for "down" action'),f(k,y);const{onDragging:g,onPointerDown:C}=E.current;g?.(!0),C?.();break}case"move":{const{state:g}=he.current;xe=!0,g!=="drag"&&D("hover"),R(y,'Expected event to be defined for "move" action'),B(y);break}case"up":{D("hover"),w();const{onClick:g,onDragging:C,onPointerUp:M}=E.current;C?.(!1),M?.(),xe||g?.();break}}})},[pe,L,n,me,_,k,B,f,w]),Qs({disabled:n,handleId:k,resizeHandler:B,panelGroupElement:$});const je={touchAction:"none",userSelect:"none"};return u.createElement(b,{...v,children:e,className:t,id:r,onBlur:()=>{U(!1),i?.()},onFocus:()=>{U(!0),c?.()},ref:z,role:"separator",style:{...je,...h},tabIndex:d,[H.groupDirection]:L,[H.groupId]:V,[H.resizeHandle]:"",[H.resizeHandleActive]:A==="drag"?"pointer":re?"keyboard":void 0,[H.resizeHandleEnabled]:!n,[H.resizeHandleId]:k,[H.resizeHandleState]:A})}Yt.displayName="PanelResizeHandle";const Gs="/944/assets/sandbox.model1-B8uu5h-t.json",Ws="/944/assets/sandbox.model2-Bi69Ub92.json",Ks="data:application/json;base64,ewoJIm5hbWUiOiAiRXBvY2ggU3lzdGVtIGlNb2RlbCAzIiwKCSJ2ZXJzaW9uIjogIjIwMjQgUmVmcmVzaCIsCgkiZGF0YSI6IHsKCQkiZGVmYXVsdCI6IFtdCgl9Cn0K",qs="_appLayout_1uead_5",Xs="_header_1uead_17",Js="_platformBar_1uead_30",Ys="_content_1uead_34",Zs="_leftPanel_1uead_38",er="_panelHeader_1uead_49",tr="_panelTitleWrapper_1uead_57",nr="_panelCaption_1uead_61",sr="_shiftIconRight_1uead_65",rr="_subheader_1uead_69",ir="_searchInput_1uead_85",or="_subheaderActions_1uead_89",ar="_tabList_1uead_93",lr="_emptyState_1uead_98",cr="_skeletonTree_1uead_107",ur="_skeletonTreeItem_1uead_114",dr="_canvasWrapper_1uead_128",fr="_canvas_1uead_128",hr="_splitter_1uead_165",pr="_tabPanel_1uead_191",mr="_tree_1uead_200",xr="_colorSwatch_1uead_205",T={appLayout:qs,header:Xs,platformBar:Js,content:Ys,leftPanel:Zs,panelHeader:er,panelTitleWrapper:tr,panelCaption:nr,shiftIconRight:sr,subheader:rr,searchInput:ir,subheaderActions:or,tabList:ar,emptyState:lr,skeletonTree:cr,skeletonTreeItem:ur,canvasWrapper:dr,canvas:fr,splitter:hr,tabPanel:pr,tree:mr,colorSwatch:xr},Fe={model1:{name:"Epoch System iModel 1",url:Gs},model2:{name:"Epoch System iModel 2",url:Ws},model3:{name:"Epoch System iModel 3",url:Ks}};async function gr(e){if(e in Fe){const t=await fetch(Fe[e].url).then(n=>n.json());return t.slow&&await new Promise(n=>setTimeout(n,Math.random()*2e3)),t}return{name:"Unknown",version:"Unknown",data:{default:[]}}}const Zt="StrataKit sandbox",zi=()=>[{title:Zt}],Ci=on(function(){return a.jsxs("div",{className:T.appLayout,children:[a.jsx(vr,{}),a.jsx(br,{}),a.jsxs(Jt,{direction:"horizontal",className:T.content,keyboardResizeBy:2.5,children:[a.jsxs("nav",{"aria-label":"Left panel",style:{display:"contents"},children:[a.jsx(tt,{defaultSize:20,minSize:15,maxSize:35,className:T.leftPanel,children:a.jsx(Sr,{})}),a.jsx(zr,{})]}),a.jsx(tt,{className:T.canvasWrapper,tagName:"main",children:a.jsx(yr,{})})]})]})});function br(){return a.jsx("header",{className:T.header,children:a.jsx(He,{render:a.jsx("h1",{}),variant:"body-md",children:Zt})})}function vr(){return a.jsxs(On,{className:T.platformBar,children:[a.jsxs(Bn,{children:[a.jsx(_t,{href:`${En}#icon-large`,size:"large"}),a.jsx(Un,{})]}),a.jsxs(Vn,{children:[a.jsxs(xt,{children:[a.jsx(_e,{children:a.jsx(ke,{icon:ve,label:"Item #1"})}),a.jsx(_e,{children:a.jsx(ke,{icon:ve,label:"Item #2"})}),a.jsx(_e,{children:a.jsx(ke,{icon:ve,label:"Item #3"})})]}),a.jsxs(Qn,{children:[a.jsx(un,{}),a.jsx(xt,{children:a.jsx(_e,{children:a.jsx(ke,{icon:ve,label:"Item #4"})})})]})]})]})}function yr(){return a.jsx("div",{className:T.canvas,children:a.jsxs(Gn,{variant:"solid",children:[a.jsx(Me,{render:a.jsx(se,{label:"Select",icon:`${kn}#icon-large`,variant:"ghost"})}),a.jsx(Me,{render:a.jsx(se,{label:"Move",icon:`${Mn}#icon-large`,variant:"ghost"})}),a.jsx(Me,{render:a.jsx(se,{label:"Draw",icon:`${Nn}#icon-large`,variant:"ghost"})}),a.jsx(Me,{render:a.jsx(se,{label:"Measure",icon:`${Ln}#icon-large`,variant:"ghost"})})]})})}function Sr(){const[e,t]=an(),n=e.get("model")||"model1",s=gs({queryKey:["sandbox-data",n],queryFn:()=>gr(n),staleTime:Number.POSITIVE_INFINITY});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:T.panelHeader,children:[a.jsxs("div",{children:[a.jsxs(dn,{children:[a.jsx(ze,{render:a.jsx(fn,{}),children:"Choose Model"}),a.jsx(hn,{render:r=>a.jsx(pn,{className:T.panelTitleWrapper,children:a.jsx(mn,{...r,variant:"ghost",defaultValue:n,onChange:i=>t({model:i.currentTarget.value}),children:Object.entries(Fe).map(([i,{name:o}])=>a.jsx("option",{value:i,children:o},i))})})})]}),a.jsxs("hgroup",{role:"group",children:[a.jsx(ze,{render:a.jsx("h2",{}),children:Fe[n]?.name}),a.jsx(u.Suspense,{fallback:a.jsx(Te,{variant:"text"}),children:a.jsx(Pr,{query:s})},n)]})]}),a.jsx("div",{children:a.jsx(se,{className:T.shiftIconRight,icon:_n,label:"Dock panel",variant:"ghost",disabled:!0})})]}),a.jsx(u.Suspense,{fallback:a.jsx(Cr,{}),children:a.jsx(Ir,{query:s})},n)]})}function Ir(e){const{data:t}=u.use(e.query.promise);return a.jsx(Ar,{defaultVisible:Object.keys(t).length!==1,children:a.jsx(jr,{data:t})})}function zr(){const e=u.useId();return u.useEffect(()=>{Pe(e)?.setAttribute("role","slider")},[e]),a.jsx(Yt,{id:e,hitAreaMargins:{fine:2,coarse:12},className:T.splitter,"aria-label":"Resize left panel"})}function Cr(){const e=[1,1,2,2,3,2,3,2,1,1,2,3,4,5,2,3,4,5];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:T.subheader,children:a.jsx(Te,{variant:"text"})}),a.jsxs("div",{className:T.skeletonTree,children:[e.map((t,n)=>a.jsx(Rr,{style:{"--level":t}},`${n}-${t}`)),a.jsx(ze,{children:"Loadingâ€¦"})]})]})}function Rr(e){return a.jsxs("div",{...e,className:xn(T.skeletonTreeItem,e.className),children:[a.jsx(Te,{variant:"object",size:"small"}),a.jsx(Te,{variant:"text"})]})}function Pr(e){const{version:t=""}=u.use(e.query.promise);return a.jsx(He,{className:T.panelCaption,variant:"body-sm",render:a.jsx("p",{}),children:t})}function jr(e){const{isSearchboxVisible:t}=u.useContext(at),n=u.useMemo(()=>Object.entries(e.data).map(([o,l])=>{const c=l.length<=1?[]:l.map(({label:p})=>p);return{name:o,filters:c,content:l.length>0?a.jsx(Nr,{data:l}):a.jsxs(wr,{children:[a.jsx(He,{variant:"body-sm",children:"No layers"}),a.jsx(ln,{children:"Create a layer"})]})}}),[e.data]),[s,r]=u.useState(n[0]?.name),i=u.useMemo(()=>s?n.find(o=>o.name===s)?.filters||[]:n[0].filters,[n,s]);return n.length===1?a.jsxs(Et,{allFilters:i,children:[a.jsx(wt,{}),n[0].content]}):a.jsx(Et,{allFilters:i,children:a.jsxs(Wn,{selectOnMove:!1,setSelectedId:r,children:[a.jsx(wt,{tabs:n.map(o=>a.jsx(Kn,{id:o.name,children:cn(o.name)},o.name))}),n.map(o=>a.jsx(qn,{role:t?"group":"tabpanel","aria-label":t?o.name:void 0,tabId:o.name,className:T.tabPanel,focusable:!1,unmountOnHide:!0,children:o.content},o.name))]})})}function wr({children:e}){return a.jsx("div",{className:T.emptyState,children:e})}function Er(){return a.jsx("div",{style:{textAlign:"center"},children:a.jsx(He,{variant:"body-sm",children:"No results found"})})}const en=(()=>{let e=0;return t=>({id:`${e++}`,label:`Tree Item ${e}`,expanded:!0,...t,items:(t?.items??[]).map(en)})})();function _r({items:e,filters:t,search:n,errorIds:s}){const r=u.useMemo(()=>t.length===0?e:e.reduce((l,c)=>(t.includes(c.label)&&l.push(c),l),[]),[e,t]),i=u.useMemo(()=>{function l(c){return c.reduce((p,m)=>{const d=s.includes(m.id)?[]:l(m.items??[]);return(m.label.toLowerCase().includes(n.toLowerCase())||d.length>0)&&p.push({...m,items:d}),p},[])}return n===""&&s.length===0?r:l(r)},[r,n,s]),o=u.useMemo(()=>{if(t.length===0&&n==="")return;function l(c){return c.reduce((p,m)=>{const h=m.items?l(m.items):0;return p+1+h},0)}return l(i)},[i,t,n]);return{filteredTree:i,itemCount:o}}function kr(e,t){return u.useMemo(()=>{function n(s){return s.reduce((r,i)=>(t.includes(i.id)&&r.push(i),i.items&&r.push(...n(i.items)),r),[])}return n(e)},[e,t])}function Mr(e,t,n){return u.useMemo(()=>{function s(r,i,o,l,c){const p=[];let m=1;for(const h of r){const d=h.id===t||l,b=n.includes(h.id)||c;p.push({...h,level:o,parentItem:i,selected:d,hidden:b,parentHidden:c,position:m++,size:r.length}),h.expanded&&p.push(...s(h.items,h,o+1,d,b))}return p}return s(e,void 0,1,!1,!1)},[e,t,n])}function tn(e,t){for(const n of e){if(n.id===t)return n;const s=tn(n.items,t);if(s)return s}}function Nr({data:e}){const{appliedFilters:t,search:n,setItemCount:s}=u.useContext(Ve),r=u.useId(),[i,o]=u.useState(),[l,c]=u.useState([]),p=u.useCallback(f=>{c(w=>w.includes(f)?w.filter($=>$!==f):[...w,f])},[]),[m,h]=u.useState(()=>e.map(f=>en(f))),[d,b]=u.useState(["benstr","benroad"]),v=kr(m,d),S=u.useMemo(()=>v.filter(f=>f.expanded),[v]),j=u.useMemo(()=>S.map(f=>f.id),[S]),{filteredTree:z,itemCount:E}=_r({items:m,filters:t,search:n,errorIds:j}),N=Mr(z,i,l);u.useEffect(()=>{s(E)},[s,E]);const L=S.length,V=u.useMemo(()=>{if(L!==0)return L===1?"1 issue found":`${L} issues found`},[L]),_=u.useDeferredValue(N);return _.length===0?a.jsx(Er,{}):a.jsxs(u.Suspense,{fallback:"Loading...",children:[a.jsx(Jn,{"aria-label":"Tree errors",label:V,items:S.map(f=>{const w=`${r}-${f.id}`;return a.jsx(Yn,{message:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Failed to create hierarchy for "}),a.jsx(dt,{href:`#${w}`,children:f.label})]}),messageId:`${w}-message`,actions:a.jsx(dt,{render:a.jsx("button",{}),onClick:()=>{b($=>$.filter(k=>k!==f.id))},children:"Retry"},"retry")},f.id)})}),a.jsx(Pn,{className:T.tree,children:_.map(f=>{const w=S.find(k=>k.id===f.id),$=w?`${r}-${f.id}`:void 0;return a.jsx(jn,{id:$,label:f.label,description:f.description,"aria-level":f.level,"aria-posinset":f.position,"aria-setsize":f.size,selected:f.selected,onSelectedChange:()=>{if(i===f.id){o(void 0);return}o(f.id)},expanded:f.items.length===0&&!w?void 0:f.expanded,onExpandedChange:k=>{h(wn(A=>{const D=tn(A,f.id);D&&(D.expanded=k)}))},unstable_decorations:a.jsxs(a.Fragment,{children:[f.color?a.jsx(Dr,{color:f.color,alt:f.color}):null,a.jsx(_t,{href:ve})]}),inlineActions:w?[a.jsx(G,{icon:Tn,label:"Retry",onClick:()=>{b(k=>k.filter(A=>A!==f.id))}},"retry")]:[a.jsx(G,{icon:An,label:"Lock"},"lock"),a.jsx(Lr,{item:f,onClick:p},"visibility")],actions:[a.jsx(G,{label:"Copy"},"copy"),a.jsx(G,{label:"Paste"},"paste"),a.jsx(G,{label:"Copy/Paste as"},"copy-paste"),a.jsx(G,{label:"Move to"},"move"),a.jsx(G,{label:"Bring to front"},"bring-to-front"),a.jsx(G,{label:"Send to back"},"send-to-back"),a.jsx(G,{label:"Group selection"},"group"),a.jsx(G,{label:"Ungroup"},"ungroup"),a.jsx(G,{label:"Rename"},"rename"),a.jsx(G,{label:"Show/hide"},"show-hide"),a.jsx(G,{label:"Lock/unlock"},"lock-unlock"),a.jsx(G,{label:"Isolate object"},"isolate")],error:w?`${$}-message`:void 0},f.id)})})]})}function Lr({item:e,onClick:t}){return a.jsx(G,{icon:e.hidden?Dn:$n,label:e.hidden?"Show":"Hide",visible:e.hidden?!0:void 0,onClick:u.useCallback(()=>{t(e.id)},[t,e.id]),dot:e.hidden?"Hidden":void 0},"visibility")}function wt({tabs:e}){const{itemCount:t,isFiltered:n,search:s,setSearch:r}=u.useContext(Ve),{isSearchboxVisible:i,setIsSearchboxVisible:o}=u.useContext(at),l=u.useRef(null),c=u.useRef(null),p=n||!!s,m=i?a.jsxs(a.Fragment,{children:[a.jsx(Tr,{}),e?a.jsx(se,{className:T.shiftIconRight,icon:Fn,label:"Close",variant:"ghost",onClick:()=>{ut.flushSync(()=>o(!1)),c.current?.focus()}}):null]}):a.jsx(se,{className:T.shiftIconRight,icon:mt,label:"Search",dot:p?"Some filters or search applied":void 0,variant:"ghost",onClick:()=>{ut.flushSync(()=>o(!0)),l.current?.focus()}}),h=u.useMemo(()=>{if(n)return t===void 0?"Showing all tree items":`Showing ${t} tree items`},[n,t]);return a.jsxs("div",{className:T.subheader,children:[a.jsx(ze,{"aria-live":"polite","aria-atomic":!0,children:h}),e&&!i?a.jsx(Xn,{className:T.tabList,tone:"accent",ref:c,children:e}):null,i?a.jsxs(gn,{className:T.searchInput,children:[a.jsx(bn,{href:mt}),a.jsx(vn,{placeholder:"Search",ref:l,onChange:d=>r(d.currentTarget.value)})]}):null,a.jsx("div",{className:T.subheaderActions,children:m})]})}function Tr(){const e=u.useContext(Ve),t=e.appliedFilters.length>0;return a.jsxs(Zn,{children:[a.jsx(es,{render:a.jsx(se,{icon:Hn,label:"Filter",dot:t?"Some filters applied":void 0,variant:"ghost",disabled:e.allFilters.length===0})}),a.jsx(ts,{children:e.allFilters.map(n=>{const s=e.appliedFilters.includes(n);return a.jsx(ns,{name:n,label:n,checked:s,onChange:()=>{e.toggleFilter(n)}},n)})})]})}function Et(e){const[t,n]=u.useState(!1),[s,r]=u.useState([]),[i,o]=u.useState(""),[l,c]=u.useState(void 0),p=u.useCallback(d=>{const b=s.includes(d)?s.filter(v=>v!==d):[...s,d];r(b),n(b.length>0)},[s]),m=u.useCallback(()=>{r([]),n(!1)},[]),h=u.useCallback(d=>{o(d),n(!!d)},[]);return a.jsx(Ve.Provider,{value:u.useMemo(()=>({allFilters:e.allFilters,appliedFilters:s,isFiltered:t,toggleFilter:p,clearFilters:m,search:i,setSearch:h,itemCount:l,setItemCount:c}),[e.allFilters,s,t,p,m,i,h,l]),children:e.children})}const Ve=u.createContext({allFilters:[],appliedFilters:[],isFiltered:!1,toggleFilter:()=>{},clearFilters:()=>{},search:"",setSearch:()=>{},itemCount:void 0,setItemCount:()=>{}});function Ar(e){const[t,n]=u.useState(!e.defaultVisible);return a.jsx(at.Provider,{value:u.useMemo(()=>({isSearchboxVisible:t,setIsSearchboxVisible:n}),[t]),children:e.children})}const at=u.createContext({isSearchboxVisible:!1,setIsSearchboxVisible:()=>{}});function Dr(e){return a.jsx("div",{className:T.colorSwatch,style:{"--_color":`var(--_color--${e.color})`},children:e.alt?a.jsx(ze,{children:e.alt}):null})}export{Ci as default,zi as meta};
