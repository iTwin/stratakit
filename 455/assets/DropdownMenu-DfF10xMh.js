import{a as P,n as h}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{c as X}from"./~utils-CCrPQz5W.js";import{L as Ce,a as Se,b as le}from"./~utils.ListItem-ieEnOIhE.js";import{B as ze}from"./Button-iBzWafta.js";import{p as Ge,K as be}from"./Kbd-2KTav4WV.js";import{a as Je,I as Qe,C as Xe}from"./Icon-BHdkliwN.js";import{f as J}from"./~utils-3Et83cKp.js";import{b as Ye}from"./~hooks-B6pFBEer.js";import{C as ye,a as Me,u as Pe,f as Ze,b as et}from"./P2CTZE2T-DmmzO7xF.js";import{H as tt,a as rt,c as nt,u as ot,b as st,d as ut,e as at}from"./BYC7LY2E-DZZeGCNl.js";import{e as W,g as z,h as L,u as we,i as Oe,j as it,k as lt,l as w,d as v,c as F,_ as A,m as $,n as K,o as Ee,s as ct,r as Ae,p as dt,q as ft,t as mt,f as _,b as j,v as De,x as ce,y as Y,z as pt,A as vt,B as ke,C as bt,D as Ie,E as ht,F as ae,G as xt,H as gt,I as de,J as Ct,K as St,L as yt,M as Mt}from"./LMDWO4NN-Dg-CmVu9.js";import{c as Pt,u as wt,a as Ot}from"./ITI7HKP4-DyJ0qa0B.js";import{i as Et,b as At}from"./VGCJ63VH-B_HxEu7q.js";import{t as Dt,c as Te,u as He,a as Fe,m as kt,o as It,p as Tt,s as he,b as xe,d as R}from"./YV4JVR4I-DPjYyIBF.js";import{h as G,a as Ht}from"./LVA2YJMS-Poy2N9Zq.js";import{u as Ft}from"./VEVQD5MH-Chb3hMgq.js";import{u as _t}from"./P4IRICAX-BMNpAS2d.js";import{u as _e,P as jt}from"./MTZPJQMC-DyHagAf_.js";import{R as Lt}from"./XL7CSKGW-UlgSkSI6.js";import{u as Nt}from"./ASMQKSDT-Bn53RVEK.js";function Kt(t={}){var n;Dt(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:W(t.value,r==null?void 0:r.value,t.defaultValue,!1)},o=Te(e,t.store);return z(L({},o),{setValue:s=>o.setState("value",s)})}function Rt(t,n,r){return we(n,[r.store]),Fe(t,r,"value","setValue"),t}function $t(t={}){const[n,r]=He(Kt,t);return Rt(n,r,t)}var je=Oe([Me],[ye]),Bt=je.useContext,Vt=je.useScopedContext;P.createContext(void 0);var Z=Oe([Me,rt],[ye,tt]),fe=Z.useContext,Le=Z.useScopedContext,oe=Z.useProviderContext,Ne=Z.ContextProvider,Wt=Z.ScopedContextProvider;P.createContext(void 0);function qt(t={}){var n=t,{combobox:r,parent:e,menubar:o}=n,s=it(n,["combobox","parent","menubar"]);const u=!!o&&!e,a=kt(s.store,Tt(e,["values"]),It(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),c=a.getState(),d=Pt(z(L({},s),{store:a,orientation:W(s.orientation,c.orientation,"vertical")})),l=nt(z(L({},s),{store:a,placement:W(s.placement,c.placement,"bottom-start"),timeout:W(s.timeout,c.timeout,u?0:150),hideTimeout:W(s.hideTimeout,c.hideTimeout,0)})),x=z(L(L({},d.getState()),l.getState()),{initialFocus:W(c.initialFocus,"container"),values:W(s.values,c.values,s.defaultValues,{})}),f=Te(x,d,l,a);return he(f,()=>xe(f,["mounted"],i=>{i.mounted||f.setState("activeId",null)})),he(f,()=>xe(e,["orientation"],i=>{f.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),z(L(L(L({},d),l),f),{combobox:r,parent:e,menubar:o,hideAll:()=>{l.hide(),e==null||e.hideAll()},setInitialFocus:i=>f.setState("initialFocus",i),setValues:i=>f.setState("values",i),setValue:(i,S)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||f.setState("values",p=>{const m=p[i],y=lt(S,m);return y===m?p:z(L({},p),{[i]:y!==void 0&&y})}))}})}function Ut(t,n,r){return we(n,[r.combobox,r.parent,r.menubar]),Fe(t,r,"values","setValues"),Object.assign(ot(wt(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function zt(t={}){const n=fe(),r=Bt(),e=Ft();t=w(v({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=He(qt,t);return Ut(o,s,t)}var Gt="div",N="";function se(){N=""}function Jt(t){const n=t.target;return n&&dt(n)?!1:t.key===" "&&N.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Qt(t,n){if(ft(t))return!0;const r=t.target;return r?n.some(o=>o.element===r):!1}function Xt(t){return t.filter(n=>!n.disabled)}function ne(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?mt(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function Yt(t,n,r){if(!r)return t;const e=t.find(o=>o.id===r);return!e||!ne(e,n)||N!==n&&ne(e,N)?t:(N=n,Ze(t.filter(o=>ne(o,N)),r).filter(o=>o.id!==r))}var me=F(function(n){var r=n,{store:e,typeahead:o=!0}=r,s=A(r,["store","typeahead"]);const u=Pe();e=e||u,$(e,!1);const a=s.onKeyDownCapture,c=P.useRef(0),d=K(l=>{if(a==null||a(l),l.defaultPrevented||!o||!e)return;if(!Jt(l))return se();const{renderedItems:x,items:f,activeId:i,id:S}=e.getState();let p=Xt(f.length>x.length?f:x);const m=Ee(l.currentTarget),y=`[data-offscreen-id="${S}"]`,b=m.querySelectorAll(y);for(const M of b){const T=M.ariaDisabled==="true"||"disabled"in M&&!!M.disabled;p.push({id:M.id,element:M,disabled:T})}if(b.length&&(p=ct(p,M=>M.element)),!Qt(l,p))return se();l.preventDefault(),window.clearTimeout(c.current),c.current=window.setTimeout(()=>{N=""},500);const D=l.key.toLowerCase();N+=D,p=Yt(p,D,i);const E=p.find(M=>ne(M,N));E?e.move(E.id):se()});return s=w(v({},s),{onKeyDownCapture:d}),Ae(s)});_(function(n){const r=me(n);return j(Gt,r)});var Zt="div";function er(t){var n=t,{store:r}=n,e=A(n,["store"]);const[o,s]=P.useState(void 0),u=e["aria-label"],a=R(r,"disclosureElement"),c=R(r,"contentElement");return P.useEffect(()=>{const d=a;if(!d)return;const l=c;if(!l)return;u||l.hasAttribute("aria-label")?s(void 0):d.id&&s(d.id)},[u,a,c]),o}var Ke=F(function(n){var r=n,{store:e,alwaysVisible:o,composite:s}=r,u=A(r,["store","alwaysVisible","composite"]);const a=oe();e=e||a,$(e,!1);const c=e.parent,d=e.menubar,l=!!c,x=De(u.id),f=u.onKeyDown,i=e.useState(C=>C.placement.split("-")[0]),S=e.useState(C=>C.orientation==="both"?void 0:C.orientation),p=S!=="vertical",m=R(d,C=>!!C&&C.orientation!=="vertical"),y=K(C=>{if(f==null||f(C),!C.defaultPrevented){if(l||d&&!p){const k={ArrowRight:()=>i==="left"&&!p,ArrowLeft:()=>i==="right"&&!p,ArrowUp:()=>i==="bottom"&&p,ArrowDown:()=>i==="top"&&p}[C.key];if(k!=null&&k())return C.stopPropagation(),C.preventDefault(),e==null?void 0:e.hide()}if(d){const k={ArrowRight:()=>{if(m)return d.next()},ArrowLeft:()=>{if(m)return d.previous()},ArrowDown:()=>{if(!m)return d.next()},ArrowUp:()=>{if(!m)return d.previous()}}[C.key],B=k==null?void 0:k();B!==void 0&&(C.stopPropagation(),C.preventDefault(),d.move(B))}}});u=ce(u,C=>h.jsx(Wt,{value:e,children:C}),[e]);const b=er(v({store:e},u)),D=e.useState("mounted"),E=Et(D,u.hidden,o),M=E?w(v({},u.style),{display:"none"}):u.style;u=w(v({id:x,"aria-labelledby":b,hidden:E},u),{ref:Y(x?e.setContentElement:null,u.ref),style:M,onKeyDown:y});const T=!!e.combobox;return s=s??!T,s&&(u=v({role:"menu","aria-orientation":S},u)),u=Ot(v({store:e,composite:s},u)),u=me(v({store:e,typeahead:!T},u)),u});_(function(n){const r=Ke(n);return j(Zt,r)});var tr="div",rr=F(function(n){var r=n,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:u=!0,autoFocusOnShow:a=!0,hideOnHoverOutside:c,alwaysVisible:d}=r,l=A(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const x=oe();e=e||x,$(e,!1);const f=P.useRef(null),i=e.parent,S=e.menubar,p=!!i,m=!!S&&!p;l=w(v({},l),{ref:Y(f,l.ref)});const y=Ke(v({store:e,alwaysVisible:d},l)),{"aria-labelledby":b}=y;l=A(y,["aria-labelledby"]);const[E,M]=P.useState(),T=e.useState("autoFocusOnShow"),C=e.useState("initialFocus"),q=e.useState("baseElement"),k=e.useState("renderedItems");P.useEffect(()=>{let H=!1;return M(O=>{var te,pe,ve;if(H||!T)return;if((te=O==null?void 0:O.current)!=null&&te.isConnected)return O;const re=P.createRef();switch(C){case"first":re.current=((pe=k.find(Q=>!Q.disabled&&Q.element))==null?void 0:pe.element)||null;break;case"last":re.current=((ve=[...k].reverse().find(Q=>!Q.disabled&&Q.element))==null?void 0:ve.element)||null;break;default:re.current=q}return re}),()=>{H=!0}},[e,T,C,k,q]);const B=p?!1:o,g=!!a,I=!!E||!!l.initialFocus||!!B,U=R(e.combobox||e,"contentElement"),V=R((i==null?void 0:i.combobox)||i,"contentElement"),ee=P.useMemo(()=>{if(!V||!U)return;const H=U.getAttribute("role"),O=V.getAttribute("role");if(!((O==="menu"||O==="menubar")&&H==="menu"))return V},[U,V]);return ee!==void 0&&(l=v({preserveTabOrderAnchor:ee},l)),l=ut(w(v({store:e,alwaysVisible:d,initialFocus:E,autoFocusOnShow:g?I&&a:T||!!B},l),{hideOnEscape(H){return vt(u,H)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(H){const O=e==null?void 0:e.getState().disclosureElement;return(typeof c=="function"?c(H):c??(p?!0:m?O?!G(O):!0:!1))?H.defaultPrevented||!p||!O||(pt(O,"mouseout",H),!G(O))?!0:(requestAnimationFrame(()=>{G(O)||e==null||e.hide()}),!1):!1},modal:B,portal:s,backdrop:p?!1:l.backdrop})),l=v({"aria-labelledby":b},l),l}),nr=st(_(function(n){const r=rr(n);return j(tr,r)}),oe);function or(t={}){const n=zt(t);return h.jsx(Ne,{value:n,children:t.children})}var sr="button",Re=F(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=At();e=e||s,$(e,!1);const u=e.useState("contentElement");return o=v({"aria-haspopup":ke(u,"dialog")},o),o=_t(v({store:e},o)),o});_(function(n){const r=Re(n);return j(sr,r)});var ur="div",$e=F(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=_e();return e=e||s,o=w(v({},o),{ref:Y(e==null?void 0:e.setAnchorElement,o.ref)}),o});_(function(n){const r=$e(n);return j(ur,r)});var ar="button",Be=F(function(n){var r=n,{store:e}=r,o=A(r,["store"]);const s=_e();e=e||s,$(e,!1);const u=o.onClick,a=K(c=>{e==null||e.setAnchorElement(c.currentTarget),u==null||u(c)});return o=ce(o,c=>h.jsx(jt,{value:e,children:c}),[e]),o=w(v({},o),{onClick:a}),o=$e(v({store:e},o)),o=Re(v({store:e},o)),o});_(function(n){const r=Be(n);return j(ar,r)});var ir="button";function lr(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function ge(t,n){return!!(t!=null&&t.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true"))}var cr=F(function(n){var r=n,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:u}=r,a=A(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const c=oe();e=e||c,$(e,!1);const d=P.useRef(null),l=e.parent,x=e.menubar,f=!!l,i=!!x&&!f,S=bt(a),p=()=>{const g=d.current;g&&(e==null||e.setDisclosureElement(g),e==null||e.setAnchorElement(g),e==null||e.show())},m=a.onFocus,y=K(g=>{if(m==null||m(g),S||g.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!x)||!i)return;const{items:I}=x.getState();ge(I,g.currentTarget)&&p()}),b=R(e,g=>g.placement.split("-")[0]),D=a.onKeyDown,E=K(g=>{if(D==null||D(g),S||g.defaultPrevented)return;const I=lr(g,b);I&&(g.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(I))}),M=a.onClick,T=K(g=>{if(M==null||M(g),g.defaultPrevented||!e)return;const I=!g.detail,{open:U}=e.getState();(!U||I)&&((!f||I)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(I?"first":"container")),f&&p()});a=ce(a,g=>h.jsx(Ne,{value:e,children:g}),[e]),f&&(a=w(v({},a),{render:h.jsx(Lt.div,{render:a.render})}));const C=De(a.id),q=R((l==null?void 0:l.combobox)||l,"contentElement"),k=f||i?Ie(q,"menuitem"):void 0,B=e.useState("contentElement");return a=w(v({id:C,role:k,"aria-haspopup":ke(B,"menu")},a),{ref:Y(d,a.ref),onFocus:y,onKeyDown:E,onClick:T}),a=at(w(v({store:e,focusable:o,accessibleWhenDisabled:s},a),{showOnHover:g=>{if(!(()=>{if(typeof u=="function")return u(g);if(u!=null)return u;if(f)return!0;if(!x)return!1;const{items:ee}=x.getState();return i&&ge(ee)})())return!1;const V=i?x:l;return V&&V.setActiveId(g.currentTarget.id),!0}})),a=Be(v({store:e,toggleOnClick:!f,focusable:o,accessibleWhenDisabled:s},a)),a=me(v({store:e,typeahead:i},a)),a}),dr=_(function(n){const r=cr(n);return j(ir,r)}),fr="div";function Ve(t){const n=t.relatedTarget;return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE?n:null}function mr(t){const n=Ve(t);return n?xt(t.currentTarget,n):!1}var ie=Symbol("composite-hover");function pr(t){let n=Ve(t);if(!n)return!1;do{if(gt(n,ie)&&n[ie])return!0;n=n.parentElement}while(n);return!1}var We=F(function(n){var r=n,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,u=A(r,["store","focusOnHover","blurOnHoverEnd"]);const a=Pe();e=e||a,$(e,!1);const c=ht(),d=u.onMouseMove,l=ae(o),x=K(m=>{if(d==null||d(m),!m.defaultPrevented&&c()&&l(m)){if(!G(m.currentTarget)){const y=e==null?void 0:e.getState().baseElement;y&&!Ht(y)&&y.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),f=u.onMouseLeave,i=ae(s),S=K(m=>{var y;f==null||f(m),!m.defaultPrevented&&c()&&(mr(m)||pr(m)||l(m)&&i(m)&&(e==null||e.setActiveId(null),(y=e==null?void 0:e.getState().baseElement)==null||y.focus()))}),p=P.useCallback(m=>{m&&(m[ie]=!0)},[]);return u=w(v({},u),{ref:Y(p,u.ref),onMouseMove:x,onMouseLeave:S}),Ae(u)});de(_(function(n){const r=We(n);return j(fr,r)}));var vr="div";function br(t,n,r){var e;if(!t)return!1;if(G(t))return!0;const o=n==null?void 0:n.find(c=>{var d;return c.element===r?!1:((d=c.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),s=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const a=Ee(t).getElementById(s);return a?G(a)?!0:!!a.querySelector("[role=menuitem][aria-expanded=true]"):!1}var qe=F(function(n){var r=n,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:u,blurOnHoverEnd:a}=r,c=A(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=Le(!0),l=Vt();e=e||d||l,$(e,!1);const x=c.onClick,f=ae(o),i="hideAll"in e?e.hideAll:void 0,S=!!i,p=K(b=>{x==null||x(b),!(b.defaultPrevented||Ct(b)||St(b)||!i||b.currentTarget.getAttribute("aria-haspopup")==="menu")&&f(b)&&i()}),m=R(e,b=>"contentElement"in b?b.contentElement:null),y=Ie(m,"menuitem");return c=w(v({role:y},c),{onClick:p}),c=et(v({store:e,preventScrollOnKeyDown:s},c)),c=We(w(v({store:e},c),{focusOnHover(b){const D=()=>typeof u=="function"?u(b):u??!0;if(!e||!D())return!1;const{baseElement:E,items:M}=e.getState();return S?(b.currentTarget.hasAttribute("aria-expanded")&&b.currentTarget.focus(),!0):br(E,M,b.currentTarget)?(b.currentTarget.focus(),!0):!1},blurOnHoverEnd(b){return typeof a=="function"?a(b):a??S}})),c}),hr=de(_(function(n){const r=qe(n);return j(vr,r)})),xr="div";function gr(t){return Array.isArray(t)?t.toString():t}function ue(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=gr(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):r?e:t===e?!1:t}var Cr=F(function(n){var r=n,{store:e,name:o,value:s,checked:u,defaultChecked:a,hideOnClick:c=!1}=r,d=A(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const l=Le();e=e||l,$(e,!1);const x=yt(a);P.useEffect(()=>{e==null||e.setValue(o,(i=[])=>x?ue(i,s,!0):i)},[e,o,s,x]),P.useEffect(()=>{u!==void 0&&(e==null||e.setValue(o,i=>ue(i,s,u)))},[e,o,s,u]);const f=$t({value:e.useState(i=>i.values[o]),setValue(i){e==null||e.setValue(o,()=>{if(u===void 0)return i;const S=ue(i,s,u);return!Array.isArray(S)||!Array.isArray(i)?S:Mt(i,S)?i:S})}});return d=v({role:"menuitemcheckbox"},d),d=Nt(v({store:f,name:o,value:s,checked:u},d)),d=qe(v({store:e,hideOnClick:c},d)),d}),Sr=de(_(function(n){const r=Cr(n);return j(xr,r)}));function Vr(t){const{children:n,placement:r,open:e,setOpen:o,defaultOpen:s}=t;return h.jsx(or,{placement:r,defaultOpen:s,open:e,setOpen:o,children:n})}const Wr=J((t,n)=>{const r=Ye(fe());return h.jsx(nr,{portal:r.portal,unmountOnHide:!0,...t,gutter:4,style:{...r.style,...t.style},wrapperProps:r.wrapperProps,className:X("-dropdown-menu",t.className),ref:n})}),qr=J((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...o}=t,s=R(fe(),u=>u==null?void 0:u.open);return h.jsx(dr,{accessibleWhenDisabled:!0,render:h.jsxs(ze,{accessibleWhenDisabled:r,children:[e,h.jsx(Je,{})]}),...o,className:X("-dropdown-menu-button",t.className),"data-has-popover-open":s||void 0,ref:n})}),Ur=J((t,n)=>{const{label:r,shortcuts:e,icon:o,...s}=t;return h.jsxs(hr,{accessibleWhenDisabled:!0,...s,render:h.jsx(Se,{render:t.render}),className:X("-dropdown-menu-item",t.className),ref:n,children:[o?h.jsx(Ue,{icon:o}):null,h.jsx(Ce,{children:r}),e?h.jsx(yr,{shortcuts:e}):null]})}),yr=J((t,n)=>{const{shortcuts:r,...e}=t,o=P.useMemo(()=>r.split("+").map(s=>({key:s.trim(),isSymbol:s in Ge})),[r]);return h.jsx(le,{...e,className:X("-dropdown-menu-item-shortcuts",t.className),ref:n,children:o.map(({key:s,isSymbol:u},a)=>u?h.jsx(be,{variant:"ghost",symbol:s},`${s+a}`):h.jsx(be,{variant:"ghost",children:s},`${s+a}`))})}),Ue=J((t,n)=>{const{icon:r,...e}=t;return h.jsx(le,{render:h.jsx(Qe,{href:typeof r=="string"?r:void 0,render:P.isValidElement(r)?r:void 0}),...e,ref:n})}),zr=J((t,n)=>{const{label:r,icon:e,...o}=t;return h.jsxs(Sr,{accessibleWhenDisabled:!0,value:t.defaultChecked?"on":void 0,...o,render:h.jsx(Se,{render:t.render}),className:X("-dropdown-menu-item",t.className),ref:n,children:[e?h.jsx(Ue,{icon:e}):null,h.jsx(Ce,{children:r}),h.jsx(le,{render:h.jsx(Xe,{className:"-dropdown-menu-checkmark"})})]})});export{Vr as D,qr as a,Wr as b,Ur as c,zr as d};
