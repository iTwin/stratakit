import{b as r,q as a}from"./index-DNgUlSqO.js";import{u as D,b as I,C as x}from"./RZ4GPYOB-CvXiGrMp.js";import{E as p,j as m,m as b}from"./~utils-Dyo9fdrU.js";import{c as y}from"./floating-ui.dom-DE9R-LdA.js";import{T as k}from"./Text-CDvUwNJr.js";import{C as E}from"./collection-ykbF7wYH.js";function M(e){const t=D({defaultItems:[]}),o=p(t,"renderedItems"),[s,l]=r.useMemo(()=>{var d;const n=o.findIndex(c=>c.elementType==="control");return[(d=o[n])==null?void 0:d.controlType,n]},[o]),i=r.useMemo(()=>{const n=o.findIndex(d=>d.elementType==="label");if(!(l===-1||n===-1))return n<l?"before":"after"},[o,l]);return a.jsx(E,{...e,store:t,"data-kiwi-label-placement":i,"data-kiwi-control-type":s})}const j=r.createContext(void 0);function q(e){const t=r.useContext(j);r.useEffect(()=>{t==null||t(e)},[e,t])}const T=m((e,t)=>{const{tone:o,...s}=e;return a.jsx(k,{...s,variant:"caption-md","data-kiwi-tone":o??"neutral",className:y("ðŸ¥-description",e.className),ref:t})}),N=m((e,t)=>a.jsx(b.label,{...e,className:y("ðŸ¥-label",e.className),ref:t})),B=m((e,t)=>{const{layout:o,...s}=e;return a.jsx(M,{render:a.jsx(b.div,{...s,className:y("ðŸ¥-field",e.className),"data-kiwi-layout":o,ref:t})})}),z=m((e,t)=>{const o=I(),s=p(o,"renderedItems"),l=r.useMemo(()=>{var n;return(n=s==null?void 0:s.find(d=>d.elementType==="control"))==null?void 0:n.id},[s]),i=r.useCallback(n=>({...n,elementType:"label"}),[]);return a.jsx(x,{getItem:i,render:a.jsx(N,{...e,htmlFor:l}),ref:t})}),A=m((e,t)=>{const o=r.useId(),{id:s=o,...l}=e,i=r.useCallback(n=>({...n,elementType:"description"}),[]);return a.jsx(x,{getItem:i,id:s,render:a.jsx(T,{...l}),ref:t})}),G=m((e,t)=>{const[o,s]=r.useState(),l=I(),i=r.useId(),{id:n=l?i:void 0,...d}=e,c=p(l,"renderedItems"),F=r.useMemo(()=>{var C;return((C=c==null?void 0:c.filter(f=>f.elementType==="description"||f.elementType==="error"))==null?void 0:C.map(f=>f.id).join(" "))||void 0},[c]),g=r.useCallback(u=>({...u,elementType:"control",controlType:o}),[o]),v=r.useMemo(()=>c==null?void 0:c.some(u=>u.elementType==="error"),[c]);return a.jsx(j.Provider,{value:s,children:a.jsx(x,{id:n,getItem:g,render:a.jsx(b,{...d,"aria-invalid":v?"true":void 0,"aria-describedby":F}),ref:t})})}),H=m((e,t)=>{const o=r.useId(),{id:s=o,...l}=e,i=r.useCallback(n=>({...n,elementType:"error"}),[]);return a.jsx(x,{id:s,getItem:i,render:a.jsx(T,{...l,tone:"critical"}),ref:t})});export{B as F,N as L,z as a,G as b,H as c,A as d,q as u};
