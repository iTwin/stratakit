import{w as V}from"./with-props-D5x47jrx.js";import{l as e,r as n}from"./chunk-D52XG6IA-B78cYUJ3.js";import{a as N}from"./index-CGxbLh4J.js";import{D as X,a as H,b as U,c as m}from"./DropdownMenu-BjYls3p8.js";import{D as q}from"./Divider-B8StThz-.js";import{I as z}from"./Icon-sLt9nSjc.js";import{I as w}from"./IconButton-BmADewcJ.js";import{T as J,a as Q,b as Y}from"./TextBox-C_xfJonh.js";import{T as Z,a as ee}from"./Tree-dTRKVBNS.js";import{V as T}from"./VisuallyHidden-D_BjkNl8.js";import{L as te}from"./ListItem-DUm10r5D.js";import{p as I}from"./placeholder-zNWouykz.js";import{p as ne,c as re,s as k,d as se,f as oe}from"./chevron-down-B65e391W.js";import{R as ie}from"./XL7CSKGW-taw7UXgn.js";import"./index-CLpEmaUK.js";import"./ListItem-BTkVRXyi.js";import"./Button-DPaTruEm.js";import"./KUU7WJ55-CIMZVlJm.js";import"./LVA2YJMS-48T2VZJo.js";import"./LMDWO4NN-DVZ4xQfj.js";import"./Kbd-B5DLWGh5.js";import"./~utils-YFcEjjdk.js";import"./P2CTZE2T-C7w8cpUH.js";import"./YV4JVR4I-C2nGVeNw.js";import"./BYC7LY2E-CzZc3PUM.js";import"./VGCJ63VH-D58T-1J7.js";import"./XX67R432-mxWNwPRp.js";import"./MTZPJQMC-BuSkuBZh.js";import"./ITI7HKP4-jABG-wUs.js";import"./P4IRICAX-BVDNN4IN.js";import"./Tooltip-D_MhUaE_.js";import"./Field-Dgr_If-S.js";import"./~hooks-C0w7aHRT.js";const ae="_appLayout_yyrfv_5",ce="_platformBar_yyrfv_14",le="_logo_yyrfv_19",de="_tools_yyrfv_29",ue="_leftPanel_yyrfv_39",pe="_header_yyrfv_49",he="_panelTitle_yyrfv_57",fe="_panelCaption_yyrfv_63",me="_shiftIconRight_yyrfv_67",xe="_subheader_yyrfv_71",ve="_subheaderTitle_yyrfv_81",je="_searchInput_yyrfv_86",ye="_subheaderActions_yyrfv_90",ge="_tree_yyrfv_94",_e="_canvasWrapper_yyrfv_102",be="_canvas_yyrfv_102",Se="_splitter_yyrfv_124",Re="_slider_yyrfv_155",r={appLayout:ae,platformBar:ce,logo:le,tools:de,leftPanel:ue,header:pe,panelTitle:he,panelCaption:fe,shiftIconRight:me,subheader:xe,subheaderTitle:ve,searchInput:je,subheaderActions:ye,tree:ge,canvasWrapper:_e,canvas:be,splitter:Se,slider:Re},E="Kiwi sandbox",ut=()=>[{title:E},{name:"color-scheme",content:"dark"}],pt=V(function(){const{sliderProps:o,panelProps:i,panelMinSize:d,panelMaxSize:x,resizing:a}=ze({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(T,{render:v=>e.jsx("h1",{...v}),children:E}),e.jsxs("div",{className:r.appLayout,style:{"--_panel-min-size":d,"--_panel-max-size":x},children:[e.jsxs("div",{className:r.platformBar,children:[e.jsx("div",{className:r.logo,children:e.jsx(z,{href:I,size:"large"})}),e.jsxs("div",{className:r.tools,children:[e.jsx(z,{href:I,size:"large"}),e.jsx(z,{href:I,size:"large"}),e.jsx(z,{href:I,size:"large"})]})]}),e.jsxs("div",{...i,className:r.leftPanel,style:{position:"relative",...i.style},children:[e.jsxs("div",{className:r.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:r.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:r.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:r.actions,children:e.jsx(w,{className:r.shiftIconRight,icon:ne,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Be,{}),e.jsx(we,{}),e.jsx(q,{presentational:!0,className:r.splitter,"data-resizing":a?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:r.slider,...o})})]}),e.jsx("div",{className:r.canvasWrapper,children:e.jsx("div",{className:r.canvas})})]})]})});function Pe(l,o,i){return Math.min(Math.max(l,o),i)}function ze(l){const{minSize:o,maxSize:i,onCollapse:d}=l??{},x=n.useId(),a=n.useRef(null),[v,S]=n.useState(void 0),[g,s]=n.useState(void 0),[u,h]=n.useState(void 0),[j,M]=n.useState(!1),[R,B]=n.useState(void 0),f=n.useMemo(()=>{if(o&&g)return Math.min(o.px,o.pct/100*g)},[o,g]),_=n.useMemo(()=>{if(f&&i&&g)return Math.max(f,i.pct/100*g)},[i,g,f]),b=n.useMemo(()=>{if(u==="smallest")return f??0;if(u==="largest")return _??0;if(v&&f&&_)return Pe(v,f,_)},[v,f,_,u]);n.useEffect(()=>{const c=a.current;if(!c)return;const p=c.parentElement;if(!p)return;const y=new ResizeObserver(()=>{const C=p.getBoundingClientRect(),D=c.getBoundingClientRect();s(C.width),S(D.width)});return y.observe(p),y.observe(c),()=>{y.disconnect()}},[]);const L=n.useCallback(c=>{const p=a.current;if(!p)return;const y=p.getBoundingClientRect();B(y.width+c),h(void 0),M(!0)},[]),A=n.useCallback(c=>{const p=a.current;if(!p)return;const y=p.parentElement;if(!y)return;const C=y.getBoundingClientRect(),D=c*(C.width*.005),K=p.getBoundingClientRect();B(K.width+D),h(void 0)},[]),G=n.useCallback(()=>{a.current&&(B(void 0),M(!1))},[]),{moveableProps:P}=Ie({onMove:L,onMoveEnd:G,onKeyMove:A}),O=n.useMemo(()=>({...P,onKeyDown:c=>{var p;if((p=P.onKeyDown)==null||p.call(P,c),!c.defaultPrevented)switch(c.key){case"Enter":c.preventDefault(),d==null||d();break;case"Home":c.preventDefault(),h("smallest");break;case"End":c.preventDefault(),h("largest");break}},onChange:c=>{if(j)return;const p=Number(c.target.value);B(p)},value:b===void 0?0:Math.floor(b),min:f===void 0?void 0:Math.floor(f),max:_===void 0?void 0:Math.floor(_)}),[P,b,f,_,d,j]),W=n.useMemo(()=>({style:{WebkitUserSelect:R===void 0?void 0:"none"},id:x,ref:a}),[x,R]),$=f===void 0?void 0:`${f}px`,F=n.useMemo(()=>{if(R!==void 0&&i!==void 0&&u===void 0)return`min(${R}px, ${i.pct}%)`;if(b!==void 0)return`${b}px`},[i,R,b,u]);return{sliderProps:O,panelProps:W,panelMinSize:$,panelMaxSize:F,resizing:j}}function Ie(l){const{onMove:o,onMoveEnd:i,onKeyMove:d}=l??{},x=n.useRef(null),a=n.useRef(void 0),v=n.useRef(void 0),S=n.useCallback(()=>{v.current!==void 0&&(v.current=void 0,i==null||i())},[i]);return{moveableProps:n.useMemo(()=>({onPointerDown:s=>{if(s.button!==0||s.ctrlKey)return;const u=x.current;if(!u)return;const h=u.getBoundingClientRect(),j=s.clientX-h.left;v.current=j,s.preventDefault(),u.setPointerCapture(s.pointerId)},onPointerMove:s=>{const u=v.current;if(u===void 0)return;const h=x.current;if(!h)return;const j=h.getBoundingClientRect(),M=s.clientX-u-j.left;s.preventDefault(),o==null||o(M)},onPointerUp:S,onPointerCancel:S,onKeyDown:s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowLeft":s.preventDefault(),d==null||d(-1);break;case"ArrowRight":s.preventDefault(),d==null||d(1);break}},ref:s=>{var h;if(x.current=s,(h=a.current)==null||h.call(a),a.current=void 0,!s)return;const u=j=>{j.preventDefault()};s.addEventListener("touchstart",u),a.current=()=>{s.removeEventListener("touchstart",u)}}}),[d,o,S])}}function we(){return e.jsxs(Z,{className:r.tree,children:[e.jsx(t,{content:"Guides",children:e.jsxs(t,{content:"Tree",children:[e.jsx(t,{content:"Guide 4"}),e.jsx(t,{content:"Guide 3"}),e.jsx(t,{content:"Guide 2"}),e.jsx(t,{content:"Guide 1"})]})}),e.jsxs(t,{content:"Other",children:[e.jsx(t,{content:"Object 2",children:e.jsx(t,{content:"Path 3"})}),e.jsx(t,{content:"Object 1"})]}),e.jsxs(t,{content:"Road",children:[e.jsx(t,{content:"Parking lot access"}),e.jsx(t,{content:"Site access"})]}),e.jsx(t,{content:"Parking lot",children:e.jsxs(t,{content:"Parking area",children:[e.jsx(t,{content:"Bay point 2"}),e.jsx(t,{content:"Bay point 1"}),e.jsx(t,{content:"Space point 1"}),e.jsx(t,{content:"Path 6"})]})}),e.jsx(t,{content:"Building",children:e.jsx(t,{content:"Building area",children:e.jsx(t,{content:"Path 5"})})}),e.jsx(t,{content:"Sewer",children:e.jsx(t,{content:"Run off pipe",children:e.jsx(t,{content:"Path 4"})})}),e.jsx(t,{content:"Project boundary",children:e.jsx(t,{content:"Property area",children:e.jsx(t,{content:"Path 1"})})}),e.jsx(t,{content:"Map",children:e.jsx(t,{content:"Location",children:e.jsx(t,{content:"Terrain"})})})]})}function Me(l){return e.jsx(w,{...l,style:{marginBlock:-6,...l.style},variant:"ghost"})}function t(l){const o=n.Children.count(l.children)>0;return e.jsx(ee,{content:e.jsxs(e.Fragment,{children:[o?e.jsx(Me,{icon:re,label:"Collapse",variant:"ghost"}):e.jsx("span",{style:{inlineSize:"1.5rem"}}),e.jsx(z,{href:I,style:{display:"inline"}}),e.jsx(te,{children:l.content})]}),expanded:o||void 0,children:l.children})}function Be(){const[l,o]=n.useState(!1),i=n.useRef(null),d=n.useRef(null),x=l?e.jsxs(e.Fragment,{children:[e.jsx(Ce,{}),e.jsx(w,{className:r.shiftIconRight,icon:se,label:"Close",variant:"ghost",onClick:()=>{var a;N.flushSync(()=>o(!1)),(a=d.current)==null||a.focus()}})]}):e.jsx(w,{className:r.shiftIconRight,icon:k,label:"Search",variant:"ghost",onClick:()=>{var a;N.flushSync(()=>o(!0)),(a=i.current)==null||a.focus()}});return e.jsxs("div",{className:r.subheader,children:[e.jsx(ie.h3,{className:r.subheaderTitle,tabIndex:-1,ref:d,render:l?e.jsx(T,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),l?e.jsxs(J,{className:r.searchInput,children:[e.jsx(Q,{href:k}),e.jsx(Y,{placeholder:"Search",ref:i})]}):null,e.jsx("div",{className:r.subheaderActions,children:x})]})}function Ce(){return e.jsxs(X,{children:[e.jsx(H,{render:e.jsx(w,{icon:oe,label:"Filter",variant:"ghost"})}),e.jsxs(U,{style:{minInlineSize:164},children:[e.jsx(m,{children:"Show all"}),e.jsx(m,{children:"Guides"}),e.jsx(m,{children:"Other"}),e.jsx(m,{children:"Roadway"}),e.jsx(m,{children:"Parking"}),e.jsx(m,{children:"Building"}),e.jsx(m,{children:"Dry utility"}),e.jsx(m,{children:"Stormwater"}),e.jsx(m,{children:"Sewer"}),e.jsx(m,{children:"Boundary"}),e.jsx(m,{children:"Map"})]})]})}export{pt as default,ut as meta};
