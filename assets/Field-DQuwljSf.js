import{n as i,a as s}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as x}from"./index-jyeBNHV5.js";import{f as C}from"./~utils-Cznddkjz.js";import{R as u}from"./XL7CSKGW-bDaSWFDO.js";import{u as b}from"./C3IKGW5T-CtCGsAqd.js";import{d as m}from"./YV4JVR4I-BlNXHGle.js";import{a as y,C as I,b as f,c as g}from"./RZ4GPYOB-Bpaf2GRQ.js";import{c as v,_ as j,A as F,r as S,f as T,d as k}from"./LMDWO4NN-Byj-nXYS.js";var w="div",B=v(function(t){var e=t,{store:n}=e,l=j(e,["store"]);const c=y();return n=n||c,l=F(l,r=>i.jsx(I,{value:n,children:r}),[n]),S(l)}),R=T(function(t){const e=B(t);return k(w,e)});const L=C((o,t)=>{const{layout:e,...n}=o;return i.jsx(h,{children:i.jsx(D,{render:i.jsx(u.div,{...n,className:x("ðŸ¥-field",o.className),"data-kiwi-layout":e,ref:t})})})}),d=s.createContext(void 0);function h(o){const[t,e]=s.useState(new Set),n=s.useCallback(c=>{e(r=>{const a=new Set(r);return a.add(c),a})},[]),l=s.useCallback(c=>{e(r=>{const a=new Set(r);return a.delete(c),a})},[]);return i.jsx(d.Provider,{value:s.useMemo(()=>({describedBy:t,register:n,unregister:l}),[t,n,l]),children:o.children})}function U(o){var e;const t=(e=s.useContext(d))==null?void 0:e.describedBy;return s.useMemo(()=>!t||t.size===0?o:[...t,o].filter(Boolean).join(" "),[t,o])}function V(o){const t=s.useContext(d),e=t==null?void 0:t.register,n=t==null?void 0:t.unregister;s.useEffect(()=>{if(!(!e||!n))return e(o),()=>n(o)},[o,e,n])}function D(o){const t=b({defaultItems:[]}),e=m(t,"renderedItems"),[n,l]=s.useMemo(()=>{var a;const r=e.findIndex(p=>p.elementType==="control");return[(a=e[r])==null?void 0:a.controlType,r]},[e]),c=s.useMemo(()=>{const r=e.findIndex(a=>a.elementType==="label");if(!(l===-1||r===-1))return r<l?"before":"after"},[e,l]);return i.jsx(R,{...o,store:t,"data-kiwi-label-placement":c,"data-kiwi-control-type":n})}function W(o){const t=s.useId(),{id:e=t,type:n,...l}=o,c=s.useCallback(r=>({...r,elementType:"control",controlType:n}),[n]);return i.jsx(f,{...l,id:e,getItem:c})}function q(o){const t=g(),e=m(t,"renderedItems"),n=s.useMemo(()=>{var c;return(c=e==null?void 0:e.find(r=>r.elementType==="control"))==null?void 0:c.id},[e]),l=s.useCallback(c=>({...c,elementType:"label"}),[]);return i.jsx(f,{getItem:l,render:i.jsx(u.label,{...o,htmlFor:n})})}export{L as F,U as a,W as b,q as c,V as u};
