import{j as e,r}from"./jsx-runtime-56DGgGmo.js";import{r as T}from"./index-CRo-3Dtm.js";import{D as U,a as X,b as H,c as x}from"./DropdownMenu-CRrAhZL4.js";import{D as q}from"./Divider-DtBR_KhV.js";import{I as P}from"./Icon-bevtONkH.js";import{I as z}from"./IconButton-Dq8fm5Pt.js";import{T as J,a as Q,b as Y}from"./TextBox-CowmQsSD.js";import{V as E}from"./VisuallyHidden-Dkvcvtsv.js";import{L as Z,a as ee}from"./ListItem-OgdXh3V7.js";import{p as I}from"./placeholder-BNijdd9z.js";import{p as ne,s as D,d as te,f as re}from"./dismiss-CBkSX-H4.js";import{F as se}from"./LVA2YJMS-Cd9hkZk7.js";import{R as ie}from"./XL7CSKGW-Z8inF4MM.js";import"./index-Bmut5_QC.js";import"./Button-CyHHmfXj.js";import"./KUU7WJ55-CXDU45OK.js";import"./LMDWO4NN-B5FJjD3f.js";import"./P2CTZE2T-C-Why-SD.js";import"./YV4JVR4I-C5rI8g1W.js";import"./BYC7LY2E-CtkSNnAO.js";import"./VGCJ63VH-CYxMFtcJ.js";import"./XX67R432-BVuza1rg.js";import"./MTZPJQMC-D8wS5BJx.js";import"./ITI7HKP4-B_p-xx4e.js";import"./P4IRICAX-BkS3Mw15.js";import"./Tooltip-ig-DJe-p.js";import"./~hooks-BcCXc_Iy.js";import"./Field-Ctj61GVv.js";const ae="_appLayout_1aein_5",oe="_platformBar_1aein_14",le="_logo_1aein_19",ce="_tools_1aein_29",de="_leftPanel_1aein_39",ue="_header_1aein_49",he="_panelTitle_1aein_57",pe="_panelCaption_1aein_63",me="_shiftIconRight_1aein_67",xe="_subheader_1aein_71",ve="_subheaderTitle_1aein_81",fe="_searchInput_1aein_86",je="_subheaderActions_1aein_90",_e="_tree_1aein_94",be="_canvasWrapper_1aein_102",ge="_canvas_1aein_102",Re="_splitter_1aein_124",a={appLayout:ae,platformBar:oe,logo:le,tools:ce,leftPanel:de,header:ue,panelTitle:he,panelCaption:pe,shiftIconRight:me,subheader:xe,subheaderTitle:ve,searchInput:fe,subheaderActions:je,tree:_e,canvasWrapper:be,canvas:ge,splitter:Re},A="Kiwi sandbox",tn=()=>[{title:A},{name:"color-scheme",content:"dark"}],G="left-panel";function rn(){const{splitterProps:c,panelProps:i,panelMinSize:s,panelMaxSize:o}=Se({minSize:{px:256,pct:20},maxSize:{pct:30},labelledby:G});return e.jsxs(e.Fragment,{children:[e.jsx(E,{render:d=>e.jsx("h1",{...d}),children:A}),e.jsxs("div",{className:a.appLayout,style:{"--_panel-min-size":s,"--_panel-max-size":o},children:[e.jsxs("div",{className:a.platformBar,children:[e.jsx("div",{className:a.logo,children:e.jsx(P,{href:I,size:"large"})}),e.jsxs("div",{className:a.tools,children:[e.jsx(P,{href:I,size:"large"}),e.jsx(P,{href:I,size:"large"}),e.jsx(P,{href:I,size:"large"})]})]}),e.jsxs("div",{...i,className:a.leftPanel,style:{position:"relative",...i.style},children:[e.jsxs("div",{className:a.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:a.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:a.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:a.actions,children:e.jsx(z,{className:a.shiftIconRight,icon:ne,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Ie,{}),e.jsx(Pe,{}),e.jsx(q,{className:a.splitter,render:e.jsx(se,{}),...c})]}),e.jsx("div",{className:a.canvasWrapper,children:e.jsx("div",{className:a.canvas})})]})]})}function C(c,i,s){return Math.min(Math.max(c,i),s)}function Se(c){const{minSize:i,maxSize:s,labelledby:o,onCollapse:d}=c??{},l=r.useId(),v=r.useRef(null),[b,N]=r.useState(void 0),[t,p]=r.useState(void 0),[m,f]=r.useState(void 0),[j,L]=r.useState(void 0),w=r.useMemo(()=>{if(i&&t)return Math.min(i.px,i.pct/100*t)},[i,t]),g=r.useMemo(()=>{if(w!==void 0&&t)return C(w/t*100,0,100)},[w,t]),R=r.useMemo(()=>{if(s&&t)return C(s.pct,0,100)},[s,t]),S=r.useMemo(()=>{if(m==="smallest")return g??0;if(m==="largest")return R??0;if(b&&t)return C(b/t*100,g??0,R??0)},[b,t,g,R,m]);r.useEffect(()=>{const u=v.current;if(!u)return;const h=u.parentElement;if(!h)return;const _=new ResizeObserver(()=>{const M=h.getBoundingClientRect(),k=u.getBoundingClientRect();p(M.width),N(k.width)});return _.observe(h),_.observe(u),()=>{_.disconnect()}},[]);const B=r.useCallback(u=>{const h=v.current;if(!h)return;const _=h.getBoundingClientRect();L(_.width+u),f(void 0)},[]),F=r.useCallback(u=>{const h=v.current;if(!h)return;const _=h.parentElement;if(!_)return;const M=_.getBoundingClientRect(),k=u*(M.width*.005);B(k)},[B]),O=r.useCallback(()=>{v.current&&L(void 0)},[]),{moveableProps:y}=ye({onMove:B,onMoveEnd:O,onKeyMove:F}),W=r.useMemo(()=>({...y,onKeyDown:u=>{var h;switch((h=y.onKeyDown)==null||h.call(y,u),u.key){case"Enter":d==null||d();break;case"Home":f("smallest");break;case"End":f("largest");break}},"aria-orientation":"vertical","aria-valuenow":S,"aria-valuemin":g,"aria-valuemax":R,"aria-controls":l,"aria-labelledby":o,"aria-label":o===void 0?"Resize panel":void 0,"data-resizing":j===void 0?void 0:"true"}),[y,S,g,R,l,o,d,j]),K=r.useMemo(()=>({style:{WebkitUserSelect:j===void 0?void 0:"none"},id:l,ref:v}),[l,j]),V=i===void 0?void 0:`${w}px`,$=r.useMemo(()=>j!==void 0&&s!==void 0?`min(${j}px, ${s.pct}%)`:S===void 0?void 0:`${S}%`,[s,j,S]);return{splitterProps:W,panelProps:K,panelMinSize:V,panelMaxSize:$}}function ye(c){const{onMove:i,onMoveEnd:s,onKeyMove:o}=c??{},d=r.useRef(null),l=r.useRef(void 0),v=r.useRef(void 0),b=r.useCallback(()=>{v.current!==void 0&&(v.current=void 0,s==null||s())},[s]);return{moveableProps:r.useMemo(()=>({onPointerDown:t=>{if(t.button!==0||t.ctrlKey)return;const p=d.current;if(!p)return;const m=p.getBoundingClientRect(),f=t.clientX-m.left;v.current=f,p.setPointerCapture(t.pointerId)},onPointerMove:t=>{const p=v.current;if(p===void 0)return;const m=d.current;if(!m)return;const f=m.getBoundingClientRect(),j=t.clientX-p-f.left;i==null||i(j)},onPointerUp:b,onPointerCancel:b,onKeyDown:t=>{switch(t.key){case"ArrowLeft":o==null||o(-1);break;case"ArrowRight":o==null||o(1);break}},onKeyUp:t=>{switch(t.key){case"ArrowLeft":case"ArrowRight":s==null||s();break}},ref:t=>{var m;if(d.current=t,(m=l.current)==null||m.call(l),l.current=void 0,!t)return;const p=f=>{f.preventDefault()};t.addEventListener("touchstart",p),l.current=()=>{t.removeEventListener("touchstart",p)}}}),[o,s,i,b])}}function Pe(){return e.jsxs("div",{role:"list",className:a.tree,children:[e.jsx(n,{level:0,children:"Guides"}),e.jsx(n,{level:1,children:"Tree"}),e.jsx(n,{level:2,children:"Guide 4"}),e.jsx(n,{level:2,children:"Guide 3"}),e.jsx(n,{level:2,children:"Guide 2"}),e.jsx(n,{level:2,children:"Guide 1"}),e.jsx(n,{level:0,children:"Other"}),e.jsx(n,{level:1,children:"Object 2"}),e.jsx(n,{level:2,children:"Path 3"}),e.jsx(n,{level:1,children:"Object 1"}),e.jsx(n,{level:0,children:"Road"}),e.jsx(n,{level:1,children:"Parking lot access"}),e.jsx(n,{level:1,children:"Site access"}),e.jsx(n,{level:0,children:"Parking lot"}),e.jsx(n,{level:1,children:"Parking area"}),e.jsx(n,{level:2,children:"Bay point 2"}),e.jsx(n,{level:2,children:"Bay point 1"}),e.jsx(n,{level:2,children:"Space point 1"}),e.jsx(n,{level:2,children:"Path 6"}),e.jsx(n,{level:0,children:"Building"}),e.jsx(n,{level:1,children:"Building area"}),e.jsx(n,{level:2,children:"Path 5"}),e.jsx(n,{level:0,children:"Sewer"}),e.jsx(n,{level:1,children:"Run off pipe"}),e.jsx(n,{level:2,children:"Path 4"}),e.jsx(n,{level:0,children:"Project boundary"}),e.jsx(n,{level:1,children:"Property area"}),e.jsx(n,{level:2,children:"Path 1"}),e.jsx(n,{level:0,children:"Map"}),e.jsx(n,{level:1,children:"Location"}),e.jsx(n,{level:2,children:"Terrain"})]})}function n({level:c=0,children:i}){return e.jsxs(Z,{style:{...c>0?{paddingLeft:c*20}:{}},children:[e.jsx(P,{href:I,style:{display:"inline"}}),e.jsx(ee,{children:i})]})}function Ie(){const[c,i]=r.useState(!1),s=r.useRef(null),o=r.useRef(null),d=c?e.jsxs(e.Fragment,{children:[e.jsx(we,{}),e.jsx(z,{className:a.shiftIconRight,icon:te,label:"Close",variant:"ghost",onClick:()=>{var l;T.flushSync(()=>i(!1)),(l=o.current)==null||l.focus()}})]}):e.jsx(z,{className:a.shiftIconRight,icon:D,label:"Search",variant:"ghost",onClick:()=>{var l;T.flushSync(()=>i(!0)),(l=s.current)==null||l.focus()}});return e.jsxs("div",{className:a.subheader,children:[e.jsx(ie.h3,{id:G,className:a.subheaderTitle,tabIndex:-1,ref:o,render:c?e.jsx(E,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),c?e.jsxs(J,{className:a.searchInput,children:[e.jsx(Q,{href:D}),e.jsx(Y,{placeholder:"Search",ref:s})]}):null,e.jsx("div",{className:a.subheaderActions,children:d})]})}function we(){return e.jsxs(U,{children:[e.jsx(X,{render:e.jsx(z,{icon:re,label:"Filter",variant:"ghost"})}),e.jsxs(H,{style:{minInlineSize:164},children:[e.jsx(x,{children:"Show all"}),e.jsx(x,{children:"Guides"}),e.jsx(x,{children:"Other"}),e.jsx(x,{children:"Roadway"}),e.jsx(x,{children:"Parking"}),e.jsx(x,{children:"Building"}),e.jsx(x,{children:"Dry utility"}),e.jsx(x,{children:"Stormwater"}),e.jsx(x,{children:"Sewer"}),e.jsx(x,{children:"Boundary"}),e.jsx(x,{children:"Map"})]})]})}export{rn as default,tn as meta};
