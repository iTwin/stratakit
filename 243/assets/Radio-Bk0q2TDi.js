import{a as m,n as x}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as D}from"./index-jyeBNHV5.js";import{a as j,b as U}from"./Field-Cc5KoMfH.js";import{d as A,f as B,F as T}from"./~utils-CHxZPh8f.js";import{C as w,a as H,b as O}from"./P2CTZE2T-UTfrU9UE.js";import{B as $,c as M,_ as W,E as q,O as z,H as G,P as J,k as p,e as K,u as L,b as v,r as Q,m as V,f as X,d as Y}from"./LMDWO4NN-B9FpyNgE.js";var Z=$([H],[w]),ee=Z.useContext,R="input";function ne(a,r){if(r!==void 0)return a!=null&&r!=null?r===a:!!r}function re(a,r){return a==="input"&&(!r||r==="radio")}var te=M(function(r){var u=r,{store:n,name:c,value:s,checked:C}=u,t=W(u,["store","name","value","checked"]);const P=ee();n=n||P;const i=q(t.id),f=m.useRef(null),d=A(n,e=>C??ne(s,e==null?void 0:e.value));m.useEffect(()=>{!i||!d||(n==null?void 0:n.getState().activeId)===i||n==null||n.setActiveId(i)},[n,d,i]);const b=t.onChange,g=z(f,R),o=re(g,t.type),F=G(t),[I,y]=J();m.useEffect(()=>{const e=f.current;e&&(o||(d!==void 0&&(e.checked=d),c!==void 0&&(e.name=c),s!==void 0&&(e.value=`${s}`)))},[I,o,d,c,s]);const l=p(e=>{if(F){e.preventDefault(),e.stopPropagation();return}(n==null?void 0:n.getState().value)!==s&&(o||(e.currentTarget.checked=!0,y()),b==null||b(e),!e.defaultPrevented&&(n==null||n.setValue(s)))}),h=t.onClick,E=p(e=>{h==null||h(e),!e.defaultPrevented&&(o||l(e))}),k=t.onFocus,_=p(e=>{if(k==null||k(e),e.defaultPrevented||!o||!n)return;const{moves:S,activeId:N}=n.getState();S&&(i&&N!==i||l(e))});return t=K(v({id:i,role:o?void 0:"radio",type:o?"radio":void 0,"aria-checked":d},t),{ref:L(f,t.ref),onChange:l,onClick:E,onFocus:_}),t=O(v({store:n,clickOnEnter:!o},t)),Q(v({name:o?c:void 0,value:o?s:void 0,checked:d},t))}),ae=V(X(function(r){const u=te(r);return Y(R,u)}));const fe=B((a,r)=>{const u=j(),n=U(a["aria-describedby"]);return x.jsx(T,{type:"checkable",render:x.jsx(ae,{accessibleWhenDisabled:!0,id:u,...a,className:D("ğŸ¥-checkbox","ğŸ¥-radio",a.className),"aria-describedby":n,ref:r})})});export{fe as R};
