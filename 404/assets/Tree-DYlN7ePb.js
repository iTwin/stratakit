import{p as o,b as u}from"./index-DDCMeoDP.js";import{ac as A,ad as P,ae as B,ak as E,E as V,F as G,G as H,J as z,b8 as W,ap as J,b9 as Z,K as y,ba as $,a8 as q,l as f,ao as O,d as v,bb as j,bc as Q,o as p,I as F,bd as N,b as U,be as X,bf as Y,bg as ee}from"./~utils-DZlGgOa9.js";import{c as oe,a as te,b as re,e as se,C as ne}from"./VEVQD5MH-1m57Ggid.js";import{L as ae,e as I,f as T,g as ie,d as le,D as ce,a as de,b as ue}from"./DropdownMenu-CskV6XrW.js";function me(e={}){var r;const t=(r=e.store)==null?void 0:r.getState();return oe(A(B({},e),{orientation:P(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:P(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function xe(e,r,t){return te(e,r,t)}function he(e={}){const[r,t]=E(me,e);return xe(r,t,e)}var fe="div",ve=G(function(r){var t=r,{store:n,orientation:s,virtualFocus:m,focusLoop:a,rtl:h}=t,l=z(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const D=W();n=n||D;const d=he({store:n,orientation:s,virtualFocus:m,focusLoop:a,rtl:h}),b=d.useState(c=>c.orientation==="both"?void 0:c.orientation);return l=J(l,c=>o.jsx(Z,{value:d,children:c}),[d]),l=y({role:"toolbar","aria-orientation":b},l),l=re(y({store:d},l)),l}),be=V(function(r){const t=ve(r);return H(fe,t)});function je(e={}){const r=$(e);return o.jsx(q,{value:r,children:e.children})}const w=u.createContext(void 0),Ie=f((e,r)=>{const{"aria-level":t,selected:n,expanded:s,icon:m,unstable_decorations:a,label:h,description:l,actions:D,error:d,onSelectedChange:b,onExpandedChange:c,onClick:S,onKeyDown:K,...L}=e,_=i=>{n!==void 0&&(i.stopPropagation(),b==null||b(!n))},M=i=>{i.altKey||i.ctrlKey||i.metaKey||i.shiftKey||s!==void 0&&(i.key==="ArrowRight"||i.key==="ArrowLeft")&&(i.preventDefault(),c==null||c(i.key==="ArrowRight"))},k=u.useId(),C=u.useId(),g=u.useId(),x=d?o.jsx(X,{}):m,R=u.useMemo(()=>{const i=[];return l&&i.push(C),(a||x)&&i.push(g),i.length>0?i.join(" "):void 0},[a,x,g,l,C]);return o.jsx(w.Provider,{value:u.useMemo(()=>({level:t,expanded:s,selected:n,error:d}),[t,s,n,d]),children:o.jsx(O,{render:o.jsx(p,{...L}),onClick:j(S,_),onKeyDown:j(K,M),role:"treeitem","aria-expanded":s,"aria-selected":n,"aria-labelledby":k,"aria-describedby":R,"aria-level":t,className:v("-tree-item",e.className),ref:r,children:o.jsxs(ae,{"data-kiwi-expanded":s,"data-kiwi-selected":n,"data-kiwi-error":d?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":t},role:void 0,children:[o.jsxs(I,{children:[o.jsx(Q,{align:l?"block":void 0,children:o.jsx(Ce,{onClick:()=>{s!==void 0&&(c==null||c(!s))}})}),x||a?o.jsx(p,{className:"-tree-item-decoration",id:g,render:u.isValidElement(x)?x:typeof x=="string"?o.jsx(F,{href:x}):void 0,children:x?null:a}):null]}),o.jsx(T,{id:k,className:"-tree-item-content",children:h}),l?o.jsx(T,{id:C,className:"-tree-item-description",children:l}):void 0,o.jsx(I,{render:o.jsx(pe,{children:D})})]})})})}),pe=f((e,r)=>{const{children:t,...n}=e,s=u.Children.toArray(t).filter(Boolean),{error:m}=N(w),a=m?2:3;return o.jsxs(be,{...n,onClick:j(e.onClick,h=>h.stopPropagation()),onKeyDown:j(e.onKeyDown,h=>h.stopPropagation()),className:v("-tree-item-actions-container",e.className),ref:r,children:[s.slice(0,a-1),s.length===a?s[a-1]:null,s.length>a&&o.jsx(je,{placement:"right-start",children:o.jsxs(ce,{children:[o.jsx(de,{render:o.jsx(De,{label:"More",icon:o.jsx(ee,{})})}),o.jsx(ue,{children:s.slice(a-1)})]})})]})}),De=f((e,r)=>{const{error:t}=N(w),{visible:n=t?!0:void 0,label:s,icon:m,...a}=e;return u.useContext(ie)?o.jsx(le,{...a,label:s,icon:m,ref:r}):o.jsx(U,{label:s,icon:m,inert:n===!1?!0:void 0,...a,variant:"ghost",className:v("-tree-item-action",e.className),"data-kiwi-visible":n,ref:r})}),Ce=f((e,r)=>o.jsx(p.span,{"aria-hidden":"true",...e,onClick:j(e.onClick,t=>t.stopPropagation()),className:v("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":Y(),ref:r,children:o.jsx(ge,{})})),ge=f((e,r)=>o.jsx(F,{...e,render:o.jsx(p.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:o.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:v("-tree-chevron",e.className),ref:r})),Te=f((e,r)=>{const t=se({orientation:"vertical"});return o.jsx(p.div,{role:"tree",...e,render:o.jsx(ne,{store:t}),className:v("-tree",e.className),ref:r,children:e.children})});export{Te as T,Ie as a,De as b};
