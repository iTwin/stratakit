import{w as F}from"./collection-JezXOkgr.js";import{a as l,n as e}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{d as B}from"./~utils-SuWoen7v.js";import{c as u}from"./index-jyeBNHV5.js";import{f as m,F as g,a as I}from"./~utils-gi11tQPH.js";import{R as f}from"./XL7CSKGW-DQcObpvQ.js";import{C as P}from"./ASMQKSDT-CRi099g7.js";import{V as H}from"./VisuallyHidden-D8nUY8fX.js";import"./KUU7WJ55-E_SwHLD9.js";import"./LVA2YJMS-BhSxftNL.js";import"./XX67R432-C-LektBF.js";const R=m((s,r)=>{const c=l.useId(),{layout:i,...o}=s;return e.jsx(k.Provider,{value:c,children:e.jsx($,{children:e.jsx(g,{render:e.jsx(f.div,{...o,className:u("-field",s.className),"data-kiwi-layout":i,ref:r})})})})});R.displayName="Field";const T=l.createContext(void 0);function $(s){const[r,c]=l.useState(new Set),i=l.useCallback(a=>{c(h=>{const d=new Set(h);return d.add(a),d})},[]),o=l.useCallback(a=>{c(h=>{const d=new Set(h);return d.delete(a),d})},[]);return e.jsx(T.Provider,{value:l.useMemo(()=>({describedBy:r,register:i,unregister:o}),[r,i,o]),children:s.children})}function E(s){var c;const r=(c=l.useContext(T))==null?void 0:c.describedBy;return l.useMemo(()=>!r||r.size===0?s:[...r,s].filter(Boolean).join(" "),[r,s])}const k=l.createContext(void 0);function M(){return l.useContext(k)}const v=m((s,r)=>{const c=M(),i=E(s["aria-describedby"]);return e.jsx(I,{type:"checkable",render:e.jsx(P,{accessibleWhenDisabled:!0,id:c,...s,className:u("-checkbox",s.className),"aria-describedby":i,ref:r})})});v.displayName="Checkbox";const b=m((s,r)=>e.jsx(f.div,{...s,className:u("-table",s.className),ref:r,role:"table",children:s.children}));b.displayName="Table.Root";const y=l.createContext(!1),N=m((s,r)=>e.jsx(y.Provider,{value:!0,children:e.jsx(f.div,{...s,className:u("-table-header",s.className),ref:r,role:"rowgroup",children:s.children})}));N.displayName="Table.Header";const C=m((s,r)=>{const[c,i]=l.useState(new Set);return e.jsx(f.div,{...s,className:u("-table-body",s.className),ref:r,role:"rowgroup",children:l.Children.map(s.children,(o,a)=>e.jsx(S.Provider,{value:{rowIndex:a,selectedRows:c,setSelectedRows:i},children:o}))})});C.displayName="Table.Body";const S=l.createContext(void 0),t=m((s,r)=>{const{children:c,selected:i,...o}=s,a=l.useContext(y),{selectedRows:h,setSelectedRows:d,rowIndex:x}=l.useContext(S)||{};l.useEffect(()=>{x!==void 0&&i&&(d==null||d(j=>j.has(x)?j:new Set(j).add(x)))},[x,i,d]);const w=()=>{x!==void 0&&(d==null||d(j=>{const p=new Set(j);return p.has(x)?p.delete(x):p.add(x),p}))},D=x!==void 0&&(h==null?void 0:h.has(x));return e.jsxs(f.div,{...o,className:u("-table-row",s.className),ref:r,role:"row","aria-selected":D?"true":void 0,"data-kiwi-variant":a?"header":void 0,onClick:w,children:[e.jsx(n,{"data-kiwi-slot":!0,children:e.jsx(v,{onClick:j=>{j.stopPropagation(),w()},checked:D})}),e.jsx(H,{children:a?"Select all rows":`Select row ${x}`}),c]})});t.displayName="Table.Row";const n=m((s,r)=>{const c=l.useContext(y);return e.jsx(f.span,{...s,className:u("-table-cell",s.className),ref:r,role:c?"columnheader":"cell",children:s.children})});n.displayName="Table.Cell";const Y={title:"Table"},Z=F(B(function(){return e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(t,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Description"})]})}),e.jsxs(C,{children:[e.jsxs(t,{children:[e.jsx(n,{children:"Name 1"}),e.jsx(n,{children:"Description 1"})]}),e.jsxs(t,{children:[e.jsx(n,{children:"Name 2"}),e.jsx(n,{children:"Description 2"})]}),e.jsxs(t,{children:[e.jsx(n,{children:"Name 3"}),e.jsx(n,{children:"Description 3"})]}),e.jsxs(t,{children:[e.jsx(n,{children:"Name 4"}),e.jsx(n,{children:"Description 4"})]})]})]})},{visual:V,scroll:W,select:z}));function V(){return e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(t,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Description"})]})}),e.jsxs(C,{children:[e.jsxs(t,{children:[e.jsx(n,{children:"Name 1"}),e.jsx(n,{children:"Description 1"})]}),e.jsxs(t,{children:[e.jsx(n,{children:"Name 2"}),e.jsx(n,{children:"Description 2"})]}),e.jsxs(t,{children:[e.jsx(n,{children:"Name 3"}),e.jsx(n,{children:"Description 3"})]}),e.jsxs(t,{children:[e.jsx(n,{children:"Name 4"}),e.jsx(n,{children:"Description 4"})]})]})]})}function W(){const s=i=>i.charAt(0).toUpperCase()+i.slice(1),r=l.useCallback(i=>Array(i).fill(null).map((o,a)=>({id:a,name:`Name ${a}`,description:`Description ${a}`})),[]),c=l.useMemo(()=>r(100),[r]);return e.jsxs(b,{children:[e.jsx(N,{children:e.jsx(t,{children:Object.keys(c[0]).map(i=>e.jsx(n,{children:s(i)},i))})}),e.jsx(C,{children:c.map(i=>e.jsx(t,{children:Object.values(i).map(o=>e.jsx(n,{children:o},i.id))},i.id))})]})}function z(){return e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(t,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Description"})]})}),e.jsxs(C,{children:[e.jsxs(t,{selected:!0,children:[e.jsx(n,{children:"Name 1"}),e.jsx(n,{children:"Description 1"})]}),e.jsxs(t,{selected:!0,children:[e.jsx(n,{children:"Name 2"}),e.jsx(n,{children:"Description 2"})]}),e.jsxs(t,{children:[e.jsx(n,{children:"Name 3"}),e.jsx(n,{children:"Description 3"})]}),e.jsxs(t,{children:[e.jsx(n,{children:"Name 4"}),e.jsx(n,{children:"Description 4"})]})]})]})}export{Z as default,Y as handle};
