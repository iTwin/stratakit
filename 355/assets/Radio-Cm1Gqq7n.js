import{a as m,n as R}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as D}from"./index-jyeBNHV5.js";import{a as j,b as U}from"./Field-vuqlsPyt.js";import{f as A,F as T}from"./~utils-EACLdpHq.js";import{C as w,a as B,b as O}from"./P2CTZE2T-C3bDM_4Z.js";import{F as $,c as H,_ as M,N as W,O as Y,Y as Z,R as q,Z as z,k as p,e as G,u as J,b as v,r as K,m as L,f as Q,d as V}from"./RZ4GPYOB-Dq4Rw448.js";var X=$([B],[w]),ee=X.useContext,x="input";function ne(a,r){if(r!==void 0)return a!=null&&r!=null?r===a:!!r}function re(a,r){return a==="input"&&(!r||r==="radio")}var te=H(function(r){var u=r,{store:n,name:c,value:s,checked:C}=u,t=M(u,["store","name","value","checked"]);const g=ee();n=n||g;const i=W(t.id),f=m.useRef(null),d=Y(n,e=>C??ne(s,e==null?void 0:e.value));m.useEffect(()=>{!i||!d||(n==null?void 0:n.getState().activeId)===i||n==null||n.setActiveId(i)},[n,d,i]);const b=t.onChange,P=Z(f,x),o=re(P,t.type),F=q(t),[I,y]=z();m.useEffect(()=>{const e=f.current;e&&(o||(d!==void 0&&(e.checked=d),c!==void 0&&(e.name=c),s!==void 0&&(e.value=`${s}`)))},[I,o,d,c,s]);const l=p(e=>{if(F){e.preventDefault(),e.stopPropagation();return}(n==null?void 0:n.getState().value)!==s&&(o||(e.currentTarget.checked=!0,y()),b==null||b(e),!e.defaultPrevented&&(n==null||n.setValue(s)))}),h=t.onClick,_=p(e=>{h==null||h(e),!e.defaultPrevented&&(o||l(e))}),k=t.onFocus,E=p(e=>{if(k==null||k(e),e.defaultPrevented||!o||!n)return;const{moves:N,activeId:S}=n.getState();N&&(i&&S!==i||l(e))});return t=G(v({id:i,role:o?void 0:"radio",type:o?"radio":void 0,"aria-checked":d},t),{ref:J(f,t.ref),onChange:l,onClick:_,onFocus:E}),t=O(v({store:n,clickOnEnter:!o},t)),K(v({name:o?c:void 0,value:o?s:void 0,checked:d},t))}),ae=L(Q(function(r){const u=te(r);return V(x,u)}));const fe=A((a,r)=>{const u=j(),n=U(a["aria-describedby"]);return R.jsx(T,{type:"checkable",render:R.jsx(ae,{accessibleWhenDisabled:!0,id:u,...a,className:D("ğŸ¥-checkbox","ğŸ¥-radio",a.className),"aria-describedby":n,ref:r})})});export{fe as R};
