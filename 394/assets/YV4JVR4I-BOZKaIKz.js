import{z as et,ag as nt,ah as rt,ai as st,ab as F,Z as q,x as ut,p as at,q as ot,aj as ct,ak as it,al as U,y as ft,n as C,B as lt,am as St}from"./~utils-B9Xqq0ul.js";import{r as dt,B as pt,b as j}from"./index-DDCMeoDP.js";function x(t,n){const e=t.__unstableInternals;return et(e,"Invalid store"),e[n]}function B(t,...n){let e=t,f=e,r=Symbol(),o=ct;const u=new Set,i=new Set,S=new Set,v=new Set,p=new Set,a=new WeakMap,l=new WeakMap,m=s=>(S.add(s),()=>S.delete(s)),R=()=>{const s=u.size,c=Symbol();u.add(c);const g=()=>{u.delete(c),!u.size&&o()};if(s)return g;const E=st(e).map(h=>F(...n.map(_=>{var d;const y=(d=_==null?void 0:_.getState)==null?void 0:d.call(_);if(y&&q(y,h))return H(_,[h],I=>{D(h,I[h],!0)})}))),w=[];for(const h of S)w.push(h());const P=n.map(Z);return o=F(...E,...w,...P),g},b=(s,c,g=v)=>(g.add(c),l.set(c,s),()=>{var E;(E=a.get(c))==null||E(),a.delete(c),l.delete(c),g.delete(c)}),V=(s,c)=>b(s,c),Q=(s,c)=>(a.set(c,c(e,e)),b(s,c)),T=(s,c)=>(a.set(c,c(e,f)),b(s,c,p)),X=s=>B(rt(e,s),O),Y=s=>B(nt(e,s),O),k=()=>e,D=(s,c,g=!1)=>{var E;if(!q(e,s))return;const w=ut(c,e[s]);if(w===e[s])return;if(!g)for(const d of n)(E=d==null?void 0:d.setState)==null||E.call(d,s,w);const P=e;e=at(ot({},e),{[s]:w});const h=Symbol();r=h,i.add(s);const _=(d,y,I)=>{var M;const $=l.get(d),tt=W=>I?I.has(W):W===s;(!$||$.some(tt))&&((M=a.get(d))==null||M(),a.set(d,d(e,y)))};for(const d of v)_(d,P);queueMicrotask(()=>{if(r!==h)return;const d=e;for(const y of p)_(y,f,i);f=d,i.clear()})},O={getState:k,setState:D,__unstableInternals:{setup:m,init:R,subscribe:V,sync:Q,batch:T,pick:X,omit:Y}};return O}function wt(t,...n){if(t)return x(t,"setup")(...n)}function Z(t,...n){if(t)return x(t,"init")(...n)}function A(t,...n){if(t)return x(t,"subscribe")(...n)}function H(t,...n){if(t)return x(t,"sync")(...n)}function vt(t,...n){if(t)return x(t,"batch")(...n)}function yt(t,...n){if(t)return x(t,"omit")(...n)}function jt(t,...n){if(t)return x(t,"pick")(...n)}function Rt(...t){const n=t.reduce((f,r)=>{var o;const u=(o=r==null?void 0:r.getState)==null?void 0:o.call(r);return u?Object.assign(f,u):f},{}),e=B(n,...t);return Object.assign({},...t,e)}function Vt(t,n){}var z={exports:{}},L={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G;function bt(){if(G)return L;G=1;var t=dt();function n(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var e=typeof Object.is=="function"?Object.is:n,f=t.useState,r=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function i(a,l){var m=l(),R=f({inst:{value:m,getSnapshot:l}}),b=R[0].inst,V=R[1];return o(function(){b.value=m,b.getSnapshot=l,S(b)&&V({inst:b})},[a,m,l]),r(function(){return S(b)&&V({inst:b}),a(function(){S(b)&&V({inst:b})})},[a]),u(m),m}function S(a){var l=a.getSnapshot;a=a.value;try{var m=l();return!e(a,m)}catch{return!0}}function v(a,l){return l()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:i;return L.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,L}var K;function mt(){return K||(K=1,z.exports=bt()),z.exports}var ht=mt();const gt=pt(ht);var{useSyncExternalStore:J}=gt,N=()=>()=>{};function Et(t,n=it){const e=j.useCallback(r=>t?A(t,null,r):N(),[t]),f=()=>{const r=typeof n=="string"?n:null,o=typeof n=="function"?n:null,u=t==null?void 0:t.getState();if(o)return o(u);if(u&&r&&q(u,r))return u[r]};return J(e,f,f)}function qt(t,n){const e=j.useRef({}),f=j.useCallback(o=>t?A(t,null,o):N(),[t]),r=()=>{const o=t==null?void 0:t.getState();let u=!1;const i=e.current;for(const S in n){const v=n[S];if(typeof v=="function"){const p=v(o);p!==i[S]&&(i[S]=p,u=!0)}if(typeof v=="string"){if(!o||!q(o,v))continue;const p=o[v];p!==i[S]&&(i[S]=p,u=!0)}}return u&&(e.current=C({},i)),e.current};return J(f,r,r)}function It(t,n,e,f){const r=q(n,e)?n[e]:void 0,o=f?n[f]:void 0,u=St({value:r,setValue:o});U(()=>H(t,[e],(i,S)=>{const{value:v,setValue:p}=u.current;p&&i[e]!==S[e]&&i[e]!==v&&p(i[e])}),[t,e]),U(()=>{if(r!==void 0)return t.setState(e,r),vt(t,[e],()=>{r!==void 0&&t.setState(e,r)})})}function Ct(t,n){const[e,f]=j.useState(()=>t(n));U(()=>Z(e),[e]);const r=j.useCallback(i=>Et(e,i),[e]),o=j.useMemo(()=>ft(C({},e),{useState:r}),[e,r]),u=lt(()=>{f(i=>t(C(C({},n),i.getState())))});return[o,u]}export{It as a,H as b,B as c,Et as d,vt as e,qt as f,A as g,Z as i,Rt as m,yt as o,jt as p,wt as s,Vt as t,Ct as u};
