import{p as b,b as P}from"./index-DDCMeoDP.js";import{az as Ge,ad as q,af as Se,ac as J,ae as N,ak as ye,al as Me,am as Pe,l as $,o as le,d as W,O as we,Q as Oe,S as Ee,aA as Je,aB as Qe,a9 as Xe,aa as Ze,ab as Ye,aC as et,aD as tt,ag as he,ah as xe,aE as nt,a1 as w,K as v,aF as rt,F as H,J as D,aG as De,an as V,a0 as K,aH as Ae,aI as ot,a4 as ke,aJ as st,aK as at,aL as ut,aM as it,E as _,G as j,W as Ie,X as R,ap as ce,aN as lt,a2 as Z,aO as ct,aP as dt,aQ as ft,aR as Q,aS as mt,aT as pt,aU as Te,aV as Fe,a7 as vt,Z as bt,aW as He,aX as ht,aY as xt,aZ as ue,a_ as gt,a$ as Ct,b0 as St,U as de,b1 as yt,b2 as Mt,a3 as Pt,b3 as wt,b4 as Ot,b5 as Et,B as Dt,a5 as At,b6 as kt,I as It,b7 as Tt}from"./~utils-DZlGgOa9.js";import{T as Ft}from"./Text-Da9lHbjh.js";import{p as Ht,K as ge}from"./Kbd-Q4x_cNnI.js";import{c as _t,d as jt,a as Nt,b as Lt}from"./VEVQD5MH-1m57Ggid.js";import{u as Kt}from"./P4IRICAX-Codjvyp2.js";import{u as Rt}from"./ASMQKSDT-DcAoM1BF.js";function $t(t={}){var n;Ge(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:q(t.value,r==null?void 0:r.value,t.defaultValue,!1)},o=Se(e,t.store);return J(N({},o),{setValue:s=>o.setState("value",s)})}function Vt(t,n,r){return Me(n,[r.store]),Pe(t,r,"value","setValue"),t}function Bt(t={}){const[n,r]=ye($t,t);return Vt(n,r,t)}const _e=$((t,n)=>b.jsx(le.div,{role:"listitem",...t,className:W("-list-item",t.className),ref:n})),je=$((t,n)=>b.jsx(Ft,{...t,variant:"body-sm",className:W("-list-item-content",t.className),ref:n})),fe=$((t,n)=>b.jsx(le.div,{...t,className:W("-list-item-decoration",t.className),ref:n}));var Ne=we([Ee],[Oe]),Wt=Ne.useContext,Ut=Ne.useScopedContext;P.createContext(void 0);var Y=we([Ee,Qe],[Oe,Je]),me=Y.useContext,Le=Y.useScopedContext,oe=Y.useProviderContext,Ke=Y.ContextProvider,qt=Y.ScopedContextProvider;P.createContext(void 0);function zt(t={}){var n=t,{combobox:r,parent:e,menubar:o}=n,s=Xe(n,["combobox","parent","menubar"]);const a=!!o&&!e,u=Ze(s.store,et(e,["values"]),Ye(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),c=u.getState(),d=_t(J(N({},s),{store:u,orientation:q(s.orientation,c.orientation,"vertical")})),l=tt(J(N({},s),{store:u,placement:q(s.placement,c.placement,"bottom-start"),timeout:q(s.timeout,c.timeout,a?0:150),hideTimeout:q(s.hideTimeout,c.hideTimeout,0)})),x=J(N(N({},d.getState()),l.getState()),{initialFocus:q(c.initialFocus,"container"),values:q(s.values,c.values,s.defaultValues,{})}),f=Se(x,d,l,u);return he(f,()=>xe(f,["mounted"],i=>{i.mounted||f.setState("activeId",null)})),he(f,()=>xe(e,["orientation"],i=>{f.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),J(N(N(N({},d),l),f),{combobox:r,parent:e,menubar:o,hideAll:()=>{l.hide(),e==null||e.hideAll()},setInitialFocus:i=>f.setState("initialFocus",i),setValues:i=>f.setState("values",i),setValue:(i,S)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||f.setState("values",p=>{const m=p[i],y=nt(S,m);return y===m?p:J(N({},p),{[i]:y!==void 0&&y})}))}})}function Gt(t,n,r){return Me(n,[r.combobox,r.parent,r.menubar]),Pe(t,r,"values","setValues"),Object.assign(rt(Nt(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function Jt(t={}){const n=me(),r=Wt(),e=jt();t=w(v({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=ye(zt,t);return Gt(o,s,t)}var Qt="div",L="";function se(){L=""}function Xt(t){const n=t.target;return n&&st(n)?!1:t.key===" "&&L.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Zt(t,n){if(at(t))return!0;const r=t.target;return r?n.some(o=>o.element===r):!1}function Yt(t){return t.filter(n=>!n.disabled)}function re(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?it(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function en(t,n,r){if(!r)return t;const e=t.find(o=>o.id===r);return!e||!re(e,n)||L!==n&&re(e,L)?t:(L=n,ut(t.filter(o=>re(o,L)),r).filter(o=>o.id!==r))}var pe=H(function(n){var r=n,{store:e,typeahead:o=!0}=r,s=D(r,["store","typeahead"]);const a=De();e=e||a,V(e,!1);const u=s.onKeyDownCapture,c=P.useRef(0),d=K(l=>{if(u==null||u(l),l.defaultPrevented||!o||!e)return;if(!Xt(l))return se();const{renderedItems:x,items:f,activeId:i,id:S}=e.getState();let p=Yt(f.length>x.length?f:x);const m=Ae(l.currentTarget),y=`[data-offscreen-id="${S}"]`,h=m.querySelectorAll(y);for(const M of h){const T=M.ariaDisabled==="true"||"disabled"in M&&!!M.disabled;p.push({id:M.id,element:M,disabled:T})}if(h.length&&(p=ot(p,M=>M.element)),!Zt(l,p))return se();l.preventDefault(),window.clearTimeout(c.current),c.current=window.setTimeout(()=>{L=""},500);const A=l.key.toLowerCase();L+=A,p=en(p,A,i);const E=p.find(M=>re(M,L));E?e.move(E.id):se()});return s=w(v({},s),{onKeyDownCapture:d}),ke(s)});_(function(n){const r=pe(n);return j(Qt,r)});var tn="div";function nn(t){var n=t,{store:r}=n,e=D(n,["store"]);const[o,s]=P.useState(void 0),a=e["aria-label"],u=R(r,"disclosureElement"),c=R(r,"contentElement");return P.useEffect(()=>{const d=u;if(!d)return;const l=c;if(!l)return;a||l.hasAttribute("aria-label")?s(void 0):d.id&&s(d.id)},[a,u,c]),o}var Re=H(function(n){var r=n,{store:e,alwaysVisible:o,composite:s}=r,a=D(r,["store","alwaysVisible","composite"]);const u=oe();e=e||u,V(e,!1);const c=e.parent,d=e.menubar,l=!!c,x=Ie(a.id),f=a.onKeyDown,i=e.useState(C=>C.placement.split("-")[0]),S=e.useState(C=>C.orientation==="both"?void 0:C.orientation),p=S!=="vertical",m=R(d,C=>!!C&&C.orientation!=="vertical"),y=K(C=>{if(f==null||f(C),!C.defaultPrevented){if(l||d&&!p){const k={ArrowRight:()=>i==="left"&&!p,ArrowLeft:()=>i==="right"&&!p,ArrowUp:()=>i==="bottom"&&p,ArrowDown:()=>i==="top"&&p}[C.key];if(k!=null&&k())return C.stopPropagation(),C.preventDefault(),e==null?void 0:e.hide()}if(d){const k={ArrowRight:()=>{if(m)return d.next()},ArrowLeft:()=>{if(m)return d.previous()},ArrowDown:()=>{if(!m)return d.next()},ArrowUp:()=>{if(!m)return d.previous()}}[C.key],B=k==null?void 0:k();B!==void 0&&(C.stopPropagation(),C.preventDefault(),d.move(B))}}});a=ce(a,C=>b.jsx(qt,{value:e,children:C}),[e]);const h=nn(v({store:e},a)),A=e.useState("mounted"),E=lt(A,a.hidden,o),M=E?w(v({},a.style),{display:"none"}):a.style;a=w(v({id:x,"aria-labelledby":h,hidden:E},a),{ref:Z(x?e.setContentElement:null,a.ref),style:M,onKeyDown:y});const T=!!e.combobox;return s=s??!T,s&&(a=v({role:"menu","aria-orientation":S},a)),a=Lt(v({store:e,composite:s},a)),a=pe(v({store:e,typeahead:!T},a)),a});_(function(n){const r=Re(n);return j(tn,r)});var rn="div",on=H(function(n){var r=n,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:a=!0,autoFocusOnShow:u=!0,hideOnHoverOutside:c,alwaysVisible:d}=r,l=D(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const x=oe();e=e||x,V(e,!1);const f=P.useRef(null),i=e.parent,S=e.menubar,p=!!i,m=!!S&&!p;l=w(v({},l),{ref:Z(f,l.ref)});const y=Re(v({store:e,alwaysVisible:d},l)),{"aria-labelledby":h}=y;l=D(y,["aria-labelledby"]);const[E,M]=P.useState(),T=e.useState("autoFocusOnShow"),C=e.useState("initialFocus"),z=e.useState("baseElement"),k=e.useState("renderedItems");P.useEffect(()=>{let F=!1;return M(O=>{var te,ve,be;if(F||!T)return;if((te=O==null?void 0:O.current)!=null&&te.isConnected)return O;const ne=P.createRef();switch(C){case"first":ne.current=((ve=k.find(X=>!X.disabled&&X.element))==null?void 0:ve.element)||null;break;case"last":ne.current=((be=[...k].reverse().find(X=>!X.disabled&&X.element))==null?void 0:be.element)||null;break;default:ne.current=z}return ne}),()=>{F=!0}},[e,T,C,k,z]);const B=p?!1:o,g=!!u,I=!!E||!!l.initialFocus||!!B,G=R(e.combobox||e,"contentElement"),U=R((i==null?void 0:i.combobox)||i,"contentElement"),ee=P.useMemo(()=>{if(!U||!G)return;const F=G.getAttribute("role"),O=U.getAttribute("role");if(!((O==="menu"||O==="menubar")&&F==="menu"))return U},[G,U]);return ee!==void 0&&(l=v({preserveTabOrderAnchor:ee},l)),l=dt(w(v({store:e,alwaysVisible:d,initialFocus:E,autoFocusOnShow:g?I&&u:T||!!B},l),{hideOnEscape(F){return mt(a,F)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(F){const O=e==null?void 0:e.getState().disclosureElement;return(typeof c=="function"?c(F):c??(p?!0:m?O?!Q(O):!0:!1))?F.defaultPrevented||!p||!O||(ft(O,"mouseout",F),!Q(O))?!0:(requestAnimationFrame(()=>{Q(O)||e==null||e.hide()}),!1):!1},modal:B,portal:s,backdrop:p?!1:l.backdrop})),l=v({"aria-labelledby":h},l),l}),sn=ct(_(function(n){const r=on(n);return j(rn,r)}),oe);function an(t={}){const n=Jt(t);return b.jsx(Ke,{value:n,children:t.children})}var un="button",$e=H(function(n){var r=n,{store:e}=r,o=D(r,["store"]);const s=pt();e=e||s,V(e,!1);const a=e.useState("contentElement");return o=v({"aria-haspopup":Te(a,"dialog")},o),o=Kt(v({store:e},o)),o});_(function(n){const r=$e(n);return j(un,r)});var ln="div",Ve=H(function(n){var r=n,{store:e}=r,o=D(r,["store"]);const s=Fe();return e=e||s,o=w(v({},o),{ref:Z(e==null?void 0:e.setAnchorElement,o.ref)}),o});_(function(n){const r=Ve(n);return j(ln,r)});var cn="button",Be=H(function(n){var r=n,{store:e}=r,o=D(r,["store"]);const s=Fe();e=e||s,V(e,!1);const a=o.onClick,u=K(c=>{e==null||e.setAnchorElement(c.currentTarget),a==null||a(c)});return o=ce(o,c=>b.jsx(vt,{value:e,children:c}),[e]),o=w(v({},o),{onClick:u}),o=Ve(v({store:e},o)),o=$e(v({store:e},o)),o});_(function(n){const r=Be(n);return j(cn,r)});var dn="button";function fn(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function Ce(t,n){return!!(t!=null&&t.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true"))}var mn=H(function(n){var r=n,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:a}=r,u=D(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const c=oe();e=e||c,V(e,!1);const d=P.useRef(null),l=e.parent,x=e.menubar,f=!!l,i=!!x&&!f,S=bt(u),p=()=>{const g=d.current;g&&(e==null||e.setDisclosureElement(g),e==null||e.setAnchorElement(g),e==null||e.show())},m=u.onFocus,y=K(g=>{if(m==null||m(g),S||g.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!x)||!i)return;const{items:I}=x.getState();Ce(I,g.currentTarget)&&p()}),h=R(e,g=>g.placement.split("-")[0]),A=u.onKeyDown,E=K(g=>{if(A==null||A(g),S||g.defaultPrevented)return;const I=fn(g,h);I&&(g.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(I))}),M=u.onClick,T=K(g=>{if(M==null||M(g),g.defaultPrevented||!e)return;const I=!g.detail,{open:G}=e.getState();(!G||I)&&((!f||I)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(I?"first":"container")),f&&p()});u=ce(u,g=>b.jsx(Ke,{value:e,children:g}),[e]),f&&(u=w(v({},u),{render:b.jsx(le.div,{render:u.render})}));const C=Ie(u.id),z=R((l==null?void 0:l.combobox)||l,"contentElement"),k=f||i?He(z,"menuitem"):void 0,B=e.useState("contentElement");return u=w(v({id:C,role:k,"aria-haspopup":Te(B,"menu")},u),{ref:Z(d,u.ref),onFocus:y,onKeyDown:E,onClick:T}),u=ht(w(v({store:e,focusable:o,accessibleWhenDisabled:s},u),{showOnHover:g=>{if(!(()=>{if(typeof a=="function")return a(g);if(a!=null)return a;if(f)return!0;if(!x)return!1;const{items:ee}=x.getState();return i&&Ce(ee)})())return!1;const U=i?x:l;return U&&U.setActiveId(g.currentTarget.id),!0}})),u=Be(v({store:e,toggleOnClick:!f,focusable:o,accessibleWhenDisabled:s},u)),u=pe(v({store:e,typeahead:i},u)),u}),pn=_(function(n){const r=mn(n);return j(dn,r)}),vn="div";function We(t){const n=t.relatedTarget;return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE?n:null}function bn(t){const n=We(t);return n?Ct(t.currentTarget,n):!1}var ie=Symbol("composite-hover");function hn(t){let n=We(t);if(!n)return!1;do{if(St(n,ie)&&n[ie])return!0;n=n.parentElement}while(n);return!1}var Ue=H(function(n){var r=n,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,a=D(r,["store","focusOnHover","blurOnHoverEnd"]);const u=De();e=e||u,V(e,!1);const c=xt(),d=a.onMouseMove,l=ue(o),x=K(m=>{if(d==null||d(m),!m.defaultPrevented&&c()&&l(m)){if(!Q(m.currentTarget)){const y=e==null?void 0:e.getState().baseElement;y&&!gt(y)&&y.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),f=a.onMouseLeave,i=ue(s),S=K(m=>{var y;f==null||f(m),!m.defaultPrevented&&c()&&(bn(m)||hn(m)||l(m)&&i(m)&&(e==null||e.setActiveId(null),(y=e==null?void 0:e.getState().baseElement)==null||y.focus()))}),p=P.useCallback(m=>{m&&(m[ie]=!0)},[]);return a=w(v({},a),{ref:Z(p,a.ref),onMouseMove:x,onMouseLeave:S}),ke(a)});de(_(function(n){const r=Ue(n);return j(vn,r)}));var xn="div";function gn(t,n,r){var e;if(!t)return!1;if(Q(t))return!0;const o=n==null?void 0:n.find(c=>{var d;return c.element===r?!1:((d=c.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),s=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const u=Ae(t).getElementById(s);return u?Q(u)?!0:!!u.querySelector("[role=menuitem][aria-expanded=true]"):!1}var qe=H(function(n){var r=n,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:a,blurOnHoverEnd:u}=r,c=D(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=Le(!0),l=Ut();e=e||d||l,V(e,!1);const x=c.onClick,f=ue(o),i="hideAll"in e?e.hideAll:void 0,S=!!i,p=K(h=>{x==null||x(h),!(h.defaultPrevented||yt(h)||Mt(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&f(h)&&i()}),m=R(e,h=>"contentElement"in h?h.contentElement:null),y=He(m,"menuitem");return c=w(v({role:y},c),{onClick:p}),c=Pt(v({store:e,preventScrollOnKeyDown:s},c)),c=Ue(w(v({store:e},c),{focusOnHover(h){const A=()=>typeof a=="function"?a(h):a??!0;if(!e||!A())return!1;const{baseElement:E,items:M}=e.getState();return S?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):gn(E,M,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof u=="function"?u(h):u??S}})),c}),Cn=de(_(function(n){const r=qe(n);return j(xn,r)})),Sn="div";function yn(t){return Array.isArray(t)?t.toString():t}function ae(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=yn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):r?e:t===e?!1:t}var Mn=H(function(n){var r=n,{store:e,name:o,value:s,checked:a,defaultChecked:u,hideOnClick:c=!1}=r,d=D(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const l=Le();e=e||l,V(e,!1);const x=wt(u);P.useEffect(()=>{e==null||e.setValue(o,(i=[])=>x?ae(i,s,!0):i)},[e,o,s,x]),P.useEffect(()=>{a!==void 0&&(e==null||e.setValue(o,i=>ae(i,s,a)))},[e,o,s,a]);const f=Bt({value:e.useState(i=>i.values[o]),setValue(i){e==null||e.setValue(o,()=>{if(a===void 0)return i;const S=ae(i,s,a);return!Array.isArray(S)||!Array.isArray(i)?S:Ot(i,S)?i:S})}});return d=v({role:"menuitemcheckbox"},d),d=Rt(v({store:f,name:o,value:s,checked:a},d)),d=qe(v({store:e,hideOnClick:c},d)),d}),Pn=de(_(function(n){const r=Mn(n);return j(Sn,r)}));const wn=P.createContext(!1);function Hn(t){const{children:n,placement:r,open:e,setOpen:o,defaultOpen:s}=t;return b.jsx(an,{placement:r,defaultOpen:s,open:e,setOpen:o,popover:Et(),children:n})}const _n=$((t,n)=>{const r=kt(me());return b.jsx(wn.Provider,{value:!0,children:b.jsx(sn,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...r.style,...t.style},wrapperProps:r.wrapperProps,className:W("-dropdown-menu",t.className),ref:n})})}),jn=$((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...o}=t,s=R(me(),a=>a==null?void 0:a.open);return b.jsx(pn,{accessibleWhenDisabled:!0,render:b.jsxs(Dt,{accessibleWhenDisabled:r,children:[e,b.jsx(At,{})]}),...o,className:W("-dropdown-menu-button",t.className),"data-has-popover-open":s||void 0,ref:n})}),Nn=$((t,n)=>{const{label:r,shortcuts:e,icon:o,...s}=t;return b.jsxs(Cn,{accessibleWhenDisabled:!0,...s,render:b.jsx(_e,{render:t.render}),className:W("-dropdown-menu-item",t.className),ref:n,children:[o?b.jsx(ze,{icon:o}):null,b.jsx(je,{children:r}),e?b.jsx(On,{shortcuts:e}):null]})}),On=$((t,n)=>{const{shortcuts:r,...e}=t,o=P.useMemo(()=>r.split("+").map(s=>({key:s.trim(),isSymbol:s in Ht})),[r]);return b.jsx(fe,{...e,className:W("-dropdown-menu-item-shortcuts",t.className),ref:n,children:o.map(({key:s,isSymbol:a},u)=>a?b.jsx(ge,{variant:"ghost",symbol:s},`${s+u}`):b.jsx(ge,{variant:"ghost",children:s},`${s+u}`))})}),ze=$((t,n)=>{const{icon:r,...e}=t;return b.jsx(fe,{render:b.jsx(It,{href:typeof r=="string"?r:void 0,render:P.isValidElement(r)?r:void 0}),...e,ref:n})}),Ln=$((t,n)=>{const{label:r,icon:e,...o}=t;return b.jsxs(Pn,{accessibleWhenDisabled:!0,value:t.defaultChecked?"on":void 0,...o,render:b.jsx(_e,{render:t.render}),className:W("-dropdown-menu-item",t.className),ref:n,children:[e?b.jsx(ze,{icon:e}):null,b.jsx(je,{children:r}),b.jsx(fe,{render:b.jsx(Tt,{className:"-dropdown-menu-checkmark"})})]})});export{Hn as D,_e as L,jn as a,_n as b,Ln as c,Nn as d,fe as e,je as f,wn as g};
