import{c as N,u as q,H as D,a as J,b as W,d as z,e as G}from"./BYC7LY2E-BYTmtnol.js";import{o as _,p as m,q as S,e as K,c as w,_ as V,v as A,x as L,b as h,k as R,J as g,B as Q,f as j,d as B,s as U,j as b}from"./LMDWO4NN-G2tlRUli.js";import{n as F,a as O}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as I,d as X,e as C,a as y}from"./YV4JVR4I-jdyf4nx_.js";function Y(r={}){var n;const t=(n=r.store)==null?void 0:n.getState(),e=N(_(S({},r),{placement:m(r.placement,t==null?void 0:t.placement,"top"),hideTimeout:m(r.hideTimeout,t==null?void 0:t.hideTimeout,0)})),f=_(S({},e.getState()),{type:m(r.type,t==null?void 0:t.type,"description"),skipTimeout:m(r.skipTimeout,t==null?void 0:t.skipTimeout,300)}),a=I(f,e,r.store);return S(S({},e),a)}function Z(r,n,t){return C(r,t,"type"),C(r,t,"skipTimeout"),q(r,n,t)}function ee(r={}){const[n,t]=X(Y,r);return Z(n,t,r)}var E=K([J],[D]),H=E.useProviderContext,te=E.ContextProvider,re=E.ScopedContextProvider,ne="div",oe=w(function(n){var t=n,{store:e,portal:f=!0,gutter:a=8,preserveTabOrder:T=!1,hideOnHoverOutside:d=!0,hideOnInteractOutside:v=!0}=t,s=V(t,["store","portal","gutter","preserveTabOrder","hideOnHoverOutside","hideOnInteractOutside"]);const p=H();e=e||p,A(e,!1),s=L(s,u=>F.jsx(re,{value:e,children:u}),[e]);const P=e.useState(u=>u.type==="description"?"tooltip":"none");return s=h({role:P},s),s=W(R(h({},s),{store:e,portal:f,gutter:a,preserveTabOrder:T,hideOnHoverOutside(u){if(g(d,u))return!1;const l=e==null?void 0:e.getState().anchorElement;return l?!("focusVisible"in l.dataset):!0},hideOnInteractOutside:u=>{if(g(v,u))return!1;const l=e==null?void 0:e.getState().anchorElement;return l?!Q(l,u.target):!0}})),s}),de=z(j(function(n){const t=oe(n);return B(ne,t)}),H);function fe(r={}){const n=ee(r);return F.jsx(te,{value:n,children:r.children})}var ae="div",c=I({activeStore:null});function k(r){return()=>{const{activeStore:n}=c.getState();n===r&&c.setState("activeStore",null)}}var ue=w(function(n){var t=n,{store:e,showOnHover:f=!0}=t,a=V(t,["store","showOnHover"]);const T=H();e=e||T,A(e,!1);const d=O.useRef(!1);O.useEffect(()=>y(e,["mounted"],o=>{o.mounted||(d.current=!1)}),[e]),O.useEffect(()=>{if(e)return U(k(e),y(e,["mounted","skipTimeout"],o=>{if(!e)return;if(o.mounted){const{activeStore:x}=c.getState();return x!==e&&(x==null||x.hide()),c.setState("activeStore",e)}const i=setTimeout(k(e),o.skipTimeout);return()=>clearTimeout(i)}))},[e]);const v=a.onMouseEnter,s=b(o=>{v==null||v(o),d.current=!0}),p=a.onFocusVisible,P=b(o=>{p==null||p(o),!o.defaultPrevented&&(e==null||e.setAnchorElement(o.currentTarget),e==null||e.show())}),u=a.onBlur,l=b(o=>{if(u==null||u(o),o.defaultPrevented)return;const{activeStore:i}=c.getState();d.current=!1,i===e&&c.setState("activeStore",null)}),M=e.useState("type"),$=e.useState(o=>{var i;return(i=o.contentElement)==null?void 0:i.id});return a=R(h({"aria-labelledby":M==="label"?$:void 0},a),{onMouseEnter:s,onFocusVisible:P,onBlur:l}),a=G(h({store:e,showOnHover(o){if(!d.current||g(f,o))return!1;const{activeStore:i}=c.getState();return i?(e==null||e.show(),!1):!0}},a)),a}),ve=j(function(n){const t=ue(n);return B(ae,t)});export{fe as T,ve as a,de as b,ee as u};
