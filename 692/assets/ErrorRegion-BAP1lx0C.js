import{p as e,a as n}from"./chunk-EF7DTUVF-kG7VDEF3.js";import{u as y}from"./VDHZ5F7K-CQK3BY39.js";import{l as w,m as C,n as R,V as E,j as k,B as P,o as B}from"./~utils-C0A3nDUV.js";import{C as L}from"./collection-BuP8BRHK.js";import{C as O}from"./RZ4GPYOB-CrUN1a9C.js";import{f as h,l as _,R as T,c as p,T as v}from"./sun-B7cS9fWQ.js";import{D as V}from"./NTITENHD-DwFVM5Hv.js";import{S as z,C as A}from"./~utils.icons-k8FRp_9E.js";function H(r={}){const a=w(r);return e.jsx(C,{value:a,children:r.children})}const W=h((r,a)=>{const{label:t,items:l,open:c,setOpen:d,...m}=r,u=n.useId(),j=r["aria-labelledby"]??(r["aria-label"]?void 0:u),[f,D]=_(!1,c,d),x=n.useRef(null),I=()=>{const s=x.current;if(!s)return;const i="--error-region-pulse";s.getAnimations({subtree:!0}).find(o=>o.id===i)||s.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:i,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},b=y({setItems:s=>{const i=new Set(S.map(o=>o.id));s.filter(o=>!i.has(o.id)).length!==0&&(I(),F(t))}}),S=R(b,"items"),[g,F]=n.useState(t);return e.jsxs(e.Fragment,{children:[e.jsx(E,{"aria-live":"polite","aria-atomic":!0,children:g===t?g:void 0}),e.jsx(H,{open:f,setOpen:D,children:e.jsx(T.section,{...m,"aria-labelledby":j,className:p("-error-region",r.className),"data-kiwi-visible":!!t,"data-kiwi-expanded":f,ref:a,children:e.jsxs("div",{className:"-error-region-container",ref:x,children:[e.jsxs(V,{className:"-error-region-header",render:e.jsx(P,{variant:"ghost"}),children:[e.jsx(z,{tone:"attention",className:"-error-region-icon"}),e.jsx(v,{render:e.jsx("span",{}),id:u,className:"-error-region-label",variant:"body-sm",children:t}),e.jsx(k,{inert:!0,variant:"ghost",children:e.jsx(A,{})})]}),e.jsx(B,{className:"-error-region-dialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(L,{store:b,className:"-error-region-items",role:"list",children:l})})]})})})]})}),X=h((r,a)=>{const t=n.useId(),{message:l,messageId:c=`${t}-message`,actions:d,...m}=r;return e.jsxs(O,{...m,role:"listitem",className:p("-error-region-item",r.className),ref:a,children:[e.jsx(v,{id:c,variant:"body-sm",children:l}),e.jsx("div",{className:"-error-region-item-actions",children:d})]})});export{W as E,X as a};
