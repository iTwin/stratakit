import{n as l,a as n}from"./chunk-K6AXKMTT-B_QCnNdX.js";import{c as j}from"./index-jyeBNHV5.js";import{f as v}from"./~utils-CxpNXQT1.js";import{u as C}from"./C3IKGW5T-vrqjKoNQ.js";import{d as S}from"./YV4JVR4I-B6wCGKZo.js";import{C as h,a as b}from"./RZ4GPYOB-DDLWVkXa.js";import{R as k}from"./XL7CSKGW-DWygVppE.js";function w(t={}){const e=C(t);return l.jsx(h,{value:e,children:t.children})}const z=v((t,e)=>{const r=n.useId(),{layout:o,...i}=t,[c,d]=n.useState([]),s=C({items:c,setItems:d}),a=S(s,"renderedItems"),[p,f]=n.useMemo(()=>{var m;let u;return[(m=a.find((g,F)=>{if(g.elementType==="control")return u=F,!0}))==null?void 0:m.controlType,u]},[a]),I=n.useMemo(()=>{if(f==null)return;const u=a.findIndex(m=>m.elementType==="label");return u===-1?void 0:u<f?"before":"after"},[a,f]);return l.jsx(y.Provider,{value:r,children:l.jsx(B,{children:l.jsx(w,{store:s,children:l.jsx(k.div,{...i,className:j("ðŸ¥-field",t.className),"data-kiwi-layout":o,"data-kiwi-label-placement":I,"data-kiwi-control-type":p,ref:e})})})})}),x=n.createContext(void 0);function B(t){const[e,r]=n.useState(new Set),o=n.useCallback(c=>{r(d=>{const s=new Set(d);return s.add(c),s})},[]),i=n.useCallback(c=>{r(d=>{const s=new Set(d);return s.delete(c),s})},[]);return l.jsx(x.Provider,{value:n.useMemo(()=>({describedBy:e,register:o,unregister:i}),[e,o,i]),children:t.children})}function L(t){var r;const e=(r=n.useContext(x))==null?void 0:r.describedBy;return n.useMemo(()=>!e||e.size===0?t:[...e,t].filter(Boolean).join(" "),[e,t])}function q(t){const e=n.useContext(x),r=e==null?void 0:e.register,o=e==null?void 0:e.unregister;n.useEffect(()=>{if(!(!r||!o))return r(t),()=>o(t)},[t,r,o])}const y=n.createContext(void 0);function A(){return n.useContext(y)}function G(t){const{type:e,...r}=t,o=n.useCallback(i=>({...i,elementType:"control",controlType:e}),[e]);return l.jsx(b,{...r,getItem:o})}function H(t){const e=n.useCallback(r=>({...r,elementType:"label"}),[]);return l.jsx(b,{...t,getItem:e})}export{z as F,A as a,L as b,G as c,H as d,q as u};
