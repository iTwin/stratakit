import{w as J}from"./LMDWO4NN-AdQVI40z.js";import{n as e,a as t}from"./chunk-D52XG6IA-BPj3SxYk.js";import{a as B}from"./index-Dh4JygWN.js";import{D as E,a as L,b as G,c as i}from"./DropdownMenu-B-wAhate.js";import{D as Q}from"./Divider-BMWncsDM.js";import{I as P}from"./Icon-DEgQPAjc.js";import{I as y}from"./IconButton-BcrikfyD.js";import{T as Y,a as Z,b as ee}from"./TextBox-Cl8N6h9y.js";import{V as A}from"./VisuallyHidden-oT9Xbpr4.js";import{T as te,a as ne,b as se,c as re}from"./Tree-Krm2_YXH.js";import{p as z}from"./placeholder-JYzNkcaY.js";import{p as ae,l as oe,s as ie,m as le,a as T,d as ce,f as de}from"./more-horizontal-4bUYk0Xr.js";import{R as ue}from"./XL7CSKGW-DDU26wbd.js";import"./index-LDMScfjX.js";import"./~utils-DlLScLBX.js";import"./Button-Cn7siS-C.js";import"./KUU7WJ55-Jtc9VHwL.js";import"./LVA2YJMS-D9j0_TqI.js";import"./Kbd-DT0wV_hE.js";import"./P2CTZE2T-n7-0fjUr.js";import"./YV4JVR4I-7LgjLGcz.js";import"./BYC7LY2E-DvrZQKRn.js";import"./VGCJ63VH-DjYMlTD4.js";import"./XX67R432-Cv_HVTJr.js";import"./MTZPJQMC-BeFKSML9.js";import"./ITI7HKP4-CovurQgl.js";import"./P4IRICAX-T03WSK6e.js";import"./Tooltip-DfmhabBb.js";import"./Field-zFWJHpWk.js";import"./~hooks-KbN8yI3B.js";import"./Icon-BExUKRen.js";const he="_appLayout_pavyn_5",pe="_platformBar_pavyn_14",xe="_logo_pavyn_19",me="_tools_pavyn_29",fe="_leftPanel_pavyn_39",ve="_header_pavyn_50",je="_panelTitle_pavyn_58",be="_panelCaption_pavyn_64",ge="_shiftIconRight_pavyn_68",_e="_subheader_pavyn_72",Se="_subheaderTitle_pavyn_82",ye="_searchInput_pavyn_87",Re="_subheaderActions_pavyn_91",Ie="_tree_pavyn_95",Ce="_canvasWrapper_pavyn_99",Pe="_canvas_pavyn_99",ze="_splitter_pavyn_121",Me="_action_pavyn_152",we="_slider_pavyn_160",r={appLayout:he,platformBar:pe,logo:xe,tools:me,leftPanel:fe,header:ve,panelTitle:je,panelCaption:be,shiftIconRight:ge,subheader:_e,subheaderTitle:Se,searchInput:ye,subheaderActions:Re,tree:Ie,canvasWrapper:Ce,canvas:Pe,splitter:ze,action:Me,slider:we},O="Kiwi sandbox",mt=()=>[{title:O}],ft=J(function(){const{sliderProps:a,panelProps:c,panelMinSize:d,panelMaxSize:x,resizing:o}=Ne({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(A,{render:v=>e.jsx("h1",{...v}),children:O}),e.jsxs("div",{className:r.appLayout,style:{"--_panel-min-size":d,"--_panel-max-size":x},children:[e.jsxs("div",{className:r.platformBar,children:[e.jsx("div",{className:r.logo,children:e.jsx(P,{href:z,size:"large"})}),e.jsxs("div",{className:r.tools,children:[e.jsx(P,{href:z,size:"large"}),e.jsx(P,{href:z,size:"large"}),e.jsx(P,{href:z,size:"large"})]})]}),e.jsxs("div",{...c,className:r.leftPanel,style:{position:"relative",...c.style},children:[e.jsxs("div",{className:r.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:r.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:r.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:r.actions,children:e.jsx(y,{className:r.shiftIconRight,icon:ae,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Ee,{}),e.jsx(Te,{}),e.jsx(Q,{presentational:!0,className:r.splitter,"data-resizing":o?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:r.slider,...a})})]}),e.jsx("div",{className:r.canvasWrapper,children:e.jsx("div",{className:r.canvas})})]})]})});function ke(l,a,c){return Math.min(Math.max(l,a),c)}function Ne(l){const{minSize:a,maxSize:c,onCollapse:d}=l??{},x=t.useId(),o=t.useRef(null),[v,g]=t.useState(void 0),[j,s]=t.useState(void 0),[h,m]=t.useState(void 0),[b,M]=t.useState(!1),[I,w]=t.useState(void 0),f=t.useMemo(()=>{if(a&&j)return Math.min(a.px,a.pct/100*j)},[a,j]),S=t.useMemo(()=>{if(f&&c&&j)return Math.max(f,c.pct/100*j)},[c,j,f]),R=t.useMemo(()=>{if(h==="smallest")return f??0;if(h==="largest")return S??0;if(v&&f&&S)return ke(v,f,S)},[v,f,S,h]);t.useEffect(()=>{const u=o.current;if(!u)return;const p=u.parentElement;if(!p)return;const _=new ResizeObserver(()=>{const k=p.getBoundingClientRect(),N=u.getBoundingClientRect();s(k.width),g(N.width)});return _.observe(p),_.observe(u),()=>{_.disconnect()}},[]);const W=t.useCallback(u=>{const p=o.current;if(!p)return;const _=p.getBoundingClientRect();w(_.width+u),m(void 0),M(!0)},[]),$=t.useCallback(u=>{const p=o.current;if(!p)return;const _=p.parentElement;if(!_)return;const k=_.getBoundingClientRect(),N=u*(k.width*.005),q=p.getBoundingClientRect();w(q.width+N),m(void 0)},[]),F=t.useCallback(()=>{o.current&&(w(void 0),M(!1))},[]),{moveableProps:C}=Be({onMove:W,onMoveEnd:F,onKeyMove:$}),U=t.useMemo(()=>({...C,onKeyDown:u=>{var p;if((p=C.onKeyDown)==null||p.call(C,u),!u.defaultPrevented)switch(u.key){case"Enter":u.preventDefault(),d==null||d();break;case"Home":u.preventDefault(),m("smallest");break;case"End":u.preventDefault(),m("largest");break}},onChange:u=>{if(b)return;const p=Number(u.target.value);w(p)},value:R===void 0?0:Math.floor(R),min:f===void 0?void 0:Math.floor(f),max:S===void 0?void 0:Math.floor(S)}),[C,R,f,S,d,b]),K=t.useMemo(()=>({style:{WebkitUserSelect:I===void 0?void 0:"none"},id:x,ref:o}),[x,I]),X=f===void 0?void 0:`${f}px`,H=t.useMemo(()=>{if(I!==void 0&&c!==void 0&&h===void 0)return`min(${I}px, ${c.pct}%)`;if(R!==void 0)return`${R}px`},[c,I,R,h]);return{sliderProps:U,panelProps:K,panelMinSize:X,panelMaxSize:H,resizing:b}}function Be(l){const{onMove:a,onMoveEnd:c,onKeyMove:d}=l??{},x=t.useRef(null),o=t.useRef(void 0),v=t.useRef(void 0),g=t.useCallback(()=>{v.current!==void 0&&(v.current=void 0,c==null||c())},[c]);return{moveableProps:t.useMemo(()=>({onPointerDown:s=>{if(s.button!==0||s.ctrlKey)return;const h=x.current;if(!h)return;const m=h.getBoundingClientRect(),b=s.clientX-m.left;v.current=b,s.preventDefault(),h.setPointerCapture(s.pointerId)},onPointerMove:s=>{const h=v.current;if(h===void 0)return;const m=x.current;if(!m)return;const b=m.getBoundingClientRect(),M=s.clientX-h-b.left;s.preventDefault(),a==null||a(M)},onPointerUp:g,onPointerCancel:g,onKeyDown:s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowLeft":s.preventDefault(),d==null||d(-1);break;case"ArrowRight":s.preventDefault(),d==null||d(1);break}},ref:s=>{var m;if(x.current=s,(m=o.current)==null||m.call(o),o.current=void 0,!s)return;const h=b=>{b.preventDefault()};s.addEventListener("touchstart",h),o.current=()=>{s.removeEventListener("touchstart",h)}}}),[d,a,g])}}const V=t.createContext({selected:void 0,setSelected:()=>{}});function Te(){const[l,a]=t.useState();return e.jsx(V.Provider,{value:{selected:l,setSelected:a},children:e.jsxs(te,{className:r.tree,children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1",actions:!0})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1",actions:!0})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access",actions:!0})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})})}const D=t.createContext({selected:!1});function n(l){const a=t.useId(),c=t.Children.count(l.children)>0,[d,x]=t.useState(!0),o=t.useContext(V),g=t.useContext(D).selected||a===o.selected,j=t.useCallback(()=>{o.setSelected(s=>{if(s!==a)return a})},[a,o]);return e.jsx(D.Provider,{value:{selected:g},children:e.jsx(ne,{content:e.jsxs(e.Fragment,{children:[e.jsx(se,{onClick:()=>{x(s=>!s)}}),e.jsx(P,{href:z,style:{display:"inline"}}),e.jsx(re,{onClick:()=>{j()},children:l.label}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(y,{className:r.action,icon:oe,label:"Lock",variant:"ghost","aria-hidden":!l.actions}),e.jsx(y,{className:r.action,icon:ie,label:"Show",variant:"ghost","aria-hidden":!l.actions}),e.jsx(De,{hidden:!l.actions})]})]}),expanded:c?d:void 0,selected:g,children:d?l.children:void 0})})}function De({hidden:l}){return e.jsxs(E,{children:[e.jsx(L,{className:r.action,"aria-hidden":l,render:e.jsx(y,{icon:le,label:"More",variant:"ghost"})}),e.jsxs(G,{style:{minInlineSize:164},children:[e.jsx(i,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(i,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(i,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(i,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(i,{shortcuts:"]",children:"Bring to front"}),e.jsx(i,{shortcuts:"[",children:"Send to back"}),e.jsx(i,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(i,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(i,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(i,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(i,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(i,{shortcuts:"I",children:"Isolate object"})]})]})}function Ee(){const[l,a]=t.useState(!1),c=t.useRef(null),d=t.useRef(null),x=l?e.jsxs(e.Fragment,{children:[e.jsx(Le,{}),e.jsx(y,{className:r.shiftIconRight,icon:ce,label:"Close",variant:"ghost",onClick:()=>{var o;B.flushSync(()=>a(!1)),(o=d.current)==null||o.focus()}})]}):e.jsx(y,{className:r.shiftIconRight,icon:T,label:"Search",variant:"ghost",onClick:()=>{var o;B.flushSync(()=>a(!0)),(o=c.current)==null||o.focus()}});return e.jsxs("div",{className:r.subheader,children:[e.jsx(ue.h3,{className:r.subheaderTitle,tabIndex:-1,ref:d,render:l?e.jsx(A,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),l?e.jsxs(Y,{className:r.searchInput,children:[e.jsx(Z,{href:T}),e.jsx(ee,{placeholder:"Search",ref:c})]}):null,e.jsx("div",{className:r.subheaderActions,children:x})]})}function Le(){return e.jsxs(E,{children:[e.jsx(L,{render:e.jsx(y,{icon:de,label:"Filter",variant:"ghost"})}),e.jsxs(G,{style:{minInlineSize:164},children:[e.jsx(i,{children:"Show all"}),e.jsx(i,{children:"Guides"}),e.jsx(i,{children:"Other"}),e.jsx(i,{children:"Roadway"}),e.jsx(i,{children:"Parking"}),e.jsx(i,{children:"Building"}),e.jsx(i,{children:"Dry utility"}),e.jsx(i,{children:"Stormwater"}),e.jsx(i,{children:"Sewer"}),e.jsx(i,{children:"Boundary"}),e.jsx(i,{children:"Map"})]})]})}export{ft as default,mt as meta};
