import{p as e,b as u}from"./index-DDCMeoDP.js";import{u as F,C as S}from"./RZ4GPYOB-BgQrAwjO.js";import{L as C,M as R,l as D,N as y,O as w,V as E,o as B,p as A,d as b,S as O,Q as P,U as k,B as L,W as M}from"./~utils-H2OWbAod.js";import{C as T}from"./collection-B9SF0e8P.js";import{D as V}from"./AXB53BZF-ByhvHCWf.js";import{T as p}from"./Text-0iMvLAML.js";function W(r={}){const t=C(r);return e.jsx(R,{value:t,children:r.children})}const G=D((r,t)=>{const{label:n,items:o,expanded:i,onExpandedChange:l,...c}=r,d=u.useId(),v=r["aria-labelledby"]??(r["aria-label"]?void 0:d),[g,I]=y(!1,i,l),f=u.useRef(void 0),N=()=>{const s=f.current;s&&s.play()},x=F({setItems:s=>{if(h.length===0)return;const j=new Set(h.map(a=>a.id));s.filter(a=>!j.has(a.id)).length!==0&&N()}}),h=w(x,"items");return e.jsxs(e.Fragment,{children:[e.jsx(E,{"aria-live":"polite","aria-atomic":!0,children:n}),e.jsx(W,{open:g,setOpen:I,children:e.jsx(B.section,{...c,"aria-labelledby":v,className:b("-error-region",r.className),"data-kiwi-visible":!!n,"data-kiwi-expanded":g,ref:A(t,s=>{if(!s)return;const m=s.getAnimations({subtree:!0}).find(a=>a instanceof CSSAnimation?a.animationName==="--error-region-pulse":!1);m&&(f.current=m)}),children:e.jsxs("div",{className:"-error-region-container",children:[e.jsxs(V,{className:"-error-region-header",render:e.jsx(L,{variant:"ghost"}),children:[e.jsx(O,{className:"-error-region-icon"}),e.jsx(p,{render:e.jsx("span",{}),id:d,className:"-error-region-label",variant:"body-sm",children:n}),e.jsx(P,{inert:!0,variant:"ghost",children:e.jsx(k,{})})]}),e.jsx(M,{className:"-error-region-dialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":d,children:e.jsx(T,{store:x,className:"-error-region-items",role:"list",children:o})})]})})})]})}),J=D((r,t)=>{const n=u.useId(),{message:o,messageId:i=`${n}-message`,actions:l,...c}=r;return e.jsxs(S,{...c,role:"listitem",className:b("-error-region-item",r.className),ref:t,children:[e.jsx(p,{id:i,variant:"body-sm",children:o}),e.jsx("div",{className:"-error-region-item-actions",children:l})]})});export{G as E,J as a};
