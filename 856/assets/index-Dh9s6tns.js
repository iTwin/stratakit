import{w as _,a as u,p as e}from"./chunk-EF7DTUVF-kG7VDEF3.js";import{I as g}from"./sun-BBBQOhed.js";import{T as E,a as $,b as p,p as y}from"./immer-DqVRpB9n.js";import{d as D}from"./~utils-4svDzyVm.js";import{u as z,r as M}from"./refresh-BwZRNpio.js";import{p as f}from"./placeholder-CckA4Wzr.js";import{s as C}from"./visibility-show-uckiITGC.js";import"./LMDWO4NN-s_PEHtwY.js";import"./6VRAQV3D-EDwx7CMW.js";import"./RZ4GPYOB-pRmAdStT.js";import"./VDHZ5F7K-Bh4ctV8I.js";import"./IWEFDH56-Dv3XZ6q4.js";import"./5JTVDSTH-Dwi9Fd4s.js";import"./~utils.icons-BEBt4vcS.js";import"./~utils.icons-VAzlSKND.js";import"./DropdownMenu-JneoojGm.js";import"./S43UC3DV-Cja2YUJx.js";import"./NTITENHD-C76GVlGM.js";import"./F5MUBM3I-DrzIPXT3.js";import"./IAEAQUOT-CRA6vYge.js";import"./Kbd-DnS7FsyA.js";import"./~utils.icons-CDj9FUcY.js";import"./index-jzXu2RkP.js";import"./XX67R432-DL239dmE.js";const de={title:"Tree"},pe=_(D(function({overflow:i=!1,selected:r=!1,description:x,error:b,items:l}){const[k,A]=u.useTransition(),h=i?" with a super long label that is overflown":"",I=x?"Additional description":void 0,[S,T]=u.useState(!!b),v=l?Number(l):0,[j,a]=u.useState(()=>[{label:`Item 1${h}`,selected:!!r,expanded:!0,children:[{label:"Item 1.1",selected:!!r},{label:"Item 1.2",selected:!!r},{label:`Item 1.3${h}`,selected:!!r}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${h}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:v}).map((t,o)=>({label:`Item ${o+4}`,selected:!1}))]),N=u.useMemo(()=>j.flatMap((t,o,n)=>{const c={...t,level:1,index:o,setSize:n.length,childIndex:void 0};if(!t.expanded)return c;const w=t.children?t.children.map((d,s,U)=>({...d,level:2,index:o,childIndex:s,setSize:U.length,expanded:void 0})):[];return[c,...w]}),[j]),R=u.useCallback(()=>{T(!1)},[]);return e.jsx(E,{style:{maxInlineSize:i?300:void 0},children:N.map(t=>{const{index:o,childIndex:n}=t,c=S&&o===0&&n===void 0,w=o===0&&n===void 0||n===0;return e.jsx($,{"aria-level":t.level,"aria-posinset":o+1,"aria-setsize":t.setSize,label:t.label,description:w?I:void 0,expanded:t.expanded,selected:t.selected,error:c,onSelectedChange:()=>{a(y(d=>{const s=n===void 0?d[o]:d[o].children?.[n];s&&(s.selected=!s.selected)}))},onExpandedChange:()=>{A(()=>{a(y(d=>{const s=d[o];s.expanded!==void 0&&(s.expanded=!s.expanded)}))})},icon:n===void 0?e.jsx(g,{href:f,alt:"decoration"}):void 0,unstable_decorations:n===0?e.jsxs(e.Fragment,{children:[e.jsx(g,{href:f}),e.jsx(g,{href:f})]}):e.jsx(g,{href:f}),inlineActions:c?[e.jsx(p,{icon:M,label:"Retry",onClick:R},"retry")]:[e.jsx(p,{icon:z,label:"Unlock"},"unlock"),e.jsx(p,{icon:C,label:"Show"},"show")],actions:c?[e.jsx(p,{icon:z,label:"Unlock"},"unlock"),e.jsx(p,{icon:C,label:"Show"},"show")]:void 0},t.label)})})},{actions:F}));function B(m){const{hidden:i,...r}=m;return i?null:e.jsx(p,{icon:f,...r})}function F({inline:m,menu:i,dot:r,error:x,hiddenIds:b}){const l=m?Number(m):2,k=i?Number(i):3,A=x?!!x:void 0,h=b?b.split(";").map(v=>Number(v)):[],I=Array.from({length:l+k},(v,j)=>{const a=j+1;return e.jsx(B,{label:`Action ${a}`,dot:r?"Something's going on":void 0,hidden:h.includes(a)},a)}),S=I.slice(0,l),T=I.slice(l);return e.jsx(E,{children:e.jsx($,{label:"Item 1","aria-level":1,"aria-posinset":1,"aria-setsize":1,inlineActions:S,actions:T,error:A})})}export{pe as default,de as handle};
