import{w as H}from"./LMDWO4NN-AdQVI40z.js";import{n as e,a as t}from"./chunk-D52XG6IA-BPj3SxYk.js";import{a as B}from"./index-Dh4JygWN.js";import{D as U,a as q,b as J,c as v}from"./DropdownMenu-5GQzcYna.js";import{D as Q}from"./Divider-CMpo5Zhs.js";import{I as P}from"./Icon-DRPsd_jo.js";import{I}from"./IconButton-DcEbyEuY.js";import{T as Y,a as Z,b as ee}from"./TextBox-b79ZpE4X.js";import{V as E}from"./VisuallyHidden-lfLZ5qm_.js";import{T as te,a as ne,b as re,c as se}from"./Tree-BZo_-mQk.js";import{p as z}from"./placeholder-ByhhEg5M.js";import{p as ae,l as ie,s as oe,a as D,d as le,f as ce}from"./visibility-show-dIjr--SP.js";import{R as de}from"./XL7CSKGW-DDU26wbd.js";import"./index-LDMScfjX.js";import"./Button-B0xhYNln.js";import"./KUU7WJ55-t09PjvBK.js";import"./LVA2YJMS-CkBCxIVR.js";import"./Kbd-C0GvkwA_.js";import"./~utils-YFcEjjdk.js";import"./P2CTZE2T-BT-mtSx2.js";import"./YV4JVR4I-7LgjLGcz.js";import"./BYC7LY2E-9GYEBff6.js";import"./VGCJ63VH-DjYMlTD4.js";import"./XX67R432-Cv_HVTJr.js";import"./MTZPJQMC-BeFKSML9.js";import"./ITI7HKP4-CKgdTtAx.js";import"./P4IRICAX-v-6bqxP5.js";import"./Tooltip-DDwD56QE.js";import"./Field-CTkCeEwQ.js";import"./~hooks-KbN8yI3B.js";import"./Icon-TLEIVBJG.js";const ue="_appLayout_12u76_5",pe="_platformBar_12u76_14",he="_logo_12u76_19",xe="_tools_12u76_29",me="_leftPanel_12u76_39",fe="_header_12u76_50",ve="_panelTitle_12u76_58",je="_panelCaption_12u76_64",be="_shiftIconRight_12u76_68",_e="_subheader_12u76_72",ge="_subheaderTitle_12u76_82",Se="_searchInput_12u76_87",Ce="_subheaderActions_12u76_91",Ie="_tree_12u76_95",Re="_canvasWrapper_12u76_99",ye="_canvas_12u76_99",Pe="_splitter_12u76_121",ze="_action_12u76_152",we="_slider_12u76_160",Me="_treeItem_12u76_169",Ne="_treeContent_12u76_173",ke="_treeExpander_12u76_184",r={appLayout:ue,platformBar:pe,logo:he,tools:xe,leftPanel:me,header:fe,panelTitle:ve,panelCaption:je,shiftIconRight:be,subheader:_e,subheaderTitle:ge,searchInput:Se,subheaderActions:Ce,tree:Ie,canvasWrapper:Re,canvas:ye,splitter:Pe,action:ze,slider:we,treeItem:Me,treeContent:Ne,treeExpander:ke},A="Kiwi sandbox",ft=()=>[{title:A}],vt=H(function(){const{sliderProps:s,panelProps:o,panelMinSize:l,panelMaxSize:h,resizing:a}=De({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(E,{render:f=>e.jsx("h1",{...f}),children:A}),e.jsxs("div",{className:r.appLayout,style:{"--_panel-min-size":l,"--_panel-max-size":h},children:[e.jsxs("div",{className:r.platformBar,children:[e.jsx("div",{className:r.logo,children:e.jsx(P,{href:z,size:"large"})}),e.jsxs("div",{className:r.tools,children:[e.jsx(P,{href:z,size:"large"}),e.jsx(P,{href:z,size:"large"}),e.jsx(P,{href:z,size:"large"})]})]}),e.jsxs("div",{...o,className:r.leftPanel,style:{position:"relative",...o.style},children:[e.jsxs("div",{className:r.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:r.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:r.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:r.actions,children:e.jsx(I,{className:r.shiftIconRight,icon:ae,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(Ae,{}),e.jsx(Ee,{}),e.jsx(Q,{presentational:!0,className:r.splitter,"data-resizing":a?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:r.slider,...s})})]}),e.jsx("div",{className:r.canvasWrapper,children:e.jsx("div",{className:r.canvas})})]})]})});function Be(c,s,o){return Math.min(Math.max(c,s),o)}function De(c){const{minSize:s,maxSize:o,onCollapse:l}=c??{},h=t.useId(),a=t.useRef(null),[f,_]=t.useState(void 0),[j,i]=t.useState(void 0),[u,x]=t.useState(void 0),[b,w]=t.useState(!1),[R,M]=t.useState(void 0),m=t.useMemo(()=>{if(s&&j)return Math.min(s.px,s.pct/100*j)},[s,j]),S=t.useMemo(()=>{if(m&&o&&j)return Math.max(m,o.pct/100*j)},[o,j,m]),C=t.useMemo(()=>{if(u==="smallest")return m??0;if(u==="largest")return S??0;if(f&&m&&S)return Be(f,m,S)},[f,m,S,u]);t.useEffect(()=>{const d=a.current;if(!d)return;const p=d.parentElement;if(!p)return;const g=new ResizeObserver(()=>{const N=p.getBoundingClientRect(),k=d.getBoundingClientRect();i(N.width),_(k.width)});return g.observe(p),g.observe(d),()=>{g.disconnect()}},[]);const G=t.useCallback(d=>{const p=a.current;if(!p)return;const g=p.getBoundingClientRect();M(g.width+d),x(void 0),w(!0)},[]),O=t.useCallback(d=>{const p=a.current;if(!p)return;const g=p.parentElement;if(!g)return;const N=g.getBoundingClientRect(),k=d*(N.width*.005),X=p.getBoundingClientRect();M(X.width+k),x(void 0)},[]),W=t.useCallback(()=>{a.current&&(M(void 0),w(!1))},[]),{moveableProps:y}=Te({onMove:G,onMoveEnd:W,onKeyMove:O}),$=t.useMemo(()=>({...y,onKeyDown:d=>{var p;if((p=y.onKeyDown)==null||p.call(y,d),!d.defaultPrevented)switch(d.key){case"Enter":d.preventDefault(),l==null||l();break;case"Home":d.preventDefault(),x("smallest");break;case"End":d.preventDefault(),x("largest");break}},onChange:d=>{if(b)return;const p=Number(d.target.value);M(p)},value:C===void 0?0:Math.floor(C),min:m===void 0?void 0:Math.floor(m),max:S===void 0?void 0:Math.floor(S)}),[y,C,m,S,l,b]),F=t.useMemo(()=>({style:{WebkitUserSelect:R===void 0?void 0:"none"},id:h,ref:a}),[h,R]),K=m===void 0?void 0:`${m}px`,V=t.useMemo(()=>{if(R!==void 0&&o!==void 0&&u===void 0)return`min(${R}px, ${o.pct}%)`;if(C!==void 0)return`${C}px`},[o,R,C,u]);return{sliderProps:$,panelProps:F,panelMinSize:K,panelMaxSize:V,resizing:b}}function Te(c){const{onMove:s,onMoveEnd:o,onKeyMove:l}=c??{},h=t.useRef(null),a=t.useRef(void 0),f=t.useRef(void 0),_=t.useCallback(()=>{f.current!==void 0&&(f.current=void 0,o==null||o())},[o]);return{moveableProps:t.useMemo(()=>({onPointerDown:i=>{if(i.button!==0||i.ctrlKey)return;const u=h.current;if(!u)return;const x=u.getBoundingClientRect(),b=i.clientX-x.left;f.current=b,i.preventDefault(),u.setPointerCapture(i.pointerId)},onPointerMove:i=>{const u=f.current;if(u===void 0)return;const x=h.current;if(!x)return;const b=x.getBoundingClientRect(),w=i.clientX-u-b.left;i.preventDefault(),s==null||s(w)},onPointerUp:_,onPointerCancel:_,onKeyDown:i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowLeft":i.preventDefault(),l==null||l(-1);break;case"ArrowRight":i.preventDefault(),l==null||l(1);break}},ref:i=>{var x;if(h.current=i,(x=a.current)==null||x.call(a),a.current=void 0,!i)return;const u=b=>{b.preventDefault()};i.addEventListener("touchstart",u),a.current=()=>{i.removeEventListener("touchstart",u)}}}),[l,s,_])}}const L=t.createContext({selected:void 0,setSelected:()=>{}});function Ee(){const[c,s]=t.useState();return e.jsx(L.Provider,{value:{selected:c,setSelected:s},children:e.jsxs(te,{className:r.tree,children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1",lockAction:!0})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1",visibilityAction:!0})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access",lockAction:!0,visibilityAction:!0})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})})}const T=t.createContext({selected:!1});function n(c){const s=t.useId(),o=t.Children.count(c.children)>0,[l,h]=t.useState(!0),a=t.useContext(L),_=t.useContext(T).selected||s===a.selected,j=t.useCallback(()=>{a.setSelected(i=>{if(i!==s)return s})},[s,a]);return e.jsx(T.Provider,{value:{selected:_},children:e.jsx(ne,{className:r.treeItem,content:e.jsxs(e.Fragment,{children:[e.jsx(re,{className:r.treeExpander,onClick:i=>{h(u=>!u)}}),e.jsx(P,{href:z,style:{display:"inline"}}),e.jsx(se,{className:r.treeContent,render:e.jsx("button",{type:"button"}),onClick:()=>{j()},children:c.label}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(I,{className:r.action,icon:ie,label:"Lock",variant:"ghost","aria-hidden":!c.lockAction}),e.jsx(I,{className:r.action,icon:oe,label:"Show",variant:"ghost","aria-hidden":!c.visibilityAction})]})]}),expanded:o?l:void 0,selected:_,children:l?c.children:void 0})})}function Ae(){const[c,s]=t.useState(!1),o=t.useRef(null),l=t.useRef(null),h=c?e.jsxs(e.Fragment,{children:[e.jsx(Le,{}),e.jsx(I,{className:r.shiftIconRight,icon:le,label:"Close",variant:"ghost",onClick:()=>{var a;B.flushSync(()=>s(!1)),(a=l.current)==null||a.focus()}})]}):e.jsx(I,{className:r.shiftIconRight,icon:D,label:"Search",variant:"ghost",onClick:()=>{var a;B.flushSync(()=>s(!0)),(a=o.current)==null||a.focus()}});return e.jsxs("div",{className:r.subheader,children:[e.jsx(de.h3,{className:r.subheaderTitle,tabIndex:-1,ref:l,render:c?e.jsx(E,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),c?e.jsxs(Y,{className:r.searchInput,children:[e.jsx(Z,{href:D}),e.jsx(ee,{placeholder:"Search",ref:o})]}):null,e.jsx("div",{className:r.subheaderActions,children:h})]})}function Le(){return e.jsxs(U,{children:[e.jsx(q,{render:e.jsx(I,{icon:ce,label:"Filter",variant:"ghost"})}),e.jsxs(J,{style:{minInlineSize:164},children:[e.jsx(v,{children:"Show all"}),e.jsx(v,{children:"Guides"}),e.jsx(v,{children:"Other"}),e.jsx(v,{children:"Roadway"}),e.jsx(v,{children:"Parking"}),e.jsx(v,{children:"Building"}),e.jsx(v,{children:"Dry utility"}),e.jsx(v,{children:"Stormwater"}),e.jsx(v,{children:"Sewer"}),e.jsx(v,{children:"Boundary"}),e.jsx(v,{children:"Map"})]})]})}export{vt as default,ft as meta};
