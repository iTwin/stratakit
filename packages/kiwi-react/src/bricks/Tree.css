/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.ğŸ¥-tree-item:is(.ğŸ¥-list-item) {
	--âœ¨padding-inline-end: 0.25rem;
	--âœ¨first-level-indent: 8px;
	--âœ¨subsequent-level-indent: 6px;

	@layer base {
		position: relative;

		padding-inline-start: calc(
			var(--âœ¨first-level-indent) +
			var(--âœ¨subsequent-level-indent) *
			(var(--ğŸ¥tree-item-level) - 1)
		);
		padding-inline-end: var(--âœ¨padding-inline-end);
	}

	@layer states {
		&:where([data-kiwi-selected="true"]) {
			--ğŸŒ€list-item-state: var(--ğŸŒ€list-item-state--active);
		}

		&:where([data-kiwi-parent-selected="true"][data-kiwi-selected="true"]) {
			--ğŸŒ€list-item-state: var(--ğŸŒ€list-item-state--active-child);
		}

		&:where([data-kiwi-expanded="false"]) {
			--ğŸ¥tree-chevron-rotate: -0.25turn;
		}

		&:where(:not([data-kiwi-expanded])) {
			--ğŸ¥tree-item-expander-visibility: hidden;
		}

		@media (any-hover: hover) {
			&:where(:hover[data-kiwi-parent-selected="true"][data-kiwi-selected="true"]) {
				--ğŸŒ€list-item-state: var(--ğŸŒ€list-item-state--active-child-hover);
			}
		}
	}
}

.ğŸ¥-tree-item-content:is(.ğŸ¥-list-item-content) {
	@layer base {
		text-overflow: ellipsis;
		white-space: nowrap;
		overflow: hidden;

		:where(button) {
			border: unset;
			background-color: unset;

			&::before {
				content: "";
				position: absolute;
				inset: 0;
			}
		}
	}
}

.ğŸ¥-tree-item-expander:is(.ğŸ¥-icon-button) {
	@layer base {
		visibility: var(--ğŸ¥tree-item-expander-visibility);
		z-index: 1; /* Ensure the expander is above the invisible content button */
	}
}

.ğŸ¥-tree-chevron {
	@layer base {
		rotate: var(--ğŸ¥tree-chevron-rotate);

		@media (prefers-reduced-motion: no-preference) {
			transition: rotate 150ms ease-in-out;
		}
	}
}
