import{p as r,b as d}from"./index-DDCMeoDP.js";import{_ as M,l as T,m as H,I as W,v as $,J as z,x as J,L as O,s as y,f as x,h as p,c as h,A as w}from"./~utils-BFcooMC1.js";import{f as q,P as Q}from"./BYC7LY2E-D0Jx6cGv.js";import{a as U}from"./MTZPJQMC-pmJK4B1G.js";import{P as X,a as Y,b as C,L as k}from"./QYJ6MIDR-Bfd920oL.js";import{S,b as _,D as Z,I as ee}from"./Icon-Bp9Xi1cW.js";import{T as A}from"./Text-Dble5oEE.js";import{u as re,T as oe,I as g}from"./IconButton-CDTyte4z.js";import{D as te}from"./Divider-NiBhcWAL.js";import{B as se,G as ae,u as ie}from"./Button-ORaLud1U.js";import{f as ne,g as D}from"./~hooks-D6zECIHT.js";import{c as le}from"./P2CTZE2T-D7c_UAUb.js";import{c as ce,u as de,a as ue,b as me,C as xe}from"./ITI7HKP4-D05z1dy4.js";import{u as fe}from"./YV4JVR4I-DB2LP8YT.js";function ve(e={}){var t;const o=(t=e.store)==null?void 0:t.getState();return ce(M(H({},e),{orientation:T(e.orientation,o==null?void 0:o.orientation,"horizontal"),focusLoop:T(e.focusLoop,o==null?void 0:o.focusLoop,!0)}))}function he(e,t,o){return de(e,t,o)}function pe(e={}){const[t,o]=fe(ve,e);return he(t,o,e)}var je="div",be=$(function(t){var o=t,{store:s,orientation:n,virtualFocus:v,focusLoop:l,rtl:u}=o,a=J(o,["store","orientation","virtualFocus","focusLoop","rtl"]);const j=re();s=s||j;const m=pe({store:s,orientation:n,virtualFocus:v,focusLoop:l,rtl:u}),b=m.useState(c=>c.orientation==="both"?void 0:c.orientation);return a=O(a,c=>r.jsx(oe,{value:m,children:c}),[m]),a=y({role:"toolbar","aria-orientation":b},a),a=ue(y({store:m},a)),a}),De=W(function(t){const o=be(t);return z(je,o)});function Ie(e={}){const t=q(e);return r.jsx(U,{value:t,children:e.children})}const L=d.createContext(void 0),Ve=x((e,t)=>{const{label:o,items:s,expanded:n,onExpandedChange:v,...l}=e,u=d.useId(),[a,j]=ne(!1,n,v);return r.jsx(Ie,{open:a,setOpen:j,children:r.jsx(p.section,{"data-kiwi-expanded":a,...l,className:h("-tree-error",e.className),ref:t,"aria-labelledby":u,children:r.jsxs("div",{className:"-tree-error-container",children:[r.jsxs(X,{className:"-tree-error-header",render:r.jsx(se,{variant:"ghost"}),children:[r.jsx(S,{className:"-tree-error-icon"}),r.jsx(A,{id:u,className:"-tree-error-label",variant:"body-sm",children:o}),r.jsx(g,{inert:!0,render:r.jsx("span",{}),label:"Toggle",icon:r.jsx(_,{}),variant:"ghost"})]}),r.jsxs(Q,{portal:!1,modal:!1,wrapperProps:{style:{position:void 0,width:void 0}},updatePosition:()=>{},"aria-labelledby":u,children:[r.jsx(te,{className:"-tree-error-divider",presentational:!0}),r.jsx("div",{className:"-tree-error-items",role:"list",children:s})]})]})})})}),Ge=x((e,t)=>{const{treeItemId:o,message:s,messageId:n,actions:v,onDismiss:l,...u}=e;return r.jsx(L.Provider,{value:d.useMemo(()=>({itemId:o}),[o]),children:r.jsxs(p.div,{...u,role:"listitem",className:h("-tree-error-item",e.className),ref:t,children:[r.jsx(A,{id:n,variant:"body-sm",className:"-tree-error-item-message",children:s}),l&&r.jsx(g,{className:"-tree-error-item-dismiss",variant:"ghost",label:"Dismiss",icon:r.jsx(Z,{}),onClick:l}),r.jsx("div",{className:"-tree-error-item-actions",children:v})]})})}),Me=x((e,t)=>{const{itemId:o}=d.useContext(L)??{};return r.jsx(w,{href:o?`#${o}`:void 0,...e,ref:t})}),He=x((e,t)=>r.jsx(w,{render:r.jsx("button",{...e}),ref:t})),Ne=d.createContext(void 0),We=x((e,t)=>{const{"aria-level":o,selected:s,expanded:n,icon:v,unstable_decorations:l,label:u,description:a,actions:j,error:m,onSelectedChange:b,onExpandedChange:c,onClick:E,onKeyDown:K,...R}=e,B=i=>{s!==void 0&&(i.stopPropagation(),b==null||b(!s))},V=i=>{i.altKey||i.ctrlKey||i.metaKey||i.shiftKey||n!==void 0&&(i.key==="ArrowRight"||i.key==="ArrowLeft")&&(i.preventDefault(),c==null||c(i.key==="ArrowRight"))},F=d.useId(),I=d.useId(),N=d.useId(),P=typeof m=="string"?m:void 0,f=m?r.jsx(S,{}):v,G=d.useMemo(()=>{const i=[];return a&&i.push(I),(l||f)&&i.push(N),P&&i.push(P),i.length>0?i.join(" "):void 0},[l,f,N,a,I,P]);return r.jsx(Ne.Provider,{value:d.useMemo(()=>({level:o,expanded:n,selected:s}),[o,n,s]),children:r.jsx(le,{render:r.jsx(p,{...R}),onClick:D(E,B),onKeyDown:D(K,V),role:"treeitem","aria-expanded":n,"aria-selected":s,"aria-labelledby":F,"aria-describedby":G,"aria-level":o,className:h("-tree-item",e.className),ref:t,children:r.jsxs(Y,{"data-kiwi-expanded":n,"data-kiwi-selected":s,"data-kiwi-error":m?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":o},role:void 0,children:[r.jsxs(C,{children:[r.jsx(ae,{align:a?"block":void 0,children:r.jsx(ge,{onClick:()=>{n!==void 0&&(c==null||c(!n))}})}),f||l?r.jsx(p,{className:"-tree-item-decoration",id:N,render:d.isValidElement(f)?f:typeof f=="string"?r.jsx(ee,{href:f}):void 0,children:f?null:l}):null]}),r.jsx(k,{id:F,className:"-tree-item-content",children:u}),a?r.jsx(k,{id:I,className:"-tree-item-description",children:a}):void 0,r.jsx(C,{render:r.jsx(Pe,{children:j})})]})})})}),Pe=x((e,t)=>r.jsx(De,{...e,onClick:D(e.onClick,o=>o.stopPropagation()),onKeyDown:D(e.onKeyDown,o=>o.stopPropagation()),className:h("-tree-item-actions-container",e.className),ref:t,children:e.children})),$e=x((e,t)=>{const{visible:o,...s}=e;return r.jsx(g,{inert:o===!1?!0:void 0,...s,variant:"ghost",className:h("-tree-item-action",e.className),"data-kiwi-visible":o,ref:t})}),ge=x((e,t)=>r.jsx(p.span,{"aria-hidden":"true",...e,onClick:D(e.onClick,o=>o.stopPropagation()),className:h("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":ie(),ref:t,children:r.jsx(_,{})})),ze=x((e,t)=>{const o=me({orientation:"vertical"});return r.jsx(p.div,{role:"tree",...e,render:r.jsx(xe,{store:o}),className:h("-tree",e.className),ref:t,children:e.children})});export{Ve as T,Ge as a,He as b,Me as c,ze as d,We as e,$e as f};
