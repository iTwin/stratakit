import{a as A,o as v}from"./chunk-D4RADZKF-D_1J9aTA.js";import{s as ht,v as Be,f as xt,H as gt,w as It,d as $e,P as St,x as yt,y as Ct,z as wt,E as Mt,F as Pt,J as ie,K as Ve,L as Et,M as Dt,T as At,N as Ot,O as Ze,Q as Ft,B as kt}from"./~utils-C8fogQuq.js";import{c as Tt,g as oe,s as _t,i as xe,a as ve,f as Lt,d as Ht,C as Me,e as We,h as jt,u as Nt}from"./6VRAQV3D-BBAVSw2j.js";import{d as T,b as X,e as Z,u as ze,o as Pe,h as x,j as z,i as U,l as V,n as Q,t as Kt,v as He,x as ue,y as Rt,q as $,z as se,A as me,B as Ee,r as pe,g as R,s as le,k as q,C as Bt,c as De,_ as $t,D as Vt,E as Ue,F as Zt,G as qe,H as Wt,I as zt,J as Ut,K as Ge,p as qt,L as Je,M as Gt,N as Jt,O as Qt,m as Ae,P as Yt,Q as Xt,R as en,S as tn}from"./LMDWO4NN-LNZqiQkw.js";import{y as nn,b as Oe,g as Fe,h as J,s as Se,d as ye,f as G,c as ne,m as rn,o as on,z as sn,a as te,R as ke,I as an,A as un}from"./sun-XgFwZorm.js";import{c as ln,b as cn}from"./RZ4GPYOB-B6DBIBtA.js";import{u as dn}from"./F5MUBM3I-Zu1pNeg4.js";import{u as fn}from"./IAEAQUOT-GmqJ6zHw.js";import{p as mn,K as je}from"./Kbd-Bz6XGUbN.js";import{c as re,D as vn}from"./~utils.icons-D2wDPw6I.js";function pn(t={}){var r;nn(t,t.store);const n=(r=t.store)==null?void 0:r.getState(),e={value:T(t.value,n==null?void 0:n.value,t.defaultValue,!1)},o=Oe(e,t.store);return X(Z({},o),{setValue:u=>o.setState("value",u)})}function bn(t,r,n){return ze(r,[n.store]),J(t,n,"value","setValue"),t}function hn(t={}){const[r,n]=Fe(pn,t);return bn(r,n,t)}function Qe(t){const r=[];for(const n of t)r.push(...n);return r}function Ce(t){return t.slice().reverse()}var xn={id:null};function Y(t,r){return t.find(n=>r?!n.disabled&&n.id!==r:!n.disabled)}function gn(t,r){return t.filter(n=>r?!n.disabled&&n.id!==r:!n.disabled)}function Ne(t,r){return t.filter(n=>n.rowId===r)}function In(t,r,n=!1){const e=t.findIndex(o=>o.id===r);return[...t.slice(e+1),...n?[xn]:[],...t.slice(0,e)]}function Ye(t){const r=[];for(const n of t){const e=r.find(o=>{var u;return((u=o[0])==null?void 0:u.rowId)===n.rowId});e?e.push(n):r.push([n])}return r}function Xe(t){let r=0;for(const{length:n}of t)n>r&&(r=n);return r}function Sn(t){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:t}}function yn(t,r,n){const e=Xe(t);for(const o of t)for(let u=0;u<e;u+=1){const a=o[u];if(!a||n&&a.disabled){const s=u===0&&n?Y(o):o[u-1];o[u]=s&&r!==s.id&&n?s:Sn(s==null?void 0:s.rowId)}}return t}function Cn(t){const r=Ye(t),n=Xe(r),e=[];for(let o=0;o<n;o+=1)for(const u of r){const a=u[o];a&&e.push(X(Z({},a),{rowId:a.rowId?`${o}`:void 0}))}return e}function et(t={}){var r;const n=(r=t.store)==null?void 0:r.getState(),e=ln(t),o=T(t.activeId,n==null?void 0:n.activeId,t.defaultActiveId),u=X(Z({},e.getState()),{id:T(t.id,n==null?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:o,baseElement:T(n==null?void 0:n.baseElement,null),includesBaseElement:T(t.includesBaseElement,n==null?void 0:n.includesBaseElement,o===null),moves:T(n==null?void 0:n.moves,0),orientation:T(t.orientation,n==null?void 0:n.orientation,"both"),rtl:T(t.rtl,n==null?void 0:n.rtl,!1),virtualFocus:T(t.virtualFocus,n==null?void 0:n.virtualFocus,!1),focusLoop:T(t.focusLoop,n==null?void 0:n.focusLoop,!1),focusWrap:T(t.focusWrap,n==null?void 0:n.focusWrap,!1),focusShift:T(t.focusShift,n==null?void 0:n.focusShift,!1)}),a=Oe(u,e,t.store);Se(a,()=>ye(a,["renderedItems","activeId"],s=>{a.setState("activeId",f=>{var c;return f!==void 0?f:(c=Y(s.renderedItems))==null?void 0:c.id})}));const i=(s="next",f={})=>{var c,S;const m=a.getState(),{skip:d=0,activeId:h=m.activeId,focusShift:b=m.focusShift,focusLoop:p=m.focusLoop,focusWrap:M=m.focusWrap,includesBaseElement:I=m.includesBaseElement,renderedItems:L=m.renderedItems,rtl:k=m.rtl}=f,C=s==="up"||s==="down",H=s==="next"||s==="down",P=H?k&&!C:!k||C,W=b&&!d;let w=C?Qe(yn(Ye(L),h,W)):L;if(w=P?Ce(w):w,w=C?Cn(w):w,h==null)return(c=Y(w))==null?void 0:c.id;const j=w.find(O=>O.id===h);if(!j)return(S=Y(w))==null?void 0:S.id;const y=w.some(O=>O.rowId),N=w.indexOf(j),l=w.slice(N+1),g=Ne(l,j.rowId);if(d){const O=gn(g,h),_=O.slice(d)[0]||O[O.length-1];return _==null?void 0:_.id}const F=p&&(C?p!=="horizontal":p!=="vertical"),D=y&&M&&(C?M!=="horizontal":M!=="vertical"),E=H?(!y||C)&&F&&I:C?I:!1;if(F){const O=D&&!E?w:Ne(w,j.rowId),_=In(O,h,E),B=Y(_,h);return B==null?void 0:B.id}if(D){const O=Y(E?g:l,h);return E?(O==null?void 0:O.id)||null:O==null?void 0:O.id}const K=Y(g,h);return!K&&E?null:K==null?void 0:K.id};return X(Z(Z({},e),a),{setBaseElement:s=>a.setState("baseElement",s),setActiveId:s=>a.setState("activeId",s),move:s=>{s!==void 0&&(a.setState("activeId",s),a.setState("moves",f=>f+1))},first:()=>{var s;return(s=Y(a.getState().renderedItems))==null?void 0:s.id},last:()=>{var s;return(s=Y(Ce(a.getState().renderedItems)))==null?void 0:s.id},next:s=>(s!==void 0&&typeof s=="number"&&(s={skip:s}),i("next",s)),previous:s=>(s!==void 0&&typeof s=="number"&&(s={skip:s}),i("previous",s)),down:s=>(s!==void 0&&typeof s=="number"&&(s={skip:s}),i("down",s)),up:s=>(s!==void 0&&typeof s=="number"&&(s={skip:s}),i("up",s))})}function wn(t){const r=Pe(t.id);return x({id:r},t)}function tt(t,r,n){return t=cn(t,r,n),J(t,n,"activeId","setActiveId"),J(t,n,"includesBaseElement"),J(t,n,"virtualFocus"),J(t,n,"orientation"),J(t,n,"rtl"),J(t,n,"focusLoop"),J(t,n,"focusWrap"),J(t,n,"focusShift"),t}function Dr(t={}){t=wn(t);const[r,n]=Fe(et,t);return tt(r,n,t)}var Mn="div";function Pn(t){return t.some(r=>!!r.rowId)}function En(t){const r=t.target;return r&&!Ee(r)?!1:t.key.length===1&&!t.ctrlKey&&!t.metaKey}function Dn(t){return t.key==="Shift"||t.key==="Control"||t.key==="Alt"||t.key==="Meta"}function Ke(t,r,n){return $(e=>{var o;if(r==null||r(e),e.defaultPrevented||e.isPropagationStopped()||!se(e)||Dn(e)||En(e))return;const u=t.getState(),a=(o=oe(t,u.activeId))==null?void 0:o.element;if(!a)return;const i=e,{view:s}=i,f=V(i,["view"]),c=n==null?void 0:n.current;a!==c&&a.focus(),Bt(a,e.type,f)||e.preventDefault(),e.currentTarget.contains(a)&&e.stopPropagation()})}function An(t){return Lt(Qe(Ce(Ht(t))))}function On(t){const[r,n]=A.useState(!1),e=A.useCallback(()=>n(!0),[]),o=t.useState(u=>oe(t,u.activeId));return A.useEffect(()=>{const u=o==null?void 0:o.element;r&&u&&(n(!1),u.focus({preventScroll:!0}))},[o,r]),e}var nt=z(function(r){var n=r,{store:e,composite:o=!0,focusOnMove:u=o,moveOnKeyPress:a=!0}=n,i=V(n,["store","composite","focusOnMove","moveOnKeyPress"]);const s=Tt();e=e||s,Q(e,!1);const f=A.useRef(null),c=A.useRef(null),S=On(e),m=e.useState("moves"),[,d]=Kt(o?e.setBaseElement:null);A.useEffect(()=>{var l;if(!e||!m||!o||!u)return;const{activeId:g}=e.getState(),F=(l=oe(e,g))==null?void 0:l.element;F&&ht(F)},[e,m,o,u]),He(()=>{if(!e||!m||!o)return;const{baseElement:l,activeId:g}=e.getState();if(!(g===null)||!l)return;const D=c.current;c.current=null,D&&ue(D,{relatedTarget:l}),Be(l)||l.focus()},[e,m,o]);const h=e.useState("activeId"),b=e.useState("virtualFocus");He(()=>{var l;if(!e||!o||!b)return;const g=c.current;if(c.current=null,!g)return;const D=((l=oe(e,h))==null?void 0:l.element)||Rt(g);D!==g&&ue(g,{relatedTarget:D})},[e,h,b,o]);const p=Ke(e,i.onKeyDownCapture,c),M=Ke(e,i.onKeyUpCapture,c),I=i.onFocusCapture,L=$(l=>{if(I==null||I(l),l.defaultPrevented||!e)return;const{virtualFocus:g}=e.getState();if(!g)return;const F=l.relatedTarget,D=_t(l.currentTarget);se(l)&&D&&(l.stopPropagation(),c.current=F)}),k=i.onFocus,C=$(l=>{if(k==null||k(l),l.defaultPrevented||!o||!e)return;const{relatedTarget:g}=l,{virtualFocus:F}=e.getState();F?se(l)&&!xe(e,g)&&queueMicrotask(S):se(l)&&e.setActiveId(null)}),H=i.onBlurCapture,P=$(l=>{var g;if(H==null||H(l),l.defaultPrevented||!e)return;const{virtualFocus:F,activeId:D}=e.getState();if(!F)return;const E=(g=oe(e,D))==null?void 0:g.element,K=l.relatedTarget,O=xe(e,K),_=c.current;c.current=null,se(l)&&O?(K===E?_&&_!==K&&ue(_,l):E?ue(E,l):_&&ue(_,l),l.stopPropagation()):!xe(e,l.target)&&E&&ue(E,l)}),W=i.onKeyDown,w=me(a),j=$(l=>{var g;if(W==null||W(l),l.nativeEvent.isComposing||l.defaultPrevented||!e||!se(l))return;const{orientation:F,renderedItems:D,activeId:E}=e.getState(),K=oe(e,E);if((g=K==null?void 0:K.element)!=null&&g.isConnected)return;const O=F!=="horizontal",_=F!=="vertical",B=Pn(D);if((l.key==="ArrowLeft"||l.key==="ArrowRight"||l.key==="Home"||l.key==="End")&&Ee(l.currentTarget))return;const Le={ArrowUp:(B||O)&&(()=>{if(B){const ce=An(D);return ce==null?void 0:ce.id}return e==null?void 0:e.last()}),ArrowRight:(B||_)&&e.first,ArrowDown:(B||O)&&e.first,ArrowLeft:(B||_)&&e.last,Home:e.first,End:e.last,PageUp:e.first,PageDown:e.last}[l.key];if(Le){const ce=Le();if(ce!==void 0){if(!w(l))return;l.preventDefault(),e.move(ce)}}});i=pe(i,l=>v.jsx(ve,{value:e,children:l}),[e]);const y=e.useState(l=>{var g;if(e&&o&&l.virtualFocus)return(g=oe(e,l.activeId))==null?void 0:g.id});i=R(x({"aria-activedescendant":y},i),{ref:le(f,d,i.ref),onKeyDownCapture:p,onKeyUpCapture:M,onFocusCapture:L,onFocus:C,onBlurCapture:P,onKeyDown:j});const N=e.useState(l=>o&&(l.virtualFocus||l.activeId===null));return i=xt(x({focusable:N},i)),i}),Ar=U(function(r){const n=nt(r);return q(Mn,n)});const Fn=re("M13.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L6.5 10.793l6.646-6.647a.5.5 0 0 1 .708 0Z");re("M4.853 4.146a.5.5 0 1 0-.707.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .707.708L8 8.707l3.146 3.147a.5.5 0 0 0 .707-.708L8.707 8l3.146-3.146a.5.5 0 1 0-.707-.708L8 7.293 4.853 4.146Z");const kn={positive:re("M7.748 1.726a.5.5 0 0 1 .504 0l5 2.916a.5.5 0 0 1 .248.432v5.852a.5.5 0 0 1-.248.431l-5 2.917a.5.5 0 0 1-.504 0l-5-2.916a.5.5 0 0 1-.248-.432V5.074a.5.5 0 0 1 .248-.432l5-2.916ZM8.756.862a1.5 1.5 0 0 0-1.512 0l-5 2.917A1.5 1.5 0 0 0 1.5 5.074v5.852a1.5 1.5 0 0 0 .744 1.295l5 2.917a1.5 1.5 0 0 0 1.512 0l5-2.917a1.5 1.5 0 0 0 .744-1.295V5.074a1.5 1.5 0 0 0-.744-1.295l-5-2.917Zm2.139 5.445a.5.5 0 0 0-.79-.614L6.953 9.746l-1.1-1.1a.5.5 0 0 0-.707.708l1.5 1.5a.5.5 0 0 0 .749-.047l3.5-4.5Z"),attention:re("M8.354 2.06a.5.5 0 0 0-.708 0L2.061 7.647a.5.5 0 0 0 0 .707l5.585 5.586a.5.5 0 0 0 .708 0l5.585-5.586a.5.5 0 0 0 0-.707L8.354 2.061Zm-1.415-.707a1.5 1.5 0 0 1 2.122 0l5.585 5.586a1.5 1.5 0 0 1 0 2.122l-5.585 5.585a1.5 1.5 0 0 1-2.122 0L1.354 9.061a1.5 1.5 0 0 1 0-2.122l5.585-5.586ZM8.75 10.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM8.5 8.5v-3a.5.5 0 0 0-1 0v3a.5.5 0 0 0 1 0Z"),critical:re("M8.252 1.726a.5.5 0 0 0-.504 0l-5 2.916a.5.5 0 0 0-.248.432v5.852a.5.5 0 0 0 .248.431l5 2.917a.5.5 0 0 0 .504 0l5-2.916a.5.5 0 0 0 .248-.432V5.074a.5.5 0 0 0-.248-.432l-5-2.916ZM7.244.862a1.5 1.5 0 0 1 1.512 0l5 2.917a1.5 1.5 0 0 1 .744 1.295v5.852a1.5 1.5 0 0 1-.744 1.295l-5 2.917a1.5 1.5 0 0 1-1.512 0l-5-2.917a1.5 1.5 0 0 1-.744-1.295V5.074a1.5 1.5 0 0 1 .744-1.295l5-2.917ZM8.75 10.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM8.5 5.5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 1 0v-3Z"),info:re("M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm5.5-1.5a.5.5 0 0 0 0 1h1v3h-1a.5.5 0 1 0 0 1h3a.5.5 0 0 0 0-1h-1V7a.5.5 0 0 0-.5-.5H6.5Zm1.375-1a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25Z")},Or=G((t,r)=>{const{tone:n,...e}=t,o=kn[n];return v.jsx(o,{...e,ref:r})}),Fr=re("M3 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm6-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm5 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"),Tn=re("M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"),kr=G((t,r)=>v.jsx(Tn,{...t,className:ne("-chevron-down",t.className),ref:r}));var rt=De([ve],[Me]),_n=rt.useContext,Ln=rt.useScopedContext;A.createContext(void 0);var de=De([ve,It],[Me,gt]),Te=de.useContext,ot=de.useScopedContext,be=de.useProviderContext,st=de.ContextProvider,Hn=de.ScopedContextProvider;A.createContext(void 0);A.createContext(void 0);var at=De([St,ve],[$e,Me]),Tr=at.useContext,jn=at.useProviderContext;A.createContext(void 0);A.createContext(!1);function Nn(t={}){var r=t,{combobox:n,parent:e,menubar:o}=r,u=$t(r,["combobox","parent","menubar"]);const a=!!o&&!e,i=rn(u.store,sn(e,["values"]),on(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),s=i.getState(),f=et(X(Z({},u),{store:i,orientation:T(u.orientation,s.orientation,"vertical")})),c=yt(X(Z({},u),{store:i,placement:T(u.placement,s.placement,"bottom-start"),timeout:T(u.timeout,s.timeout,a?0:150),hideTimeout:T(u.hideTimeout,s.hideTimeout,0)})),S=X(Z(Z({},f.getState()),c.getState()),{initialFocus:T(s.initialFocus,"container"),values:T(u.values,s.values,u.defaultValues,{})}),m=Oe(S,f,c,i);return Se(m,()=>ye(m,["mounted"],d=>{d.mounted||m.setState("activeId",null)})),Se(m,()=>ye(e,["orientation"],d=>{m.setState("placement",d.orientation==="vertical"?"right-start":"bottom-start")})),X(Z(Z(Z({},f),c),m),{combobox:n,parent:e,menubar:o,hideAll:()=>{c.hide(),e==null||e.hideAll()},setInitialFocus:d=>m.setState("initialFocus",d),setValues:d=>m.setState("values",d),setValue:(d,h)=>{d!=="__proto__"&&d!=="constructor"&&(Array.isArray(d)||m.setState("values",b=>{const p=b[d],M=Vt(h,p);return M===p?b:X(Z({},b),{[d]:M!==void 0&&M})}))}})}function Kn(t,r,n){return ze(r,[n.combobox,n.parent,n.menubar]),J(t,n,"values","setValues"),Object.assign(Ct(tt(t,r,n),r,n),{combobox:n.combobox,parent:n.parent,menubar:n.menubar})}function Rn(t={}){const r=Te(),n=_n(),e=jn();t=R(x({},t),{parent:t.parent!==void 0?t.parent:r,menubar:t.menubar!==void 0?t.menubar:n,combobox:t.combobox!==void 0?t.combobox:e});const[o,u]=Fe(Nn,t);return Kn(o,u,t)}var Bn="div",ee="";function ge(){ee=""}function $n(t){const r=t.target;return r&&Ee(r)?!1:t.key===" "&&ee.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Vn(t,r){if(se(t))return!0;const n=t.target;return n?r.some(o=>o.element===n):!1}function Zn(t){return t.filter(r=>!r.disabled)}function fe(t,r){var n;const e=((n=t.element)==null?void 0:n.textContent)||t.children||"value"in t&&t.value;return e?Wt(e).trim().toLowerCase().startsWith(r.toLowerCase()):!1}function Wn(t,r,n){if(!n)return t;const e=t.find(o=>o.id===n);return!e||!fe(e,r)||ee!==r&&fe(e,ee)?t:(ee=r,jt(t.filter(o=>fe(o,ee)),n).filter(o=>o.id!==n))}var _e=z(function(r){var n=r,{store:e,typeahead:o=!0}=n,u=V(n,["store","typeahead"]);const a=We();e=e||a,Q(e,!1);const i=u.onKeyDownCapture,s=A.useRef(0),f=$(c=>{if(i==null||i(c),c.defaultPrevented||!o||!e)return;if(!$n(c))return ge();const{renderedItems:S,items:m,activeId:d,id:h}=e.getState();let b=Zn(m.length>S.length?m:S);const p=Ue(c.currentTarget),M=`[data-offscreen-id="${h}"]`,I=p.querySelectorAll(M);for(const C of I){const H=C.ariaDisabled==="true"||"disabled"in C&&!!C.disabled;b.push({id:C.id,element:C,disabled:H})}if(I.length&&(b=Zt(b,C=>C.element)),!Vn(c,b))return ge();c.preventDefault(),window.clearTimeout(s.current),s.current=window.setTimeout(()=>{ee=""},500);const L=c.key.toLowerCase();ee+=L,b=Wn(b,L,d);const k=b.find(C=>fe(C,ee));k?e.move(k.id):ge()});return u=R(x({},u),{onKeyDownCapture:f}),qe(u)});U(function(r){const n=_e(r);return q(Bn,n)});var zn="div";function Un(t){var r=t,{store:n}=r,e=V(r,["store"]);const[o,u]=A.useState(void 0),a=e["aria-label"],i=te(n,"disclosureElement"),s=te(n,"contentElement");return A.useEffect(()=>{const f=i;if(!f)return;const c=s;if(!c)return;a||c.hasAttribute("aria-label")?u(void 0):f.id&&u(f.id)},[a,i,s]),o}var ut=z(function(r){var n=r,{store:e,alwaysVisible:o,composite:u}=n,a=V(n,["store","alwaysVisible","composite"]);const i=be();e=e||i,Q(e,!1);const s=e.parent,f=e.menubar,c=!!s,S=Pe(a.id),m=a.onKeyDown,d=e.useState(P=>P.placement.split("-")[0]),h=e.useState(P=>P.orientation==="both"?void 0:P.orientation),b=h!=="vertical",p=te(f,P=>!!P&&P.orientation!=="vertical"),M=$(P=>{if(m==null||m(P),!P.defaultPrevented){if(c||f&&!b){const w={ArrowRight:()=>d==="left"&&!b,ArrowLeft:()=>d==="right"&&!b,ArrowUp:()=>d==="bottom"&&b,ArrowDown:()=>d==="top"&&b}[P.key];if(w!=null&&w())return P.stopPropagation(),P.preventDefault(),e==null?void 0:e.hide()}if(f){const w={ArrowRight:()=>{if(p)return f.next()},ArrowLeft:()=>{if(p)return f.previous()},ArrowDown:()=>{if(!p)return f.next()},ArrowUp:()=>{if(!p)return f.previous()}}[P.key],j=w==null?void 0:w();j!==void 0&&(P.stopPropagation(),P.preventDefault(),f.move(j))}}});a=pe(a,P=>v.jsx(Hn,{value:e,children:P}),[e]);const I=Un(x({store:e},a)),L=e.useState("mounted"),k=wt(L,a.hidden,o),C=k?R(x({},a.style),{display:"none"}):a.style;a=R(x({id:S,"aria-labelledby":I,hidden:k},a),{ref:le(S?e.setContentElement:null,a.ref),style:C,onKeyDown:M});const H=!!e.combobox;return u=u??!H,u&&(a=x({role:"menu","aria-orientation":h},a)),a=nt(x({store:e,composite:u},a)),a=_e(x({store:e,typeahead:!H},a)),a});U(function(r){const n=ut(r);return q(zn,n)});var qn="div",Gn=z(function(r){var n=r,{store:e,modal:o=!1,portal:u=!!o,hideOnEscape:a=!0,autoFocusOnShow:i=!0,hideOnHoverOutside:s,alwaysVisible:f}=n,c=V(n,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const S=be();e=e||S,Q(e,!1);const m=A.useRef(null),d=e.parent,h=e.menubar,b=!!d,p=!!h&&!b;c=R(x({},c),{ref:le(m,c.ref)});const M=ut(x({store:e,alwaysVisible:f},c)),{"aria-labelledby":I}=M;c=V(M,["aria-labelledby"]);const[k,C]=A.useState(),H=e.useState("autoFocusOnShow"),P=e.useState("initialFocus"),W=e.useState("baseElement"),w=e.useState("renderedItems");A.useEffect(()=>{let D=!1;return C(E=>{var K,O,_;if(D||!H)return;if((K=E==null?void 0:E.current)!=null&&K.isConnected)return E;const B=A.createRef();switch(P){case"first":B.current=((O=w.find(ae=>!ae.disabled&&ae.element))==null?void 0:O.element)||null;break;case"last":B.current=((_=[...w].reverse().find(ae=>!ae.disabled&&ae.element))==null?void 0:_.element)||null;break;default:B.current=W}return B}),()=>{D=!0}},[e,H,P,w,W]);const j=b?!1:o,y=!!i,N=!!k||!!c.initialFocus||!!j,l=te(e.combobox||e,"contentElement"),g=te((d==null?void 0:d.combobox)||d,"contentElement"),F=A.useMemo(()=>{if(!g||!l)return;const D=l.getAttribute("role"),E=g.getAttribute("role");if(!((E==="menu"||E==="menubar")&&D==="menu"))return g},[l,g]);return F!==void 0&&(c=x({preserveTabOrderAnchor:F},c)),c=Pt(R(x({store:e,alwaysVisible:f,initialFocus:k,autoFocusOnShow:y?N&&i:H||!!j},c),{hideOnEscape(D){return Ut(a,D)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(D){const E=e==null?void 0:e.getState().disclosureElement;return(typeof s=="function"?s(D):s??(b?!0:p?E?!ie(E):!0:!1))?D.defaultPrevented||!b||!E||(zt(E,"mouseout",D),!ie(E))?!0:(requestAnimationFrame(()=>{ie(E)||e==null||e.hide()}),!1):!1},modal:j,portal:u,backdrop:b?!1:c.backdrop})),c=x({"aria-labelledby":I},c),c}),Jn=Mt(U(function(r){const n=Gn(r);return q(qn,n)}),be);function Qn(t={}){const r=Rn(t);return v.jsx(st,{value:r,children:t.children})}var Yn="div",it=z(function(r){var n=r,{store:e}=n,o=V(n,["store"]);const u=Ve();return e=e||u,o=R(x({},o),{ref:le(e==null?void 0:e.setAnchorElement,o.ref)}),o});U(function(r){const n=it(r);return q(Yn,n)});var Xn="button",lt=z(function(r){var n=r,{store:e}=n,o=V(n,["store"]);const u=Et();e=e||u,Q(e,!1);const a=e.useState("contentElement");return o=x({"aria-haspopup":Ge(a,"dialog")},o),o=dn(x({store:e},o)),o}),_r=U(function(r){const n=lt(r);return q(Xn,n)}),er="button",ct=z(function(r){var n=r,{store:e}=n,o=V(n,["store"]);const u=Ve();e=e||u,Q(e,!1);const a=o.onClick,i=$(s=>{e==null||e.setAnchorElement(s.currentTarget),a==null||a(s)});return o=pe(o,s=>v.jsx($e,{value:e,children:s}),[e]),o=R(x({},o),{onClick:i}),o=it(x({store:e},o)),o=lt(x({store:e},o)),o});U(function(r){const n=ct(r);return q(er,n)});var tr="button";function nr(t,r){return{ArrowDown:r==="bottom"||r==="top"?"first":!1,ArrowUp:r==="bottom"||r==="top"?"last":!1,ArrowRight:r==="right"?"first":!1,ArrowLeft:r==="left"?"first":!1}[t.key]}function Re(t,r){return!!(t!=null&&t.some(n=>!n.element||n.element===r?!1:n.element.getAttribute("aria-expanded")==="true"))}var rr=z(function(r){var n=r,{store:e,focusable:o,accessibleWhenDisabled:u,showOnHover:a}=n,i=V(n,["store","focusable","accessibleWhenDisabled","showOnHover"]);const s=be();e=e||s,Q(e,!1);const f=A.useRef(null),c=e.parent,S=e.menubar,m=!!c,d=!!S&&!m,h=qt(i),b=()=>{const y=f.current;y&&(e==null||e.setDisclosureElement(y),e==null||e.setAnchorElement(y),e==null||e.show())},p=i.onFocus,M=$(y=>{if(p==null||p(y),h||y.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!S)||!d)return;const{items:N}=S.getState();Re(N,y.currentTarget)&&b()}),I=te(e,y=>y.placement.split("-")[0]),L=i.onKeyDown,k=$(y=>{if(L==null||L(y),h||y.defaultPrevented)return;const N=nr(y,I);N&&(y.preventDefault(),b(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(N))}),C=i.onClick,H=$(y=>{if(C==null||C(y),y.defaultPrevented||!e)return;const N=!y.detail,{open:l}=e.getState();(!l||N)&&((!m||N)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(N?"first":"container")),m&&b()});i=pe(i,y=>v.jsx(st,{value:e,children:y}),[e]),m&&(i=R(x({},i),{render:v.jsx(ke.div,{render:i.render})}));const P=Pe(i.id),W=te((c==null?void 0:c.combobox)||c,"contentElement"),w=m||d?Je(W,"menuitem"):void 0,j=e.useState("contentElement");return i=R(x({id:P,role:w,"aria-haspopup":Ge(j,"menu")},i),{ref:le(f,i.ref),onFocus:M,onKeyDown:k,onClick:H}),i=Dt(R(x({store:e,focusable:o,accessibleWhenDisabled:u},i),{showOnHover:y=>{if(!(()=>{if(typeof a=="function")return a(y);if(a!=null)return a;if(m)return!0;if(!S)return!1;const{items:F}=S.getState();return d&&Re(F)})())return!1;const g=d?S:c;return g&&g.setActiveId(y.currentTarget.id),!0}})),i=ct(x({store:e,toggleOnClick:!m,focusable:o,accessibleWhenDisabled:u},i)),i=_e(x({store:e,typeahead:d},i)),i}),or=U(function(r){const n=rr(r);return q(tr,n)}),sr="div";function dt(t){const r=t.relatedTarget;return(r==null?void 0:r.nodeType)===Node.ELEMENT_NODE?r:null}function ar(t){const r=dt(t);return r?Jt(t.currentTarget,r):!1}var we=Symbol("composite-hover");function ur(t){let r=dt(t);if(!r)return!1;do{if(Qt(r,we)&&r[we])return!0;r=r.parentElement}while(r);return!1}var ft=z(function(r){var n=r,{store:e,focusOnHover:o=!0,blurOnHoverEnd:u=!!o}=n,a=V(n,["store","focusOnHover","blurOnHoverEnd"]);const i=We();e=e||i,Q(e,!1);const s=Gt(),f=a.onMouseMove,c=me(o),S=$(p=>{if(f==null||f(p),!p.defaultPrevented&&s()&&c(p)){if(!ie(p.currentTarget)){const M=e==null?void 0:e.getState().baseElement;M&&!Be(M)&&M.focus()}e==null||e.setActiveId(p.currentTarget.id)}}),m=a.onMouseLeave,d=me(u),h=$(p=>{var M;m==null||m(p),!p.defaultPrevented&&s()&&(ar(p)||ur(p)||c(p)&&d(p)&&(e==null||e.setActiveId(null),(M=e==null?void 0:e.getState().baseElement)==null||M.focus()))}),b=A.useCallback(p=>{p&&(p[we]=!0)},[]);return a=R(x({},a),{ref:le(b,a.ref),onMouseMove:S,onMouseLeave:h}),qe(a)});Ae(U(function(r){const n=ft(r);return q(sr,n)}));var ir="div";function lr(t,r,n){var e;if(!t)return!1;if(ie(t))return!0;const o=r==null?void 0:r.find(s=>{var f;return s.element===n?!1:((f=s.element)==null?void 0:f.getAttribute("aria-expanded"))==="true"}),u=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!u)return!1;const i=Ue(t).getElementById(u);return i?ie(i)?!0:!!i.querySelector("[role=menuitem][aria-expanded=true]"):!1}var mt=z(function(r){var n=r,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:u=!0,focusOnHover:a,blurOnHoverEnd:i}=n,s=V(n,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const f=ot(!0),c=Ln();e=e||f||c,Q(e,!1);const S=s.onClick,m=me(o),d="hideAll"in e?e.hideAll:void 0,h=!!d,b=$(I=>{S==null||S(I),!(I.defaultPrevented||Yt(I)||Xt(I)||!d||I.currentTarget.getAttribute("aria-haspopup")==="menu")&&m(I)&&d()}),p=te(e,I=>"contentElement"in I?I.contentElement:null),M=Je(p,"menuitem");return s=R(x({role:M},s),{onClick:b}),s=Nt(x({store:e,preventScrollOnKeyDown:u},s)),s=ft(R(x({store:e},s),{focusOnHover(I){const L=()=>typeof a=="function"?a(I):a??!0;if(!e||!L())return!1;const{baseElement:k,items:C}=e.getState();return h?(I.currentTarget.hasAttribute("aria-expanded")&&I.currentTarget.focus(),!0):lr(k,C,I.currentTarget)?(I.currentTarget.focus(),!0):!1},blurOnHoverEnd(I){return typeof i=="function"?i(I):i??h}})),s}),cr=Ae(U(function(r){const n=mt(r);return q(ir,n)})),dr="div";function fr(t){return Array.isArray(t)?t.toString():t}function Ie(t,r,n){if(r===void 0)return Array.isArray(t)?t:!!n;const e=fr(r);return Array.isArray(t)?n?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):n?e:t===e?!1:t}var mr=z(function(r){var n=r,{store:e,name:o,value:u,checked:a,defaultChecked:i,hideOnClick:s=!1}=n,f=V(n,["store","name","value","checked","defaultChecked","hideOnClick"]);const c=ot();e=e||c,Q(e,!1);const S=en(i);A.useEffect(()=>{e==null||e.setValue(o,(d=[])=>S?Ie(d,u,!0):d)},[e,o,u,S]),A.useEffect(()=>{a!==void 0&&(e==null||e.setValue(o,d=>Ie(d,u,a)))},[e,o,u,a]);const m=hn({value:e.useState(d=>d.values[o]),setValue(d){e==null||e.setValue(o,()=>{if(a===void 0)return d;const h=Ie(d,u,a);return!Array.isArray(h)||!Array.isArray(d)?h:tn(d,h)?d:h})}});return f=x({role:"menuitemcheckbox"},f),f=fn(x({store:m,name:o,value:u,checked:a},f)),f=mt(x({store:e,hideOnClick:s},f)),f}),vr=Ae(U(function(r){const n=mr(r);return q(dr,n)}));const vt=G((t,r)=>v.jsx(ke.div,{role:"listitem",...t,className:ne("-list-item",t.className),ref:r})),pt=G((t,r)=>v.jsx(At,{...t,variant:"body-sm",className:ne("-list-item-content",t.className),ref:r})),he=G((t,r)=>v.jsx(ke.div,{...t,className:ne("-list-item-decoration",t.className),ref:r}));function Lr(t){const{children:r,placement:n,open:e,setOpen:o,defaultOpen:u}=t;return v.jsx(Qn,{placement:n,defaultOpen:u,open:e,setOpen:o,popover:Ft(),children:r})}const Hr=G((t,r)=>{const n=un(Te());return v.jsx(Jn,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...n.style,...t.style},wrapperProps:n.wrapperProps,className:ne("-dropdown-menu",t.className),ref:r})}),jr=G((t,r)=>{const{accessibleWhenDisabled:n=!0,children:e,...o}=t,u=te(Te(),a=>a==null?void 0:a.open);return v.jsx(or,{accessibleWhenDisabled:!0,render:v.jsxs(kt,{accessibleWhenDisabled:n,children:[e,v.jsx(vn,{})]}),...o,className:ne("-dropdown-menu-button",t.className),"data-has-popover-open":u||void 0,ref:r})}),Nr=G((t,r)=>{const{label:n,shortcuts:e,icon:o,unstable_dot:u,...a}=t,i=A.useId();return v.jsxs(cr,{accessibleWhenDisabled:!0,render:v.jsx(vt,{render:v.jsx(Ze,{accessibleWhenDisabled:!0,"aria-describedby":i,...a,className:ne("-dropdown-menu-item",t.className),ref:r})}),children:[o?v.jsx(bt,{icon:o}):null,v.jsx(pt,{render:v.jsx("span",{}),children:n}),e?v.jsx(pr,{shortcuts:e}):null,u?v.jsx(he,{render:v.jsx(Ot,{id:i,className:"-dropdown-menu-item-dot",children:u})}):null]})}),pr=G((t,r)=>{const{shortcuts:n,...e}=t,o=A.useMemo(()=>n.split("+").map(u=>({key:u.trim(),isSymbol:u in mn})),[n]);return v.jsx(he,{render:v.jsx("span",{}),...e,className:ne("-dropdown-menu-item-shortcuts",t.className),ref:r,children:o.map(({key:u,isSymbol:a},i)=>a?v.jsx(je,{variant:"ghost",symbol:u},`${u+i}`):v.jsx(je,{variant:"ghost",children:u},`${u+i}`))})}),bt=G((t,r)=>{const{icon:n,...e}=t;return v.jsx(he,{render:v.jsx(an,{href:typeof n=="string"?n:void 0,render:A.isValidElement(n)?n:void 0,...e,ref:r})})}),Kr=G((t,r)=>{const{label:n,icon:e,defaultChecked:o,checked:u,onChange:a,name:i,value:s=o?"on":void 0,...f}=t;return v.jsxs(vr,{accessibleWhenDisabled:!0,defaultChecked:o,checked:u,name:i,value:s,onChange:a,render:v.jsx(vt,{render:v.jsx(Ze,{accessibleWhenDisabled:!0,...f,className:ne("-dropdown-menu-item",t.className),ref:r})}),children:[e?v.jsx(bt,{icon:e}):null,v.jsx(pt,{render:v.jsx("span",{}),children:n}),v.jsx(he,{render:v.jsx(Fn,{className:"-dropdown-menu-checkmark"})})]})});export{kr as C,_r as D,vt as L,Fr as M,Or as S,tt as a,nt as b,et as c,Nr as d,he as e,pt as f,Lr as g,jr as h,Hr as i,Dr as j,Ar as k,Kr as l,Tr as u};
