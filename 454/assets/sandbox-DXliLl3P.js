var Me=t=>{throw TypeError(t)};var xe=(t,e,s)=>e.has(t)||Me("Cannot "+s);var o=(t,e,s)=>(xe(t,e,"read from private field"),s?s.call(t):e.get(t)),M=(t,e,s)=>e.has(t)?Me("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),S=(t,e,s,n)=>(xe(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),_=(t,e,s)=>(xe(t,e,"access private method"),s);import{w as it}from"./LMDWO4NN-DUubhdkr.js";import{a as i,n as r,t as at}from"./chunk-K6CSEXPM-Djlbx4X2.js";import{a as Te}from"./index-ChOFKjs3.js";import{A as Ve}from"./Anchor-CKrbw5Qh.js";import{G as ot,u as lt,B as ct}from"./Button-5Q56t4LK.js";import{L as ut,a as ke,b as Ne,D as We,c as $e,d as Ge,e as L,f as dt}from"./DropdownMenu-J9S4b2sX.js";import{S as Xe,C as qe,D as ht,I as Z}from"./Icon-ulh4_gZP.js";import{I as q}from"./IconButton-yI6EDBZj.js";import{F as ft,L as mt}from"./Label-Ct4enNFg.js";import{S as pt,H as xt}from"./Select-BRWpRSAN.js";import{S as vt}from"./Spinner-iRh0BvFb.js";import{T as bt,a as gt,b as jt,c as Ct}from"./Tabs-Ds9Vl2UL.js";import{T as J}from"./Text-DtFiUK60.js";import{T as It,a as yt,b as St}from"./TextBox-YGVFVWb9.js";import{c as Y,a as Rt}from"./~utils-CXPSt6v1.js";import{R as ne}from"./XL7CSKGW-B1PhyPSn.js";import{u as wt,C as _t}from"./ITI7HKP4-C5EJ2Ulc.js";import{f as W}from"./~utils-CDNTHryc.js";import{V as oe}from"./VisuallyHidden-D8ialg-Y.js";import{S as Ft,l as Pe,q as Q,t as ve,r as de,b as Dt,u as be,v as Ee,w as Mt,g as Tt,x as kt,y as ze,n as Je,z as Nt}from"./QueryClientProvider-CsjJmbma.js";import{p as ie}from"./placeholder-BDe-GzZ9.js";import{p as Pt,l as Et,h as zt,s as Le,m as Lt,d as Ot,f as Bt}from"./visibility-hide-Bo_qBL5Z.js";import{s as Ut}from"./visibility-show-CMY-I9kg.js";import{C as At}from"./P2CTZE2T-Je5rf-Zr.js";import{T as Qt}from"./toolbar-BMaXii5q.js";import{u as le}from"./~hooks-Dm4cS9mD.js";import{D as Ht}from"./Divider-jqmVoxrH.js";import"./LVA2YJMS-WngChXeY.js";import"./X5NMLKT6-CowhHlDI.js";import"./KUU7WJ55-EPzOWSv3.js";import"./Kbd-B6nxomHA.js";import"./BYC7LY2E-Dg4btrFO.js";import"./YV4JVR4I-DzguEf2c.js";import"./VGCJ63VH-B5YFul0-.js";import"./XX67R432-Byue8kDV.js";import"./AOQQTIBO-B4HjLz2q.js";import"./MTZPJQMC-12L8Y8RX.js";import"./VEVQD5MH-Ba0P5p1F.js";import"./P4IRICAX-NK57lmKH.js";import"./ASMQKSDT-DxTnVcU8.js";import"./BOLVLGVE-GnbH8_Cl.js";import"./Tooltip-vnuYbYip.js";import"./tooltip-anchor-B0yqCqbD.js";import"./C3IKGW5T-BaLKfk0m.js";import"./RZ4GPYOB-DvprUfEa.js";import"./A3CZKICO-C8rxsG5V.js";const Fe=i.createContext(void 0),Kt=W((t,e)=>{const{label:s,items:n,expanded:u=!1,onExpandedChange:a,...l}=t;return r.jsx(ne.div,{"data-kiwi-expanded":u,...l,className:Y("ðŸ¥-tree-error",t.className),ref:e,children:r.jsxs("div",{className:"ðŸ¥-tree-error-container",children:[r.jsxs("div",{className:"ðŸ¥-tree-error-header",children:[r.jsx(Xe,{className:"ðŸ¥-tree-error-icon"}),r.jsx(J,{className:"ðŸ¥-tree-error-label",variant:"body-sm",children:s}),r.jsx(q,{label:u?"Collapse":"Expand",icon:r.jsx(qe,{}),variant:"ghost",onClick:()=>{a==null||a(!u)}})]}),u&&r.jsxs(r.Fragment,{children:[r.jsx(Ht,{className:"ðŸ¥-tree-error-divider",presentational:!0}),r.jsx("div",{className:"ðŸ¥-tree-error-items",children:n})]})]})})}),Vt=W((t,e)=>{const{treeItemId:s,message:n,actions:u,onDismiss:a,...l}=t,{setErrorId:c}=i.useContext(Fe)??{},d=i.useId();return i.useEffect(()=>{if(s)return c==null||c({itemId:s,errorId:d}),()=>{c==null||c({itemId:s,errorId:void 0})}},[s,d,c]),r.jsxs(ne.div,{...l,className:Y("ðŸ¥-tree-error-item",t.className),ref:e,children:[r.jsx(J,{id:d,variant:"body-sm",className:"ðŸ¥-tree-error-item-message",children:n}),a&&r.jsx(q,{className:"ðŸ¥-tree-error-item-dismiss",variant:"ghost",label:"Dismiss",icon:r.jsx(ht,{}),onClick:a}),r.jsx("div",{className:"ðŸ¥-tree-error-item-actions",children:u})]})}),Wt=W((t,e)=>r.jsx(Ve,{render:r.jsx("button",{...t}),ref:e})),$t=i.createContext(void 0),Gt=W((t,e)=>{const{id:s,"aria-level":n,selected:u,expanded:a,unstable_decorations:l,label:c,description:d,actions:f,error:p,onSelectedChange:h,onExpandedChange:x,onClick:j,onKeyDown:F,...k}=t;let{icon:b}=t;const{itemIdToErrorId:R}=i.useContext(Fe)??{},N=v=>{u!==void 0&&(v.stopPropagation(),h==null||h(!u))},H=v=>{v.altKey||v.ctrlKey||v.metaKey||v.shiftKey||a!==void 0&&(v.key==="ArrowRight"||v.key==="ArrowLeft")&&(v.preventDefault(),x==null||x(v.key==="ArrowRight"))},O=i.useId(),B=i.useId(),z=i.useId(),m=s&&R?R.get(s):void 0;b=p?r.jsx(Xe,{}):b;const D=i.useMemo(()=>{const v=[];return d&&v.push(B),(l||b)&&v.push(z),m&&v.push(m),v.length>0?v.join(" "):void 0},[l,b,z,d,B,m]);return r.jsx($t.Provider,{value:i.useMemo(()=>({level:n,expanded:a,selected:u}),[n,a,u]),children:r.jsx(At,{id:s,render:r.jsx(ne,{...k}),onClick:le(j,N),onKeyDown:le(F,H),role:"treeitem","aria-expanded":a,"aria-selected":u,"aria-labelledby":O,"aria-describedby":D,"aria-level":n,className:Y("ðŸ¥-tree-item",t.className),ref:e,children:r.jsxs(ut,{"data-kiwi-expanded":a,"data-kiwi-selected":u,"data-kiwi-error":p?!0:void 0,className:"ðŸ¥-tree-item-node",style:{"--ðŸ¥tree-item-level":n},role:void 0,children:[r.jsxs(ke,{children:[r.jsx(ot,{align:d?"block":void 0,children:r.jsx(qt,{onClick:()=>{a!==void 0&&(x==null||x(!a))}})}),b||l?r.jsx(ne,{className:"ðŸ¥-tree-item-decoration",id:z,render:i.isValidElement(b)?b:typeof b=="string"?r.jsx(Z,{href:b}):void 0,children:b?null:l}):null]}),r.jsx(Ne,{id:O,className:"ðŸ¥-tree-item-content",children:c}),d?r.jsx(Ne,{id:B,className:"ðŸ¥-tree-item-description",children:d}):void 0,r.jsx(ke,{render:r.jsx(Xt,{children:f})})]})})})}),Xt=W((t,e)=>r.jsx(Qt,{...t,onClick:le(t.onClick,s=>s.stopPropagation()),onKeyDown:le(t.onKeyDown,s=>s.stopPropagation()),className:Y("ðŸ¥-tree-item-actions",t.className),ref:e,children:t.children})),ge=W((t,e)=>{const{visible:s,...n}=t;return r.jsx(q,{inert:s===!1?!0:void 0,...n,variant:"ghost",className:Y("ðŸ¥-tree-item-action",t.className),"data-kiwi-visible":s,ref:e})}),qt=W((t,e)=>r.jsx(ne.span,{"aria-hidden":"true",...t,onClick:le(t.onClick,s=>s.stopPropagation()),className:Y("ðŸ¥-button","ðŸ¥-icon-button","ðŸ¥-ghost-aligner","ðŸ¥-tree-item-expander",t.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":lt(),ref:e,children:r.jsx(qe,{})})),Jt=W((t,e)=>{const{error:s,...n}=t,u=wt({orientation:"vertical"}),[a,l]=i.useState(new Map),c=i.useCallback(d=>{const{errorId:f}=d;l(p=>{const h=new Map(p);return f===void 0?h.delete(d.itemId)?h:p:h.set(d.itemId,f)})},[]);return r.jsxs(Fe.Provider,{value:i.useMemo(()=>({itemIdToErrorId:a,setErrorId:c}),[a,c]),children:[s,r.jsx(ne.div,{role:"tree",...n,render:r.jsx(_t,{store:u}),className:Y("ðŸ¥-tree",t.className),ref:e,children:t.children})]})});var E,g,ce,T,$,ee,K,A,ue,te,se,G,X,V,re,C,ae,je,Ce,Ie,ye,Se,Re,we,Ye,Ke,Yt=(Ke=class extends Ft{constructor(e,s){super();M(this,C);M(this,E);M(this,g);M(this,ce);M(this,T);M(this,$);M(this,ee);M(this,K);M(this,A);M(this,ue);M(this,te);M(this,se);M(this,G);M(this,X);M(this,V);M(this,re,new Set);this.options=s,S(this,E,e),S(this,A,null),S(this,K,Pe()),this.options.experimental_prefetchInRender||o(this,K).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(o(this,g).addObserver(this),Oe(o(this,g),this.options)?_(this,C,ae).call(this):this.updateResult(),_(this,C,ye).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _e(o(this,g),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _e(o(this,g),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_(this,C,Se).call(this),_(this,C,Re).call(this),o(this,g).removeObserver(this)}setOptions(e,s){const n=this.options,u=o(this,g);if(this.options=o(this,E).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Q(this.options.enabled,o(this,g))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_(this,C,we).call(this),o(this,g).setOptions(this.options),n._defaulted&&!ve(this.options,n)&&o(this,E).getQueryCache().notify({type:"observerOptionsUpdated",query:o(this,g),observer:this});const a=this.hasListeners();a&&Be(o(this,g),u,this.options,n)&&_(this,C,ae).call(this),this.updateResult(s),a&&(o(this,g)!==u||Q(this.options.enabled,o(this,g))!==Q(n.enabled,o(this,g))||de(this.options.staleTime,o(this,g))!==de(n.staleTime,o(this,g)))&&_(this,C,je).call(this);const l=_(this,C,Ce).call(this);a&&(o(this,g)!==u||Q(this.options.enabled,o(this,g))!==Q(n.enabled,o(this,g))||l!==o(this,V))&&_(this,C,Ie).call(this,l)}getOptimisticResult(e){const s=o(this,E).getQueryCache().build(o(this,E),e),n=this.createResult(s,e);return es(this,n)&&(S(this,T,n),S(this,ee,this.options),S(this,$,o(this,g).state)),n}getCurrentResult(){return o(this,T)}trackResult(e,s){const n={};return Object.keys(e).forEach(u=>{Object.defineProperty(n,u,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(u),s==null||s(u),e[u])})}),n}trackProp(e){o(this,re).add(e)}getCurrentQuery(){return o(this,g)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=o(this,E).defaultQueryOptions(e),n=o(this,E).getQueryCache().build(o(this,E),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return _(this,C,ae).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),o(this,T)))}createResult(e,s){var D;const n=o(this,g),u=this.options,a=o(this,T),l=o(this,$),c=o(this,ee),f=e!==n?e.state:o(this,ce),{state:p}=e;let h={...p},x=!1,j;if(s._optimisticResults){const v=this.hasListeners(),P=!v&&Oe(e,s),I=v&&Be(e,n,s,u);(P||I)&&(h={...h,...kt(p.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:F,errorUpdatedAt:k,status:b}=h;if(s.select&&h.data!==void 0)if(a&&h.data===(l==null?void 0:l.data)&&s.select===o(this,ue))j=o(this,te);else try{S(this,ue,s.select),j=s.select(h.data),j=ze(a==null?void 0:a.data,j,s),S(this,te,j),S(this,A,null)}catch(v){S(this,A,v)}else j=h.data;if(s.placeholderData!==void 0&&j===void 0&&b==="pending"){let v;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))v=a.data;else if(v=typeof s.placeholderData=="function"?s.placeholderData((D=o(this,se))==null?void 0:D.state.data,o(this,se)):s.placeholderData,s.select&&v!==void 0)try{v=s.select(v),S(this,A,null)}catch(P){S(this,A,P)}v!==void 0&&(b="success",j=ze(a==null?void 0:a.data,v,s),x=!0)}o(this,A)&&(F=o(this,A),j=o(this,te),k=Date.now(),b="error");const R=h.fetchStatus==="fetching",N=b==="pending",H=b==="error",O=N&&R,B=j!==void 0,m={status:b,fetchStatus:h.fetchStatus,isPending:N,isSuccess:b==="success",isError:H,isInitialLoading:O,isLoading:O,data:j,dataUpdatedAt:h.dataUpdatedAt,error:F,errorUpdatedAt:k,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>f.dataUpdateCount||h.errorUpdateCount>f.errorUpdateCount,isFetching:R,isRefetching:R&&!N,isLoadingError:H&&!B,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:H&&B,isStale:De(e,s),refetch:this.refetch,promise:o(this,K)};if(this.options.experimental_prefetchInRender){const v=w=>{m.status==="error"?w.reject(m.error):m.data!==void 0&&w.resolve(m.data)},P=()=>{const w=S(this,K,m.promise=Pe());v(w)},I=o(this,K);switch(I.status){case"pending":e.queryHash===n.queryHash&&v(I);break;case"fulfilled":(m.status==="error"||m.data!==I.value)&&P();break;case"rejected":(m.status!=="error"||m.error!==I.reason)&&P();break}}return m}updateResult(e){const s=o(this,T),n=this.createResult(o(this,g),this.options);if(S(this,$,o(this,g).state),S(this,ee,this.options),o(this,$).data!==void 0&&S(this,se,o(this,g)),ve(n,s))return;S(this,T,n);const u={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!o(this,re).size)return!0;const d=new Set(c??o(this,re));return this.options.throwOnError&&d.add("error"),Object.keys(o(this,T)).some(f=>{const p=f;return o(this,T)[p]!==s[p]&&d.has(p)})};(e==null?void 0:e.listeners)!==!1&&a()&&(u.listeners=!0),_(this,C,Ye).call(this,{...u,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_(this,C,ye).call(this)}},E=new WeakMap,g=new WeakMap,ce=new WeakMap,T=new WeakMap,$=new WeakMap,ee=new WeakMap,K=new WeakMap,A=new WeakMap,ue=new WeakMap,te=new WeakMap,se=new WeakMap,G=new WeakMap,X=new WeakMap,V=new WeakMap,re=new WeakMap,C=new WeakSet,ae=function(e){_(this,C,we).call(this);let s=o(this,g).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Dt)),s},je=function(){_(this,C,Se).call(this);const e=de(this.options.staleTime,o(this,g));if(be||o(this,T).isStale||!Ee(e))return;const n=Mt(o(this,T).dataUpdatedAt,e)+1;S(this,G,setTimeout(()=>{o(this,T).isStale||this.updateResult()},n))},Ce=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(o(this,g)):this.options.refetchInterval)??!1},Ie=function(e){_(this,C,Re).call(this),S(this,V,e),!(be||Q(this.options.enabled,o(this,g))===!1||!Ee(o(this,V))||o(this,V)===0)&&S(this,X,setInterval(()=>{(this.options.refetchIntervalInBackground||Tt.isFocused())&&_(this,C,ae).call(this)},o(this,V)))},ye=function(){_(this,C,je).call(this),_(this,C,Ie).call(this,_(this,C,Ce).call(this))},Se=function(){o(this,G)&&(clearTimeout(o(this,G)),S(this,G,void 0))},Re=function(){o(this,X)&&(clearInterval(o(this,X)),S(this,X,void 0))},we=function(){const e=o(this,E).getQueryCache().build(o(this,E),this.options);if(e===o(this,g))return;const s=o(this,g);S(this,g,e),S(this,ce,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ye=function(e){Je.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(o(this,T))}),o(this,E).getQueryCache().notify({query:o(this,g),type:"observerResultsUpdated"})})},Ke);function Zt(t,e){return Q(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Oe(t,e){return Zt(t,e)||t.state.data!==void 0&&_e(t,e,e.refetchOnMount)}function _e(t,e,s){if(Q(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&De(t,e)}return!1}function Be(t,e,s,n){return(t!==e||Q(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&De(t,s)}function De(t,e){return Q(e.enabled,t)!==!1&&t.isStaleByTime(de(e.staleTime,t))}function es(t,e){return!ve(t.getCurrentResult(),e)}var Ze=i.createContext(!1),ts=()=>i.useContext(Ze);Ze.Provider;function ss(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var rs=i.createContext(ss()),ns=()=>i.useContext(rs);function is(t,e){return typeof t=="function"?t(...e):!!t}function Ue(){}var as=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},os=t=>{i.useEffect(()=>{t.clearReset()},[t])},ls=({result:t,errorResetBoundary:e,throwOnError:s,query:n,suspense:u})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(u&&t.data===void 0||is(s,[t.error,n])),cs=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...s)=>Math.max(e(...s),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},us=(t,e)=>t.isLoading&&t.isFetching&&!e,ds=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Ae=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function hs(t,e,s){var h,x,j,F,k;const n=Nt(),u=ts(),a=ns(),l=n.defaultQueryOptions(t);(x=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||x.call(h,l),l._optimisticResults=u?"isRestoring":"optimistic",cs(l),as(l,a),os(a);const c=!n.getQueryCache().get(l.queryHash),[d]=i.useState(()=>new e(n,l)),f=d.getOptimisticResult(l),p=!u&&t.subscribed!==!1;if(i.useSyncExternalStore(i.useCallback(b=>{const R=p?d.subscribe(Je.batchCalls(b)):Ue;return d.updateResult(),R},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),i.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),ds(l,f))throw Ae(l,d,a);if(ls({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;if((F=(j=n.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||F.call(j,l,f),l.experimental_prefetchInRender&&!be&&us(f,u)){const b=c?Ae(l,d,a):(k=n.getQueryCache().get(l.queryHash))==null?void 0:k.promise;b==null||b.catch(Ue).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?f:d.trackResult(f)}function fs(t,e){return hs(t,Yt)}const ms="_appLayout_10hwn_5",ps="_header_10hwn_22",xs="_platformBar_10hwn_32",vs="_logo_10hwn_38",bs="_tools_10hwn_48",gs="_leftPanel_10hwn_58",js="_panelHeader_10hwn_70",Cs="_panelTitleWrapper_10hwn_78",Is="_panelCaption_10hwn_82",ys="_shiftIconRight_10hwn_86",Ss="_subheader_10hwn_90",Rs="_searchInput_10hwn_106",ws="_subheaderActions_10hwn_110",_s="_tabList_10hwn_114",Fs="_emptyState_10hwn_119",Ds="_canvasWrapper_10hwn_128",Ms="_canvas_10hwn_128",Ts="_splitter_10hwn_165",ks="_tabPanel_10hwn_211",Ns="_tree_10hwn_216",Ps="_action_10hwn_221",Es="_slider_10hwn_238",zs="_colorSwatch_10hwn_247",y={appLayout:ms,header:ps,platformBar:xs,logo:vs,tools:bs,leftPanel:gs,panelHeader:js,panelTitleWrapper:Cs,panelCaption:Is,shiftIconRight:ys,subheader:Ss,searchInput:Rs,subheaderActions:ws,tabList:_s,emptyState:Fs,canvasWrapper:Ds,canvas:Ms,splitter:Ts,tabPanel:ks,tree:Ns,action:Ps,slider:Es,colorSwatch:zs},Ls="/454/assets/sandbox.model1-B8uu5h-t.json",Os="/454/assets/sandbox.model2-Bi69Ub92.json",Bs="data:application/json;base64,ewoJIm5hbWUiOiAiRXBvY2ggU3lzdGVtIGlNb2RlbCAzIiwKCSJ2ZXJzaW9uIjogIjIwMjQgUmVmcmVzaCIsCgkiZGF0YSI6IHsKCQkiZGVmYXVsdCI6IFtdCgl9Cn0K",he={model1:{name:"Epoch System iModel 1",url:Ls},model2:{name:"Epoch System iModel 2",url:Os},model3:{name:"Epoch System iModel 3",url:Bs}};async function Us(t){if(t in he){const e=await fetch(he[t].url).then(s=>s.json());return e.slow&&await new Promise(s=>setTimeout(s,Math.random()*2e3)),e}return{name:"Unknown",version:"Unknown",data:{default:[]}}}const et="Kiwi sandbox",Gr=()=>[{title:et}],Xr=it(function(){var a,l;const[e,s]=at(),n=e.get("model")||"model1",u=fs({queryKey:["sandbox-data",n],queryFn:()=>Us(n)});return r.jsxs(As,{panelContent:r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:y.panelHeader,children:[r.jsxs("div",{children:[r.jsxs(ft,{children:[r.jsx(oe,{render:r.jsx(mt,{}),children:"Choose Model"}),r.jsx(pt,{className:y.panelTitleWrapper,children:r.jsx(xt,{variant:"ghost",defaultValue:n,onChange:c=>s({model:c.currentTarget.value}),children:Object.entries(he).map(([c,{name:d}])=>r.jsx("option",{value:c,children:d},c))})})]}),r.jsxs("hgroup",{role:"group",children:[r.jsx(oe,{render:r.jsx("h2",{}),children:(a=he[n])==null?void 0:a.name}),r.jsx(J,{className:y.panelCaption,variant:"body-sm",render:r.jsx("p",{}),children:((l=u.data)==null?void 0:l.version)||""})]})]}),r.jsx("div",{className:y.actions,children:r.jsx(q,{className:y.shiftIconRight,icon:Pt,label:"Dock panel",variant:"ghost",disabled:!0})})]}),r.jsx(i.Suspense,{fallback:r.jsx(Qs,{}),children:r.jsx(Hs,{query:u})},n)]}),children:[r.jsxs("header",{className:y.header,children:[r.jsx("div",{className:y.logo,children:r.jsx(Z,{href:ie,size:"large"})}),r.jsx(J,{render:c=>r.jsx("h1",{...c}),variant:"body-md",children:et})]}),r.jsx("div",{className:y.platformBar,children:r.jsxs("div",{className:y.tools,children:[r.jsx(Z,{href:ie,size:"large"}),r.jsx(Z,{href:ie,size:"large"}),r.jsx(Z,{href:ie,size:"large"})]})}),r.jsx("div",{className:y.canvasWrapper,children:r.jsx("div",{className:y.canvas})})]})});function As(t){const{sliderProps:e,panelProps:s,panelMinSize:n,panelMaxSize:u,resizing:a}=Ws({minSize:{px:256,pct:20},maxSize:{pct:30}}),l=i.useId();return r.jsxs("div",{className:y.appLayout,style:{"--_panel-min-size":n,"--_panel-max-size":u},children:[r.jsx("div",{...s,className:y.leftPanel,style:{position:"relative",...s.style},children:t.panelContent}),r.jsxs("div",{className:y.splitter,"data-resizing":a?"true":void 0,children:[r.jsx(oe,{render:c=>r.jsx("label",{...c,htmlFor:l,children:"Resize layers panel"}),children:"Resize layers panel"}),r.jsx("input",{id:l,type:"range",className:y.slider,...e})]}),t.children]})}function Qs(){return r.jsxs(tt,{children:[r.jsx(vt,{"aria-hidden":"true"}),r.jsx(J,{variant:"body-sm",children:"Loadingâ€¦"})]})}function Hs(t){var l;const{data:e}=i.use(t.query.promise),s=i.useMemo(()=>Object.entries(e).map(([c,d])=>{const f=d.length<=1?[]:d.map(({label:p})=>p);return{name:c,filters:f,content:d.length>0?r.jsx(Js,{data:d}):r.jsxs(tt,{children:[r.jsx(J,{variant:"body-sm",children:"No layers"}),r.jsx(ct,{children:"Create a layer"})]})}}),[e]),[n,u]=i.useState((l=s[0])==null?void 0:l.name),a=i.useMemo(()=>{var c;return n?((c=s.find(d=>d.name===n))==null?void 0:c.filters)||[]:s[0].filters},[s,n]);return s.length===1?r.jsxs(He,{allFilters:a,children:[r.jsx(Qe,{}),s[0].content]}):r.jsx(He,{allFilters:a,children:r.jsxs(bt,{selectOnMove:!1,setSelectedId:u,children:[r.jsx(Qe,{tabs:s.map(c=>r.jsx(gt,{id:c.name,children:Rt(c.name)},c.name))}),s.map(c=>r.jsx(jt,{className:y.tabPanel,tabId:c.name,unmountOnHide:!0,children:c.content},c.name))]})})}function tt({children:t}){return r.jsx("div",{className:y.emptyState,children:t})}function Ks(){return r.jsx("div",{style:{textAlign:"center"},children:r.jsx(J,{variant:"body-sm",children:"No results found"})})}function Vs(t,e,s){return Math.min(Math.max(t,e),s)}function Ws(t){const{minSize:e,maxSize:s,onCollapse:n}=t??{},u=i.useId(),a=i.useRef(null),[l,c]=i.useState(void 0),[d,f]=i.useState(void 0),[p,h]=i.useState(void 0),[x,j]=i.useState(!1),[F,k]=i.useState(void 0),b=i.useMemo(()=>{if(e&&d)return Math.min(e.px,e.pct/100*d)},[e,d]),R=i.useMemo(()=>{if(b&&s&&d)return Math.max(b,s.pct/100*d)},[s,d,b]),N=i.useMemo(()=>{if(p==="smallest")return b??0;if(p==="largest")return R??0;if(l&&b&&R)return Vs(l,b,R)},[l,b,R,p]);i.useEffect(()=>{const I=a.current;if(!I)return;const w=I.parentElement;if(!w)return;const U=new ResizeObserver(()=>{const me=w.getBoundingClientRect(),pe=I.getBoundingClientRect();f(me.width),c(pe.width)});return U.observe(w),U.observe(I),()=>{U.disconnect()}},[]);const H=i.useCallback(I=>{const w=a.current;if(!w)return;const U=w.getBoundingClientRect();k(U.width+I),h(void 0),j(!0)},[]),O=i.useCallback(I=>{const w=a.current;if(!w)return;const U=w.parentElement;if(!U)return;const me=U.getBoundingClientRect(),pe=I*(me.width*.005),nt=w.getBoundingClientRect();k(nt.width+pe),h(void 0)},[]),B=i.useCallback(()=>{a.current&&(k(void 0),j(!1))},[]),{moveableProps:z}=$s({onMove:H,onMoveEnd:B,onKeyMove:O}),m=i.useMemo(()=>({...z,onKeyDown:I=>{var w;if((w=z.onKeyDown)==null||w.call(z,I),!I.defaultPrevented)switch(I.key){case"Enter":I.preventDefault(),n==null||n();break;case"Home":I.preventDefault(),h("smallest");break;case"End":I.preventDefault(),h("largest");break}},onChange:I=>{if(x)return;const w=Number(I.target.value);k(w)},value:N===void 0?0:Math.floor(N),min:b===void 0?void 0:Math.floor(b),max:R===void 0?void 0:Math.floor(R)}),[z,N,b,R,n,x]),D=i.useMemo(()=>({style:{WebkitUserSelect:F===void 0?void 0:"none"},id:u,ref:a}),[u,F]),v=b===void 0?void 0:`${Math.floor(b)}px`,P=i.useMemo(()=>{if(F!==void 0&&s!==void 0&&p===void 0)return`min(${Math.floor(F)}px, ${s.pct}%)`;if(N!==void 0)return`${Math.floor(N)}px`},[s,F,N,p]);return{sliderProps:m,panelProps:D,panelMinSize:v,panelMaxSize:P,resizing:x}}function $s(t){const{onMove:e,onMoveEnd:s,onKeyMove:n}=t??{},u=i.useRef(null),a=i.useRef(void 0),l=i.useRef(void 0),c=i.useCallback(()=>{l.current!==void 0&&(l.current=void 0,s==null||s())},[s]);return{moveableProps:i.useMemo(()=>({onPointerDown:f=>{if(f.button!==0||f.ctrlKey)return;const p=u.current;if(!p)return;const h=p.getBoundingClientRect(),x=f.clientX-h.left;l.current=x,f.preventDefault(),p.setPointerCapture(f.pointerId)},onPointerMove:f=>{const p=l.current;if(p===void 0)return;const h=u.current;if(!h)return;const x=h.getBoundingClientRect(),j=f.clientX-p-x.left;f.preventDefault(),e==null||e(j)},onPointerUp:c,onPointerCancel:c,onKeyDown:f=>{if(!f.defaultPrevented)switch(f.key){case"ArrowLeft":f.preventDefault(),n==null||n(-1);break;case"ArrowRight":f.preventDefault(),n==null||n(1);break}},ref:f=>{var h;if(u.current=f,(h=a.current)==null||h.call(a),a.current=void 0,!f)return;const p=x=>{x.preventDefault()};f.addEventListener("touchstart",p),a.current=()=>{f.removeEventListener("touchstart",p)}}}),[n,e,c])}}const st=(()=>{let t=0;return e=>({id:`${t++}`,label:`Tree Item ${t}`,expanded:!0,...e,items:((e==null?void 0:e.items)??[]).map(st)})})();function Gs({items:t,filters:e,search:s,errorIds:n}){const u=i.useMemo(()=>e.length===0?t:t.reduce((c,d)=>(e.includes(d.label)&&c.push(d),c),[]),[t,e]),a=i.useMemo(()=>{function c(d){return d.reduce((f,p)=>{const x=n.includes(p.id)?[]:c(p.items??[]);return(p.label.toLowerCase().includes(s.toLowerCase())||x.length>0)&&f.push({...p,items:x}),f},[])}return s===""&&n.length===0?u:c(u)},[u,s,n]),l=i.useMemo(()=>{if(e.length===0&&s==="")return;function c(d){return d.reduce((f,p)=>{const h=p.items?c(p.items):0;return f+1+h},0)}return c(a)},[a,e,s]);return{filteredTree:a,itemCount:l}}function Xs(t,e){return i.useMemo(()=>{function s(n){return n.reduce((u,a)=>(e.includes(a.id)&&u.push(a),a.items&&u.push(...s(a.items)),u),[])}return s(t)},[t,e])}function qs(t,e,s){return i.useMemo(()=>{function n(u,a,l,c,d){const f=[];let p=1;for(const h of u){const x=h.id===e||c,j=s.includes(h.id)||d;f.push({...h,level:l,parentItem:a,selected:x,hidden:j,parentHidden:d,position:p++,size:u.length}),h.expanded&&f.push(...n(h.items,h,l+1,x,j))}return f}return n(t,void 0,1,!1,!1)},[t,e,s])}function rt(t,e){for(const s of t){if(s.id===e)return s;const n=rt(s.items,e);if(n)return n}}function Js({data:t}){const{appliedFilters:e,search:s,setItemCount:n}=i.useContext(fe),u=i.useId(),[a,l]=i.useState(),[c,d]=i.useState([]),f=i.useCallback(m=>{d(D=>D.includes(m)?D.filter(v=>v!==m):[...D,m])},[]),[p,h]=i.useState(!0),[x,j]=i.useState(()=>t.map(m=>st(m))),[F,k]=i.useState(["benstr","benroad"]),b=Xs(x,F),R=i.useMemo(()=>b.filter(m=>m.expanded),[b]),N=i.useMemo(()=>R.map(m=>m.id),[R]),{filteredTree:H,itemCount:O}=Gs({items:x,filters:e,search:s,errorIds:N}),B=qs(H,a,c);i.useEffect(()=>{n(O)},[n,O]);const z=i.useDeferredValue(B);return z.length===0?r.jsx(Ks,{}):r.jsx(i.Suspense,{fallback:"Loading...",children:r.jsx(Jt,{className:y.tree,error:R.length>0?r.jsx(Kt,{expanded:p,onExpandedChange:h,label:R.length===1?"1 issue found":`${R.length} issues found`,items:R.map(m=>{const D=`${u}-${m.id}`;return r.jsx(Vt,{treeItemId:D,message:r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Failed to create hierarchy for "}),r.jsx(Ve,{render:r.jsx("button",{}),onClick:()=>{var v;(v=document.getElementById(D))==null||v.focus()},style:{textAlign:"start"},children:m.label})]}),actions:[r.jsx(Wt,{onClick:()=>{k(v=>v.filter(P=>P!==m.id))},children:"Retry"},"retry")]},m.id)})}):void 0,children:z.map(m=>{const D=R.find(P=>P.id===m.id),v=D?`${u}-${m.id}`:void 0;return r.jsx(Gt,{id:v,label:m.label,description:m.description,"aria-level":m.level,"aria-posinset":m.position,"aria-setsize":m.size,selected:m.selected,onSelectedChange:()=>{if(a===m.id){l(void 0);return}l(m.id)},expanded:m.items.length===0&&!D?void 0:m.expanded,onExpandedChange:P=>{j(I=>{const w=rt(I,m.id);if(!w)return I;const U=[...I];return w.expanded=P,U})},unstable_decorations:r.jsxs(r.Fragment,{children:[m.color?r.jsx(er,{color:m.color,alt:m.color}):null,r.jsx(Z,{href:ie})]}),actions:[r.jsx(ge,{className:y.action,icon:Et,label:"Lock","aria-hidden":m.hidden},"lock"),r.jsx(ge,{className:y.action,icon:m.hidden?zt:Ut,label:m.hidden?"Show":"Hide",visible:m.hidden?!0:void 0,onClick:()=>{f(m.id)}},"visibility"),r.jsx(Ys,{hidden:m.hidden},"more")],error:D?!0:void 0},m.id)})})})}function Ys({hidden:t}){return r.jsxs(We,{children:[r.jsx($e,{className:y.action,"aria-hidden":t,render:r.jsx(ge,{icon:Lt,label:"More"})}),r.jsxs(Ge,{style:{minInlineSize:164},children:[r.jsx(L,{label:"Copy",shortcuts:"Command+C"}),r.jsx(L,{label:"Paste",shortcuts:"Command+P"}),r.jsx(L,{label:"Copy/Paste as",shortcuts:"Command+V"}),r.jsx(L,{label:"Move to",shortcuts:"Command+M"}),r.jsx(L,{label:"Bring to front",shortcuts:"]"}),r.jsx(L,{label:"Send to back",shortcuts:"["}),r.jsx(L,{label:"Group selection",shortcuts:"Command+G"}),r.jsx(L,{label:"Ungroup",shortcuts:"Command+U"}),r.jsx(L,{label:"Rename",shortcuts:"Command+R"}),r.jsx(L,{label:"Show/hide",shortcuts:"Shift+Command+V"}),r.jsx(L,{label:"Lock/unlock",shortcuts:"Shift+Command+L"}),r.jsx(L,{label:"Isolate object",shortcuts:"I"})]})]})}function Qe({tabs:t}){const{itemCount:e,isFiltered:s,search:n,setSearch:u}=i.useContext(fe),a=i.useRef(null),l=i.useRef(null),[c,d]=i.useState(!t),f=s||!!n,p=c?r.jsxs(r.Fragment,{children:[r.jsx(Zs,{}),t?r.jsx(q,{className:y.shiftIconRight,icon:Ot,label:"Close",variant:"ghost",onClick:()=>{var x;Te.flushSync(()=>d(!1)),(x=l.current)==null||x.focus()}}):null]}):r.jsx(q,{className:y.shiftIconRight,icon:Le,label:"Search",dot:f?"Some filters or search applied":void 0,variant:"ghost",onClick:()=>{var x;Te.flushSync(()=>d(!0)),(x=a.current)==null||x.focus()}}),h=i.useMemo(()=>{if(s)return e===void 0?"Showing all tree items":`Showing ${e} tree items`},[s,e]);return r.jsxs("div",{className:y.subheader,children:[r.jsx(oe,{"aria-live":"polite","aria-atomic":!0,children:h}),t&&!c?r.jsx(Ct,{className:y.tabList,tone:"accent",ref:l,children:t}):null,c?r.jsxs(It,{className:y.searchInput,children:[r.jsx(yt,{href:Le}),r.jsx(St,{placeholder:"Search",ref:a,onChange:x=>u(x.currentTarget.value)})]}):null,r.jsx("div",{className:y.subheaderActions,children:p})]})}function Zs(){const t=i.useContext(fe),e=t.appliedFilters.length>0;return r.jsxs(We,{children:[r.jsx($e,{render:r.jsx(q,{icon:Bt,label:"Filter",dot:e?"Some filters applied":void 0,variant:"ghost",disabled:t.allFilters.length===0})}),r.jsx(Ge,{children:t.allFilters.map(s=>{const n=t.appliedFilters.includes(s);return r.jsx(dt,{name:s,label:s,checked:n,onChange:()=>{t.toggleFilter(s)}},s)})})]})}function He(t){const[e,s]=i.useState(!1),[n,u]=i.useState([]),[a,l]=i.useState(""),[c,d]=i.useState(void 0),f=i.useCallback(x=>{const j=n.includes(x)?n.filter(F=>F!==x):[...n,x];u(j),s(j.length>0)},[n]),p=i.useCallback(()=>{u([]),s(!1)},[]),h=i.useCallback(x=>{l(x),s(!!x)},[]);return r.jsx(fe.Provider,{value:i.useMemo(()=>({allFilters:t.allFilters,appliedFilters:n,isFiltered:e,toggleFilter:f,clearFilters:p,search:a,setSearch:h,itemCount:c,setItemCount:d}),[t.allFilters,n,e,f,p,a,h,c]),children:t.children})}const fe=i.createContext({allFilters:[],appliedFilters:[],isFiltered:!1,toggleFilter:()=>{},clearFilters:()=>{},search:"",setSearch:()=>{},itemCount:void 0,setItemCount:()=>{}});function er(t){return r.jsx("div",{className:y.colorSwatch,style:{"--_color":`var(--_color--${t.color})`},children:t.alt?r.jsx(oe,{children:t.alt}):null})}export{Xr as default,Gr as meta};
