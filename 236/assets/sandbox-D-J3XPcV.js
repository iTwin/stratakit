import{w as Z}from"./~utils-ChHMGsjo.js";import{n as e,a as s,t as ee}from"./chunk-K6AXKMTT-BHCV6zel.js";import{a as D}from"./index-B0znaqTz.js";import{B as te}from"./Button-Dzu8Ycyw.js";import{D as L,a as X,b as G,c}from"./DropdownMenu-mt3m7mgc.js";import{I as P}from"./Icon-Bc7nfctV.js";import{I as S}from"./IconButton-DhP8DM50.js";import{T as se,a as z,b as ne,c as w}from"./Tabs-BfMnVMKt.js";import{T as O}from"./Text-CZoq4tSz.js";import{T as ae,a as re,b as le}from"./TextBox-CTGfZINY.js";import{T as ie,a as oe,b as ce,c as de}from"./Tree-BEvC4TMm.js";import{p as M}from"./placeholder-CprK_khY.js";import{p as he,l as ue,d as xe,h as pe,m as me,s as k,a as je,f as fe}from"./state-inherited-dot-5vPx6xvR.js";import{s as be}from"./visibility-show-D4GYvbRk.js";import"./index-DeGJKKUv.js";import"./KUU7WJ55-BzFoYYyi.js";import"./LVA2YJMS-BoyOwnvI.js";import"./XL7CSKGW-DWaBDxUb.js";import"./Kbd-Cq5-4jwi.js";import"./VisuallyHidden-BP9HqvzW.js";import"./P2CTZE2T-Dc6QpFC1.js";import"./YV4JVR4I-I4X5ERHE.js";import"./BYC7LY2E-t-z_0C6Y.js";import"./VGCJ63VH-B3pkzvNN.js";import"./MTZPJQMC-JL08V7FT.js";import"./VEVQD5MH-OG2h05rd.js";import"./ITI7HKP4-BWzdjh-N.js";import"./P4IRICAX-BEG6FZ7o.js";import"./Tooltip-BLc4PUA3.js";import"./~hooks-DuYLhjin.js";import"./Field-yTJIy2wa.js";import"./ListItem-KFIqU5yd.js";const ve="_appLayout_1rhac_5",Ce="_header_1rhac_22",ge="_platformBar_1rhac_32",_e="_logo_1rhac_38",Se="_tools_1rhac_48",Ae="_leftPanel_1rhac_58",Pe="_panelHeader_1rhac_70",Ie="_panelTitle_1rhac_78",Re="_panelCaption_1rhac_84",Me="_shiftIconRight_1rhac_88",Ne="_subheader_1rhac_92",ye="_subheaderTitle_1rhac_103",Be="_searchInput_1rhac_108",Te="_subheaderActions_1rhac_112",De="_tabList_1rhac_116",ze="_emptyState_1rhac_121",we="_canvasWrapper_1rhac_130",ke="_canvas_1rhac_130",Ke="_splitter_1rhac_167",Ee="_tabPanel_1rhac_209",Le="_tree_1rhac_215",Xe="_action_1rhac_219",Ge="_actionIcon_1rhac_227",Oe="_slider_1rhac_238",n={appLayout:ve,header:Ce,platformBar:ge,logo:_e,tools:Se,leftPanel:Ae,panelHeader:Pe,panelTitle:Ie,panelCaption:Re,shiftIconRight:Me,subheader:Ne,subheaderTitle:ye,searchInput:Be,subheaderActions:Te,tabList:De,emptyState:ze,canvasWrapper:we,canvas:ke,splitter:Ke,tabPanel:Ee,tree:Le,action:Xe,actionIcon:Ge,slider:Oe},H="Kiwi sandbox",yt=()=>[{title:H}],Bt=Z(function(){const{sliderProps:i,panelProps:r,panelMinSize:a,panelMaxSize:p,resizing:o}=We({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:n.appLayout,style:{"--_panel-min-size":a,"--_panel-max-size":p},children:[e.jsxs("header",{className:n.header,children:[e.jsx("div",{className:n.logo,children:e.jsx(P,{href:M,size:"large"})}),e.jsx(O,{render:f=>e.jsx("h1",{...f}),variant:"body-md",children:H})]}),e.jsx("div",{className:n.platformBar,children:e.jsxs("div",{className:n.tools,children:[e.jsx(P,{href:M,size:"large"}),e.jsx(P,{href:M,size:"large"}),e.jsx(P,{href:M,size:"large"})]})}),e.jsxs("div",{...r,className:n.leftPanel,style:{position:"relative",...r.style},children:[e.jsxs("div",{className:n.panelHeader,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:n.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:n.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:n.actions,children:e.jsx(S,{className:n.shiftIconRight,icon:he,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsxs(se,{children:[e.jsx(Je,{}),e.jsx(z,{tabId:"simple",className:n.tabPanel,focusable:!1,children:e.jsx(K,{tree:"simple"})}),e.jsx(z,{tabId:"complex",className:n.tabPanel,focusable:!1,children:e.jsx(K,{tree:"complex"})})]})]}),e.jsx("div",{className:n.splitter,"data-resizing":o?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:n.slider,...i})}),e.jsx("div",{className:n.canvasWrapper,children:e.jsx("div",{className:n.canvas})})]})})});function He({children:d}){return e.jsx("div",{className:n.emptyState,children:d})}function Fe(d,i,r){return Math.min(Math.max(d,i),r)}function We(d){const{minSize:i,maxSize:r,onCollapse:a}=d,p=s.useId(),o=s.useRef(null),[f,x]=s.useState(void 0),[m,l]=s.useState(void 0),[h,b]=s.useState(void 0),[C,N]=s.useState(!1),[I,y]=s.useState(void 0),v=s.useMemo(()=>{if(i&&m)return Math.min(i.px,i.pct/100*m)},[i,m]),_=s.useMemo(()=>{if(v&&r&&m)return Math.max(v,r.pct/100*m)},[r,m,v]),A=s.useMemo(()=>{if(h==="smallest")return v??0;if(h==="largest")return _??0;if(f&&v&&_)return Fe(f,v,_)},[f,v,_,h]);s.useEffect(()=>{const u=o.current;if(!u)return;const j=u.parentElement;if(!j)return;const g=new ResizeObserver(()=>{const B=j.getBoundingClientRect(),T=u.getBoundingClientRect();l(B.width),x(T.width)});return g.observe(j),g.observe(u),()=>{g.disconnect()}},[]);const W=s.useCallback(u=>{const j=o.current;if(!j)return;const g=j.getBoundingClientRect();y(g.width+u),b(void 0),N(!0)},[]),$=s.useCallback(u=>{const j=o.current;if(!j)return;const g=j.parentElement;if(!g)return;const B=g.getBoundingClientRect(),T=u*(B.width*.005),Y=j.getBoundingClientRect();y(Y.width+T),b(void 0)},[]),U=s.useCallback(()=>{o.current&&(y(void 0),N(!1))},[]),{moveableProps:R}=$e({onMove:W,onMoveEnd:U,onKeyMove:$}),V=s.useMemo(()=>({...R,onKeyDown:u=>{var j;if((j=R.onKeyDown)==null||j.call(R,u),!u.defaultPrevented)switch(u.key){case"Enter":u.preventDefault(),a==null||a();break;case"Home":u.preventDefault(),b("smallest");break;case"End":u.preventDefault(),b("largest");break}},onChange:u=>{if(C)return;const j=Number(u.target.value);y(j)},value:A===void 0?0:Math.floor(A),min:v===void 0?void 0:Math.floor(v),max:_===void 0?void 0:Math.floor(_)}),[R,A,v,_,a,C]),q=s.useMemo(()=>({style:{WebkitUserSelect:I===void 0?void 0:"none"},id:p,ref:o}),[p,I]),J=v===void 0?void 0:`${Math.floor(v)}px`,Q=s.useMemo(()=>{if(I!==void 0&&r!==void 0&&h===void 0)return`min(${Math.floor(I)}px, ${r.pct}%)`;if(A!==void 0)return`${Math.floor(A)}px`},[r,I,A,h]);return{sliderProps:V,panelProps:q,panelMinSize:J,panelMaxSize:Q,resizing:C}}function $e(d){const{onMove:i,onMoveEnd:r,onKeyMove:a}=d,p=s.useRef(null),o=s.useRef(void 0),f=s.useRef(void 0),x=s.useCallback(()=>{f.current!==void 0&&(f.current=void 0,r==null||r())},[r]);return{moveableProps:s.useMemo(()=>({onPointerDown:l=>{if(l.button!==0||l.ctrlKey)return;const h=p.current;if(!h)return;const b=h.getBoundingClientRect(),C=l.clientX-b.left;f.current=C,l.preventDefault(),h.setPointerCapture(l.pointerId)},onPointerMove:l=>{const h=f.current;if(h===void 0)return;const b=p.current;if(!b)return;const C=b.getBoundingClientRect(),N=l.clientX-h-C.left;l.preventDefault(),i==null||i(N)},onPointerUp:x,onPointerCancel:x,onKeyDown:l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowLeft":l.preventDefault(),a==null||a(-1);break;case"ArrowRight":l.preventDefault(),a==null||a(1);break}},ref:l=>{var b;if(p.current=l,(b=o.current)==null||b.call(o),o.current=void 0,!l)return;const h=C=>{C.preventDefault()};l.addEventListener("touchstart",h),o.current=()=>{l.removeEventListener("touchstart",h)}}}),[a,i,x])}}const F=s.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function K({tree:d}){const[i]=ee(),r=i.get("tree"),[a,p]=s.useState(),[o,f]=s.useState([]),x=s.useCallback(m=>{f(l=>l.includes(m)?l.filter(h=>h!==m):[...l,m])},[]);return r==="empty"?e.jsxs(He,{children:[e.jsx(O,{children:"No layers"}),e.jsx(te,{children:"Create a layer"})]}):e.jsx(F.Provider,{value:s.useMemo(()=>({selected:a,setSelected:p,hidden:o,toggleHidden:x}),[o,a,x]),children:e.jsx(ie,{className:n.tree,children:d==="complex"?e.jsx(Ve,{}):e.jsx(Ue,{})})})}function Ue(){return e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Guides",children:e.jsxs(t,{label:"Tree",children:[e.jsx(t,{label:"Guide 4"}),e.jsx(t,{label:"Guide 3"}),e.jsx(t,{label:"Guide 2"}),e.jsx(t,{label:"Guide 1"})]})}),e.jsxs(t,{label:"Other",children:[e.jsx(t,{label:"Object 2",children:e.jsx(t,{label:"Path 3"})}),e.jsx(t,{label:"Object 1"})]}),e.jsxs(t,{label:"Road",children:[e.jsx(t,{label:"Parking lot access"}),e.jsx(t,{label:"Site access"})]}),e.jsx(t,{label:"Parking lot",children:e.jsxs(t,{label:"Parking area",children:[e.jsx(t,{label:"Bay point 2"}),e.jsx(t,{label:"Bay point 1"}),e.jsx(t,{label:"Space point 1"}),e.jsx(t,{label:"Path 6"})]})}),e.jsx(t,{label:"Building",children:e.jsx(t,{label:"Building area",children:e.jsx(t,{label:"Path 5"})})}),e.jsx(t,{label:"Sewer",children:e.jsx(t,{label:"Run off pipe",children:e.jsx(t,{label:"Path 4"})})}),e.jsx(t,{label:"Project boundary",children:e.jsx(t,{label:"Property area",children:e.jsx(t,{label:"Path 1"})})}),e.jsx(t,{label:"Map",children:e.jsx(t,{label:"Location",children:e.jsx(t,{label:"Terrain"})})})]})}function Ve(){return e.jsxs(e.Fragment,{children:[e.jsxs(t,{label:"ITC_Master",children:[e.jsx(t,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(t,{label:"002_Substation_A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(t,{label:"007-aa_master.dgn",children:[e.jsx(t,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(t,{label:"A-CLNG-LITE-A"})}),e.jsx(t,{label:"A-CLNG-TILE",children:e.jsxs(t,{label:"A-DOOR-2D-PLAN",children:[e.jsx(t,{label:"P00003 [2-KA62]",children:e.jsx(t,{label:"Cell [2-KA63]",children:e.jsxs(t,{label:"Cell [2-KA64]",children:[e.jsx(t,{label:"Complex Chain [2-KA6A]"}),e.jsx(t,{label:"Complex Chain [2-KA6B]"}),e.jsx(t,{label:"Complex Chain [2-KA6C]"}),e.jsx(t,{label:"Complex Chain [2-KA6D]"}),e.jsx(t,{label:"Complex Chain [2-KA6E]"}),e.jsx(t,{label:"Complex Chain [2-KA6F]"}),e.jsx(t,{label:"Complex Chain [2-KA6G]"}),e.jsx(t,{label:"Complex Chain [2-KA6H]"}),e.jsx(t,{label:"Complex Chain [2-KA61]"}),e.jsx(t,{label:"Complex Chain [2-KA65]"}),e.jsx(t,{label:"Complex Chain [2-KA66]"}),e.jsx(t,{label:"Complex Chain [2-KA67]"}),e.jsx(t,{label:"Complex Chain [2-KA68]"}),e.jsx(t,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(t,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA98-A]"})}),e.jsx(t,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(t,{label:"ITC_Main"})]})}const E=s.createContext({selected:!1,hidden:!1});function t(d){const i=s.useContext(F),r=s.useContext(E),a=s.useId(),[p,o]=s.useState(d.defaultCollapsed===void 0?!0:!d.defaultCollapsed),f=s.Children.count(d.children)>0,x=s.useMemo(()=>r.hidden?!0:i.hidden.includes(a),[a,i.hidden,r.hidden]),m=r.selected||a===i.selected,l=s.useCallback(()=>{i.setSelected(b=>{if(b!==a)return a})},[a,i]),h=x?!0:void 0;return e.jsx(E.Provider,{value:s.useMemo(()=>({selected:m,hidden:x}),[x,m]),children:e.jsx(oe,{content:e.jsxs(e.Fragment,{children:[e.jsx(P,{href:M,style:{display:"inline"}}),e.jsx(ce,{onClick:()=>{l()},children:d.label}),e.jsxs(de,{visible:h,children:[e.jsx(S,{className:n.action,icon:ue,label:"Lock",variant:"ghost","aria-hidden":x}),r.hidden?e.jsx("span",{className:n.actionIcon,children:e.jsx(P,{href:xe})}):e.jsx(S,{className:n.action,icon:x?pe:be,label:x?"Show":"Hide",variant:"ghost",onClick:()=>{i.toggleHidden(a)}}),e.jsx(qe,{hidden:x})]})]}),expanded:f?p:void 0,onExpandedChange:o,selected:m,children:p?d.children:void 0})})}function qe({hidden:d}){return e.jsxs(L,{children:[e.jsx(X,{className:n.action,"aria-hidden":d,render:e.jsx(S,{icon:me,label:"More",variant:"ghost"})}),e.jsxs(G,{style:{minInlineSize:164},children:[e.jsx(c,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(c,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(c,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(c,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(c,{shortcuts:"]",children:"Bring to front"}),e.jsx(c,{shortcuts:"[",children:"Send to back"}),e.jsx(c,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(c,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(c,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(c,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(c,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(c,{shortcuts:"I",children:"Isolate object"})]})]})}function Je(){const[d,i]=s.useState(!1),r=s.useRef(null),a=s.useRef(null),p=d?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{}),e.jsx(S,{className:n.shiftIconRight,icon:je,label:"Close",variant:"ghost",onClick:()=>{var o;D.flushSync(()=>i(!1)),(o=a.current)==null||o.focus()}})]}):e.jsx(S,{className:n.shiftIconRight,icon:k,label:"Search",variant:"ghost",onClick:()=>{var o;D.flushSync(()=>i(!0)),(o=r.current)==null||o.focus()}});return e.jsxs("div",{className:n.subheader,children:[d?void 0:e.jsxs(ne,{className:n.tabList,tone:"accent",ref:a,children:[e.jsx(w,{id:"simple",children:"Simple"}),e.jsx(w,{id:"complex",children:"Complex"})]}),d?e.jsxs(ae,{className:n.searchInput,children:[e.jsx(re,{href:k}),e.jsx(le,{placeholder:"Search",ref:r})]}):null,e.jsx("div",{className:n.subheaderActions,children:p})]})}function Qe(){return e.jsxs(L,{children:[e.jsx(X,{render:e.jsx(S,{icon:fe,label:"Filter",variant:"ghost"})}),e.jsxs(G,{style:{minInlineSize:164},children:[e.jsx(c,{children:"Show all"}),e.jsx(c,{children:"Guides"}),e.jsx(c,{children:"Other"}),e.jsx(c,{children:"Roadway"}),e.jsx(c,{children:"Parking"}),e.jsx(c,{children:"Building"}),e.jsx(c,{children:"Dry utility"}),e.jsx(c,{children:"Stormwater"}),e.jsx(c,{children:"Sewer"}),e.jsx(c,{children:"Boundary"}),e.jsx(c,{children:"Map"})]})]})}export{Bt as default,yt as meta};
