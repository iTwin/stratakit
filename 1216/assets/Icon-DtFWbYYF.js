import{p as g,a as d}from"./chunk-JZWAC4HX-ROAaBwzV.js";import{q as D,R as N,f as $,a8 as E,b as U,H as z,v as F,o as x,x as A,a9 as L}from"./~utils-BlN-5Gd1.js";const v="#icon",_=D((e,n)=>{const{href:s,size:i,alt:o,...f}=e,a=!o,t=k(s);return g.jsx(N.svg,{"aria-hidden":a?"true":void 0,role:a?void 0:"img","aria-label":a?void 0:o,...f,"data-_sk-size":i,className:$("ðŸ¥Icon",e.className),ref:n,children:t?g.jsx("use",{href:j(t)}):null})});_.displayName="Icon";function j(e){return e.includes("#")?e:`${e}${v}`}function k(e){const n=d.useId(),s=E(U(z)),i=F(),o=d.useRef(void 0),f=()=>{const t=x(i);if(!(!e||!t))return I(e,t)?e:o.current},a=d.useCallback(t=>{const r=x(i),h=r?.getElementById(A);if(!e||!r||!h)return()=>{};if(I(e,r))return()=>{};const u=h[Symbol.for("ðŸ¥")]?.icons;if(!u)return()=>{};const p=`ðŸ¥${n}`;if(u.has(e))return o.current=u.get(e),t(),()=>{};const b=new AbortController,{signal:m}=b;return(async()=>{try{const c=new URL(e,r.baseURI),R=c.hash||v;c.hash="";const S=await fetch(c.href,{signal:m});if(!S.ok)throw new Error(`Failed to fetch ${c.href}`);const y=s.current(await S.text()),C=L(y,{ownerDocument:r}).querySelectorAll("symbol");for(const l of C)l.id=`${p}--${l.id}`,!r.getElementById(l.id)&&h.appendChild(l.cloneNode(!0));o.current=`#${p}--${R.slice(1)}`,u.set(e,o.current),m.aborted||t()}catch(c){if(m.aborted)return;console.error(c)}})(),()=>b.abort()},[e,i,s,n]);return d.useSyncExternalStore(a,f,()=>e)}function I(e,n){const{protocol:s}=new URL(e,n.baseURI);return["http:","https:"].includes(s)}export{_ as I};
