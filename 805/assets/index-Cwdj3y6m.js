import{w as D,a as c,o as e}from"./chunk-NL6KNZEE-Bu0nOl7T.js";import{I as f}from"./sun-Dr4GfT1g.js";import{T as S,a as A,b as h,c as y,p as T}from"./immer-5IgHPmja.js";import{d as O}from"./~utils-c3XI7vkm.js";import{r as P,u as U}from"./refresh-3hT8mqYf.js";import{p as d}from"./placeholder-C1sDuE8J.js";import{s as F}from"./visibility-show-CNe-NYDo.js";import"./LMDWO4NN-DLS_M8sR.js";import"./6VRAQV3D-BpJxgReD.js";import"./RZ4GPYOB-NreZw2i_.js";import"./IWEFDH56-BtCxzDaJ.js";import"./5JTVDSTH-DLxmpGoN.js";import"./~utils.icons-Csy_S9QG.js";import"./~utils.icons-DltzDLtH.js";import"./DropdownMenu-B2-p7vPT.js";import"./S43UC3DV-DRjjUzqa.js";import"./NTITENHD-puQddhVT.js";import"./F5MUBM3I-D9cZY49P.js";import"./IAEAQUOT-7Gd_DE_B.js";import"./Kbd-DS30G1Dn.js";import"./~utils.icons-Cp3HlIfX.js";import"./index-CXtfrvRK.js";import"./XX67R432-BB75zn2j.js";const de={title:"Tree"},pe=D(O(function({overflow:p=!1,selected:n=!1,description:x,error:I,items:i}){const[N,z]=c.useTransition(),u=p?" with a super long label that is overflown":"",C=x?"Additional description":void 0,[$,k]=c.useState(!!I),E=i?Number(i):0,[j,g]=c.useState(()=>[{label:`Item 1${u}`,selected:!!n,expanded:!0,children:[{label:"Item 1.1",selected:!!n},{label:"Item 1.2",selected:!!n},{label:`Item 1.3${u}`,selected:!!n}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${u}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:E}).map((t,o)=>({label:`Item ${o+4}`,selected:!1}))]),_=c.useMemo(()=>j.flatMap((t,o,r)=>{const l={...t,level:1,index:o,setSize:r.length,childIndex:void 0};if(!t.expanded)return l;const b=t.children?t.children.map((m,a,s)=>({...m,level:2,index:o,childIndex:a,setSize:s.length,expanded:void 0})):[];return[l,...b]}),[j]),R=c.useCallback(()=>{k(!1)},[]);return e.jsx(S,{style:{maxInlineSize:p?300:void 0},children:_.map(t=>{const{index:o,childIndex:r}=t,l=$&&o===0&&r===void 0,b=o===0&&r===void 0||r===0,m=[e.jsx(h,{icon:U,label:"Unlock"},"unlock"),e.jsx(h,{icon:F,label:"Show"},"show")];return e.jsx(A,{"aria-level":t.level,"aria-posinset":o+1,"aria-setsize":t.setSize,label:t.label,description:b?C:void 0,expanded:t.expanded,selected:t.selected,error:l,onSelectedChange:()=>{g(T(a=>{var w;const s=r===void 0?a[o]:(w=a[o].children)==null?void 0:w[r];s&&(s.selected=!s.selected)}))},onExpandedChange:()=>{z(()=>{g(T(a=>{const s=a[o];s.expanded!==void 0&&(s.expanded=!s.expanded)}))})},icon:r===void 0?e.jsx(f,{href:d,alt:"decoration"}):void 0,unstable_decorations:r===0?e.jsxs(e.Fragment,{children:[e.jsx(f,{href:d}),e.jsx(f,{href:d})]}):e.jsx(f,{href:d}),actions:l?[e.jsx(h,{icon:P,label:"Retry",onClick:R},"retry"),e.jsx(y,{actions:m},"overflow")]:m},t.label)})})},{_actionsOverflow:M}));function M({count:v=5,dot:p=!1}){const n=Array.from({length:Number(v)}).map((I,i)=>e.jsx(h,{label:`Action ${i+1}`,icon:d,dot:p?"Something's going on":void 0},`${i+1}`)),x=n.slice(0,2);return e.jsx(S,{children:e.jsx(A,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,actions:[...x,e.jsx(y,{actions:n},"menu")]})})}export{pe as default,de as handle};
