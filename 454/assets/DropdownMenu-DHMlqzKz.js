import{b as w,p as v}from"./index-DDCMeoDP.js";import{E as qe,F as W,G as Ce,J as z,K as F,L as Se,M as ye,N as Me,O as we,Q as Pe,S as Oe,U as ze,W as Ge,X as Je,Y as Qe,Z as Xe,$ as Ye,a0 as Ze,a1 as be,a2 as he,a3 as et,a4 as P,a5 as b,a6 as tt,a7 as N,a8 as I,a9 as Ee,aa as B,ab as j,ac as Ae,ad as nt,ae as De,af as rt,ag as ot,ah as st,ai as at,aj as K,ak as R,al as ke,am as L,an as le,ao as ut,ap as X,aq as it,ar as lt,as as ct,at as G,au as dt,av as Ie,aw as ft,ax as mt,o as pt,ay as Te,az as vt,aA as bt,aB as ht,aC as ue,aD as xt,aE as gt,aF as Ct,aG as ce,aH as St,aI as yt,aJ as Mt,aK as wt,aL as Pt,l as J,d as Y,B as Ot,aM as Et,aN as At,aO as He,I as Dt,aP as kt}from"./~utils-DUU6BNtr.js";import{u as It,L as Fe,a as _e,b as de}from"./AXB53BZF-DWpFeJtr.js";import{p as Tt,K as xe}from"./Kbd-BOMV0MIb.js";import{c as Ht,u as Ft,a as _t}from"./ITI7HKP4-CMXkeUYz.js";import{u as jt}from"./VEVQD5MH-0wASLPby.js";import{u as Lt}from"./ASMQKSDT-xyuMp0Kw.js";function Nt(t={}){var n;qe(t,t.store);const r=(n=t.store)==null?void 0:n.getState(),e={value:W(t.value,r==null?void 0:r.value,t.defaultValue,!1)},o=Ce(e,t.store);return z(F({},o),{setValue:s=>o.setState("value",s)})}function Kt(t,n,r){return ye(n,[r.store]),Me(t,r,"value","setValue"),t}function Rt(t={}){const[n,r]=Se(Nt,t);return Kt(n,r,t)}var je=we([Oe],[Pe]),$t=je.useContext,Bt=je.useScopedContext;w.createContext(void 0);var Z=we([Oe,Ge],[Pe,ze]),fe=Z.useContext,Le=Z.useScopedContext,oe=Z.useProviderContext,Ne=Z.ContextProvider,Vt=Z.ScopedContextProvider;w.createContext(void 0);function Wt(t={}){var n=t,{combobox:r,parent:e,menubar:o}=n,s=Je(n,["combobox","parent","menubar"]);const a=!!o&&!e,u=Qe(s.store,Ye(e,["values"]),Xe(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),l=u.getState(),d=Ht(z(F({},s),{store:u,orientation:W(s.orientation,l.orientation,"vertical")})),c=Ze(z(F({},s),{store:u,placement:W(s.placement,l.placement,"bottom-start"),timeout:W(s.timeout,l.timeout,a?0:150),hideTimeout:W(s.hideTimeout,l.hideTimeout,0)})),x=z(F(F({},d.getState()),c.getState()),{initialFocus:W(l.initialFocus,"container"),values:W(s.values,l.values,s.defaultValues,{})}),f=Ce(x,d,c,u);return be(f,()=>he(f,["mounted"],i=>{i.mounted||f.setState("activeId",null)})),be(f,()=>he(e,["orientation"],i=>{f.setState("placement",i.orientation==="vertical"?"right-start":"bottom-start")})),z(F(F(F({},d),c),f),{combobox:r,parent:e,menubar:o,hideAll:()=>{c.hide(),e==null||e.hideAll()},setInitialFocus:i=>f.setState("initialFocus",i),setValues:i=>f.setState("values",i),setValue:(i,S)=>{i!=="__proto__"&&i!=="constructor"&&(Array.isArray(i)||f.setState("values",p=>{const m=p[i],y=et(S,m);return y===m?p:z(F({},p),{[i]:y!==void 0&&y})}))}})}function Ut(t,n,r){return ye(n,[r.combobox,r.parent,r.menubar]),Me(t,r,"values","setValues"),Object.assign(tt(Ft(t,n,r),n,r),{combobox:r.combobox,parent:r.parent,menubar:r.menubar})}function qt(t={}){const n=fe(),r=$t(),e=jt();t=P(b({},t),{parent:t.parent!==void 0?t.parent:n,menubar:t.menubar!==void 0?t.menubar:r,combobox:t.combobox!==void 0?t.combobox:e});const[o,s]=Se(Wt,t);return Ut(o,s,t)}var zt="div",_="";function se(){_=""}function Gt(t){const n=t.target;return n&&rt(n)?!1:t.key===" "&&_.length?!0:t.key.length===1&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(t.key)}function Jt(t,n){if(ot(t))return!0;const r=t.target;return r?n.some(o=>o.element===r):!1}function Qt(t){return t.filter(n=>!n.disabled)}function re(t,n){var r;const e=((r=t.element)==null?void 0:r.textContent)||t.children||"value"in t&&t.value;return e?at(e).trim().toLowerCase().startsWith(n.toLowerCase()):!1}function Xt(t,n,r){if(!r)return t;const e=t.find(o=>o.id===r);return!e||!re(e,n)||_!==n&&re(e,_)?t:(_=n,st(t.filter(o=>re(o,_)),r).filter(o=>o.id!==r))}var me=N(function(n){var r=n,{store:e,typeahead:o=!0}=r,s=I(r,["store","typeahead"]);const a=Ee();e=e||a,B(e,!1);const u=s.onKeyDownCapture,l=w.useRef(0),d=j(c=>{if(u==null||u(c),c.defaultPrevented||!o||!e)return;if(!Gt(c))return se();const{renderedItems:x,items:f,activeId:i,id:S}=e.getState();let p=Qt(f.length>x.length?f:x);const m=Ae(c.currentTarget),y=`[data-offscreen-id="${S}"]`,h=m.querySelectorAll(y);for(const M of h){const T=M.ariaDisabled==="true"||"disabled"in M&&!!M.disabled;p.push({id:M.id,element:M,disabled:T})}if(h.length&&(p=nt(p,M=>M.element)),!Jt(c,p))return se();c.preventDefault(),window.clearTimeout(l.current),l.current=window.setTimeout(()=>{_=""},500);const A=c.key.toLowerCase();_+=A,p=Xt(p,A,i);const E=p.find(M=>re(M,_));E?e.move(E.id):se()});return s=P(b({},s),{onKeyDownCapture:d}),De(s)});K(function(n){const r=me(n);return R(zt,r)});var Yt="div";function Zt(t){var n=t,{store:r}=n,e=I(n,["store"]);const[o,s]=w.useState(void 0),a=e["aria-label"],u=L(r,"disclosureElement"),l=L(r,"contentElement");return w.useEffect(()=>{const d=u;if(!d)return;const c=l;if(!c)return;a||c.hasAttribute("aria-label")?s(void 0):d.id&&s(d.id)},[a,u,l]),o}var Ke=N(function(n){var r=n,{store:e,alwaysVisible:o,composite:s}=r,a=I(r,["store","alwaysVisible","composite"]);const u=oe();e=e||u,B(e,!1);const l=e.parent,d=e.menubar,c=!!l,x=ke(a.id),f=a.onKeyDown,i=e.useState(C=>C.placement.split("-")[0]),S=e.useState(C=>C.orientation==="both"?void 0:C.orientation),p=S!=="vertical",m=L(d,C=>!!C&&C.orientation!=="vertical"),y=j(C=>{if(f==null||f(C),!C.defaultPrevented){if(c||d&&!p){const D={ArrowRight:()=>i==="left"&&!p,ArrowLeft:()=>i==="right"&&!p,ArrowUp:()=>i==="bottom"&&p,ArrowDown:()=>i==="top"&&p}[C.key];if(D!=null&&D())return C.stopPropagation(),C.preventDefault(),e==null?void 0:e.hide()}if(d){const D={ArrowRight:()=>{if(m)return d.next()},ArrowLeft:()=>{if(m)return d.previous()},ArrowDown:()=>{if(!m)return d.next()},ArrowUp:()=>{if(!m)return d.previous()}}[C.key],$=D==null?void 0:D();$!==void 0&&(C.stopPropagation(),C.preventDefault(),d.move($))}}});a=le(a,C=>v.jsx(Vt,{value:e,children:C}),[e]);const h=Zt(b({store:e},a)),A=e.useState("mounted"),E=ut(A,a.hidden,o),M=E?P(b({},a.style),{display:"none"}):a.style;a=P(b({id:x,"aria-labelledby":h,hidden:E},a),{ref:X(x?e.setContentElement:null,a.ref),style:M,onKeyDown:y});const T=!!e.combobox;return s=s??!T,s&&(a=b({role:"menu","aria-orientation":S},a)),a=_t(b({store:e,composite:s},a)),a=me(b({store:e,typeahead:!T},a)),a});K(function(n){const r=Ke(n);return R(Yt,r)});var en="div",tn=N(function(n){var r=n,{store:e,modal:o=!1,portal:s=!!o,hideOnEscape:a=!0,autoFocusOnShow:u=!0,hideOnHoverOutside:l,alwaysVisible:d}=r,c=I(r,["store","modal","portal","hideOnEscape","autoFocusOnShow","hideOnHoverOutside","alwaysVisible"]);const x=oe();e=e||x,B(e,!1);const f=w.useRef(null),i=e.parent,S=e.menubar,p=!!i,m=!!S&&!p;c=P(b({},c),{ref:X(f,c.ref)});const y=Ke(b({store:e,alwaysVisible:d},c)),{"aria-labelledby":h}=y;c=I(y,["aria-labelledby"]);const[E,M]=w.useState(),T=e.useState("autoFocusOnShow"),C=e.useState("initialFocus"),U=e.useState("baseElement"),D=e.useState("renderedItems");w.useEffect(()=>{let H=!1;return M(O=>{var te,pe,ve;if(H||!T)return;if((te=O==null?void 0:O.current)!=null&&te.isConnected)return O;const ne=w.createRef();switch(C){case"first":ne.current=((pe=D.find(Q=>!Q.disabled&&Q.element))==null?void 0:pe.element)||null;break;case"last":ne.current=((ve=[...D].reverse().find(Q=>!Q.disabled&&Q.element))==null?void 0:ve.element)||null;break;default:ne.current=U}return ne}),()=>{H=!0}},[e,T,C,D,U]);const $=p?!1:o,g=!!u,k=!!E||!!c.initialFocus||!!$,q=L(e.combobox||e,"contentElement"),V=L((i==null?void 0:i.combobox)||i,"contentElement"),ee=w.useMemo(()=>{if(!V||!q)return;const H=q.getAttribute("role"),O=V.getAttribute("role");if(!((O==="menu"||O==="menubar")&&H==="menu"))return V},[q,V]);return ee!==void 0&&(c=b({preserveTabOrderAnchor:ee},c)),c=lt(P(b({store:e,alwaysVisible:d,initialFocus:E,autoFocusOnShow:g?k&&u:T||!!$},c),{hideOnEscape(H){return dt(a,H)?!1:(e==null||e.hideAll(),!0)},hideOnHoverOutside(H){const O=e==null?void 0:e.getState().disclosureElement;return(typeof l=="function"?l(H):l??(p?!0:m?O?!G(O):!0:!1))?H.defaultPrevented||!p||!O||(ct(O,"mouseout",H),!G(O))?!0:(requestAnimationFrame(()=>{G(O)||e==null||e.hide()}),!1):!1},modal:$,portal:s,backdrop:p?!1:c.backdrop})),c=b({"aria-labelledby":h},c),c}),nn=it(K(function(n){const r=tn(n);return R(en,r)}),oe);function rn(t={}){const n=qt(t);return v.jsx(Ne,{value:n,children:t.children})}var on="div",Re=N(function(n){var r=n,{store:e}=r,o=I(r,["store"]);const s=Ie();return e=e||s,o=P(b({},o),{ref:X(e==null?void 0:e.setAnchorElement,o.ref)}),o});K(function(n){const r=Re(n);return R(on,r)});var sn="button",$e=N(function(n){var r=n,{store:e}=r,o=I(r,["store"]);const s=Ie();e=e||s,B(e,!1);const a=o.onClick,u=j(l=>{e==null||e.setAnchorElement(l.currentTarget),a==null||a(l)});return o=le(o,l=>v.jsx(ft,{value:e,children:l}),[e]),o=P(b({},o),{onClick:u}),o=Re(b({store:e},o)),o=It(b({store:e},o)),o});K(function(n){const r=$e(n);return R(sn,r)});var an="button";function un(t,n){return{ArrowDown:n==="bottom"||n==="top"?"first":!1,ArrowUp:n==="bottom"||n==="top"?"last":!1,ArrowRight:n==="right"?"first":!1,ArrowLeft:n==="left"?"first":!1}[t.key]}function ge(t,n){return!!(t!=null&&t.some(r=>!r.element||r.element===n?!1:r.element.getAttribute("aria-expanded")==="true"))}var ln=N(function(n){var r=n,{store:e,focusable:o,accessibleWhenDisabled:s,showOnHover:a}=r,u=I(r,["store","focusable","accessibleWhenDisabled","showOnHover"]);const l=oe();e=e||l,B(e,!1);const d=w.useRef(null),c=e.parent,x=e.menubar,f=!!c,i=!!x&&!f,S=mt(u),p=()=>{const g=d.current;g&&(e==null||e.setDisclosureElement(g),e==null||e.setAnchorElement(g),e==null||e.show())},m=u.onFocus,y=j(g=>{if(m==null||m(g),S||g.defaultPrevented||(e==null||e.setAutoFocusOnShow(!1),e==null||e.setActiveId(null),!x)||!i)return;const{items:k}=x.getState();ge(k,g.currentTarget)&&p()}),h=L(e,g=>g.placement.split("-")[0]),A=u.onKeyDown,E=j(g=>{if(A==null||A(g),S||g.defaultPrevented)return;const k=un(g,h);k&&(g.preventDefault(),p(),e==null||e.setAutoFocusOnShow(!0),e==null||e.setInitialFocus(k))}),M=u.onClick,T=j(g=>{if(M==null||M(g),g.defaultPrevented||!e)return;const k=!g.detail,{open:q}=e.getState();(!q||k)&&((!f||k)&&e.setAutoFocusOnShow(!0),e.setInitialFocus(k?"first":"container")),f&&p()});u=le(u,g=>v.jsx(Ne,{value:e,children:g}),[e]),f&&(u=P(b({},u),{render:v.jsx(pt.div,{render:u.render})}));const C=ke(u.id),U=L((c==null?void 0:c.combobox)||c,"contentElement"),D=f||i?Te(U,"menuitem"):void 0,$=e.useState("contentElement");return u=P(b({id:C,role:D,"aria-haspopup":vt($,"menu")},u),{ref:X(d,u.ref),onFocus:y,onKeyDown:E,onClick:T}),u=bt(P(b({store:e,focusable:o,accessibleWhenDisabled:s},u),{showOnHover:g=>{if(!(()=>{if(typeof a=="function")return a(g);if(a!=null)return a;if(f)return!0;if(!x)return!1;const{items:ee}=x.getState();return i&&ge(ee)})())return!1;const V=i?x:c;return V&&V.setActiveId(g.currentTarget.id),!0}})),u=$e(b({store:e,toggleOnClick:!f,focusable:o,accessibleWhenDisabled:s},u)),u=me(b({store:e,typeahead:i},u)),u}),cn=K(function(n){const r=ln(n);return R(an,r)}),dn="div";function Be(t){const n=t.relatedTarget;return(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE?n:null}function fn(t){const n=Be(t);return n?gt(t.currentTarget,n):!1}var ie=Symbol("composite-hover");function mn(t){let n=Be(t);if(!n)return!1;do{if(Ct(n,ie)&&n[ie])return!0;n=n.parentElement}while(n);return!1}var Ve=N(function(n){var r=n,{store:e,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,a=I(r,["store","focusOnHover","blurOnHoverEnd"]);const u=Ee();e=e||u,B(e,!1);const l=ht(),d=a.onMouseMove,c=ue(o),x=j(m=>{if(d==null||d(m),!m.defaultPrevented&&l()&&c(m)){if(!G(m.currentTarget)){const y=e==null?void 0:e.getState().baseElement;y&&!xt(y)&&y.focus()}e==null||e.setActiveId(m.currentTarget.id)}}),f=a.onMouseLeave,i=ue(s),S=j(m=>{var y;f==null||f(m),!m.defaultPrevented&&l()&&(fn(m)||mn(m)||c(m)&&i(m)&&(e==null||e.setActiveId(null),(y=e==null?void 0:e.getState().baseElement)==null||y.focus()))}),p=w.useCallback(m=>{m&&(m[ie]=!0)},[]);return a=P(b({},a),{ref:X(p,a.ref),onMouseMove:x,onMouseLeave:S}),De(a)});ce(K(function(n){const r=Ve(n);return R(dn,r)}));var pn="div";function vn(t,n,r){var e;if(!t)return!1;if(G(t))return!0;const o=n==null?void 0:n.find(l=>{var d;return l.element===r?!1:((d=l.element)==null?void 0:d.getAttribute("aria-expanded"))==="true"}),s=(e=o==null?void 0:o.element)==null?void 0:e.getAttribute("aria-controls");if(!s)return!1;const u=Ae(t).getElementById(s);return u?G(u)?!0:!!u.querySelector("[role=menuitem][aria-expanded=true]"):!1}var We=N(function(n){var r=n,{store:e,hideOnClick:o=!0,preventScrollOnKeyDown:s=!0,focusOnHover:a,blurOnHoverEnd:u}=r,l=I(r,["store","hideOnClick","preventScrollOnKeyDown","focusOnHover","blurOnHoverEnd"]);const d=Le(!0),c=Bt();e=e||d||c,B(e,!1);const x=l.onClick,f=ue(o),i="hideAll"in e?e.hideAll:void 0,S=!!i,p=j(h=>{x==null||x(h),!(h.defaultPrevented||St(h)||yt(h)||!i||h.currentTarget.getAttribute("aria-haspopup")==="menu")&&f(h)&&i()}),m=L(e,h=>"contentElement"in h?h.contentElement:null),y=Te(m,"menuitem");return l=P(b({role:y},l),{onClick:p}),l=Mt(b({store:e,preventScrollOnKeyDown:s},l)),l=Ve(P(b({store:e},l),{focusOnHover(h){const A=()=>typeof a=="function"?a(h):a??!0;if(!e||!A())return!1;const{baseElement:E,items:M}=e.getState();return S?(h.currentTarget.hasAttribute("aria-expanded")&&h.currentTarget.focus(),!0):vn(E,M,h.currentTarget)?(h.currentTarget.focus(),!0):!1},blurOnHoverEnd(h){return typeof u=="function"?u(h):u??S}})),l}),bn=ce(K(function(n){const r=We(n);return R(pn,r)})),hn="div";function xn(t){return Array.isArray(t)?t.toString():t}function ae(t,n,r){if(n===void 0)return Array.isArray(t)?t:!!r;const e=xn(n);return Array.isArray(t)?r?t.includes(e)?t:[...t,e]:t.filter(o=>o!==e):r?e:t===e?!1:t}var gn=N(function(n){var r=n,{store:e,name:o,value:s,checked:a,defaultChecked:u,hideOnClick:l=!1}=r,d=I(r,["store","name","value","checked","defaultChecked","hideOnClick"]);const c=Le();e=e||c,B(e,!1);const x=wt(u);w.useEffect(()=>{e==null||e.setValue(o,(i=[])=>x?ae(i,s,!0):i)},[e,o,s,x]),w.useEffect(()=>{a!==void 0&&(e==null||e.setValue(o,i=>ae(i,s,a)))},[e,o,s,a]);const f=Rt({value:e.useState(i=>i.values[o]),setValue(i){e==null||e.setValue(o,()=>{if(a===void 0)return i;const S=ae(i,s,a);return!Array.isArray(S)||!Array.isArray(i)?S:Pt(i,S)?i:S})}});return d=b({role:"menuitemcheckbox"},d),d=Lt(b({store:f,name:o,value:s,checked:a},d)),d=We(b({store:e,hideOnClick:l},d)),d}),Cn=ce(K(function(n){const r=gn(n);return R(hn,r)}));function Dn(t){const{children:n,placement:r,open:e,setOpen:o,defaultOpen:s}=t;return v.jsx(rn,{placement:r,defaultOpen:s,open:e,setOpen:o,children:n})}const kn=J((t,n)=>{const r=At(fe());return v.jsx(nn,{portal:!0,unmountOnHide:!0,...t,gutter:4,style:{...r.style,...t.style},wrapperProps:r.wrapperProps,className:Y("-dropdown-menu",t.className),ref:n})}),In=J((t,n)=>{const{accessibleWhenDisabled:r=!0,children:e,...o}=t,s=L(fe(),a=>a==null?void 0:a.open);return v.jsx(cn,{accessibleWhenDisabled:!0,render:v.jsxs(Ot,{accessibleWhenDisabled:r,children:[e,v.jsx(Et,{})]}),...o,className:Y("-dropdown-menu-button",t.className),"data-has-popover-open":s||void 0,ref:n})}),Tn=J((t,n)=>{const{label:r,shortcuts:e,icon:o,...s}=t;return v.jsxs(bn,{accessibleWhenDisabled:!0,render:v.jsx(_e,{render:v.jsx(He,{accessibleWhenDisabled:!0,...s,className:Y("-dropdown-menu-item",t.className),ref:n})}),children:[o?v.jsx(Ue,{icon:o}):null,v.jsx(Fe,{render:v.jsx("span",{}),children:r}),e?v.jsx(Sn,{shortcuts:e}):null]})}),Sn=J((t,n)=>{const{shortcuts:r,...e}=t,o=w.useMemo(()=>r.split("+").map(s=>({key:s.trim(),isSymbol:s in Tt})),[r]);return v.jsx(de,{render:v.jsx("span",{}),...e,className:Y("-dropdown-menu-item-shortcuts",t.className),ref:n,children:o.map(({key:s,isSymbol:a},u)=>a?v.jsx(xe,{variant:"ghost",symbol:s},`${s+u}`):v.jsx(xe,{variant:"ghost",children:s},`${s+u}`))})}),Ue=J((t,n)=>{const{icon:r,...e}=t;return v.jsx(de,{render:v.jsx(Dt,{href:typeof r=="string"?r:void 0,render:w.isValidElement(r)?r:void 0,...e,ref:n})})}),Hn=J((t,n)=>{const{label:r,icon:e,defaultChecked:o,checked:s,onChange:a,name:u,value:l=o?"on":void 0,...d}=t;return v.jsxs(Cn,{accessibleWhenDisabled:!0,defaultChecked:o,checked:s,name:u,value:l,onChange:a,render:v.jsx(_e,{render:v.jsx(He,{accessibleWhenDisabled:!0,...d,className:Y("-dropdown-menu-item",t.className),ref:n})}),children:[e?v.jsx(Ue,{icon:e}):null,v.jsx(Fe,{render:v.jsx("span",{}),children:r}),v.jsx(de,{render:v.jsx(kt,{className:"-dropdown-menu-checkmark"})})]})});export{Dn as D,In as a,kn as b,Tn as c,Hn as d};
