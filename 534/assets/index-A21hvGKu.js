import{w as R,k as F,I as p}from"./~utils-Dr8tH-La.js";import{b,p as e}from"./index-DDCMeoDP.js";import{T,a as x,b as r}from"./Tree-CF2m6SMF.js";import{p as c}from"./placeholder-B0gL5oFU.js";import{r as _,u as k}from"./refresh-BLN7wWZI.js";import{s as E}from"./visibility-show-xblADH2a.js";import"./VEVQD5MH-BQ96_mBE.js";import"./C3IKGW5T-CsD4rSPB.js";import"./DropdownMenu-99jhcS95.js";import"./Text-DvaaXeLz.js";import"./Kbd-SePXFsbM.js";import"./P4IRICAX-B_roOdtn.js";import"./ASMQKSDT-BhkWMBjY.js";const X={title:"Tree"},Y=R(F(function({overflow:i=!1,selected:l=!1,description:j,error:d}){const m=i?" with a super long label that is overflown":"",g=j?"Additional description":void 0,[A,C]=b.useState(!!d),[n,f]=b.useState(()=>[{label:`Item 1${m}`,selected:!!l,expanded:!0,children:[{label:"Item 1.1",selected:!!l},{label:"Item 1.2",selected:!!l},{label:`Item 1.3${m}`,selected:!!l}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${m}`,selected:!1}]},{label:"Item 3",selected:!1}]);return e.jsx(T,{style:{maxInlineSize:i?300:void 0},children:n.map((s,t,$)=>{var I;const y=()=>{const a=n[t].selected,o=[...n];o[t].selected=!a,f(o)},z=()=>{const a=n[t].expanded;if(a===void 0)return;const o=[...n];o[t].expanded=!a,f(o)},w=A&&t===0;return e.jsxs(b.Fragment,{children:[e.jsx(x,{"aria-level":1,"aria-posinset":t+1,"aria-setsize":$.length,label:s.label,description:t===0?g:void 0,expanded:s.expanded,onExpandedChange:z,selected:s.selected,onSelectedChange:y,icon:e.jsx(p,{href:c,alt:"decoration"}),actions:[w&&e.jsx(r,{icon:_,label:"Retry",onClick:()=>C(!1)},"retry"),e.jsx(r,{icon:k,label:"Unlock"},"unlock"),e.jsx(r,{icon:E,label:"Show"},"show")],error:w},s.label),(I=s.children)==null?void 0:I.map((a,o,D)=>{if(!s.expanded)return null;const P=()=>{var S;const v=[...n],h=(S=v[t].children)==null?void 0:S[o];h&&(h.selected=!h.selected),f(v)};return e.jsx(x,{"aria-level":2,"aria-posinset":o+1,"aria-setsize":D.length,label:a.label,description:o===0?g:void 0,selected:a.selected,onSelectedChange:P,unstable_decorations:o===0?e.jsxs(e.Fragment,{children:[e.jsx(p,{href:c}),e.jsx(p,{href:c})]}):e.jsx(p,{href:c}),actions:[e.jsx(r,{icon:k,label:"Unlock"},"unlock"),e.jsx(r,{icon:E,label:"Show"},"show")]},a.label)})]},s.label)})})},{_actionsOverflow:O}));function O({count:u=5,dot:i=!1}){const l=Array.from({length:Number(u)}).map((j,d)=>e.jsx(r,{label:`Action ${d+1}`,icon:c,dot:i?"Something's going on":void 0},`${d+1}`));return e.jsx(T,{children:e.jsx(x,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,actions:l})})}export{Y as default,X as handle};
