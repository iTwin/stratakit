import{p as o,b as u}from"./index-DDCMeoDP.js";import{I as A,J as I,K as B,l as E,m as V,n as G,_ as H,P as z,o as k,f as h,c as v,h as j}from"./~utils-CVrIWKd_.js";import{a as W}from"./MTZPJQMC-BF1USmkC.js";import{f as J}from"./BYC7LY2E-CmmV7fGv.js";import{b as Z}from"./P2CTZE2T-Wt7VrJxp.js";import{c as $,a as q,b as O,e as Q,C as U}from"./VEVQD5MH-W8gC6swX.js";import{d as X}from"./YV4JVR4I-DscRzu5f.js";import{u as Y,T as ee,I as oe}from"./IconButton-DIntrVS-.js";import{L as te,e as y,f as T,g as re,d as se,D as ne,a as ie,b as ae}from"./DropdownMenu-qVo8rmm5.js";import{I as N,S as le,M as ce}from"./Icon-DCDqn4X1.js";import{f as b,e as F}from"./~hooks-Ic0iY_GM.js";import{G as de,u as ue}from"./Button-BJEnKCWw.js";function me(e={}){var r;const t=(r=e.store)==null?void 0:r.getState();return $(A(B({},e),{orientation:I(e.orientation,t==null?void 0:t.orientation,"horizontal"),focusLoop:I(e.focusLoop,t==null?void 0:t.focusLoop,!0)}))}function fe(e,r,t){return q(e,r,t)}function xe(e={}){const[r,t]=X(me,e);return fe(r,t,e)}var he="div",ve=V(function(r){var t=r,{store:n,orientation:s,virtualFocus:m,focusLoop:i,rtl:x}=t,l=H(t,["store","orientation","virtualFocus","focusLoop","rtl"]);const D=Y();n=n||D;const d=xe({store:n,orientation:s,virtualFocus:m,focusLoop:i,rtl:x}),p=d.useState(c=>c.orientation==="both"?void 0:c.orientation);return l=z(l,c=>o.jsx(ee,{value:d,children:c}),[d]),l=k({role:"toolbar","aria-orientation":p},l),l=O(k({store:d},l)),l}),pe=E(function(r){const t=ve(r);return G(he,t)});function je(e={}){const r=J(e);return o.jsx(W,{value:r,children:e.children})}const g=u.createContext(void 0),Me=h((e,r)=>{const{"aria-level":t,selected:n,expanded:s,icon:m,unstable_decorations:i,label:x,description:l,actions:D,error:d,onSelectedChange:p,onExpandedChange:c,onClick:S,onKeyDown:_,...K}=e,L=a=>{n!==void 0&&(a.stopPropagation(),p==null||p(!n))},M=a=>{a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||s!==void 0&&(a.key==="ArrowRight"||a.key==="ArrowLeft")&&(a.preventDefault(),c==null||c(a.key==="ArrowRight"))},P=u.useId(),C=u.useId(),w=u.useId(),f=d?o.jsx(le,{}):m,R=u.useMemo(()=>{const a=[];return l&&a.push(C),(i||f)&&a.push(w),a.length>0?a.join(" "):void 0},[i,f,w,l,C]);return o.jsx(g.Provider,{value:u.useMemo(()=>({level:t,expanded:s,selected:n,error:d}),[t,s,n,d]),children:o.jsx(Z,{render:o.jsx(j,{...K}),onClick:b(S,L),onKeyDown:b(_,M),role:"treeitem","aria-expanded":s,"aria-selected":n,"aria-labelledby":P,"aria-describedby":R,"aria-level":t,className:v("-tree-item",e.className),ref:r,children:o.jsxs(te,{"data-kiwi-expanded":s,"data-kiwi-selected":n,"data-kiwi-error":d?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":t},role:void 0,children:[o.jsxs(y,{children:[o.jsx(de,{align:l?"block":void 0,children:o.jsx(Ce,{onClick:()=>{s!==void 0&&(c==null||c(!s))}})}),f||i?o.jsx(j,{className:"-tree-item-decoration",id:w,render:u.isValidElement(f)?f:typeof f=="string"?o.jsx(N,{href:f}):void 0,children:f?null:i}):null]}),o.jsx(T,{id:P,className:"-tree-item-content",children:x}),l?o.jsx(T,{id:C,className:"-tree-item-description",children:l}):void 0,o.jsx(y,{render:o.jsx(be,{children:D})})]})})})}),be=h((e,r)=>{const{children:t,...n}=e,s=u.Children.toArray(t).filter(Boolean),{error:m}=F(g),i=m?2:3;return o.jsxs(pe,{...n,onClick:b(e.onClick,x=>x.stopPropagation()),onKeyDown:b(e.onKeyDown,x=>x.stopPropagation()),className:v("-tree-item-actions-container",e.className),ref:r,children:[s.slice(0,i-1),s.length===i?s[i-1]:null,s.length>i&&o.jsx(je,{placement:"right-start",children:o.jsxs(ne,{children:[o.jsx(ie,{render:o.jsx(De,{label:"More",icon:o.jsx(ce,{})})}),o.jsx(ae,{children:s.slice(i-1)})]})})]})}),De=h((e,r)=>{const{error:t}=F(g),{visible:n=t?!0:void 0,label:s,icon:m,...i}=e;return u.useContext(re)?o.jsx(se,{...i,label:s,icon:m,ref:r}):o.jsx(oe,{label:s,icon:m,inert:n===!1?!0:void 0,...i,variant:"ghost",className:v("-tree-item-action",e.className),"data-kiwi-visible":n,ref:r})}),Ce=h((e,r)=>o.jsx(j.span,{"aria-hidden":"true",...e,onClick:b(e.onClick,t=>t.stopPropagation()),className:v("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":ue(),ref:r,children:o.jsx(we,{})})),we=h((e,r)=>o.jsx(N,{...e,render:o.jsx(j.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:o.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:v("-tree-chevron",e.className),ref:r})),Re=h((e,r)=>{const t=Q({orientation:"vertical"});return o.jsx(j.div,{role:"tree",...e,render:o.jsx(U,{store:t}),className:v("-tree",e.className),ref:r,children:e.children})});export{Re as T,Me as a,De as b};
