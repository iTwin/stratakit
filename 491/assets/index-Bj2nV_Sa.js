import{w as z,k as $,I as c}from"./~utils-Dfb-iCd-.js";import{b as h,p as e}from"./index-DDCMeoDP.js";import{T as A,a as w,b as n}from"./Tree-BrZiuqbx.js";import{p as i}from"./placeholder-plY-Ey1p.js";import{r as F,u as g}from"./refresh-DRED4pnL.js";import{s as S}from"./visibility-show-CVi1qYNx.js";import"./ITI7HKP4-BRX4p2J-.js";import"./C3IKGW5T-NhHJ89gr.js";import"./~utils.ListItem-Cv_LdUEX.js";import"./Text-BpNzSLCK.js";const O={title:"Tree"},Q=z($(function({overflow:f=!1,selected:r=!1,description:v,error:k}){const d=f?" with a super long label that is overflown":"",b=v?"Additional description":void 0,[E,C]=h.useState(!!k),[l,p]=h.useState(()=>[{label:`Item 1${d}`,selected:!!r,expanded:!0,children:[{label:"Item 1.1",selected:!!r},{label:"Item 1.2",selected:!!r},{label:`Item 1.3${d}`,selected:!!r}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${d}`,selected:!1}]},{label:"Item 3",selected:!1}]);return e.jsx(A,{style:{maxInlineSize:f?300:void 0},children:l.map((s,a,T)=>{var u;const D=()=>{const o=l[a].selected,t=[...l];t[a].selected=!o,p(t)},P=()=>{const o=l[a].expanded;if(o===void 0)return;const t=[...l];t[a].expanded=!o,p(t)},x=E&&a===0;return e.jsxs(h.Fragment,{children:[e.jsx(w,{"aria-level":1,"aria-posinset":a+1,"aria-setsize":T.length,label:s.label,description:a===0?b:void 0,expanded:s.expanded,onExpandedChange:P,selected:s.selected,onSelectedChange:D,icon:e.jsx(c,{href:i,alt:"decoration"}),actions:x?[e.jsx(n,{icon:F,label:"Retry",visible:!0,onClick:()=>C(!1)},"retry")]:[e.jsx(n,{icon:g,label:"Unlock"},"unlock"),e.jsx(n,{icon:S,label:"Show"},"show")],error:x},s.label),(u=s.children)==null?void 0:u.map((o,t,R)=>{if(!s.expanded)return null;const y=()=>{var I;const j=[...l],m=(I=j[a].children)==null?void 0:I[t];m&&(m.selected=!m.selected),p(j)};return e.jsx(w,{"aria-level":2,"aria-posinset":t+1,"aria-setsize":R.length,label:o.label,description:t===0?b:void 0,selected:o.selected,onSelectedChange:y,unstable_decorations:t===0?e.jsxs(e.Fragment,{children:[e.jsx(c,{href:i}),e.jsx(c,{href:i})]}):e.jsx(c,{href:i}),actions:[e.jsx(n,{icon:g,label:"Unlock"},"unlock"),e.jsx(n,{icon:S,label:"Show"},"show")]},o.label)})]},s.label)})})}));export{Q as default,O as handle};
