import{p as t,b as u}from"./index-DDCMeoDP.js";import{q as K,p as C,r as S,l as R,m as A,n as E,_ as V,L as B,o as I,f as h,c as v,h as x}from"./~utils-DYQCoGfn.js";import{c as G}from"./P2CTZE2T-CA_0Hh34.js";import{c as M,u as H,a as q,b as z,C as W}from"./ITI7HKP4-MNbA6T74.js";import{u as Z}from"./YV4JVR4I-ORJcpCqA.js";import{u as $,T as J,I as O}from"./IconButton-BVm8EhWk.js";import{a as Q,b as T,L as g}from"./~utils.ListItem-CLZZQsZn.js";import{I as w}from"./Icon-CHek_qlR.js";import{g as b}from"./~hooks-BnDVW0Is.js";import{G as U,a as X}from"./Button-F0SK79E2.js";function Y(e={}){var r;const o=(r=e.store)==null?void 0:r.getState();return M(K(S({},e),{orientation:C(e.orientation,o==null?void 0:o.orientation,"horizontal"),focusLoop:C(e.focusLoop,o==null?void 0:o.focusLoop,!0)}))}function ee(e,r,o){return H(e,r,o)}function oe(e={}){const[r,o]=Z(Y,e);return ee(r,o,e)}var te="div",re=A(function(r){var o=r,{store:i,orientation:l,virtualFocus:n,focusLoop:m,rtl:p}=o,a=V(o,["store","orientation","virtualFocus","focusLoop","rtl"]);const j=$();i=i||j;const c=oe({store:i,orientation:l,virtualFocus:n,focusLoop:m,rtl:p}),d=c.useState(f=>f.orientation==="both"?void 0:f.orientation);return a=B(a,f=>t.jsx(J,{value:c,children:f}),[c]),a=I({role:"toolbar","aria-orientation":d},a),a=q(I({store:c},a)),a}),se=R(function(r){const o=re(r);return E(te,o)});const ae=u.createContext(void 0),je=h((e,r)=>{const{"aria-level":o,selected:i,expanded:l,icon:n,unstable_decorations:m,label:p,description:a,actions:j,onSelectedChange:c,onExpandedChange:d,onClick:f,onKeyDown:N,...F}=e,P=s=>{i!==void 0&&(s.stopPropagation(),c==null||c(!i))},L=s=>{s.altKey||s.ctrlKey||s.metaKey||s.shiftKey||l!==void 0&&(s.key==="ArrowRight"||s.key==="ArrowLeft")&&(s.preventDefault(),d==null||d(s.key==="ArrowRight"))},y=u.useId(),D=u.useId(),k=u.useId(),_=u.useMemo(()=>{const s=[];return a&&s.push(D),(m||n)&&s.push(k),s.length>0?s.join(" "):void 0},[m,n,k,a,D]);return t.jsx(ae.Provider,{value:u.useMemo(()=>({level:o,expanded:l,selected:i}),[o,l,i]),children:t.jsx(G,{render:t.jsx(x,{...F}),onClick:b(f,P),onKeyDown:b(N,L),role:"treeitem","aria-expanded":l,"aria-selected":i,"aria-labelledby":y,"aria-describedby":_,"aria-level":o,className:v("-tree-item",e.className),ref:r,children:t.jsxs(Q,{"data-kiwi-expanded":l,"data-kiwi-selected":i,className:"-tree-item-node",style:{"--tree-item-level":o},role:void 0,children:[t.jsxs(T,{children:[t.jsx(U,{align:a?"block":void 0,children:t.jsx(ne,{onClick:()=>{l!==void 0&&(d==null||d(!l))}})}),n||m?t.jsx(x,{className:"-tree-item-decoration",id:k,render:u.isValidElement(n)?n:typeof n=="string"?t.jsx(w,{href:n}):void 0,children:n?null:m}):null]}),t.jsx(g,{id:y,className:"-tree-item-content",children:p}),a?t.jsx(g,{id:D,className:"-tree-item-description",children:a}):void 0,t.jsx(T,{render:t.jsx(ie,{children:j})})]})})})}),ie=h((e,r)=>t.jsx(se,{...e,onClick:b(e.onClick,o=>o.stopPropagation()),onKeyDown:b(e.onKeyDown,o=>o.stopPropagation()),className:v("-tree-item-actions",e.className),ref:r,children:e.children})),De=h((e,r)=>{const{visible:o,...i}=e;return t.jsx(O,{inert:o===!1?!0:void 0,...i,variant:"ghost",className:v("-tree-item-action",e.className),"data-kiwi-visible":o,ref:r})}),ne=h((e,r)=>t.jsx(x.span,{"aria-hidden":"true",...e,onClick:b(e.onClick,o=>o.stopPropagation()),className:v("-button","-icon-button","-ghost-aligner","-tree-item-expander",e.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":X(),ref:r,children:t.jsx(le,{})})),le=h((e,r)=>t.jsx(w,{...e,render:t.jsx(x.svg,{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",render:e.render,children:t.jsx("path",{d:"M4.146 6.146a.5.5 0 0 1 .708 0L8 9.293l3.146-3.147a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708Z"})}),className:v("-tree-chevron",e.className),ref:r})),ke=h((e,r)=>{const o=z({orientation:"vertical"});return t.jsx(x.div,{role:"tree",...e,render:t.jsx(W,{store:o}),className:v("-tree",e.className),ref:r,children:e.children})});export{ke as T,je as a,De as b};
