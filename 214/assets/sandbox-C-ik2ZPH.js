import{w as J}from"./LMDWO4NN-SGO35Sn1.js";import{n as e,a as n,t as Q}from"./chunk-D52XG6IA-Bjtbe6aB.js";import{a as B}from"./index-h2OwknZM.js";import{B as Y}from"./Button-Bhpq5cjb.js";import{D as k,a as K,b as E,c as d}from"./DropdownMenu-CBeuMZfU.js";import{D as Z}from"./Divider-x5fmTwpd.js";import{I}from"./Icon-sUEPuGiX.js";import{I as S}from"./IconButton-4ZExCf0k.js";import{T as ee}from"./Text-CI8KCrEX.js";import{T as te,a as ne,b as se}from"./TextBox-P94rC6S3.js";import{V as L}from"./VisuallyHidden-wPE1jjpq.js";import{T as re,a as ae,b as le,c as ie}from"./Tree-BAgJtbJ_.js";import{p as y}from"./placeholder-CbcLCjNn.js";import{p as oe,l as ce,d as de,h as ue,s as he,m as xe,a as z,b as pe,f as je}from"./state-inherited-dot-CTcYS74U.js";import{R as me}from"./XL7CSKGW-Bj6N_gdg.js";import"./index-BCMTPUG2.js";import"./~utils-bgFDR2pr.js";import"./KUU7WJ55-D8njReye.js";import"./LVA2YJMS-N-Z6sziB.js";import"./Kbd-CO7injhN.js";import"./P2CTZE2T-C20IZD-z.js";import"./YV4JVR4I-D_VatxNX.js";import"./BYC7LY2E-C4CSW71I.js";import"./VGCJ63VH-DQ4411sn.js";import"./XX67R432-UkYfFkYB.js";import"./MTZPJQMC-BSNGTYDZ.js";import"./ITI7HKP4-ZnCuhhDz.js";import"./P4IRICAX-JhY6iKpW.js";import"./Tooltip-tU9rx1u3.js";import"./Field-BUXxuFsc.js";import"./~hooks-uds3lZtK.js";import"./Icon-BWW-Fjy3.js";const fe="_appLayout_17ndh_5",be="_platformBar_17ndh_14",ve="_logo_17ndh_19",Ce="_tools_17ndh_29",ge="_leftPanel_17ndh_39",_e="_header_17ndh_50",Se="_panelTitle_17ndh_58",Ae="_panelCaption_17ndh_64",Ie="_shiftIconRight_17ndh_68",Pe="_subheader_17ndh_72",Re="_subheaderTitle_17ndh_82",ye="_searchInput_17ndh_87",Me="_subheaderActions_17ndh_91",Ne="_tree_17ndh_95",De="_emptyTree_17ndh_99",Te="_canvasWrapper_17ndh_107",Be="_canvas_17ndh_107",ze="_splitter_17ndh_129",we="_action_17ndh_160",ke="_actionIcon_17ndh_168",Ke="_slider_17ndh_177",l={appLayout:fe,platformBar:be,logo:ve,tools:Ce,leftPanel:ge,header:_e,panelTitle:Se,panelCaption:Ae,shiftIconRight:Ie,subheader:Pe,subheaderTitle:Re,searchInput:ye,subheaderActions:Me,tree:Ne,emptyTree:De,canvasWrapper:Te,canvas:Be,splitter:ze,action:we,actionIcon:ke,slider:Ke},X="Kiwi sandbox",Pt=()=>[{title:X}],Rt=J(function(){const{sliderProps:i,panelProps:r,panelMinSize:s,panelMaxSize:x,resizing:c}=Xe({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(L,{render:f=>e.jsx("h1",{...f}),children:X}),e.jsxs("div",{className:l.appLayout,style:{"--_panel-min-size":s,"--_panel-max-size":x},children:[e.jsxs("div",{className:l.platformBar,children:[e.jsx("div",{className:l.logo,children:e.jsx(I,{href:y,size:"large"})}),e.jsxs("div",{className:l.tools,children:[e.jsx(I,{href:y,size:"large"}),e.jsx(I,{href:y,size:"large"}),e.jsx(I,{href:y,size:"large"})]})]}),e.jsxs("div",{...r,className:l.leftPanel,style:{position:"relative",...r.style},children:[e.jsxs("div",{className:l.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:l.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:l.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:l.actions,children:e.jsx(S,{className:l.shiftIconRight,icon:oe,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(We,{}),e.jsx(Oe,{}),e.jsx(Z,{presentational:!0,className:l.splitter,"data-resizing":c?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:l.slider,...i})})]}),e.jsx("div",{className:l.canvasWrapper,children:e.jsx("div",{className:l.canvas})})]})]})});function Ee(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:l.emptyTree,children:[e.jsx(ee,{children:"No layers"}),e.jsx(Y,{children:"Create a layer"})]})})}function Le(o,i,r){return Math.min(Math.max(o,i),r)}function Xe(o){const{minSize:i,maxSize:r,onCollapse:s}=o??{},x=n.useId(),c=n.useRef(null),[f,p]=n.useState(void 0),[j,a]=n.useState(void 0),[u,b]=n.useState(void 0),[C,M]=n.useState(!1),[P,N]=n.useState(void 0),v=n.useMemo(()=>{if(i&&j)return Math.min(i.px,i.pct/100*j)},[i,j]),_=n.useMemo(()=>{if(v&&r&&j)return Math.max(v,r.pct/100*j)},[r,j,v]),A=n.useMemo(()=>{if(u==="smallest")return v??0;if(u==="largest")return _??0;if(f&&v&&_)return Le(f,v,_)},[f,v,_,u]);n.useEffect(()=>{const h=c.current;if(!h)return;const m=h.parentElement;if(!m)return;const g=new ResizeObserver(()=>{const D=m.getBoundingClientRect(),T=h.getBoundingClientRect();a(D.width),p(T.width)});return g.observe(m),g.observe(h),()=>{g.disconnect()}},[]);const O=n.useCallback(h=>{const m=c.current;if(!m)return;const g=m.getBoundingClientRect();N(g.width+h),b(void 0),M(!0)},[]),F=n.useCallback(h=>{const m=c.current;if(!m)return;const g=m.parentElement;if(!g)return;const D=g.getBoundingClientRect(),T=h*(D.width*.005),q=m.getBoundingClientRect();N(q.width+T),b(void 0)},[]),H=n.useCallback(()=>{c.current&&(N(void 0),M(!1))},[]),{moveableProps:R}=Ge({onMove:O,onMoveEnd:H,onKeyMove:F}),V=n.useMemo(()=>({...R,onKeyDown:h=>{var m;if((m=R.onKeyDown)==null||m.call(R,h),!h.defaultPrevented)switch(h.key){case"Enter":h.preventDefault(),s==null||s();break;case"Home":h.preventDefault(),b("smallest");break;case"End":h.preventDefault(),b("largest");break}},onChange:h=>{if(C)return;const m=Number(h.target.value);N(m)},value:A===void 0?0:Math.floor(A),min:v===void 0?void 0:Math.floor(v),max:_===void 0?void 0:Math.floor(_)}),[R,A,v,_,s,C]),W=n.useMemo(()=>({style:{WebkitUserSelect:P===void 0?void 0:"none"},id:x,ref:c}),[x,P]),$=v===void 0?void 0:`${v}px`,U=n.useMemo(()=>{if(P!==void 0&&r!==void 0&&u===void 0)return`min(${P}px, ${r.pct}%)`;if(A!==void 0)return`${A}px`},[r,P,A,u]);return{sliderProps:V,panelProps:W,panelMinSize:$,panelMaxSize:U,resizing:C}}function Ge(o){const{onMove:i,onMoveEnd:r,onKeyMove:s}=o??{},x=n.useRef(null),c=n.useRef(void 0),f=n.useRef(void 0),p=n.useCallback(()=>{f.current!==void 0&&(f.current=void 0,r==null||r())},[r]);return{moveableProps:n.useMemo(()=>({onPointerDown:a=>{if(a.button!==0||a.ctrlKey)return;const u=x.current;if(!u)return;const b=u.getBoundingClientRect(),C=a.clientX-b.left;f.current=C,a.preventDefault(),u.setPointerCapture(a.pointerId)},onPointerMove:a=>{const u=f.current;if(u===void 0)return;const b=x.current;if(!b)return;const C=b.getBoundingClientRect(),M=a.clientX-u-C.left;a.preventDefault(),i==null||i(M)},onPointerUp:p,onPointerCancel:p,onKeyDown:a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowLeft":a.preventDefault(),s==null||s(-1);break;case"ArrowRight":a.preventDefault(),s==null||s(1);break}},ref:a=>{var b;if(x.current=a,(b=c.current)==null||b.call(c),c.current=void 0,!a)return;const u=C=>{C.preventDefault()};a.addEventListener("touchstart",u),c.current=()=>{a.removeEventListener("touchstart",u)}}}),[s,i,p])}}const G=n.createContext({selected:void 0,hidden:[],setSelected:()=>{},toggleHidden:()=>{}});function Oe(){const[o]=Q(),i=o.get("empty"),r=o.get("tree"),[s,x]=n.useState(),[c,f]=n.useState([]),p=n.useCallback(j=>{f(a=>a.includes(j)?a.filter(u=>u!==j):[...a,j])},[]);return i==="true"?e.jsx(Ee,{}):e.jsx(G.Provider,{value:n.useMemo(()=>({selected:s,setSelected:x,hidden:c,toggleHidden:p}),[c,s,p]),children:e.jsx(re,{className:l.tree,children:r==="complex"?e.jsx(He,{}):e.jsx(Fe,{})})})}function Fe(){return e.jsxs(e.Fragment,{children:[e.jsx(t,{label:"Guides",children:e.jsxs(t,{label:"Tree",actions:!0,children:[e.jsx(t,{label:"Guide 4"}),e.jsx(t,{label:"Guide 3"}),e.jsx(t,{label:"Guide 2"}),e.jsx(t,{label:"Guide 1"})]})}),e.jsxs(t,{label:"Other",children:[e.jsx(t,{label:"Object 2",actions:!0,children:e.jsx(t,{label:"Path 3"})}),e.jsx(t,{label:"Object 1"})]}),e.jsxs(t,{label:"Road",children:[e.jsx(t,{label:"Parking lot access"}),e.jsx(t,{label:"Site access"})]}),e.jsx(t,{label:"Parking lot",actions:!0,children:e.jsxs(t,{label:"Parking area",actions:!0,children:[e.jsx(t,{label:"Bay point 2"}),e.jsx(t,{label:"Bay point 1",actions:!0}),e.jsx(t,{label:"Space point 1",actions:!0}),e.jsx(t,{label:"Path 6"})]})}),e.jsx(t,{label:"Building",children:e.jsx(t,{label:"Building area",children:e.jsx(t,{label:"Path 5"})})}),e.jsx(t,{label:"Sewer",children:e.jsx(t,{label:"Run off pipe",children:e.jsx(t,{label:"Path 4"})})}),e.jsx(t,{label:"Project boundary",children:e.jsx(t,{label:"Property area",children:e.jsx(t,{label:"Path 1"})})}),e.jsx(t,{label:"Map",children:e.jsx(t,{label:"Location",children:e.jsx(t,{label:"Terrain"})})})]})}function He(){return e.jsxs(e.Fragment,{children:[e.jsxs(t,{label:"ITC_Master",children:[e.jsx(t,{label:"002_Substation",defaultCollapsed:!0,children:e.jsx(t,{label:"002_Substation_A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003.dgn",actions:!0,defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00003-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005.dgn",actions:!0,defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-D-00005-A"})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00002-A",actions:!0})}),e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003.dgn",defaultCollapsed:!0,children:e.jsx(t,{label:"005-BENROAD-00-XX-M3-G-00003-A"})}),e.jsxs(t,{label:"007-aa_master.dgn",children:[e.jsx(t,{label:"A-CLNG-LITE",defaultCollapsed:!0,children:e.jsx(t,{label:"A-CLNG-LITE-A"})}),e.jsx(t,{label:"A-CLNG-TILE",children:e.jsxs(t,{label:"A-DOOR-2D-PLAN",children:[e.jsx(t,{label:"P00003 [2-KA62]",actions:!0,children:e.jsx(t,{label:"Cell [2-KA63]",children:e.jsxs(t,{label:"Cell [2-KA64]",children:[e.jsx(t,{label:"Complex Chain [2-KA6A]"}),e.jsx(t,{label:"Complex Chain [2-KA6B]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6C]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6D]",actions:!0}),e.jsx(t,{label:"Complex Chain [2-KA6E]"}),e.jsx(t,{label:"Complex Chain [2-KA6F]"}),e.jsx(t,{label:"Complex Chain [2-KA6G]"}),e.jsx(t,{label:"Complex Chain [2-KA6H]"}),e.jsx(t,{label:"Complex Chain [2-KA61]"}),e.jsx(t,{label:"Complex Chain [2-KA65]"}),e.jsx(t,{label:"Complex Chain [2-KA66]"}),e.jsx(t,{label:"Complex Chain [2-KA67]"}),e.jsx(t,{label:"Complex Chain [2-KA68]"}),e.jsx(t,{label:"Complex Chain [2-KA69]"})]})})}),e.jsx(t,{label:"P00003 [2-KA74]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA86]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA74-A]"})}),e.jsx(t,{label:"P00003 [2-KA98]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KA98-A]"})}),e.jsx(t,{label:"P00003 [2-KAAA]",defaultCollapsed:!0,children:e.jsx(t,{label:"P00003 [2-KAAA-A]"})})]})})]})]}),e.jsx(t,{label:"ITC_Main",actions:!0})]})}const w=n.createContext({selected:!1,hidden:!1});function t(o){const i=n.useContext(G),r=n.useContext(w),s=n.useId(),[x,c]=n.useState(o.defaultCollapsed===void 0?!0:!o.defaultCollapsed),f=n.Children.count(o.children)>0,p=n.useMemo(()=>r.hidden?!0:i.hidden.includes(s),[s,i.hidden,r.hidden]),j=r.selected||s===i.selected,a=n.useCallback(()=>{i.setSelected(u=>{if(u!==s)return s})},[s,i]);return e.jsx(w.Provider,{value:n.useMemo(()=>({selected:j,hidden:p}),[p,j]),children:e.jsx(ae,{content:e.jsxs(e.Fragment,{children:[e.jsx(le,{onClick:()=>{c(u=>!u)}}),e.jsx(I,{href:y,style:{display:"inline"}}),e.jsx(ie,{onClick:()=>{a()},children:o.label}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(S,{className:l.action,icon:ce,label:"Lock",variant:"ghost","aria-hidden":!o.actions||p}),r.hidden?e.jsx("span",{className:l.actionIcon,children:e.jsx(I,{href:de})}):e.jsx(S,{className:l.action,icon:p?ue:he,label:p?"Show":"Hide",variant:"ghost","aria-hidden":!o.actions,onClick:()=>{i.toggleHidden(s)}}),e.jsx(Ve,{hidden:!o.actions||p})]})]}),expanded:f?x:void 0,selected:j,children:x?o.children:void 0})})}function Ve({hidden:o}){return e.jsxs(k,{children:[e.jsx(K,{className:l.action,"aria-hidden":o,render:e.jsx(S,{icon:xe,label:"More",variant:"ghost"})}),e.jsxs(E,{style:{minInlineSize:164},children:[e.jsx(d,{shortcuts:"⌘+C",children:"Copy"}),e.jsx(d,{shortcuts:"⌘+P",children:"Paste"}),e.jsx(d,{shortcuts:"⌘+V",children:"Copy/Paste as"}),e.jsx(d,{shortcuts:"⌘+M",children:"Move to"}),e.jsx(d,{shortcuts:"]",children:"Bring to front"}),e.jsx(d,{shortcuts:"[",children:"Send to back"}),e.jsx(d,{shortcuts:"⌘+G",children:"Group selection"}),e.jsx(d,{shortcuts:"⌘+U",children:"Ungroup"}),e.jsx(d,{shortcuts:"⌘+R",children:"Rename"}),e.jsx(d,{shortcuts:"⇧+⌘+V",children:"Show/hide"}),e.jsx(d,{shortcuts:"⇧+⌘+L",children:"Lock/unlock"}),e.jsx(d,{shortcuts:"I",children:"Isolate object"})]})]})}function We(){const[o,i]=n.useState(!1),r=n.useRef(null),s=n.useRef(null),x=o?e.jsxs(e.Fragment,{children:[e.jsx($e,{}),e.jsx(S,{className:l.shiftIconRight,icon:pe,label:"Close",variant:"ghost",onClick:()=>{var c;B.flushSync(()=>i(!1)),(c=s.current)==null||c.focus()}})]}):e.jsx(S,{className:l.shiftIconRight,icon:z,label:"Search",variant:"ghost",onClick:()=>{var c;B.flushSync(()=>i(!0)),(c=r.current)==null||c.focus()}});return e.jsxs("div",{className:l.subheader,children:[e.jsx(me.h3,{className:l.subheaderTitle,tabIndex:-1,ref:s,render:o?e.jsx(L,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),o?e.jsxs(te,{className:l.searchInput,children:[e.jsx(ne,{href:z}),e.jsx(se,{placeholder:"Search",ref:r})]}):null,e.jsx("div",{className:l.subheaderActions,children:x})]})}function $e(){return e.jsxs(k,{children:[e.jsx(K,{render:e.jsx(S,{icon:je,label:"Filter",variant:"ghost"})}),e.jsxs(E,{style:{minInlineSize:164},children:[e.jsx(d,{children:"Show all"}),e.jsx(d,{children:"Guides"}),e.jsx(d,{children:"Other"}),e.jsx(d,{children:"Roadway"}),e.jsx(d,{children:"Parking"}),e.jsx(d,{children:"Building"}),e.jsx(d,{children:"Dry utility"}),e.jsx(d,{children:"Stormwater"}),e.jsx(d,{children:"Sewer"}),e.jsx(d,{children:"Boundary"}),e.jsx(d,{children:"Map"})]})]})}export{Rt as default,Pt as meta};
