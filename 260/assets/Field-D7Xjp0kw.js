import{a as e,n as l}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as b}from"./index-DeGJKKUv.js";import{f as C}from"./~utils-ChHMGsjo.js";import{R as F}from"./XL7CSKGW-DWaBDxUb.js";const j=C((r,s)=>{const t=e.useRef(null),n=e.useId(),{layout:i,...c}=r,[u,o]=e.useState(null),[x,m]=e.useState(null);return e.useLayoutEffect(()=>{!(t!=null&&t.current)||!(t.current instanceof Element)||(o(t.current.matches(":is(label ~ *, label * ~ *)")?"before":"after"),m(t.current.matches(":is(.ðŸ¥-text-box, .ðŸ¥-select)")?"text":"checkable"))},[]),l.jsx(f,{value:t,children:l.jsx(d.Provider,{value:n,children:l.jsx(y,{children:l.jsx(F,{...c,className:b("ðŸ¥-field",r.className),"data-kiwi-label-placement":u,"data-kiwi-control-type":x,"data-kiwi-layout":i,ref:s})})})})}),a=e.createContext(void 0);function y(r){const[s,t]=e.useState(new Set),n=e.useCallback(c=>{t(u=>{const o=new Set(u);return o.add(c),o})},[]),i=e.useCallback(c=>{t(u=>{const o=new Set(u);return o.delete(c),o})},[]);return l.jsx(a.Provider,{value:e.useMemo(()=>({describedBy:s,register:n,unregister:i}),[s,n,i]),children:r.children})}function w(r){var t;const s=(t=e.useContext(a))==null?void 0:t.describedBy;return e.useMemo(()=>!s||s.size===0?r:[...s,r].filter(Boolean).join(" "),[s,r])}function B(r){const s=e.useContext(a),t=s==null?void 0:s.register,n=s==null?void 0:s.unregister;e.useEffect(()=>{if(!(!t||!n))return t(r),()=>n(r)},[r,t,n])}const d=e.createContext(void 0);function S(){return e.useContext(d)}const f=e.createContext(void 0);function k(){return e.useContext(f)}export{j as F,S as a,k as b,w as c,B as u};
