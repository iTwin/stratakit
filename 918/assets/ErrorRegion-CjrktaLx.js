import{p as e,a as i}from"./chunk-UH6JLGW7-Ur-KJ5UR.js";import{C as F}from"./collection-Co764gIm.js";import{C as N}from"./Y62RTBST-zrm1eom2.js";import{u as y}from"./AMMIPFT4-DqW7EeL6.js";import{i as C,D as w,j as k,V as L,k as P,B as _,l as B}from"./~utils-DUgeU7hS.js";import{f as p,l as O,R as A,c as h,T as v}from"./sun-6ygavdM_.js";import{D as H}from"./ZTXFEM5L-DnuRRR75.js";import{S as T,C as V}from"./~utils.icons-DyA5EaXU.js";function z(s={}){const a=C(s);return e.jsx(w,{value:a,children:s.children})}const W=p((s,a)=>{const{label:t,items:l,open:c,setOpen:d,...m}=s,u=i.useId(),j=s["aria-labelledby"]??(s["aria-label"]?void 0:u),[f,D]=O(!1,c,d),x=i.useRef(null),R=()=>{const r=x.current;if(!r)return;const n="--ErrorRegion-pulse";r.getAnimations({subtree:!0}).find(o=>o.id===n)||r.animate([{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--stratakit-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--stratakit-color-border-attention-base)",opacity:1}],{id:n,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},b=y({setItems:r=>{const n=new Set(I.map(o=>o.id));r.filter(o=>!n.has(o.id)).length!==0&&(R(),E(t))}}),I=k(b,"items"),[g,E]=i.useState(t);return e.jsxs(e.Fragment,{children:[e.jsx(L,{"aria-live":"polite","aria-atomic":!0,children:g===t?g:void 0}),e.jsx(z,{open:f,setOpen:D,children:e.jsx(A.section,{...m,"aria-labelledby":j,className:h("ErrorRegion",s.className),"data-_sk-visible":!!t,"data-_sk-expanded":f,ref:a,children:e.jsxs("div",{className:"ErrorRegionContainer",ref:x,children:[e.jsxs(H,{className:"ErrorRegionHeader",render:e.jsx(_,{variant:"ghost"}),children:[e.jsx(T,{tone:"attention",className:"ErrorRegionIcon"}),e.jsx(v,{render:e.jsx("span",{}),id:u,className:"ErrorRegionLabel",variant:"body-sm",children:t}),e.jsx(P,{inert:!0,variant:"ghost",children:e.jsx(V,{})})]}),e.jsx(B,{className:"ErrorRegionDialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":u,children:e.jsx(F,{store:b,className:"ErrorRegionItems",role:"list",children:l})})]})})})]})}),X=p((s,a)=>{const t=i.useId(),{message:l,messageId:c=`${t}-message`,actions:d,...m}=s;return e.jsxs(N,{...m,role:"listitem",className:h("ErrorRegionItem",s.className),ref:a,children:[e.jsx(v,{id:c,variant:"body-sm",children:l}),e.jsx("div",{className:"ErrorRegionItemActions",children:d})]})});export{W as E,X as a};
