import{A as U,aK as ne,f as A,a as O,s as B,b as G,au as ae,w as N,a5 as L,j as y,e as $,g as q,a7 as se,bC as oe,d as ce,b4 as ie,bD as le,P as de,C as re,bE as ue,bF as K,ay as j,az as me,aA as k,b6 as w,aC as fe,aD as _,aG as J,aH as H,aI as X,h as be,aV as ve,c as W}from"./ExamplePreview.DAvJoFtz.js";import{u as Ie}from"./~utils.useInit.C0Cxzq0Z.js";import{C as Q,a as Y,b as z,d as Se}from"./WZWDIE3S.dpAywHrL.js";import{r as g}from"./index.DIfZGIpv.js";import{b as xe,c as he,a as Ce}from"./IQYAUKXT.Win3UV7q.js";import{u as Te}from"./CVCFNOHX.DYKVBOgo.js";import{d as ge}from"./GVAFFF2B.uKgJeVIm.js";import{f as V,i as Z}from"./styles.internal.BwFdDu8v.js";import{u as Pe}from"./Z2O3VLAQ.D-Oybrni.js";var F=U([Y],[Q]),Ee=F.useScopedContext,p=F.useProviderContext,ye=F.ContextProvider,ee=F.ScopedContextProvider,Re="button",we=O(function({store:e,getItem:t,...a}){var r;const l=Ee();e=e||l,B(e,!1);const m=G(),s=a.id||m,h=ae(a),o=g.useCallback(d=>{const E={...d,dimmed:h};return t?t(E):E},[h,t]),S=a.onClick,v=N(d=>{S?.(d),!d.defaultPrevented&&e?.setSelectedId(s)}),i=e.panels.useState(d=>{var E;return(E=d.items.find(c=>c.tabId===s))==null?void 0:E.id}),u=m?a.shouldRegisterItem:!1,f=e.useState(d=>!!s&&d.activeId===s),b=e.useState(d=>!!s&&d.selectedId===s),x=e.useState(d=>!!e.item(d.activeId)),I=f||b&&!x,C=b||((r=a.accessibleWhenDisabled)!=null?r:!0);if(L(e.combobox||e.composite,"virtualFocus")&&(a={...a,tabIndex:-1}),a={id:s,role:"tab","aria-selected":b,"aria-controls":i||void 0,...a,onClick:v},e.composite){const d={id:s,accessibleWhenDisabled:C,store:e.composite,shouldRegisterItem:I&&u,rowId:a.rowId,render:a.render};a={...a,render:y.jsx(z,{...d,render:e.combobox&&e.composite!==e.combobox?y.jsx(z,{...d,store:e.combobox}):d.render})}}return a=Se({store:e,...a,accessibleWhenDisabled:C,getItem:o,shouldRegisterItem:u}),a}),De=ne(A(function(e){const t=we(e);return $(Re,t)})),Le="div",Me=O(function({store:e,...t}){const a=p();e=e||a,B(e,!1);const r=e.useState(l=>l.orientation==="both"?void 0:l.orientation);return t=q(t,l=>y.jsx(ee,{value:e,children:l}),[e]),e.composite&&(t={focusable:!1,...t}),t={role:"tablist","aria-orientation":r,...t},t=xe({store:e,...t}),t}),je=A(function(e){const t=Me(e);return $(Le,t)}),ke="div",Fe=O(function({store:e,unmountOnHide:t,tabId:a,getItem:r,scrollRestoration:l,scrollElement:m,...s}){const h=p();e=e||h,B(e,!1);const o=g.useRef(null),S=G(s.id),v=L(e.panels,()=>{var c;return a||((c=e?.panels.item(S))==null?void 0:c.tabId)}),i=L(e,c=>!!v&&c.selectedId===v),u=se({open:i}),f=L(u,"mounted"),b=g.useRef(new Map),x=N(()=>{const c=o.current;return c?m?typeof m=="function"?m(c):"current"in m?m.current:m:c:null});g.useEffect(()=>{var c,R;if(!l||!f)return;const T=x();if(!T)return;if(l==="reset"){T.scroll(0,0);return}if(!v)return;const D=b.current.get(v);T.scroll((c=D?.x)!=null?c:0,(R=D?.y)!=null?R:0);const M=()=>{b.current.set(v,{x:T.scrollLeft,y:T.scrollTop})};return T.addEventListener("scroll",M),()=>{T.removeEventListener("scroll",M)}},[l,f,v,x,e]);const[I,C]=g.useState(!1);g.useEffect(()=>{const c=o.current;if(!c)return;const R=oe(c);C(!!R.length)},[]);const P=g.useCallback(c=>{const R={...c,id:S||c.id,tabId:a};return r?r(R):R},[S,a,r]),d=s.onKeyDown,E=N(c=>{if(d?.(c),c.defaultPrevented||!e?.composite)return;const T={ArrowLeft:e.previous,ArrowRight:e.next,Home:e.first,End:e.last}[c.key];if(!T)return;const{selectedId:D}=e.getState(),M=T({activeId:D});M&&(c.preventDefault(),e.move(M))});return s=q(s,c=>y.jsx(ee,{value:e,children:c}),[e]),s={id:S,role:"tabpanel","aria-labelledby":v||void 0,...s,children:t&&!f?null:s.children,ref:ce(o,s.ref),onKeyDown:E},s=ie({focusable:!e.composite&&!I,...s}),s=le({store:u,...s}),s=Pe({store:e.panels,...s,getItem:P}),s}),Ne=A(function(e){const t=Fe(e);return $(ke,t)}),Ae=U([re,Y],[de,Q]),Oe=Ae.useContext;g.createContext(!1);g.createContext(null);function Be({composite:n,combobox:e,...t}={}){const a=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],r=ue(t.store,K(n,a),K(e,a)),l=r?.getState(),m=he({...t,store:r,includesBaseElement:j(t.includesBaseElement,l?.includesBaseElement,!1),orientation:j(t.orientation,l?.orientation,"horizontal"),focusLoop:j(t.focusLoop,l?.focusLoop,!0)}),s=ge(),h={...m.getState(),selectedId:j(t.selectedId,l?.selectedId,t.defaultSelectedId),selectOnMove:j(t.selectOnMove,l?.selectOnMove,!0)},o=me(h,m,r);k(o,()=>w(o,["moves"],()=>{const{activeId:i,selectOnMove:u}=o.getState();if(!u||!i)return;const f=m.item(i);f&&(f.dimmed||f.disabled||o.setState("selectedId",f.id))}));let S=!0;k(o,()=>fe(o,["selectedId"],(i,u)=>{if(!S){S=!0;return}n&&i.selectedId===u.selectedId||o.setState("activeId",i.selectedId)})),k(o,()=>w(o,["selectedId","renderedItems"],i=>{if(i.selectedId!==void 0)return;const{activeId:u,renderedItems:f}=o.getState(),b=m.item(u);if(b&&!b.disabled&&!b.dimmed)o.setState("selectedId",b.id);else{const x=f.find(I=>!I.disabled&&!I.dimmed);o.setState("selectedId",x?.id)}})),k(o,()=>w(o,["renderedItems"],i=>{const u=i.renderedItems;if(u.length)return w(s,["renderedItems"],f=>{const b=f.renderedItems;b.some(I=>!I.tabId)&&b.forEach((I,C)=>{if(I.tabId)return;const P=u[C];P&&s.renderItem({...I,tabId:P.id})})})}));let v=null;return k(o,()=>{const i=()=>{v=o.getState().selectedId},u=()=>{S=!1,o.setState("selectedId",v)};if(n&&"setSelectElement"in n)return _(w(n,["value"],i),w(n,["mounted"],u));if(e)return _(w(e,["selectedValue"],i),w(e,["mounted"],u))}),{...m,...o,panels:s,setSelectedId:i=>o.setState("selectedId",i),select:i=>{o.setState("selectedId",i),m.move(i)}}}function $e(n,e,t){H(e,[t.composite,t.combobox]),n=Ce(n,e,t),X(n,t,"selectedId","setSelectedId"),X(n,t,"selectOnMove");const[a,r]=J(()=>n.panels,{});return H(r,[n,r]),Object.assign(g.useMemo(()=>({...n,panels:a}),[n,a]),{composite:t.composite,combobox:t.combobox})}function te(n={}){const e=Te(),t=Oe()||e;n={...n,composite:n.composite!==void 0?n.composite:t,combobox:n.combobox!==void 0?n.combobox:e};const[a,r]=J(Be,n);return $e(a,r,n)}function We(n={}){const e=te(n);return y.jsx(ye,{value:e,children:n.children})}const Ve=Z&&CSS?.supports?.("anchor-name: --foo"),Ke=()=>Z&&window.matchMedia("(prefers-reduced-motion)").matches;function Ye(n){const e=be.c(14);Ie();const{defaultSelectedId:t,selectedId:a,setSelectedId:r,selectOnMove:l,children:m}=n,s=l===void 0?!1:l;let h;e[0]!==t?(h={defaultSelectedId:t},e[0]=t,e[1]=h):h=e[1];const o=te(h),S=L(o,"baseElement"),v=L(o,"selectedId");let i;e[2]!==v||e[3]!==S?(i=I=>{if(!Ve)return;const C=S?.getRootNode();if(!C||!v||!I)return;const P=C.getElementById?.(v)?.getBoundingClientRect(),d=C.getElementById?.(I)?.getBoundingClientRect();if(!P||!d)return;const E=P.left-d.left,c=P.width/d.width;S?.animate([{transform:`translateX(${E}px) scaleX(${c})`},{transform:"none"}],{pseudoElement:"::after",duration:150,easing:"ease-in-out"})},e[2]=v,e[3]=S,e[4]=i):i=e[4];const u=i;let f;e[5]!==u||e[6]!==r?(f=I=>{Ke()||u(I),r?.(I)},e[5]=u,e[6]=r,e[7]=f):f=e[7];const b=ve(f);let x;return e[8]!==m||e[9]!==s||e[10]!==a||e[11]!==o||e[12]!==b?(x=y.jsx(We,{store:o,selectedId:a,setSelectedId:b,selectOnMove:s,children:m}),e[8]=m,e[9]=s,e[10]=a,e[11]=o,e[12]=b,e[13]=x):x=e[13],x}const Ze=V((n,e)=>{const{tone:t="neutral",...a}=n;return y.jsx(je,{...a,"data-_sk-tone":t,className:W("ğŸ¥TabList",n.className),ref:e})}),pe=V((n,e)=>y.jsx(De,{accessibleWhenDisabled:!0,...n,className:W("ğŸ¥Tab",n.className),ref:e})),et=V((n,e)=>y.jsx(Ne,{...n,className:W("ğŸ¥TabPanel",n.className),ref:e}));export{Ye as T,Ze as a,pe as b,et as c};
