var Ft=e=>{throw TypeError(e)};var Xe=(e,t,r)=>t.has(e)||Ft("Cannot "+r);var h=(e,t,r)=>(Xe(e,t,"read from private field"),r?r.call(e):t.get(e)),z=(e,t,r)=>t.has(e)?Ft("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),k=(e,t,r,s)=>(Xe(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),N=(e,t,r)=>(Xe(e,t,"access private method"),r);import{c as xt,_ as Br,b as Ie,d as re,e as le,f as Dt,g as W,h as O,u as kt,m as Yt,i as Te,j as Re,k as Fe,l as De,n as gt,o as Zt,p as Ur,q as Ze,r as It,s as $r,w as Kr}from"./LMDWO4NN-LNZqiQkw.js";import{a,o as n,t as Hr}from"./chunk-D4RADZKF-D_1J9aTA.js";import{a as Qr,P as er,b as Wr,D as Vr,V as ie,T as xe,I as tr,B as rr,c as Gr,d as qr,e as Xr,g as Jr,f as Yr,h as Zr,i as es,j as X,G as ts,k as rs,A as Mt}from"./~utils-C8fogQuq.js";import{C as ss,F as ns,a as os,b as is}from"./Field-RAuEmsYy.js";import{S as as,H as cs}from"./Select-myjn8uEd.js";import{S as Ne}from"./Skeleton-NbBkZlnQ.js";import{T as ls,a as us,b as ds}from"./TextBox-D-dZABN1.js";import{f as H,u as fs,a as _e,R as Be,c as V,m as hs,o as Et,b as ms,s as ge,d as J,e as ps,g as yt,h as Nt,i as de,I as ue}from"./sun-XgFwZorm.js";import{S as bs,l as Ot,q,t as et,r as Ee,b as tt,u as rt,v as zt,w as vs,g as xs,x as gs,y as At,n as sr,z as Is,A as ys}from"./QueryClientProvider-C8ejpha2.js";import{a as Lt}from"./index-WXbDz9md.js";import{c as Cs,a as _s,d as js,m as Ss,p as Ps,r as ws,l as Ts,s as Bt,h as Rs,b as Fs,e as Ds,f as ks}from"./visibility-show-Bv40WhzW.js";import{p as ye}from"./placeholder-B9LeZ_c1.js";import{D as Ms,S as nr,C as or,c as ir,u as Es,a as ar,b as cr,d as Ns,L as Os,e as lr,f as ur,g as dr,h as fr,M as zs,i as hr,j as As,k as Ls,l as Bs}from"./DropdownMenu-CGIFBVAJ.js";import{C as Ct,a as _t,b as st,u as mr}from"./6VRAQV3D-BBAVSw2j.js";import{u as Us,C as $s,c as Ks,a as Hs}from"./RZ4GPYOB-B6DBIBtA.js";import"./XX67R432-Bw54ltTc.js";import"./Label-CQd6yeWT.js";import"./~utils.icons-D2wDPw6I.js";import"./F5MUBM3I-Zu1pNeg4.js";import"./IAEAQUOT-GmqJ6zHw.js";import"./Kbd-Bz6XGUbN.js";var B,_,Pe,L,se,fe,Y,Z,we,he,me,ne,oe,ee,pe,T,Ce,nt,ot,it,at,ct,lt,ut,pr,Jt,Qs=(Jt=class extends bs{constructor(t,r){super();z(this,T);z(this,B);z(this,_);z(this,Pe);z(this,L);z(this,se);z(this,fe);z(this,Y);z(this,Z);z(this,we);z(this,he);z(this,me);z(this,ne);z(this,oe);z(this,ee);z(this,pe,new Set);this.options=r,k(this,B,t),k(this,Z,null),k(this,Y,Ot()),this.options.experimental_prefetchInRender||h(this,Y).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(h(this,_).addObserver(this),Ut(h(this,_),this.options)?N(this,T,Ce).call(this):this.updateResult(),N(this,T,at).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dt(h(this,_),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dt(h(this,_),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,N(this,T,ct).call(this),N(this,T,lt).call(this),h(this,_).removeObserver(this)}setOptions(t){const r=this.options,s=h(this,_);if(this.options=h(this,B).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof q(this.options.enabled,h(this,_))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");N(this,T,ut).call(this),h(this,_).setOptions(this.options),r._defaulted&&!et(this.options,r)&&h(this,B).getQueryCache().notify({type:"observerOptionsUpdated",query:h(this,_),observer:this});const o=this.hasListeners();o&&$t(h(this,_),s,this.options,r)&&N(this,T,Ce).call(this),this.updateResult(),o&&(h(this,_)!==s||q(this.options.enabled,h(this,_))!==q(r.enabled,h(this,_))||Ee(this.options.staleTime,h(this,_))!==Ee(r.staleTime,h(this,_)))&&N(this,T,nt).call(this);const i=N(this,T,ot).call(this);o&&(h(this,_)!==s||q(this.options.enabled,h(this,_))!==q(r.enabled,h(this,_))||i!==h(this,ee))&&N(this,T,it).call(this,i)}getOptimisticResult(t){const r=h(this,B).getQueryCache().build(h(this,B),t),s=this.createResult(r,t);return Vs(this,s)&&(k(this,L,s),k(this,fe,this.options),k(this,se,h(this,_).state)),s}getCurrentResult(){return h(this,L)}trackResult(t,r){return new Proxy(t,{get:(s,o)=>(this.trackProp(o),r==null||r(o),Reflect.get(s,o))})}trackProp(t){h(this,pe).add(t)}getCurrentQuery(){return h(this,_)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=h(this,B).defaultQueryOptions(t),s=h(this,B).getQueryCache().build(h(this,B),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return N(this,T,Ce).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),h(this,L)))}createResult(t,r){var E;const s=h(this,_),o=this.options,i=h(this,L),c=h(this,se),l=h(this,fe),d=t!==s?t.state:h(this,Pe),{state:m}=t;let f={...m},p=!1,b;if(r._optimisticResults){const S=this.hasListeners(),j=!S&&Ut(t,r),w=S&&$t(t,s,r,o);(j||w)&&(f={...f,...gs(m.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:C,status:g}=f;b=f.data;let I=!1;if(r.placeholderData!==void 0&&b===void 0&&g==="pending"){let S;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(S=i.data,I=!0):S=typeof r.placeholderData=="function"?r.placeholderData((E=h(this,me))==null?void 0:E.state.data,h(this,me)):r.placeholderData,S!==void 0&&(g="success",b=At(i==null?void 0:i.data,S,r),p=!0)}if(r.select&&b!==void 0&&!I)if(i&&b===(c==null?void 0:c.data)&&r.select===h(this,we))b=h(this,he);else try{k(this,we,r.select),b=r.select(b),b=At(i==null?void 0:i.data,b,r),k(this,he,b),k(this,Z,null)}catch(S){k(this,Z,S)}h(this,Z)&&(x=h(this,Z),b=h(this,he),C=Date.now(),g="error");const R=f.fetchStatus==="fetching",M=g==="pending",D=g==="error",Q=M&&R,P=b!==void 0,v={status:g,fetchStatus:f.fetchStatus,isPending:M,isSuccess:g==="success",isError:D,isInitialLoading:Q,isLoading:Q,data:b,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:C,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:R,isRefetching:R&&!M,isLoadingError:D&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:D&&P,isStale:jt(t,r),refetch:this.refetch,promise:h(this,Y)};if(this.options.experimental_prefetchInRender){const S=U=>{v.status==="error"?U.reject(v.error):v.data!==void 0&&U.resolve(v.data)},j=()=>{const U=k(this,Y,v.promise=Ot());S(U)},w=h(this,Y);switch(w.status){case"pending":t.queryHash===s.queryHash&&S(w);break;case"fulfilled":(v.status==="error"||v.data!==w.value)&&j();break;case"rejected":(v.status!=="error"||v.error!==w.reason)&&j();break}}return v}updateResult(){const t=h(this,L),r=this.createResult(h(this,_),this.options);if(k(this,se,h(this,_).state),k(this,fe,this.options),h(this,se).data!==void 0&&k(this,me,h(this,_)),et(r,t))return;k(this,L,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,i=typeof o=="function"?o():o;if(i==="all"||!i&&!h(this,pe).size)return!0;const c=new Set(i??h(this,pe));return this.options.throwOnError&&c.add("error"),Object.keys(h(this,L)).some(l=>{const u=l;return h(this,L)[u]!==t[u]&&c.has(u)})};N(this,T,pr).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&N(this,T,at).call(this)}},B=new WeakMap,_=new WeakMap,Pe=new WeakMap,L=new WeakMap,se=new WeakMap,fe=new WeakMap,Y=new WeakMap,Z=new WeakMap,we=new WeakMap,he=new WeakMap,me=new WeakMap,ne=new WeakMap,oe=new WeakMap,ee=new WeakMap,pe=new WeakMap,T=new WeakSet,Ce=function(t){N(this,T,ut).call(this);let r=h(this,_).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(tt)),r},nt=function(){N(this,T,ct).call(this);const t=Ee(this.options.staleTime,h(this,_));if(rt||h(this,L).isStale||!zt(t))return;const s=vs(h(this,L).dataUpdatedAt,t)+1;k(this,ne,setTimeout(()=>{h(this,L).isStale||this.updateResult()},s))},ot=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(h(this,_)):this.options.refetchInterval)??!1},it=function(t){N(this,T,lt).call(this),k(this,ee,t),!(rt||q(this.options.enabled,h(this,_))===!1||!zt(h(this,ee))||h(this,ee)===0)&&k(this,oe,setInterval(()=>{(this.options.refetchIntervalInBackground||xs.isFocused())&&N(this,T,Ce).call(this)},h(this,ee)))},at=function(){N(this,T,nt).call(this),N(this,T,it).call(this,N(this,T,ot).call(this))},ct=function(){h(this,ne)&&(clearTimeout(h(this,ne)),k(this,ne,void 0))},lt=function(){h(this,oe)&&(clearInterval(h(this,oe)),k(this,oe,void 0))},ut=function(){const t=h(this,B).getQueryCache().build(h(this,B),this.options);if(t===h(this,_))return;const r=h(this,_);k(this,_,t),k(this,Pe,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pr=function(t){sr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(h(this,L))}),h(this,B).getQueryCache().notify({query:h(this,_),type:"observerResultsUpdated"})})},Jt);function Ws(e,t){return q(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ut(e,t){return Ws(e,t)||e.state.data!==void 0&&dt(e,t,t.refetchOnMount)}function dt(e,t,r){if(q(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&jt(e,t)}return!1}function $t(e,t,r,s){return(e!==t||q(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&jt(e,r)}function jt(e,t){return q(t.enabled,e)!==!1&&e.isStaleByTime(Ee(t.staleTime,e))}function Vs(e,t){return!et(e.getCurrentResult(),t)}var br=a.createContext(!1),Gs=()=>a.useContext(br);br.Provider;function qs(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Xs=a.createContext(qs()),Js=()=>a.useContext(Xs),Ys=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Zs=e=>{a.useEffect(()=>{e.clearReset()},[e])},en=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(o&&e.data===void 0||Is(r,[e.error,s])),tn=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},rn=(e,t)=>e.isLoading&&e.isFetching&&!t,sn=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Kt=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nn(e,t,r){var f,p,b,x,C;const s=ys(),o=Gs(),i=Js(),c=s.defaultQueryOptions(e);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,c),c._optimisticResults=o?"isRestoring":"optimistic",tn(c),Ys(c,i),Zs(i);const l=!s.getQueryCache().get(c.queryHash),[u]=a.useState(()=>new t(s,c)),d=u.getOptimisticResult(c),m=!o&&e.subscribed!==!1;if(a.useSyncExternalStore(a.useCallback(g=>{const I=m?u.subscribe(sr.batchCalls(g)):tt;return u.updateResult(),I},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),a.useEffect(()=>{u.setOptions(c)},[c,u]),sn(c,d))throw Kt(c,u,i);if(en({result:d,errorResetBoundary:i,throwOnError:c.throwOnError,query:s.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw d.error;if((x=(b=s.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||x.call(b,c,d),c.experimental_prefetchInRender&&!rt&&rn(d,o)){const g=l?Kt(c,u,i):(C=s.getQueryCache().get(c.queryHash))==null?void 0:C.promise;g==null||g.catch(tt).finally(()=>{u.updateResult()})}return c.notifyOnChangeProps?d:u.trackResult(d)}function on(e,t){return nn(e,Qs)}function an(e={}){const t=Qr(e);return n.jsx(er,{value:t,children:e.children})}function cn(e={}){const t=Wr(e);return n.jsx(Vr,{value:t,children:e.children})}const ln=H((e,t)=>{const{label:r,items:s,expanded:o,onExpandedChange:i,...c}=e,l=a.useId(),u=e["aria-labelledby"]??(e["aria-label"]?void 0:l),[d,m]=fs(!1,o,i),f=a.useRef(null),p=()=>{const I=f.current;if(!I)return;const R="--ðŸ¥error-region-pulse";I.getAnimations({subtree:!0}).find(D=>D.id===R)||I.animate([{boxShadow:"0 0 0 0 var(--ids-color-border-attention-base)",opacity:1},{boxShadow:"0 0 15px 2px var(--ids-color-border-attention-base)",opacity:.7,offset:.5},{boxShadow:"0 0 0 0 var(--ids-color-border-attention-base)",opacity:1}],{id:R,duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",pseudoElement:"::before"})},b=Us({setItems:I=>{const R=new Set(x.map(D=>D.id));I.filter(D=>!R.has(D.id)).length!==0&&(p(),g(r))}}),x=_e(b,"items"),[C,g]=a.useState(r);return n.jsxs(n.Fragment,{children:[n.jsx(ie,{"aria-live":"polite","aria-atomic":!0,children:C===r?C:void 0}),n.jsx(cn,{open:d,setOpen:m,children:n.jsx(Be.section,{...c,"aria-labelledby":u,className:V("ðŸ¥-error-region",e.className),"data-kiwi-visible":!!r,"data-kiwi-expanded":d,ref:t,children:n.jsxs("div",{className:"ðŸ¥-error-region-container",ref:f,children:[n.jsxs(Ms,{className:"ðŸ¥-error-region-header",render:n.jsx(rr,{variant:"ghost"}),children:[n.jsx(nr,{tone:"attention",className:"ðŸ¥-error-region-icon"}),n.jsx(xe,{render:n.jsx("span",{}),id:l,className:"ðŸ¥-error-region-label",variant:"body-sm",children:r}),n.jsx(tr,{inert:!0,variant:"ghost",children:n.jsx(or,{})})]}),n.jsx(Gr,{className:"ðŸ¥-error-region-dialog",portal:!1,modal:!1,autoFocusOnShow:!1,"aria-labelledby":l,children:n.jsx(ss,{store:b,className:"ðŸ¥-error-region-items",role:"list",children:s})})]})})})]})}),un=H((e,t)=>{const r=a.useId(),{message:s,messageId:o=`${r}-message`,actions:i,...c}=e;return n.jsxs($s,{...c,role:"listitem",className:V("ðŸ¥-error-region-item",e.className),ref:t,children:[n.jsx(xe,{id:o,variant:"body-sm",children:s}),n.jsx("div",{className:"ðŸ¥-error-region-item-actions",children:i})]})});var dn=xt([er,_t],[qr,Ct]),fn=dn.useContext;a.createContext(!1);a.createContext(null);function hn(e={}){var t=e,{composite:r,combobox:s}=t,o=Br(t,["composite","combobox"]);const i=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],c=hs(o.store,Et(r,i),Et(s,i)),l=c==null?void 0:c.getState(),u=ir(Ie(le({},o),{store:c,includesBaseElement:re(o.includesBaseElement,l==null?void 0:l.includesBaseElement,!1),orientation:re(o.orientation,l==null?void 0:l.orientation,"horizontal"),focusLoop:re(o.focusLoop,l==null?void 0:l.focusLoop,!0)})),d=Ks(),m=Ie(le({},u.getState()),{selectedId:re(o.selectedId,l==null?void 0:l.selectedId,o.defaultSelectedId),selectOnMove:re(o.selectOnMove,l==null?void 0:l.selectOnMove,!0)}),f=ms(m,u,c);ge(f,()=>J(f,["moves"],()=>{const{activeId:x,selectOnMove:C}=f.getState();if(!C||!x)return;const g=u.item(x);g&&(g.dimmed||g.disabled||f.setState("selectedId",g.id))}));let p=!0;ge(f,()=>ps(f,["selectedId"],(x,C)=>{if(!p){p=!0;return}r&&x.selectedId===C.selectedId||f.setState("activeId",x.selectedId)})),ge(f,()=>J(f,["selectedId","renderedItems"],x=>{if(x.selectedId!==void 0)return;const{activeId:C,renderedItems:g}=f.getState(),I=u.item(C);if(I&&!I.disabled&&!I.dimmed)f.setState("selectedId",I.id);else{const R=g.find(M=>!M.disabled&&!M.dimmed);f.setState("selectedId",R==null?void 0:R.id)}})),ge(f,()=>J(f,["renderedItems"],x=>{const C=x.renderedItems;if(C.length)return J(d,["renderedItems"],g=>{const I=g.renderedItems;I.some(M=>!M.tabId)&&I.forEach((M,D)=>{if(M.tabId)return;const Q=C[D];Q&&d.renderItem(Ie(le({},M),{tabId:Q.id}))})})}));let b=null;return ge(f,()=>{const x=()=>{b=f.getState().selectedId},C=()=>{p=!1,f.setState("selectedId",b)};if(r&&"setSelectElement"in r)return Dt(J(r,["value"],x),J(r,["mounted"],C));if(s)return Dt(J(s,["selectedValue"],x),J(s,["mounted"],C))}),Ie(le(le({},u),f),{panels:d,setSelectedId:x=>f.setState("selectedId",x),select:x=>{f.setState("selectedId",x),u.move(x)}})}function mn(e,t,r){kt(t,[r.composite,r.combobox]),e=ar(e,t,r),Nt(e,r,"selectedId","setSelectedId"),Nt(e,r,"selectOnMove");const[s,o]=yt(()=>e.panels,{});return kt(o,[e,o]),Object.assign(a.useMemo(()=>W(O({},e),{panels:s}),[e,s]),{composite:r.composite,combobox:r.combobox})}function pn(e={}){const t=Es(),r=fn()||t;e=W(O({},e),{composite:e.composite!==void 0?e.composite:r,combobox:e.combobox!==void 0?e.combobox:t});const[s,o]=yt(hn,e);return mn(s,o,e)}var Ue=xt([_t],[Ct]),bn=Ue.useScopedContext,vr=Ue.useProviderContext,vn=Ue.ContextProvider,xr=Ue.ScopedContextProvider,xn="button",gn=Re(function(t){var r=t,{store:s,getItem:o}=r,i=De(r,["store","getItem"]),c;const l=bn();s=s||l,gt(s,!1);const u=Zt(),d=i.id||u,m=Ur(i),f=a.useCallback(P=>{const y=W(O({},P),{dimmed:m});return o?o(y):y},[m,o]),p=i.onClick,b=Ze(P=>{p==null||p(P),!P.defaultPrevented&&(s==null||s.setSelectedId(d))}),x=s.panels.useState(P=>{var y;return(y=P.items.find(v=>v.tabId===d))==null?void 0:y.id}),C=u?i.shouldRegisterItem:!1,g=s.useState(P=>!!d&&P.activeId===d),I=s.useState(P=>!!d&&P.selectedId===d),R=s.useState(P=>!!s.item(P.activeId)),M=g||I&&!R,D=I||((c=i.accessibleWhenDisabled)!=null?c:!0);if(_e(s.combobox||s.composite,"virtualFocus")&&(i=W(O({},i),{tabIndex:-1})),i=W(O({id:d,role:"tab","aria-selected":I,"aria-controls":x||void 0},i),{onClick:b}),s.composite){const P={id:d,accessibleWhenDisabled:D,store:s.composite,shouldRegisterItem:M&&C,rowId:i.rowId,render:i.render};i=W(O({},i),{render:n.jsx(st,W(O({},P),{render:s.combobox&&s.composite!==s.combobox?n.jsx(st,W(O({},P),{store:s.combobox})):P.render}))})}return i=mr(W(O({store:s},i),{accessibleWhenDisabled:D,getItem:f,shouldRegisterItem:C})),i}),In=Yt(Te(function(t){const r=gn(t);return Fe(xn,r)}));function yn(e={}){const t=pn(e);return n.jsx(vn,{value:t,children:e.children})}var Cn="div",_n=Re(function(t){var r=t,{store:s}=r,o=De(r,["store"]);const i=vr();s=s||i,gt(s,!1);const c=s.useState(l=>l.orientation==="both"?void 0:l.orientation);return o=It(o,l=>n.jsx(xr,{value:s,children:l}),[s]),s.composite&&(o=O({focusable:!1},o)),o=O({role:"tablist","aria-orientation":c},o),o=cr(O({store:s},o)),o}),jn=Te(function(t){const r=_n(t);return Fe(Cn,r)}),Sn="div",Pn=Re(function(t){var r=t,{store:s,unmountOnHide:o,tabId:i,getItem:c,scrollRestoration:l,scrollElement:u}=r,d=De(r,["store","unmountOnHide","tabId","getItem","scrollRestoration","scrollElement"]);const m=vr();s=s||m,gt(s,!1);const f=a.useRef(null),p=Zt(d.id),b=_e(s.panels,()=>{var v;return i||((v=s==null?void 0:s.panels.item(p))==null?void 0:v.tabId)}),x=_e(s,v=>!!b&&v.selectedId===b),C=Xr({open:x}),g=_e(C,"mounted"),I=a.useRef(new Map),R=Ze(()=>{const v=f.current;return v?u?typeof u=="function"?u(v):"current"in u?u.current:u:v:null});a.useEffect(()=>{var v,E;if(!l||!g)return;const S=R();if(!S)return;if(l==="reset"){S.scroll(0,0);return}if(!b)return;const j=I.current.get(b);S.scroll((v=j==null?void 0:j.x)!=null?v:0,(E=j==null?void 0:j.y)!=null?E:0);const w=()=>{I.current.set(b,{x:S.scrollLeft,y:S.scrollTop})};return S.addEventListener("scroll",w),()=>{S.removeEventListener("scroll",w)}},[l,g,b,R,s]);const[M,D]=a.useState(!1);a.useEffect(()=>{const v=f.current;if(!v)return;const E=Jr(v);D(!!E.length)},[]);const Q=a.useCallback(v=>{const E=W(O({},v),{id:p||v.id,tabId:i});return c?c(E):E},[p,i,c]),P=d.onKeyDown,y=Ze(v=>{if(P==null||P(v),v.defaultPrevented||!(s!=null&&s.composite))return;const S={ArrowLeft:s.previous,ArrowRight:s.next,Home:s.first,End:s.last}[v.key];if(!S)return;const{selectedId:j}=s.getState(),w=S({activeId:j});w&&(v.preventDefault(),s.move(w))});return d=It(d,v=>n.jsx(xr,{value:s,children:v}),[s]),d=W(O({id:p,role:"tabpanel","aria-labelledby":b||void 0},d),{children:o&&!g?null:d.children,ref:$r(f,d.ref),onKeyDown:y}),d=Yr(O({focusable:!s.composite&&!M},d)),d=Zr(O({store:C},d)),d=Hs(W(O({store:s.panels},d),{getItem:Q})),d}),wn=Te(function(t){const r=Pn(t);return Fe(Sn,r)});function Tn(e){const{defaultSelectedId:t,selectedId:r,setSelectedId:s,selectOnMove:o,children:i}=e;return n.jsx(yn,{defaultSelectedId:t,selectedId:r,setSelectedId:s,selectOnMove:o,children:i})}const Rn=H((e,t)=>{const{tone:r="neutral",...s}=e;return n.jsx(jn,{...s,"data-kiwi-tone":r,className:V("ðŸ¥-tab-list",e.className),ref:t})}),Fn=H((e,t)=>n.jsx(In,{accessibleWhenDisabled:!0,...e,className:V("ðŸ¥-tab",e.className),ref:t})),Dn=H((e,t)=>n.jsx(wn,{...e,className:V("ðŸ¥-tab-panel",e.className),ref:t}));function kn(e={}){var t;const r=(t=e.store)==null?void 0:t.getState();return ir(Ie(le({},e),{orientation:re(e.orientation,r==null?void 0:r.orientation,"horizontal"),focusLoop:re(e.focusLoop,r==null?void 0:r.focusLoop,!0)}))}function Mn(e,t,r){return ar(e,t,r)}function En(e={}){const[t,r]=yt(kn,e);return Mn(t,r,e)}var St=xt([_t],[Ct]),Nn=St.useContext,On=St.useProviderContext,zn=St.ScopedContextProvider,An="div",Ln=Re(function(t){var r=t,{store:s,orientation:o,virtualFocus:i,focusLoop:c,rtl:l}=r,u=De(r,["store","orientation","virtualFocus","focusLoop","rtl"]);const d=On();s=s||d;const m=En({store:s,orientation:o,virtualFocus:i,focusLoop:c,rtl:l}),f=m.useState(p=>p.orientation==="both"?void 0:p.orientation);return u=It(u,p=>n.jsx(zn,{value:m,children:p}),[m]),u=O({role:"toolbar","aria-orientation":f},u),u=cr(O({store:m},u)),u}),gr=Te(function(t){const r=Ln(t);return Fe(An,r)}),Bn="button",Un=Re(function(t){var r=t,{store:s}=r,o=De(r,["store"]);const i=Nn();return s=s||i,o=mr(O({store:s},o)),o}),Ir=Yt(Te(function(t){const r=Un(t);return Fe(Bn,r)}));const $n=H((e,t)=>n.jsx(es,{value:a.useMemo(()=>({iconSize:"large"}),[]),children:n.jsx(gr,{...e,className:V("ðŸ¥-toolbar",e.className),ref:t})})),Me=H((e,t)=>n.jsx(Ir,{...e,ref:t})),ke=a.createContext(void 0),yr=a.createContext(void 0),Cr=a.createContext(void 0),_r=a.createContext(void 0),Pt=a.createContext(void 0),jr=a.createContext(void 0),wt=a.createContext(void 0),Sr=a.createContext(void 0),$e=a.createContext(void 0),Pr=a.createContext(void 0),wr=a.createContext(void 0),Tr=a.createContext(!1),Kn=a.memo(H((e,t)=>{const{expanded:r,selected:s}=e,{onSelectedChange:o,onExpandedChange:i,icon:c,unstable_decorations:l,label:u,description:d,actions:m,onClick:f,onKeyDown:p,...b}=e,x=de(()=>{r!==void 0&&(i==null||i(!r))}),C=I=>{s!==void 0&&(I.stopPropagation(),o==null||o(!s))},g=I=>{I.altKey||I.ctrlKey||I.metaKey||I.shiftKey||r!==void 0&&(I.key==="ArrowRight"||I.key==="ArrowLeft")&&(I.preventDefault(),i==null||i(I.key==="ArrowRight"))};return n.jsx(Hn,{...e,children:n.jsx(Qn,{...b,onClick:de(f,C),onKeyDown:de(p,g),ref:t,children:a.useMemo(()=>n.jsx(Wn,{onExpanderClick:x,expanded:r,selected:s}),[x,r,s])})})}));function Hn(e){const{actions:t,label:r,description:s,icon:o,unstable_decorations:i,error:c}=e,l=a.useId(),u=a.useId(),d=a.useId(),m=c?n.jsx(nr,{tone:"attention"}):o,f=m||i;return n.jsx(ke.Provider,{value:c,children:n.jsx(yr.Provider,{value:t,children:n.jsx(Pt.Provider,{value:f?d:void 0,children:n.jsx(Cr.Provider,{value:i,children:n.jsx(_r.Provider,{value:m,children:n.jsx(wt.Provider,{value:l,children:n.jsx(jr.Provider,{value:r,children:n.jsx(Sr.Provider,{value:s,children:n.jsx($e.Provider,{value:s?u:void 0,children:e.children})})})})})})})})})}const Qn=a.memo(H((e,t)=>{const{style:r,"aria-level":s,selected:o,expanded:i,...c}=e,l=a.useContext(wt),u=a.useContext(Pt),d=a.useContext($e),m=a.useContext(ke),f=typeof m=="string"?m:void 0,p=a.useMemo(()=>{const x=[];return d&&x.push(d),u&&x.push(u),f&&x.push(f),x.length>0?x.join(" "):void 0},[u,d,f]),b=a.useMemo(()=>({...r,"--ðŸ¥tree-item-level":s}),[r,s]);return n.jsx(st,{render:n.jsx(Be,{...c,role:"treeitem","aria-expanded":i,"aria-selected":o,"aria-labelledby":l,"aria-describedby":p,"aria-level":s,className:V("ðŸ¥-tree-item",e.className),style:b,ref:t}),children:e.children})})),Wn=a.memo(e=>{const{expanded:t,selected:r,onExpanderClick:s}=e,o=a.useContext(ke);return n.jsxs(Os,{"data-kiwi-expanded":t,"data-kiwi-selected":r,"data-kiwi-error":o?!0:void 0,className:"ðŸ¥-tree-item-node",role:void 0,children:[n.jsx(Vn,{onExpanderClick:s}),n.jsx(qn,{}),n.jsx(Xn,{}),n.jsx(Jn,{})]})}),Vn=a.memo(e=>n.jsxs(lr,{children:[n.jsx(so,{onClick:e.onExpanderClick}),n.jsx(Gn,{})]}));function Gn(){const e=a.useContext(Pt),t=a.useContext(Cr),r=a.useContext(_r);return r||t?n.jsx(Be,{className:"ðŸ¥-tree-item-decoration",id:e,render:a.isValidElement(r)?r:typeof r=="string"?n.jsx(ue,{href:r}):void 0,children:r?null:t}):null}const qn=a.memo(()=>{const e=a.useContext(wt),t=a.useContext(jr);return n.jsx(ur,{id:e,className:"ðŸ¥-tree-item-content",children:t})}),Xn=a.memo(()=>{const e=a.useContext(Sr),t=a.useContext($e);return e?n.jsx(ur,{id:t,className:"ðŸ¥-tree-item-description",children:e}):void 0}),Jn=a.memo(H((e,t)=>n.jsx(Yn,{children:n.jsx(lr,{...e,onClick:de(e.onClick,r=>r.stopPropagation()),onKeyDown:de(e.onKeyDown,r=>r.stopPropagation()),className:V("ðŸ¥-tree-item-actions-container",e.className),ref:t,render:n.jsxs(gr,{focusLoop:!1,children:[n.jsx(Zn,{}),n.jsx(to,{})]})})})));function Yn(e){const t=a.useContext(yr),s=a.useContext(ke)?2:3,{inline:o,overflow:i}=a.useMemo(()=>{const c=a.Children.toArray(t).filter(Boolean),l=n.jsxs(n.Fragment,{children:[c.slice(0,s-1),c.length===s?c[s-1]:null]}),u=c.length>s?c.slice(s-1):void 0;return{inline:l,overflow:u}},[t,s]);return n.jsx(Pr.Provider,{value:o,children:n.jsx(wr.Provider,{value:i,children:n.jsx(Tr.Provider,{value:!!i,children:e.children})})})}function Zn(){return a.useContext(Pr)}const eo=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],Rr=a.createContext(!1);function to(){const e=a.useContext(Tr),[t,r]=a.useState(!1),s=a.useRef(!1);return e?n.jsx(an,{placement:"right-start",children:n.jsxs(dr,{open:t,setOpen:a.useCallback(o=>{o&&!s.current?r(!0):r(!1)},[]),children:[n.jsx(fr,{onKeyDown:o=>{eo.includes(o.key)&&(s.current=!0),queueMicrotask(()=>{s.current=!1})},render:n.jsx(A,{label:"More",icon:n.jsx(zs,{})})}),n.jsx(Rr.Provider,{value:!0,children:n.jsx(ro,{})})]})}):null}function ro(){const e=a.useContext(wr);return n.jsx(hr,{children:e})}const A=a.memo(H((e,t)=>{const r=a.useContext(ke),{visible:s=r?!0:void 0,label:o,icon:i,dot:c,...l}=e;return a.useContext(Rr)?n.jsx(Ns,{...l,label:o,icon:i,unstable_dot:c,ref:t}):n.jsx(Ir,{render:n.jsx(X,{label:o,icon:i,inert:s===!1?!0:void 0,...l,dot:c,variant:"ghost",className:V("ðŸ¥-tree-item-action",e.className),"data-kiwi-visible":s,ref:t})})})),so=H((e,t)=>{const r=a.useContext($e);return n.jsx(ts,{align:r?"block":void 0,children:n.jsx(tr,{"aria-hidden":"true",...e,onClick:de(e.onClick,s=>s.stopPropagation()),className:V("ðŸ¥-tree-item-expander",e.className),variant:"ghost",ref:t,children:n.jsx(or,{})})})}),no=H((e,t)=>{const r=As({orientation:"vertical"});return n.jsx(Be.div,{role:"tree",...e,render:n.jsx(Ls,{store:r}),className:V("ðŸ¥-tree",e.className),ref:t,children:e.children})});var Fr=Symbol.for("immer-nothing"),Ht=Symbol.for("immer-draftable"),$=Symbol.for("immer-state");function G(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var be=Object.getPrototypeOf;function ve(e){return!!e&&!!e[$]}function ae(e){var t;return e?Dr(e)||Array.isArray(e)||!!e[Ht]||!!((t=e.constructor)!=null&&t[Ht])||He(e)||Qe(e):!1}var oo=Object.prototype.constructor.toString();function Dr(e){if(!e||typeof e!="object")return!1;const t=be(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===oo}function Oe(e,t){Ke(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,s)=>t(s,r,e))}function Ke(e){const t=e[$];return t?t.type_:Array.isArray(e)?1:He(e)?2:Qe(e)?3:0}function ft(e,t){return Ke(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kr(e,t,r){const s=Ke(e);s===2?e.set(t,r):s===3?e.add(r):e[t]=r}function io(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function He(e){return e instanceof Map}function Qe(e){return e instanceof Set}function te(e){return e.copy_||e.base_}function ht(e,t){if(He(e))return new Map(e);if(Qe(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Dr(e);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[$];let o=Reflect.ownKeys(s);for(let i=0;i<o.length;i++){const c=o[i],l=s[c];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(s[c]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[c]})}return Object.create(be(e),s)}else{const s=be(e);if(s!==null&&r)return{...e};const o=Object.create(s);return Object.assign(o,e)}}function Tt(e,t=!1){return We(e)||ve(e)||!ae(e)||(Ke(e)>1&&(e.set=e.add=e.clear=e.delete=ao),Object.freeze(e),t&&Object.entries(e).forEach(([r,s])=>Tt(s,!0))),e}function ao(){G(2)}function We(e){return Object.isFrozen(e)}var co={};function ce(e){const t=co[e];return t||G(0,e),t}var je;function Mr(){return je}function lo(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Qt(e,t){t&&(ce("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mt(e){pt(e),e.drafts_.forEach(uo),e.drafts_=null}function pt(e){e===je&&(je=e.parent_)}function Wt(e){return je=lo(je,e)}function uo(e){const t=e[$];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Vt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[$].modified_&&(mt(t),G(4)),ae(e)&&(e=ze(t,e),t.parent_||Ae(t,e)),t.patches_&&ce("Patches").generateReplacementPatches_(r[$].base_,e,t.patches_,t.inversePatches_)):e=ze(t,r,[]),mt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Fr?e:void 0}function ze(e,t,r){if(We(t))return t;const s=t[$];if(!s)return Oe(t,(o,i)=>Gt(e,s,t,o,i,r)),t;if(s.scope_!==e)return t;if(!s.modified_)return Ae(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let i=o,c=!1;s.type_===3&&(i=new Set(o),o.clear(),c=!0),Oe(i,(l,u)=>Gt(e,s,o,l,u,r,c)),Ae(e,o,!1),r&&e.patches_&&ce("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function Gt(e,t,r,s,o,i,c){if(ve(o)){const l=i&&t&&t.type_!==3&&!ft(t.assigned_,s)?i.concat(s):void 0,u=ze(e,o,l);if(kr(r,s,u),ve(u))e.canAutoFreeze_=!1;else return}else c&&r.add(o);if(ae(o)&&!We(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ze(e,o),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,s)&&Ae(e,o)}}function Ae(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tt(t,r)}function fo(e,t){const r=Array.isArray(e),s={type_:r?1:0,scope_:t?t.scope_:Mr(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,i=Rt;r&&(o=[s],i=Se);const{revoke:c,proxy:l}=Proxy.revocable(o,i);return s.draft_=l,s.revoke_=c,l}var Rt={get(e,t){if(t===$)return e;const r=te(e);if(!ft(r,t))return ho(e,r,t);const s=r[t];return e.finalized_||!ae(s)?s:s===Je(e.base_,t)?(Ye(e),e.copy_[t]=vt(s,e)):s},has(e,t){return t in te(e)},ownKeys(e){return Reflect.ownKeys(te(e))},set(e,t,r){const s=Er(te(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const o=Je(te(e),t),i=o==null?void 0:o[$];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(io(r,o)&&(r!==void 0||ft(e.base_,t)))return!0;Ye(e),bt(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Je(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ye(e),bt(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=te(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){G(11)},getPrototypeOf(e){return be(e.base_)},setPrototypeOf(){G(12)}},Se={};Oe(Rt,(e,t)=>{Se[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Se.deleteProperty=function(e,t){return Se.set.call(this,e,t,void 0)};Se.set=function(e,t,r){return Rt.set.call(this,e[0],t,r,e[0])};function Je(e,t){const r=e[$];return(r?te(r):e)[t]}function ho(e,t,r){var o;const s=Er(t,r);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(e.draft_):void 0}function Er(e,t){if(!(t in e))return;let r=be(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=be(r)}}function bt(e){e.modified_||(e.modified_=!0,e.parent_&&bt(e.parent_))}function Ye(e){e.copy_||(e.copy_=ht(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mo=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const c=this;return function(u=i,...d){return c.produce(u,m=>r.call(this,m,...d))}}typeof r!="function"&&G(6),s!==void 0&&typeof s!="function"&&G(7);let o;if(ae(t)){const i=Wt(this),c=vt(t,void 0);let l=!0;try{o=r(c),l=!1}finally{l?mt(i):pt(i)}return Qt(i,s),Vt(o,i)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===Fr&&(o=void 0),this.autoFreeze_&&Tt(o,!0),s){const i=[],c=[];ce("Patches").generateReplacementPatches_(t,o,i,c),s(i,c)}return o}else G(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...l)=>this.produceWithPatches(c,u=>t(u,...l));let s,o;return[this.produce(t,r,(c,l)=>{s=c,o=l}),s,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ae(e)||G(8),ve(e)&&(e=po(e));const t=Wt(this),r=vt(e,void 0);return r[$].isManual_=!0,pt(t),r}finishDraft(e,t){const r=e&&e[$];(!r||!r.isManual_)&&G(9);const{scope_:s}=r;return Qt(s,t),Vt(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const s=ce("Patches").applyPatches_;return ve(e)?s(e,t):this.produce(e,o=>s(o,t))}};function vt(e,t){const r=He(e)?ce("MapSet").proxyMap_(e,t):Qe(e)?ce("MapSet").proxySet_(e,t):fo(e,t);return(t?t.scope_:Mr()).drafts_.push(r),r}function po(e){return ve(e)||G(10,e),Nr(e)}function Nr(e){if(!ae(e)||We(e))return e;const t=e[$];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ht(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ht(e,!0);return Oe(r,(s,o)=>{kr(r,s,Nr(o))}),t&&(t.finalized_=!1),r}var K=new mo,bo=K.produce;K.produceWithPatches.bind(K);K.setAutoFreeze.bind(K);K.setUseStrictShallowCopy.bind(K);K.applyPatches.bind(K);K.createDraft.bind(K);K.finishDraft.bind(K);const vo="/704/assets/sandbox.model1-B8uu5h-t.json",xo="/704/assets/sandbox.model2-Bi69Ub92.json",go="data:application/json;base64,ewoJIm5hbWUiOiAiRXBvY2ggU3lzdGVtIGlNb2RlbCAzIiwKCSJ2ZXJzaW9uIjogIjIwMjQgUmVmcmVzaCIsCgkiZGF0YSI6IHsKCQkiZGVmYXVsdCI6IFtdCgl9Cn0K",Io="_appLayout_1bdgn_5",yo="_header_1bdgn_22",Co="_platformBar_1bdgn_32",_o="_logo_1bdgn_38",jo="_tools_1bdgn_48",So="_leftPanel_1bdgn_58",Po="_panelHeader_1bdgn_70",wo="_panelTitleWrapper_1bdgn_78",To="_panelCaption_1bdgn_82",Ro="_shiftIconRight_1bdgn_86",Fo="_subheader_1bdgn_90",Do="_searchInput_1bdgn_106",ko="_subheaderActions_1bdgn_110",Mo="_tabList_1bdgn_114",Eo="_emptyState_1bdgn_119",No="_skeletonTree_1bdgn_128",Oo="_skeletonTreeItem_1bdgn_135",zo="_canvasWrapper_1bdgn_144",Ao="_canvas_1bdgn_144",Lo="_splitter_1bdgn_182",Bo="_tabPanel_1bdgn_228",Uo="_tree_1bdgn_237",$o="_slider_1bdgn_242",Ko="_colorSwatch_1bdgn_251",F={appLayout:Io,header:yo,platformBar:Co,logo:_o,tools:jo,leftPanel:So,panelHeader:Po,panelTitleWrapper:wo,panelCaption:To,shiftIconRight:Ro,subheader:Fo,searchInput:Do,subheaderActions:ko,tabList:Mo,emptyState:Eo,skeletonTree:No,skeletonTreeItem:Oo,canvasWrapper:zo,canvas:Ao,splitter:Lo,tabPanel:Bo,tree:Uo,slider:$o,colorSwatch:Ko},Le={model1:{name:"Epoch System iModel 1",url:vo},model2:{name:"Epoch System iModel 2",url:xo},model3:{name:"Epoch System iModel 3",url:go}};async function Ho(e){if(e in Le){const t=await fetch(Le[e].url).then(r=>r.json());return t.slow&&await new Promise(r=>setTimeout(r,Math.random()*2e3)),t}return{name:"Unknown",version:"Unknown",data:{default:[]}}}const Or="StrataKit sandbox",Fi=()=>[{title:Or}],Di=Kr(function(){var i;const[t,r]=Hr(),s=t.get("model")||"model1",o=on({queryKey:["sandbox-data",s],queryFn:()=>Ho(s)});return n.jsxs(Qo,{panelContent:n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:F.panelHeader,children:[n.jsxs("div",{children:[n.jsxs(ns,{children:[n.jsx(ie,{render:n.jsx(os,{}),children:"Choose Model"}),n.jsx(is,{render:c=>n.jsx(as,{className:F.panelTitleWrapper,children:n.jsx(cs,{...c,variant:"ghost",defaultValue:s,onChange:l=>r({model:l.currentTarget.value}),children:Object.entries(Le).map(([l,{name:u}])=>n.jsx("option",{value:l,children:u},l))})})})]}),n.jsxs("hgroup",{role:"group",children:[n.jsx(ie,{render:n.jsx("h2",{}),children:(i=Le[s])==null?void 0:i.name}),n.jsx(a.Suspense,{fallback:n.jsx(Ne,{variant:"text"}),children:n.jsx(Go,{query:o})},s)]})]}),n.jsx("div",{children:n.jsx(X,{className:F.shiftIconRight,icon:Ps,label:"Dock panel",variant:"ghost",disabled:!0})})]}),n.jsx(a.Suspense,{fallback:n.jsx(Wo,{}),children:n.jsx(qo,{query:o})},s)]}),children:[n.jsxs("header",{className:F.header,children:[n.jsx("div",{className:F.logo,children:n.jsx(ue,{href:ye,size:"large"})}),n.jsx(xe,{render:c=>n.jsx("h1",{...c}),variant:"body-md",children:Or})]}),n.jsx("div",{className:F.platformBar,children:n.jsxs("div",{className:F.tools,children:[n.jsx(ue,{href:ye,size:"large"}),n.jsx(ue,{href:ye,size:"large"}),n.jsx(ue,{href:ye,size:"large"})]})}),n.jsx("div",{className:F.canvasWrapper,children:n.jsx("div",{className:F.canvas,children:n.jsxs($n,{variant:"solid",children:[n.jsx(Me,{render:n.jsx(X,{label:"Select",icon:Cs,variant:"ghost"})}),n.jsx(Me,{render:n.jsx(X,{label:"Move",icon:_s,variant:"ghost"})}),n.jsx(Me,{render:n.jsx(X,{label:"Draw",icon:js,variant:"ghost"})}),n.jsx(Me,{render:n.jsx(X,{label:"Measure",icon:Ss,variant:"ghost"})})]})})})]})});function Qo(e){const{sliderProps:t,panelProps:r,panelMinSize:s,panelMaxSize:o,resizing:i}=Zo({minSize:{px:256,pct:20},maxSize:{pct:30}}),c=a.useId();return n.jsxs("div",{className:F.appLayout,style:{"--_panel-min-size":s,"--_panel-max-size":o},children:[n.jsx("div",{...r,className:F.leftPanel,style:{position:"relative",...r.style},children:e.panelContent}),n.jsxs("div",{className:F.splitter,"data-resizing":i?"true":void 0,children:[n.jsx(ie,{render:l=>n.jsx("label",{...l,htmlFor:c,children:"Resize layers panel"}),children:"Resize layers panel"}),n.jsx("input",{id:c,type:"range",className:F.slider,...t})]}),e.children]})}function Wo(){const e=[1,1,2,2,3,2,3,2,1,1,2,3,4,5,2,3,4,5];return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:F.subheader,children:n.jsx(Ne,{variant:"text"})}),n.jsxs("div",{className:F.skeletonTree,children:[e.map((t,r)=>n.jsx(Vo,{style:{"--level":t}},`${r}-${t}`)),n.jsx(ie,{children:"Loadingâ€¦"})]})]})}function Vo(e){return n.jsxs("div",{...e,className:V(F.skeletonTreeItem,e.className),children:[n.jsx(Ne,{variant:"object",size:"small"}),n.jsx(Ne,{variant:"text"})]})}function Go(e){const{version:t=""}=a.use(e.query.promise);return n.jsx(xe,{className:F.panelCaption,variant:"body-sm",render:n.jsx("p",{}),children:t})}function qo(e){var c;const{data:t}=a.use(e.query.promise),r=a.useMemo(()=>Object.entries(t).map(([l,u])=>{const d=u.length<=1?[]:u.map(({label:m})=>m);return{name:l,filters:d,content:u.length>0?n.jsx(ni,{data:u}):n.jsxs(Xo,{children:[n.jsx(xe,{variant:"body-sm",children:"No layers"}),n.jsx(rr,{children:"Create a layer"})]})}}),[t]),[s,o]=a.useState((c=r[0])==null?void 0:c.name),i=a.useMemo(()=>{var l;return s?((l=r.find(u=>u.name===s))==null?void 0:l.filters)||[]:r[0].filters},[r,s]);return r.length===1?n.jsxs(Xt,{allFilters:i,children:[n.jsx(qt,{}),r[0].content]}):n.jsx(Xt,{allFilters:i,children:n.jsxs(Tn,{selectOnMove:!1,setSelectedId:o,children:[n.jsx(qt,{tabs:r.map(l=>n.jsx(Fn,{id:l.name,children:rs(l.name)},l.name))}),r.map(l=>n.jsx(Dn,{tabId:l.name,className:F.tabPanel,focusable:!1,unmountOnHide:!0,children:l.content},l.name))]})})}function Xo({children:e}){return n.jsx("div",{className:F.emptyState,children:e})}function Jo(){return n.jsx("div",{style:{textAlign:"center"},children:n.jsx(xe,{variant:"body-sm",children:"No results found"})})}function Yo(e,t,r){return Math.min(Math.max(e,t),r)}function Zo(e){const{minSize:t,maxSize:r,onCollapse:s}=e??{},o=a.useId(),i=a.useRef(null),[c,l]=a.useState(void 0),[u,d]=a.useState(void 0),[m,f]=a.useState(void 0),[p,b]=a.useState(!1),[x,C]=a.useState(void 0),g=a.useMemo(()=>{if(t&&u)return Math.min(t.px,t.pct/100*u)},[t,u]),I=a.useMemo(()=>{if(g&&r&&u)return Math.max(g,r.pct/100*u)},[r,u,g]),R=a.useMemo(()=>{if(m==="smallest")return g??0;if(m==="largest")return I??0;if(c&&g&&I)return Yo(c,g,I)},[c,g,I,m]);a.useEffect(()=>{const j=i.current;if(!j)return;const w=j.parentElement;if(!w)return;const U=new ResizeObserver(()=>{const Ge=w.getBoundingClientRect(),qe=j.getBoundingClientRect();d(Ge.width),l(qe.width)});return U.observe(w),U.observe(j),()=>{U.disconnect()}},[]);const M=a.useCallback(j=>{const w=i.current;if(!w)return;const U=w.getBoundingClientRect();C(U.width+j),f(void 0),b(!0)},[]),D=a.useCallback(j=>{const w=i.current;if(!w)return;const U=w.parentElement;if(!U)return;const Ge=U.getBoundingClientRect(),qe=j*(Ge.width*.005),Lr=w.getBoundingClientRect();C(Lr.width+qe),f(void 0)},[]),Q=a.useCallback(()=>{i.current&&(C(void 0),b(!1))},[]),{moveableProps:P}=ei({onMove:M,onMoveEnd:Q,onKeyMove:D}),y=a.useMemo(()=>({...P,onKeyDown:j=>{var w;if((w=P.onKeyDown)==null||w.call(P,j),!j.defaultPrevented)switch(j.key){case"Enter":j.preventDefault(),s==null||s();break;case"Home":j.preventDefault(),f("smallest");break;case"End":j.preventDefault(),f("largest");break}},onChange:j=>{if(p)return;const w=Number(j.target.value);C(w)},value:R===void 0?0:Math.floor(R),min:g===void 0?void 0:Math.floor(g),max:I===void 0?void 0:Math.floor(I)}),[P,R,g,I,s,p]),v=a.useMemo(()=>({style:{WebkitUserSelect:x===void 0?void 0:"none"},id:o,ref:i}),[o,x]),E=g===void 0?void 0:`${Math.floor(g)}px`,S=a.useMemo(()=>{if(x!==void 0&&r!==void 0&&m===void 0)return`min(${Math.floor(x)}px, ${r.pct}%)`;if(R!==void 0)return`${Math.floor(R)}px`},[r,x,R,m]);return{sliderProps:y,panelProps:v,panelMinSize:E,panelMaxSize:S,resizing:p}}function ei(e){const{onMove:t,onMoveEnd:r,onKeyMove:s}=e??{},o=a.useRef(null),i=a.useRef(void 0),c=a.useRef(void 0),l=a.useCallback(()=>{c.current!==void 0&&(c.current=void 0,r==null||r())},[r]);return{moveableProps:a.useMemo(()=>({onPointerDown:d=>{if(d.button!==0||d.ctrlKey)return;const m=o.current;if(!m)return;const f=m.getBoundingClientRect(),p=d.clientX-f.left;c.current=p,d.preventDefault(),m.setPointerCapture(d.pointerId)},onPointerMove:d=>{const m=c.current;if(m===void 0)return;const f=o.current;if(!f)return;const p=f.getBoundingClientRect(),b=d.clientX-m-p.left;d.preventDefault(),t==null||t(b)},onPointerUp:l,onPointerCancel:l,onKeyDown:d=>{if(!d.defaultPrevented)switch(d.key){case"ArrowLeft":d.preventDefault(),s==null||s(-1);break;case"ArrowRight":d.preventDefault(),s==null||s(1);break}},ref:d=>{var f;if(o.current=d,(f=i.current)==null||f.call(i),i.current=void 0,!d)return;const m=p=>{p.preventDefault()};d.addEventListener("touchstart",m),i.current=()=>{d.removeEventListener("touchstart",m)}}}),[s,t,l])}}const zr=(()=>{let e=0;return t=>({id:`${e++}`,label:`Tree Item ${e}`,expanded:!0,...t,items:((t==null?void 0:t.items)??[]).map(zr)})})();function ti({items:e,filters:t,search:r,errorIds:s}){const o=a.useMemo(()=>t.length===0?e:e.reduce((l,u)=>(t.includes(u.label)&&l.push(u),l),[]),[e,t]),i=a.useMemo(()=>{function l(u){return u.reduce((d,m)=>{const p=s.includes(m.id)?[]:l(m.items??[]);return(m.label.toLowerCase().includes(r.toLowerCase())||p.length>0)&&d.push({...m,items:p}),d},[])}return r===""&&s.length===0?o:l(o)},[o,r,s]),c=a.useMemo(()=>{if(t.length===0&&r==="")return;function l(u){return u.reduce((d,m)=>{const f=m.items?l(m.items):0;return d+1+f},0)}return l(i)},[i,t,r]);return{filteredTree:i,itemCount:c}}function ri(e,t){return a.useMemo(()=>{function r(s){return s.reduce((o,i)=>(t.includes(i.id)&&o.push(i),i.items&&o.push(...r(i.items)),o),[])}return r(e)},[e,t])}function si(e,t,r){return a.useMemo(()=>{function s(o,i,c,l,u){const d=[];let m=1;for(const f of o){const p=f.id===t||l,b=r.includes(f.id)||u;d.push({...f,level:c,parentItem:i,selected:p,hidden:b,parentHidden:u,position:m++,size:o.length}),f.expanded&&d.push(...s(f.items,f,c+1,p,b))}return d}return s(e,void 0,1,!1,!1)},[e,t,r])}function Ar(e,t){for(const r of e){if(r.id===t)return r;const s=Ar(r.items,t);if(s)return s}}function ni({data:e}){const{appliedFilters:t,search:r,setItemCount:s}=a.useContext(Ve),o=a.useId(),[i,c]=a.useState(),[l,u]=a.useState([]),d=a.useCallback(y=>{u(v=>v.includes(y)?v.filter(E=>E!==y):[...v,y])},[]),[m,f]=a.useState(()=>e.map(y=>zr(y))),[p,b]=a.useState(["benstr","benroad"]),x=ri(m,p),C=a.useMemo(()=>x.filter(y=>y.expanded),[x]),g=a.useMemo(()=>C.map(y=>y.id),[C]),{filteredTree:I,itemCount:R}=ti({items:m,filters:t,search:r,errorIds:g}),M=si(I,i,l);a.useEffect(()=>{s(R)},[s,R]);const D=C.length,Q=a.useMemo(()=>{if(D!==0)return D===1?"1 issue found":`${D} issues found`},[D]),P=a.useDeferredValue(M);return P.length===0?n.jsx(Jo,{}):n.jsxs(a.Suspense,{fallback:"Loading...",children:[n.jsx(ln,{"aria-label":"Tree errors",label:Q,items:C.map(y=>{const v=`${o}-${y.id}`;return n.jsx(un,{message:n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Failed to create hierarchy for "}),n.jsx(Mt,{href:`#${v}`,children:y.label})]}),messageId:`${v}-message`,actions:n.jsx(Mt,{render:n.jsx("button",{}),onClick:()=>{b(E=>E.filter(S=>S!==y.id))},children:"Retry"},"retry")},y.id)})}),n.jsx(no,{className:F.tree,children:P.map(y=>{const v=C.find(S=>S.id===y.id),E=v?`${o}-${y.id}`:void 0;return n.jsx(Kn,{id:E,label:y.label,description:y.description,"aria-level":y.level,"aria-posinset":y.position,"aria-setsize":y.size,selected:y.selected,onSelectedChange:()=>{if(i===y.id){c(void 0);return}c(y.id)},expanded:y.items.length===0&&!v?void 0:y.expanded,onExpandedChange:S=>{f(bo(j=>{const w=Ar(j,y.id);w&&(w.expanded=S)}))},unstable_decorations:n.jsxs(n.Fragment,{children:[y.color?n.jsx(ai,{color:y.color,alt:y.color}):null,n.jsx(ue,{href:ye})]}),actions:[v?n.jsx(A,{icon:ws,label:"Retry",onClick:()=>{b(S=>S.filter(j=>j!==y.id))}},"retry"):null,n.jsx(A,{icon:Ts,label:"Lock"},"lock"),n.jsx(oi,{item:y,onClick:d},"visibility"),n.jsx(A,{label:"Copy"},"copy"),n.jsx(A,{label:"Paste"},"paste"),n.jsx(A,{label:"Copy/Paste as"},"copy-paste"),n.jsx(A,{label:"Move to"},"move"),n.jsx(A,{label:"Bring to front"},"bring-to-front"),n.jsx(A,{label:"Send to back"},"send-to-back"),n.jsx(A,{label:"Group selection"},"group"),n.jsx(A,{label:"Ungroup"},"ungroup"),n.jsx(A,{label:"Rename"},"rename"),n.jsx(A,{label:"Show/hide"},"show-hide"),n.jsx(A,{label:"Lock/unlock"},"lock-unlock"),n.jsx(A,{label:"Isolate object"},"isolate")],error:v?`${E}-message`:void 0},y.id)})})]})}function oi({item:e,onClick:t}){return n.jsx(A,{icon:e.hidden?Rs:Fs,label:e.hidden?"Show":"Hide",visible:e.hidden?!0:void 0,onClick:a.useCallback(()=>{t(e.id)},[t,e.id]),dot:e.hidden?"Hidden":void 0},"visibility")}function qt({tabs:e}){const{itemCount:t,isFiltered:r,search:s,setSearch:o}=a.useContext(Ve),i=a.useRef(null),c=a.useRef(null),[l,u]=a.useState(!e),d=r||!!s,m=l?n.jsxs(n.Fragment,{children:[n.jsx(ii,{}),e?n.jsx(X,{className:F.shiftIconRight,icon:Ds,label:"Close",variant:"ghost",onClick:()=>{var p;Lt.flushSync(()=>u(!1)),(p=c.current)==null||p.focus()}}):null]}):n.jsx(X,{className:F.shiftIconRight,icon:Bt,label:"Search",dot:d?"Some filters or search applied":void 0,variant:"ghost",onClick:()=>{var p;Lt.flushSync(()=>u(!0)),(p=i.current)==null||p.focus()}}),f=a.useMemo(()=>{if(r)return t===void 0?"Showing all tree items":`Showing ${t} tree items`},[r,t]);return n.jsxs("div",{className:F.subheader,children:[n.jsx(ie,{"aria-live":"polite","aria-atomic":!0,children:f}),e&&!l?n.jsx(Rn,{className:F.tabList,tone:"accent",ref:c,children:e}):null,l?n.jsxs(ls,{className:F.searchInput,children:[n.jsx(us,{href:Bt}),n.jsx(ds,{placeholder:"Search",ref:i,onChange:p=>o(p.currentTarget.value)})]}):null,n.jsx("div",{className:F.subheaderActions,children:m})]})}function ii(){const e=a.useContext(Ve),t=e.appliedFilters.length>0;return n.jsxs(dr,{children:[n.jsx(fr,{render:n.jsx(X,{icon:ks,label:"Filter",dot:t?"Some filters applied":void 0,variant:"ghost",disabled:e.allFilters.length===0})}),n.jsx(hr,{children:e.allFilters.map(r=>{const s=e.appliedFilters.includes(r);return n.jsx(Bs,{name:r,label:r,checked:s,onChange:()=>{e.toggleFilter(r)}},r)})})]})}function Xt(e){const[t,r]=a.useState(!1),[s,o]=a.useState([]),[i,c]=a.useState(""),[l,u]=a.useState(void 0),d=a.useCallback(p=>{const b=s.includes(p)?s.filter(x=>x!==p):[...s,p];o(b),r(b.length>0)},[s]),m=a.useCallback(()=>{o([]),r(!1)},[]),f=a.useCallback(p=>{c(p),r(!!p)},[]);return n.jsx(Ve.Provider,{value:a.useMemo(()=>({allFilters:e.allFilters,appliedFilters:s,isFiltered:t,toggleFilter:d,clearFilters:m,search:i,setSearch:f,itemCount:l,setItemCount:u}),[e.allFilters,s,t,d,m,i,f,l]),children:e.children})}const Ve=a.createContext({allFilters:[],appliedFilters:[],isFiltered:!1,toggleFilter:()=>{},clearFilters:()=>{},search:"",setSearch:()=>{},itemCount:void 0,setItemCount:()=>{}});function ai(e){return n.jsx("div",{className:F.colorSwatch,style:{"--_color":`var(--_color--${e.color})`},children:e.alt?n.jsx(ie,{children:e.alt}):null})}export{Di as default,Fi as meta};
