import{p as l,b as a}from"./index-DDCMeoDP.js";import{l as k,m as D,n as R,_ as E,L as N,G as w,f as u,c as p,h as C}from"./~utils-DIAJv-Jy.js";import{a as L,C as M,b as y,c as x}from"./RZ4GPYOB-DMRXd9Kx.js";import{d as b}from"./YV4JVR4I-CbCMjlAq.js";import{u as h}from"./C3IKGW5T-DBGvM4oD.js";import{T as P}from"./Text-BPa-ooI1.js";var S="div",_=D(function(e){var o=e,{store:n}=o,r=E(o,["store"]);const c=L();return n=n||c,r=N(r,s=>l.jsx(M,{value:n,children:s}),[n]),w(r)}),B=k(function(e){const o=_(e);return R(S,o)});function G(t){const e=h({defaultItems:[]}),o=b(e,"renderedItems"),[n,r]=a.useMemo(()=>{var d;const s=o.findIndex(i=>i.elementType==="control");return[(d=o[s])==null?void 0:d.controlType,s]},[o]),c=a.useMemo(()=>{const s=o.findIndex(d=>d.elementType==="label");if(!(r===-1||s===-1))return s<r?"before":"after"},[o,r]);return l.jsx(B,{...t,store:e,"data-kiwi-label-placement":c,"data-kiwi-control-type":n})}const j=a.createContext(void 0);function J(t){const e=a.useContext(j);a.useEffect(()=>{e==null||e(t)},[t,e])}const I=u((t,e)=>{const{tone:o,...n}=t;return l.jsx(P,{...n,variant:"caption-md","data-kiwi-tone":o??"neutral",className:p("ðŸ¥-description",t.className),ref:e})}),H=u((t,e)=>l.jsx(C.label,{...t,className:p("ðŸ¥-label",t.className),ref:e})),K=u((t,e)=>{const{layout:o,...n}=t;return l.jsx(G,{render:l.jsx(C.div,{...n,className:p("ðŸ¥-field",t.className),"data-kiwi-layout":o,ref:e})})}),O=u((t,e)=>{const o=y(),n=b(o,"renderedItems"),r=a.useMemo(()=>{var s;return(s=n==null?void 0:n.find(d=>d.elementType==="control"))==null?void 0:s.id},[n]),c=a.useCallback(s=>({...s,elementType:"label"}),[]);return l.jsx(x,{getItem:c,render:l.jsx(H,{...t,htmlFor:r}),ref:e})}),Q=u((t,e)=>{const o=a.useId(),{id:n=o,...r}=t,c=a.useCallback(s=>({...s,elementType:"description"}),[]);return l.jsx(x,{getItem:c,id:n,render:l.jsx(I,{...r}),ref:e})}),X=u((t,e)=>{const[o,n]=a.useState(),r=y(),c=a.useId(),{id:s=r?c:void 0,...d}=t,i=b(r,"renderedItems"),T=a.useMemo(()=>{var v;return((v=i==null?void 0:i.filter(f=>f.elementType==="description"||f.elementType==="error"))==null?void 0:v.map(f=>f.id).join(" "))||void 0},[i]),g=a.useCallback(m=>({...m,elementType:"control",controlType:o}),[o]),F=a.useMemo(()=>i==null?void 0:i.some(m=>m.elementType==="error"),[i]);return l.jsx(j.Provider,{value:n,children:l.jsx(x,{id:s,getItem:g,render:l.jsx(C,{...d,"aria-invalid":F?"true":void 0,"aria-describedby":T}),ref:e})})}),Y=u((t,e)=>{const o=a.useId(),{id:n=o,...r}=t,c=a.useCallback(s=>({...s,elementType:"error"}),[]);return l.jsx(x,{id:n,getItem:c,render:l.jsx(I,{...r,tone:"critical"}),ref:e})});export{K as F,H as L,O as a,X as b,Y as c,Q as d,J as u};
