import{w as H}from"./LMDWO4NN-SGO35Sn1.js";import{n as e,a as t,t as U}from"./chunk-D52XG6IA-Bjtbe6aB.js";import{a as N}from"./index-h2OwknZM.js";import{D as q,a as J,b as Q,c as v}from"./DropdownMenu-CrqDj8yb.js";import{D as Y}from"./Divider-x5fmTwpd.js";import{I as y}from"./Icon-sUEPuGiX.js";import{I as R}from"./IconButton-DvhWvt27.js";import{T as Z,a as ee,b as te}from"./TextBox-DW3Vrkxp.js";import{V as E}from"./VisuallyHidden-wPE1jjpq.js";import{T as ne,a as se,b as re,c as ae}from"./Tree-Bm086s_e.js";import{p as I}from"./placeholder-B7PvmaXo.js";import{p as ie,l as oe,s as le,a as D,d as ce,f as de}from"./visibility-show-lQm2wfsB.js";import{R as ue}from"./XL7CSKGW-Bj6N_gdg.js";import"./index-BCMTPUG2.js";import"./~utils-bgFDR2pr.js";import"./Button-BoV_bj8s.js";import"./KUU7WJ55-CxesKT3y.js";import"./LVA2YJMS-_GQ0__BM.js";import"./Kbd-CO7injhN.js";import"./P2CTZE2T-BN4mKOuc.js";import"./YV4JVR4I-D_VatxNX.js";import"./BYC7LY2E-CQ8Lds9I.js";import"./VGCJ63VH-DQ4411sn.js";import"./XX67R432-UkYfFkYB.js";import"./MTZPJQMC-BSNGTYDZ.js";import"./ITI7HKP4-CZZkUcIS.js";import"./P4IRICAX-BXdW1VUB.js";import"./Tooltip-edzaN2iN.js";import"./Field-BUXxuFsc.js";import"./~hooks-uds3lZtK.js";import"./Icon-BWW-Fjy3.js";const he="_appLayout_w7s42_5",pe="_platformBar_w7s42_14",xe="_logo_w7s42_19",me="_tools_w7s42_29",fe="_leftPanel_w7s42_39",ve="_header_w7s42_50",je="_panelTitle_w7s42_58",be="_panelCaption_w7s42_64",ge="_shiftIconRight_w7s42_68",Se="_subheader_w7s42_72",_e="_subheaderTitle_w7s42_82",we="_searchInput_w7s42_87",Re="_subheaderActions_w7s42_91",Ce="_canvasWrapper_w7s42_95",Pe="_canvas_w7s42_95",ye="_splitter_w7s42_117",Ie="_action_w7s42_148",ze="_slider_w7s42_156",l={appLayout:he,platformBar:pe,logo:xe,tools:me,leftPanel:fe,header:ve,panelTitle:je,panelCaption:be,shiftIconRight:ge,subheader:Se,subheaderTitle:_e,searchInput:we,subheaderActions:Re,canvasWrapper:Ce,canvas:Pe,splitter:ye,action:Ie,slider:ze},A="Kiwi sandbox",pt=()=>[{title:A}],xt=H(function(){const{sliderProps:r,panelProps:a,panelMinSize:o,panelMaxSize:p,resizing:i}=ke({minSize:{px:256,pct:20},maxSize:{pct:30}});return e.jsxs(e.Fragment,{children:[e.jsx(E,{render:f=>e.jsx("h1",{...f}),children:A}),e.jsxs("div",{className:l.appLayout,style:{"--_panel-min-size":o,"--_panel-max-size":p},children:[e.jsxs("div",{className:l.platformBar,children:[e.jsx("div",{className:l.logo,children:e.jsx(y,{href:I,size:"large"})}),e.jsxs("div",{className:l.tools,children:[e.jsx(y,{href:I,size:"large"}),e.jsx(y,{href:I,size:"large"}),e.jsx(y,{href:I,size:"large"})]})]}),e.jsxs("div",{...a,className:l.leftPanel,style:{position:"relative",...a.style},children:[e.jsxs("div",{className:l.header,children:[e.jsxs("hgroup",{role:"group",children:[e.jsx("h2",{className:l.panelTitle,children:"Epoch System iModel"}),e.jsx("p",{className:l.panelCaption,children:"2024 Refresh"})]}),e.jsx("div",{className:l.actions,children:e.jsx(R,{className:l.shiftIconRight,icon:ie,label:"Dock panel",variant:"ghost",disabled:!0})})]}),e.jsx(De,{}),e.jsx(Ne,{}),e.jsx(Y,{presentational:!0,className:l.splitter,"data-resizing":i?"true":void 0,children:e.jsx("input",{type:"range","aria-label":"Resize layers panel",className:l.slider,...r})})]}),e.jsx("div",{className:l.canvasWrapper,children:e.jsx("div",{className:l.canvas})})]})]})});function Me(c,r,a){return Math.min(Math.max(c,r),a)}function ke(c){const{minSize:r,maxSize:a,onCollapse:o}=c??{},p=t.useId(),i=t.useRef(null),[f,g]=t.useState(void 0),[j,s]=t.useState(void 0),[u,x]=t.useState(void 0),[b,z]=t.useState(!1),[C,M]=t.useState(void 0),m=t.useMemo(()=>{if(r&&j)return Math.min(r.px,r.pct/100*j)},[r,j]),_=t.useMemo(()=>{if(m&&a&&j)return Math.max(m,a.pct/100*j)},[a,j,m]),w=t.useMemo(()=>{if(u==="smallest")return m??0;if(u==="largest")return _??0;if(f&&m&&_)return Me(f,m,_)},[f,m,_,u]);t.useEffect(()=>{const d=i.current;if(!d)return;const h=d.parentElement;if(!h)return;const S=new ResizeObserver(()=>{const k=h.getBoundingClientRect(),B=d.getBoundingClientRect();s(k.width),g(B.width)});return S.observe(h),S.observe(d),()=>{S.disconnect()}},[]);const G=t.useCallback(d=>{const h=i.current;if(!h)return;const S=h.getBoundingClientRect();M(S.width+d),x(void 0),z(!0)},[]),O=t.useCallback(d=>{const h=i.current;if(!h)return;const S=h.parentElement;if(!S)return;const k=S.getBoundingClientRect(),B=d*(k.width*.005),X=h.getBoundingClientRect();M(X.width+B),x(void 0)},[]),W=t.useCallback(()=>{i.current&&(M(void 0),z(!1))},[]),{moveableProps:P}=Be({onMove:G,onMoveEnd:W,onKeyMove:O}),$=t.useMemo(()=>({...P,onKeyDown:d=>{var h;if((h=P.onKeyDown)==null||h.call(P,d),!d.defaultPrevented)switch(d.key){case"Enter":d.preventDefault(),o==null||o();break;case"Home":d.preventDefault(),x("smallest");break;case"End":d.preventDefault(),x("largest");break}},onChange:d=>{if(b)return;const h=Number(d.target.value);M(h)},value:w===void 0?0:Math.floor(w),min:m===void 0?void 0:Math.floor(m),max:_===void 0?void 0:Math.floor(_)}),[P,w,m,_,o,b]),F=t.useMemo(()=>({style:{WebkitUserSelect:C===void 0?void 0:"none"},id:p,ref:i}),[p,C]),K=m===void 0?void 0:`${m}px`,V=t.useMemo(()=>{if(C!==void 0&&a!==void 0&&u===void 0)return`min(${C}px, ${a.pct}%)`;if(w!==void 0)return`${w}px`},[a,C,w,u]);return{sliderProps:$,panelProps:F,panelMinSize:K,panelMaxSize:V,resizing:b}}function Be(c){const{onMove:r,onMoveEnd:a,onKeyMove:o}=c??{},p=t.useRef(null),i=t.useRef(void 0),f=t.useRef(void 0),g=t.useCallback(()=>{f.current!==void 0&&(f.current=void 0,a==null||a())},[a]);return{moveableProps:t.useMemo(()=>({onPointerDown:s=>{if(s.button!==0||s.ctrlKey)return;const u=p.current;if(!u)return;const x=u.getBoundingClientRect(),b=s.clientX-x.left;f.current=b,s.preventDefault(),u.setPointerCapture(s.pointerId)},onPointerMove:s=>{const u=f.current;if(u===void 0)return;const x=p.current;if(!x)return;const b=x.getBoundingClientRect(),z=s.clientX-u-b.left;s.preventDefault(),r==null||r(z)},onPointerUp:g,onPointerCancel:g,onKeyDown:s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowLeft":s.preventDefault(),o==null||o(-1);break;case"ArrowRight":s.preventDefault(),o==null||o(1);break}},ref:s=>{var x;if(p.current=s,(x=i.current)==null||x.call(i),i.current=void 0,!s)return;const u=b=>{b.preventDefault()};s.addEventListener("touchstart",u),i.current=()=>{s.removeEventListener("touchstart",u)}}}),[o,r,g])}}const L=t.createContext({selected:void 0,setSelected:()=>{}});function Ne(){const[c]=U(),r=c.get("scroll"),[a,o]=t.useState();return e.jsx(L.Provider,{value:{selected:a,setSelected:o},children:e.jsxs(ne,{scroll:r==="both"?"both":"vertical",children:[e.jsx(n,{label:"Guides",children:e.jsxs(n,{label:"Tree",children:[e.jsx(n,{label:"Guide 4"}),e.jsx(n,{label:"Guide 3"}),e.jsx(n,{label:"Guide 2"}),e.jsx(n,{label:"Guide 1",lockAction:!0})]})}),e.jsxs(n,{label:"Other",children:[e.jsx(n,{label:"Object 2",children:e.jsx(n,{label:"Path 3"})}),e.jsx(n,{label:"Object 1",visibilityAction:!0})]}),e.jsxs(n,{label:"Road",children:[e.jsx(n,{label:"Parking lot access"}),e.jsx(n,{label:"Site access",lockAction:!0,visibilityAction:!0})]}),e.jsx(n,{label:"Parking lot",children:e.jsxs(n,{label:"Parking area",children:[e.jsx(n,{label:"Bay point 2"}),e.jsx(n,{label:"Bay point 1"}),e.jsx(n,{label:"Space point 1"}),e.jsx(n,{label:"Path 6"})]})}),e.jsx(n,{label:"Building",children:e.jsx(n,{label:"Building area",children:e.jsx(n,{label:"Path 5"})})}),e.jsx(n,{label:"Sewer",children:e.jsx(n,{label:"Run off pipe",children:e.jsx(n,{label:"Path 4"})})}),e.jsx(n,{label:"Project boundary",children:e.jsx(n,{label:"Property area",children:e.jsx(n,{label:"Path 1"})})}),e.jsx(n,{label:"Map",children:e.jsx(n,{label:"Location",children:e.jsx(n,{label:"Terrain"})})})]})})}const T=t.createContext({selected:!1});function n(c){const r=t.useId(),a=t.Children.count(c.children)>0,[o,p]=t.useState(c.defaultCollapsed===void 0?!0:!c.defaultCollapsed),i=t.useContext(L),g=t.useContext(T).selected||r===i.selected,j=t.useCallback(()=>{i.setSelected(s=>{if(s!==r)return r})},[r,i]);return e.jsx(T.Provider,{value:{selected:g},children:e.jsx(se,{content:e.jsxs(e.Fragment,{children:[e.jsx(re,{onClick:()=>{p(s=>!s)}}),e.jsx(y,{href:I,style:{display:"inline"}}),e.jsx(ae,{onClick:()=>{j()},children:c.label}),e.jsxs("div",{style:{display:"flex",gap:4,marginInlineStart:"auto"},children:[e.jsx(R,{className:l.action,icon:oe,label:"Lock",variant:"ghost","aria-hidden":!c.lockAction}),e.jsx(R,{className:l.action,icon:le,label:"Show",variant:"ghost","aria-hidden":!c.visibilityAction})]})]}),expanded:a?o:void 0,selected:g,children:o?c.children:void 0})})}function De(){const[c,r]=t.useState(!1),a=t.useRef(null),o=t.useRef(null),p=c?e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsx(R,{className:l.shiftIconRight,icon:ce,label:"Close",variant:"ghost",onClick:()=>{var i;N.flushSync(()=>r(!1)),(i=o.current)==null||i.focus()}})]}):e.jsx(R,{className:l.shiftIconRight,icon:D,label:"Search",variant:"ghost",onClick:()=>{var i;N.flushSync(()=>r(!0)),(i=a.current)==null||i.focus()}});return e.jsxs("div",{className:l.subheader,children:[e.jsx(ue.h3,{className:l.subheaderTitle,tabIndex:-1,ref:o,render:c?e.jsx(E,{render:e.jsx("h3",{})}):void 0,children:"Layers"}),c?e.jsxs(Z,{className:l.searchInput,children:[e.jsx(ee,{href:D}),e.jsx(te,{placeholder:"Search",ref:a})]}):null,e.jsx("div",{className:l.subheaderActions,children:p})]})}function Te(){return e.jsxs(q,{children:[e.jsx(J,{render:e.jsx(R,{icon:de,label:"Filter",variant:"ghost"})}),e.jsxs(Q,{style:{minInlineSize:164},children:[e.jsx(v,{children:"Show all"}),e.jsx(v,{children:"Guides"}),e.jsx(v,{children:"Other"}),e.jsx(v,{children:"Roadway"}),e.jsx(v,{children:"Parking"}),e.jsx(v,{children:"Building"}),e.jsx(v,{children:"Dry utility"}),e.jsx(v,{children:"Stormwater"}),e.jsx(v,{children:"Sewer"}),e.jsx(v,{children:"Boundary"}),e.jsx(v,{children:"Map"})]})]})}export{xt as default,pt as meta};
