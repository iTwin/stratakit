import{R as o}from"./index.CtNveh2g.js";const b=e=>{let t;const n=new Set,a=(s,r)=>{const c=typeof s=="function"?s(t):s;if(!Object.is(c,t)){const l=t;t=r??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(f=>f(t,l))}},u=()=>t,i={setState:a,getState:u,getInitialState:()=>S,subscribe:s=>(n.add(s),()=>n.delete(s))},S=t=e(a,u,i);return i},y=(e=>e?b(e):b),g=e=>e;function I(e,t=g){const n=o.useSyncExternalStore(e.subscribe,o.useCallback(()=>t(e.getState()),[e,t]),o.useCallback(()=>t(e.getInitialState()),[e,t]));return o.useDebugValue(n),n}function x(e,t){return(...n)=>Object.assign({},e,t(...n))}export{x as a,y as c,I as u};
