/*---------------------------------------------------------------------------------------------
 * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
 * See LICENSE.md in the project root for license terms and full copyright notice.
 *--------------------------------------------------------------------------------------------*/
.ğŸ¥ListItem {
	--âœ¨height--default: 1.75rem;
	--âœ¨height--large: 2.75rem;
	--âœ¨padding-inline: var(--stratakit-space-x2);

	--âœ¨bg--default: transparent;
	--âœ¨bg--hover: var(--stratakit-color-bg-glow-on-surface-neutral-hover);
	--âœ¨bg--pressed: var(--stratakit-color-bg-glow-on-surface-neutral-pressed);
	--âœ¨bg--active: var(--stratakit-color-bg-glow-on-surface-accent-pressed);
	--âœ¨bg--active-hover: color-mix(
		in oklch,
		var(--âœ¨bg--active) 100%,
		var(--stratakit-color-glow-hue) var(--stratakit-color-bg-glow-strong-hover-\%)
	);
	--âœ¨bg--disabled: var(--stratakit-color-text-neutral-disabled);

	--âœ¨color--default: var(--stratakit-color-text-neutral-primary);
	--âœ¨color--active: var(--stratakit-color-text-accent-strong);
	--âœ¨color--disabled: var(--âœ¨bg--disabled);

	@layer base {
		cursor: pointer;
		line-height: 1.2;
		font-size: var(--stratakit-font-size-12);

		display: grid;
		align-items: center;
		align-content: center;
		/* biome-ignore format: improve readability */
		grid-template-columns:
			[checkmark-start] auto [checkmark-end
			decoration-before-start] auto [decoration-before-end
			content-start] minmax(0, 1fr) [content-end
			decoration-after-start] auto [decoration-after-end];

		min-block-size: var(--ğŸ¥ListItem-height, var(--âœ¨height--default));
		padding-inline: var(--âœ¨padding-inline);
		background-color: var(--ğŸ¥ListItem-background-color);

		--ğŸ¥ListItem-background-color: var(--ğŸŒ€ListItem-state--default, var(--âœ¨bg--default))
			var(--ğŸŒ€ListItem-state--hover, var(--âœ¨bg--hover))
			var(--ğŸŒ€ListItem-state--pressed, var(--âœ¨bg--pressed))
			var(--ğŸŒ€ListItem-state--active, var(--âœ¨bg--active))
			var(--ğŸŒ€ListItem-state--active-hover, var(--âœ¨bg--active-hover))
			var(--ğŸŒ€ListItem-state--disabled, var(--âœ¨bg--default));
		color: var(
			--ğŸ¥ListItem-color,
			var(--ğŸŒ€ListItem-state--default, var(--âœ¨color--default))
				var(--ğŸŒ€ListItem-state--hover, var(--âœ¨color--default))
				var(--ğŸŒ€ListItem-state--pressed, var(--âœ¨color--default))
				var(--ğŸŒ€ListItem-state--active, var(--âœ¨color--active))
				var(--ğŸŒ€ListItem-state--active-hover, var(--âœ¨color--active))
				var(--ğŸŒ€ListItem-state--disabled, var(--âœ¨color--disabled))
		);
		--ğŸ¥Icon-color: var(--ğŸŒ€ListItem-state--default, var(--stratakit-color-icon-neutral-base))
			var(--ğŸŒ€ListItem-state--hover, var(--stratakit-color-icon-neutral-primary))
			var(--ğŸŒ€ListItem-state--pressed, var(--stratakit-color-icon-neutral-primary))
			var(--ğŸŒ€ListItem-state--active, var(--stratakit-color-icon-accent-strong))
			var(--ğŸŒ€ListItem-state--active-hover, var(--stratakit-color-icon-accent-strong))
			var(--ğŸŒ€ListItem-state--disabled, var(--stratakit-color-icon-neutral-disabled));
	}

	@layer states {
		@media (any-hover: hover) {
			&:where(:hover) {
				--ğŸŒ€ListItem-state: var(--ğŸŒ€ListItem-state--hover);
			}
		}

		&:where(:active) {
			--ğŸŒ€ListItem-state: var(--ğŸŒ€ListItem-state--pressed);
		}

		&:where(:disabled, [aria-disabled="true"]) {
			--ğŸŒ€ListItem-state: var(--ğŸŒ€ListItem-state--disabled);
			cursor: not-allowed;
		}
	}

	@layer modifiers {
		&:where(:has(> :nth-child(2 of .ğŸ¥ListItemContent))) {
			--ğŸ¥ListItem-height: var(--âœ¨height--large);
			grid-template-rows: repeat(auto-fit, minmax(0, auto));
		}
	}

	@layer base.ğŸŒ€ {
		/* See https://kizu.dev/cyclic-toggles/ */
		--ğŸŒ€ListItem-state: var(--ğŸŒ€ListItem-state--default);
		--ğŸŒ€ListItem-state--default: var(--ğŸŒ€ListItem-state,);
		--ğŸŒ€ListItem-state--hover: var(--ğŸŒ€ListItem-state,);
		--ğŸŒ€ListItem-state--pressed: var(--ğŸŒ€ListItem-state,);
		--ğŸŒ€ListItem-state--active: var(--ğŸŒ€ListItem-state,);
		--ğŸŒ€ListItem-state--active-hover: var(--ğŸŒ€ListItem-state,);
		--ğŸŒ€ListItem-state--disabled: var(--ğŸŒ€ListItem-state,);
	}
}

.ğŸ¥ListItemContent {
	@layer base {
		grid-column: content;
	}
}

.ğŸ¥ListItemDecoration {
	--âœ¨gap: var(--stratakit-space-x15, calc(var(--stratakit-space-x05) + var(--stratakit-space-x1)));

	@layer base {
		grid-column: decoration-before;
		grid-row: 1 / -1;
		align-self: start;

		display: flex;
		align-items: center;
		margin-inline-end: var(--âœ¨gap);

		:where(.ğŸ¥ListItemContent) ~ & {
			grid-column: decoration-after;
			margin-inline: var(--âœ¨gap) 0;
		}
	}
}

@media (forced-colors: active) {
	.ğŸ¥ListItem:where(:disabled, [aria-disabled="true"]) {
		color: GrayText;
	}
}
