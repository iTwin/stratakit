import{a as m,n as N}from"./chunk-K6AXKMTT-BHCV6zel.js";import{c as D}from"./index-DeGJKKUv.js";import{a as U,b as j}from"./Field-CcHe_BHS.js";import{z as A,c as T,_ as w,G as B,P as M,J as $,Q as z,m as v,g as G,u as H,b as p,r as J,n as O,d as Q,e as W,f as q}from"./~utils-ChHMGsjo.js";import{u as K}from"./~hooks-DuYLhjin.js";import{C as L,a as V,b as X}from"./P2CTZE2T-Dc6QpFC1.js";import{d as Y}from"./YV4JVR4I-I4X5ERHE.js";var Z=A([V],[L]),ee=Z.useContext,C="input";function re(s,t){if(t!==void 0)return s!=null&&t!=null?t===s:!!t}function te(s,t){return s==="input"&&(!t||t==="radio")}var oe=T(function(t){var a=t,{store:r,name:d,value:n,checked:R}=a,o=w(a,["store","name","value","checked"]);const k=ee();r=r||k;const c=B(o.id),f=m.useRef(null),u=Y(r,e=>R??re(n,e==null?void 0:e.value));m.useEffect(()=>{!c||!u||(r==null?void 0:r.getState().activeId)===c||r==null||r.setActiveId(c)},[r,u,c]);const b=o.onChange,x=M(f,C),i=te(x,o.type),P=$(o),[F,I]=z();m.useEffect(()=>{const e=f.current;e&&(i||(u!==void 0&&(e.checked=u),d!==void 0&&(e.name=d),n!==void 0&&(e.value=`${n}`)))},[F,i,u,d,n]);const l=v(e=>{if(P){e.preventDefault(),e.stopPropagation();return}(r==null?void 0:r.getState().value)!==n&&(i||(e.currentTarget.checked=!0,I()),b==null||b(e),!e.defaultPrevented&&(r==null||r.setValue(n)))}),g=o.onClick,_=v(e=>{g==null||g(e),!e.defaultPrevented&&(i||l(e))}),h=o.onFocus,y=v(e=>{if(h==null||h(e),e.defaultPrevented||!i||!r)return;const{moves:E,activeId:S}=r.getState();E&&(c&&S!==c||l(e))});return o=G(p({id:c,role:i?void 0:"radio",type:i?"radio":void 0,"aria-checked":u},o),{ref:H(f,o.ref),onChange:l,onClick:_,onFocus:y}),o=X(p({store:r,clickOnEnter:!i},o)),J(p({name:i?d:void 0,value:i?n:void 0,checked:u},o))}),ae=O(Q(function(t){const a=oe(t);return W(C,a)}));const le=q((s,t)=>{const a=U(),r=j(s["aria-describedby"]);return N.jsx(ae,{accessibleWhenDisabled:!0,id:a==null?void 0:a.id,...s,className:D("ğŸ¥-checkbox","ğŸ¥-radio",s.className),"aria-describedby":r,ref:K(a==null?void 0:a.controlRef,t)})});export{le as R};
