import{p as e,b as x}from"./index-DDCMeoDP.js";import{J as B,F as k,K as H,L as W,aj as z,a7 as G,ak as M,a8 as J,b7 as O,an as Z,b8 as $,a5 as I,b9 as q,aW as Q,l as b,ba as U,V as X,o as f,d as h,bb as T,b as y,bc as S,B as Y,bd as ee,z as oe,aZ as re,be as g,bf as se,I as te,bg as ae}from"./~utils-B21z9VD2.js";import{P as ie,a as ne,b as C,L as w}from"./QYJ6MIDR-D4Ko6HNV.js";import{T as R}from"./Text-BhizqEF6.js";import{D as le}from"./Divider-6EVzH06q.js";import{c as ce,u as de,a as ue,b as me,C as xe}from"./ITI7HKP4-DMPqypKC.js";function ve(o={}){var s;const r=(s=o.store)==null?void 0:s.getState();return ce(B(H({},o),{orientation:k(o.orientation,r==null?void 0:r.orientation,"horizontal"),focusLoop:k(o.focusLoop,r==null?void 0:r.focusLoop,!0)}))}function be(o,s,r){return de(o,s,r)}function he(o={}){const[s,r]=W(ve,o);return be(s,r,o)}var fe="div",je=G(function(s){var r=s,{store:t,orientation:n,virtualFocus:u,focusLoop:c,rtl:v}=r,a=J(r,["store","orientation","virtualFocus","focusLoop","rtl"]);const j=O();t=t||j;const d=he({store:t,orientation:n,virtualFocus:u,focusLoop:c,rtl:v}),p=d.useState(l=>l.orientation==="both"?void 0:l.orientation);return a=Z(a,l=>e.jsx($,{value:d,children:l}),[d]),a=I({role:"toolbar","aria-orientation":p},a),a=ue(I({store:d},a)),a}),pe=z(function(s){const r=je(s);return M(fe,r)});function ge(o={}){const s=q(o);return e.jsx(Q,{value:s,children:o.children})}const Te=b((o,s)=>{const{label:r,items:t,expanded:n,onExpandedChange:u,...c}=o,v=x.useId(),[a,j]=U(!1,n,u);return e.jsxs(e.Fragment,{children:[e.jsx(X,{"aria-live":"polite","aria-atomic":!0,children:r}),r&&e.jsx(ge,{open:a,setOpen:j,children:e.jsx(f.section,{"data-kiwi-expanded":a,...c,className:h("-error-region",o.className),ref:s,"aria-labelledby":v,children:e.jsxs("div",{className:"-error-region-container",children:[e.jsxs(ie,{className:"-error-region-header",render:e.jsx(Y,{variant:"ghost"}),children:[e.jsx(T,{className:"-error-region-icon"}),e.jsx(R,{id:v,className:"-error-region-label",variant:"body-sm",children:r}),e.jsx(y,{inert:!0,render:e.jsx("span",{}),label:"Toggle",icon:e.jsx(S,{}),variant:"ghost"})]}),e.jsxs(ee,{portal:!1,modal:!1,wrapperProps:{style:{position:void 0,width:void 0}},updatePosition:()=>{},"aria-labelledby":v,children:[e.jsx(le,{className:"-error-region-divider",presentational:!0}),e.jsx("div",{className:"-error-region-items",role:"list",children:t})]})]})})})]})}),Se=b((o,s)=>{const{message:r,messageId:t,actions:n,onDismiss:u,...c}=o;return e.jsxs(f.div,{...c,role:"listitem",className:h("-error-region-item",o.className),ref:s,children:[e.jsx(R,{id:t,variant:"body-sm",className:"-error-region-item-message",children:r}),u&&e.jsx(y,{className:"-error-region-item-dismiss",variant:"ghost",label:"Dismiss",icon:e.jsx(oe,{}),onClick:u}),e.jsx("div",{className:"-error-region-item-actions",children:n})]})}),De=x.createContext(void 0),Re=b((o,s)=>{const{"aria-level":r,selected:t,expanded:n,icon:u,unstable_decorations:c,label:v,description:a,actions:j,error:d,onSelectedChange:p,onExpandedChange:l,onClick:K,onKeyDown:L,..._}=o,E=i=>{t!==void 0&&(i.stopPropagation(),p==null||p(!t))},A=i=>{i.altKey||i.ctrlKey||i.metaKey||i.shiftKey||n!==void 0&&(i.key==="ArrowRight"||i.key==="ArrowLeft")&&(i.preventDefault(),l==null||l(i.key==="ArrowRight"))},P=x.useId(),D=x.useId(),F=x.useId(),N=typeof d=="string"?d:void 0,m=d?e.jsx(T,{}):u,V=x.useMemo(()=>{const i=[];return a&&i.push(D),(c||m)&&i.push(F),N&&i.push(N),i.length>0?i.join(" "):void 0},[c,m,F,a,D,N]);return e.jsx(De.Provider,{value:x.useMemo(()=>({level:r,expanded:n,selected:t}),[r,n,t]),children:e.jsx(re,{render:e.jsx(f,{..._}),onClick:g(K,E),onKeyDown:g(L,A),role:"treeitem","aria-expanded":n,"aria-selected":t,"aria-labelledby":P,"aria-describedby":V,"aria-level":r,className:h("-tree-item",o.className),ref:s,children:e.jsxs(ne,{"data-kiwi-expanded":n,"data-kiwi-selected":t,"data-kiwi-error":d?!0:void 0,className:"-tree-item-node",style:{"--tree-item-level":r},role:void 0,children:[e.jsxs(C,{children:[e.jsx(se,{align:a?"block":void 0,children:e.jsx(Ne,{onClick:()=>{n!==void 0&&(l==null||l(!n))}})}),m||c?e.jsx(f,{className:"-tree-item-decoration",id:F,render:x.isValidElement(m)?m:typeof m=="string"?e.jsx(te,{href:m}):void 0,children:m?null:c}):null]}),e.jsx(w,{id:P,className:"-tree-item-content",children:v}),a?e.jsx(w,{id:D,className:"-tree-item-description",children:a}):void 0,e.jsx(C,{render:e.jsx(Fe,{children:j})})]})})})}),Fe=b((o,s)=>e.jsx(pe,{...o,onClick:g(o.onClick,r=>r.stopPropagation()),onKeyDown:g(o.onKeyDown,r=>r.stopPropagation()),className:h("-tree-item-actions-container",o.className),ref:s,children:o.children})),Ke=b((o,s)=>{const{visible:r,...t}=o;return e.jsx(y,{inert:r===!1?!0:void 0,...t,variant:"ghost",className:h("-tree-item-action",o.className),"data-kiwi-visible":r,ref:s})}),Ne=b((o,s)=>e.jsx(f.span,{"aria-hidden":"true",...o,onClick:g(o.onClick,r=>r.stopPropagation()),className:h("-button","-icon-button","-ghost-aligner","-tree-item-expander",o.className),"data-kiwi-variant":"ghost","data-kiwi-ghost-align":ae(),ref:s,children:e.jsx(S,{})})),Le=b((o,s)=>{const r=me({orientation:"vertical"});return e.jsx(f.div,{role:"tree",...o,render:e.jsx(xe,{store:r}),className:h("-tree",o.className),ref:s,children:o.children})});export{Te as E,Le as T,Se as a,Re as b,Ke as c};
