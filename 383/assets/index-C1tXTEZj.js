import{w as h}from"./LMDWO4NN-CMcHII49.js";import{n as e,a as r}from"./chunk-K6AXKMTT-BW7jlo3W.js";import{a as d}from"./index-DZwx3Qa0.js";import{R as a}from"./Root-DJP7yM7E.js";import{B as i}from"./Button-Bn8tbToC.js";import{d as m,u as l}from"./~utils-Bij5s5PA.js";import"./index-CsTEVwxQ.js";import"./~utils-lUdJarWT.js";import"./~hooks-bf4kvdUZ.js";import"./YV4JVR4I-BfTNNwcO.js";import"./XL7CSKGW-IAihR7y-.js";import"./X5NMLKT6-BPVZuGav.js";import"./KUU7WJ55-DIUF5vHC.js";import"./LVA2YJMS-DtRb1Xbl.js";const O={title:"Root",rootTest:!0},v=h(m(function({synchronizeColorScheme:s=!0}){const t=x(),o=l();return e.jsxs(a,{colorScheme:o,synchronizeColorScheme:!!s,density:"dense",children:[e.jsx(u,{}),e.jsx(i,{onClick:()=>t.open(),children:"Open popout"}),t.popout&&d.createPortal(e.jsx(a,{colorScheme:o,synchronizeColorScheme:!0,density:"dense",children:e.jsx(u,{})}),t.popout.document.body)]})}));function u(){const[n,s]=r.useState(null),t=f(r.useCallback(()=>n,[n])),o=l();return e.jsxs("div",{style:{display:"flex",gap:4},ref:s,children:[e.jsx(i,{children:"Button (light)"}),t&&d.createPortal(e.jsx(a,{colorScheme:o,density:"dense",children:e.jsx(i,{children:"Button (shadow)"})}),t)]})}function f(n){const[s,t]=r.useState(null),o=n();return r.useEffect(()=>{o&&(o.shadowRoot||o.attachShadow({mode:"open"}).appendChild(document.createElement("slot")),t(o.shadowRoot))},[o]),s}function x(){const[n,s]=r.useState(null),t=r.useCallback(()=>{const o=new TextEncoder().encode("<!doctype html><meta charset=utf-8>"),p=URL.createObjectURL(new Blob([o],{type:"text/html"})),c=window.open(p,"popout","width=400,height=400");URL.revokeObjectURL(p),c&&(c.onload=()=>s(c))},[]);return r.useMemo(()=>({open:t,popout:n}),[t,n])}export{v as default,O as handle};
