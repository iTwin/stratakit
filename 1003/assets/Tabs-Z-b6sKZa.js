import{f as A,h as le,p as de,c as V,i as Z}from"./sun-BfXWS6qq.js";import{a as R,p as _}from"./chunk-NISHYRIK-Di4HR2Ld.js";import{l as O,w as ue,x as me,y as fe,z as be,E as ve,J as pe,K as Ie,L as J,M as xe,N as D,O as M,Q as Se,S as ee,U as Q}from"./~utils-TESn1Y5-.js";import{a as te,b as oe,C as q,u as Ce}from"./SBSPVDDI-BeWJp78-.js";import{Q as se,a1 as he,f as H,c as K,a as U,_ as X,F as z,h as ne,t as Pe,b as P,d as I,u as W,p as re,g as ge,a0 as Te,M as $,V as F,l as N,J as G,W as Y}from"./VOQWLFSQ-CKFZTBM6.js";import{a as Ee,c as Re,b as _e,d as ye}from"./OLVWQA7U-CUKPAbcB.js";import{c as Me}from"./AMMIPFT4-BJt9NkCl.js";import{u as Le}from"./Y62RTBST-7Qz53nIV.js";var B=se([oe],[te]),we=B.useScopedContext,ae=B.useProviderContext,je=B.ContextProvider,ce=B.ScopedContextProvider,Oe="button",ke=K(function(t){var s=t,{store:e,getItem:r}=s,c=X(s,["store","getItem"]),p;const d=we();e=e||d,z(e,!1);const u=ne(),n=c.id||u,g=Pe(c),a=R.useCallback(f=>{const w=P(I({},f),{dimmed:g});return r?r(w):w},[g,r]),x=c.onClick,S=W(f=>{x?.(f),!f.defaultPrevented&&e?.setSelectedId(n)}),i=e.panels.useState(f=>{var w;return(w=f.items.find(l=>l.tabId===n))==null?void 0:w.id}),m=u?c.shouldRegisterItem:!1,v=e.useState(f=>!!n&&f.activeId===n),b=e.useState(f=>!!n&&f.selectedId===n),h=e.useState(f=>!!e.item(f.activeId)),C=v||b&&!h,T=b||((p=c.accessibleWhenDisabled)!=null?p:!0);if(O(e.combobox||e.composite,"virtualFocus")&&(c=P(I({},c),{tabIndex:-1})),c=P(I({id:n,role:"tab","aria-selected":b,"aria-controls":i||void 0},c),{onClick:S}),e.composite){const f={id:n,accessibleWhenDisabled:T,store:e.composite,shouldRegisterItem:C&&m,rowId:c.rowId,render:c.render};c=P(I({},c),{render:_.jsx(q,P(I({},f),{render:e.combobox&&e.composite!==e.combobox?_.jsx(q,P(I({},f),{store:e.combobox})):f.render}))})}return c=Ce(P(I({store:e},c),{accessibleWhenDisabled:T,getItem:a,shouldRegisterItem:m})),c}),De=he(H(function(t){const s=ke(t);return U(Oe,s)})),Fe="div",Ne=K(function(t){var s=t,{store:e}=s,r=X(s,["store"]);const c=ae();e=e||c,z(e,!1);const p=e.useState(d=>d.orientation==="both"?void 0:d.orientation);return r=re(r,d=>_.jsx(ce,{value:e,children:d}),[e]),e.composite&&(r=I({focusable:!1},r)),r=I({role:"tablist","aria-orientation":p},r),r=Ee(I({store:e},r)),r}),$e=H(function(t){const s=Ne(t);return U(Fe,s)}),Be="div",We=K(function(t){var s=t,{store:e,unmountOnHide:r,tabId:c,getItem:p,scrollRestoration:d,scrollElement:u}=s,n=X(s,["store","unmountOnHide","tabId","getItem","scrollRestoration","scrollElement"]);const g=ae();e=e||g,z(e,!1);const a=R.useRef(null),x=ne(n.id),S=O(e.panels,()=>{var l;return c||((l=e?.panels.item(x))==null?void 0:l.tabId)}),i=O(e,l=>!!S&&l.selectedId===S),m=ue({open:i}),v=O(m,"mounted"),b=R.useRef(new Map),h=W(()=>{const l=a.current;return l?u?typeof u=="function"?u(l):"current"in u?u.current:u:l:null});R.useEffect(()=>{var l,y;if(!d||!v)return;const E=h();if(!E)return;if(d==="reset"){E.scroll(0,0);return}if(!S)return;const j=b.current.get(S);E.scroll((l=j?.x)!=null?l:0,(y=j?.y)!=null?y:0);const k=()=>{b.current.set(S,{x:E.scrollLeft,y:E.scrollTop})};return E.addEventListener("scroll",k),()=>{E.removeEventListener("scroll",k)}},[d,v,S,h,e]);const[C,T]=R.useState(!1);R.useEffect(()=>{const l=a.current;if(!l)return;const y=me(l);T(!!y.length)},[]);const L=R.useCallback(l=>{const y=P(I({},l),{id:x||l.id,tabId:c});return p?p(y):y},[x,c,p]),f=n.onKeyDown,w=W(l=>{if(f?.(l),l.defaultPrevented||!e?.composite)return;const E={ArrowLeft:e.previous,ArrowRight:e.next,Home:e.first,End:e.last}[l.key];if(!E)return;const{selectedId:j}=e.getState(),k=E({activeId:j});k&&(l.preventDefault(),e.move(k))});return n=re(n,l=>_.jsx(ce,{value:e,children:l}),[e]),n=P(I({id:x,role:"tabpanel","aria-labelledby":S||void 0},n),{children:r&&!v?null:n.children,ref:ge(a,n.ref),onKeyDown:w}),n=fe(I({focusable:!e.composite&&!C},n)),n=be(I({store:m},n)),n=Le(P(I({store:e.panels},n),{getItem:L})),n}),Ae=H(function(t){const s=We(t);return U(Be,s)}),Ve=se([pe,oe],[ve,te]),He=Ve.useContext;R.createContext(!1);R.createContext(null);function Ke(o={}){var t=o,{composite:s,combobox:e}=t,r=Te(t,["composite","combobox"]);const c=["items","renderedItems","moves","orientation","virtualFocus","includesBaseElement","baseElement","focusLoop","focusShift","focusWrap"],p=Ie(r.store,J(s,c),J(e,c)),d=p?.getState(),u=Re($(N({},r),{store:p,includesBaseElement:F(r.includesBaseElement,d?.includesBaseElement,!1),orientation:F(r.orientation,d?.orientation,"horizontal"),focusLoop:F(r.focusLoop,d?.focusLoop,!0)})),n=Me(),g=$(N({},u.getState()),{selectedId:F(r.selectedId,d?.selectedId,r.defaultSelectedId),selectOnMove:F(r.selectOnMove,d?.selectOnMove,!0)}),a=xe(g,u,p);D(a,()=>M(a,["moves"],()=>{const{activeId:i,selectOnMove:m}=a.getState();if(!m||!i)return;const v=u.item(i);v&&(v.dimmed||v.disabled||a.setState("selectedId",v.id))}));let x=!0;D(a,()=>Se(a,["selectedId"],(i,m)=>{if(!x){x=!0;return}s&&i.selectedId===m.selectedId||a.setState("activeId",i.selectedId)})),D(a,()=>M(a,["selectedId","renderedItems"],i=>{if(i.selectedId!==void 0)return;const{activeId:m,renderedItems:v}=a.getState(),b=u.item(m);if(b&&!b.disabled&&!b.dimmed)a.setState("selectedId",b.id);else{const h=v.find(C=>!C.disabled&&!C.dimmed);a.setState("selectedId",h?.id)}})),D(a,()=>M(a,["renderedItems"],i=>{const m=i.renderedItems;if(m.length)return M(n,["renderedItems"],v=>{const b=v.renderedItems;b.some(C=>!C.tabId)&&b.forEach((C,T)=>{if(C.tabId)return;const L=m[T];L&&n.renderItem($(N({},C),{tabId:L.id}))})})}));let S=null;return D(a,()=>{const i=()=>{S=a.getState().selectedId},m=()=>{x=!1,a.setState("selectedId",S)};if(s&&"setSelectElement"in s)return G(M(s,["value"],i),M(s,["mounted"],m));if(e)return G(M(e,["selectedValue"],i),M(e,["mounted"],m))}),$(N(N({},u),a),{panels:n,setSelectedId:i=>a.setState("selectedId",i),select:i=>{a.setState("selectedId",i),u.move(i)}})}function Ue(o,t,s){Y(t,[s.composite,s.combobox]),o=ye(o,t,s),Q(o,s,"selectedId","setSelectedId"),Q(o,s,"selectOnMove");const[e,r]=ee(()=>o.panels,{});return Y(r,[o,r]),Object.assign(R.useMemo(()=>P(I({},o),{panels:e}),[o,e]),{composite:s.composite,combobox:s.combobox})}function ie(o={}){const t=_e(),s=He()||t;o=P(I({},o),{composite:o.composite!==void 0?o.composite:s,combobox:o.combobox!==void 0?o.combobox:t});const[e,r]=ee(Ke,o);return Ue(e,r,o)}function Xe(o={}){const t=ie(o);return _.jsx(je,{value:t,children:o.children})}const ze=Z&&CSS?.supports("anchor-name: --foo"),Je=()=>Z&&window.matchMedia("(prefers-reduced-motion)").matches;function st(o){const t=le.c(14),{defaultSelectedId:s,selectedId:e,setSelectedId:r,selectOnMove:c,children:p}=o,d=c===void 0?!1:c;let u;t[0]!==s?(u={defaultSelectedId:s},t[0]=s,t[1]=u):u=t[1];const n=ie(u),g=O(n,"baseElement"),a=O(n,"selectedId");let x;t[2]!==a||t[3]!==g?(x=b=>{if(!ze)return;const h=g?.getRootNode();if(!h||!a||!b)return;const C=h.getElementById?.(a)?.getBoundingClientRect(),T=h.getElementById?.(b)?.getBoundingClientRect();if(!C||!T)return;const L=C.left-T.left,f=C.width/T.width;g?.animate([{transform:`translateX(${L}px) scaleX(${f})`},{transform:"none"}],{pseudoElement:"::after",duration:150,easing:"ease-in-out"})},t[2]=a,t[3]=g,t[4]=x):x=t[4];const S=x;let i;t[5]!==S||t[6]!==r?(i=b=>{Je()||S(b),r?.(b)},t[5]=S,t[6]=r,t[7]=i):i=t[7];const m=de(i);let v;return t[8]!==p||t[9]!==d||t[10]!==e||t[11]!==n||t[12]!==m?(v=_.jsx(Xe,{store:n,selectedId:e,setSelectedId:m,selectOnMove:d,children:p}),t[8]=p,t[9]=d,t[10]=e,t[11]=n,t[12]=m,t[13]=v):v=t[13],v}const nt=A((o,t)=>{const{tone:s="neutral",...e}=o;return _.jsx($e,{...e,"data-_sk-tone":s,className:V("ğŸ¥TabList",o.className),ref:t})}),rt=A((o,t)=>_.jsx(De,{accessibleWhenDisabled:!0,...o,className:V("ğŸ¥Tab",o.className),ref:t})),at=A((o,t)=>_.jsx(Ae,{...o,className:V("ğŸ¥TabPanel",o.className),ref:t}));export{st as T,rt as a,at as b,nt as c};
