import{w as D,a as d,o as e}from"./chunk-QMGIS6GS-BaJhsRKI.js";import{I as h}from"./sun-DkPtosCR.js";import{T as I,a as j,b as m,p as T}from"./immer-B-ib1l6c.js";import{d as F}from"./~utils-G2QC8hIy.js";import{r as P,u as U}from"./refresh-3hT8mqYf.js";import{p as l}from"./placeholder-C1sDuE8J.js";import{s as M}from"./visibility-show-CNe-NYDo.js";import"./LMDWO4NN-CcJUQKmw.js";import"./RZ4GPYOB-rLT1QmIF.js";import"./collection-r-x8gd88.js";import"./6VRAQV3D-BUhDy_Yi.js";import"./IWEFDH56-Bu_IF7_u.js";import"./5JTVDSTH-XOpIFNn4.js";import"./~utils.icons-D7YNPaOS.js";import"./~utils.icons-CFxyyG_I.js";import"./DropdownMenu-BXTpqw17.js";import"./S43UC3DV-D28ziV4v.js";import"./NTITENHD-BdQpJJIE.js";import"./F5MUBM3I-DLVdStrv.js";import"./IAEAQUOT-B3YoTFqh.js";import"./Kbd-DueFKDTn.js";import"./~utils.icons-BY6pZBee.js";import"./index-DlVK9hNA.js";import"./XX67R432-C0JnyUGJ.js";const me={title:"Tree"},fe=D(F(function({overflow:a=!1,selected:s=!1,description:v,error:x,items:A}){const[W,S]=d.useTransition(),u=a?" with a super long label that is overflown":"",z=v?"Additional description":void 0,[y,C]=d.useState(!!x),$=A?Number(A):0,[g,w]=d.useState(()=>[{label:`Item 1${u}`,selected:!!s,expanded:!0,children:[{label:"Item 1.1",selected:!!s},{label:"Item 1.2",selected:!!s},{label:`Item 1.3${u}`,selected:!!s}]},{label:"Item 2",selected:!1,expanded:!0,children:[{label:`Item 2.1${u}`,selected:!1}]},{label:"Item 3",selected:!1},...Array.from({length:$}).map((t,o)=>({label:`Item ${o+4}`,selected:!1}))]),k=d.useMemo(()=>g.flatMap((t,o,r)=>{const c={...t,level:1,index:o,setSize:r.length,childIndex:void 0};if(!t.expanded)return c;const b=t.children?t.children.map((i,n,R)=>({...i,level:2,index:o,childIndex:n,setSize:R.length,expanded:void 0})):[];return[c,...b]}),[g]),E=d.useCallback(()=>{C(!1)},[]),_=[e.jsx(m,{icon:U,label:"Unlock"},"unlock"),e.jsx(m,{icon:M,label:"Show"},"show")];return e.jsx(I,{style:{maxInlineSize:a?300:void 0},children:k.map(t=>{const{index:o,childIndex:r}=t,c=y&&o===0&&r===void 0,b=o===0&&r===void 0||r===0;return e.jsx(j,{"aria-level":t.level,"aria-posinset":o+1,"aria-setsize":t.setSize,label:t.label,description:b?z:void 0,expanded:t.expanded,selected:t.selected,error:c,onSelectedChange:()=>{w(T(i=>{const n=r===void 0?i[o]:i[o].children?.[r];n&&(n.selected=!n.selected)}))},onExpandedChange:()=>{S(()=>{w(T(i=>{const n=i[o];n.expanded!==void 0&&(n.expanded=!n.expanded)}))})},icon:r===void 0?e.jsx(h,{href:l,alt:"decoration"}):void 0,unstable_decorations:r===0?e.jsxs(e.Fragment,{children:[e.jsx(h,{href:l}),e.jsx(h,{href:l})]}):e.jsx(h,{href:l}),actions:[c&&e.jsx(m,{icon:P,label:"Retry",onClick:E},"retry"),..._]},t.label)})})},{wrapperItemAction:O,_actionsOverflow:N}));function N({count:f=5,dot:a=!1}){const s=Array.from({length:Number(f)}).map((v,x)=>e.jsx(m,{label:`Action ${x+1}`,icon:l,dot:a?"Something's going on":void 0},`${x+1}`));return e.jsx(I,{children:e.jsx(j,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,actions:s})})}function p(f){const{hidden:a,...s}=f;return a?null:e.jsx(m,{icon:l,...s})}function O(){return e.jsx(I,{children:e.jsx(j,{label:"Foo","aria-level":1,"aria-posinset":1,"aria-setsize":1,actions:[e.jsx(p,{label:"Action 1"},"1"),e.jsx(p,{label:"Action 2",hidden:!0},"2"),e.jsx(p,{label:"Action 3"},"3"),e.jsx(p,{label:"Action 4"},"4"),e.jsx(p,{label:"Action 5",inline:!0},"5")]})})}export{fe as default,me as handle};
